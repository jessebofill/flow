(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function j_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var a=function o(){var l=!1;try{l=this instanceof o}catch{}return l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(a,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),a}var Zp={exports:{}},Cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function z_(){if(lb)return Cu;lb=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(o,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:e,type:o,key:c,ref:l!==void 0?l:null,props:u}}return Cu.Fragment=r,Cu.jsx=a,Cu.jsxs=a,Cu}var ub;function B_(){return ub||(ub=1,Zp.exports=z_()),Zp.exports}var j=B_(),Qp={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function H_(){if(cb)return bt;cb=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function S(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,B={};function z(q,Z,ae){this.props=q,this.context=Z,this.refs=B,this.updater=ae||C}z.prototype.isReactComponent={},z.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},z.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function V(){}V.prototype=z.prototype;function A(q,Z,ae){this.props=q,this.context=Z,this.refs=B,this.updater=ae||C}var N=A.prototype=new V;N.constructor=A,T(N,z.prototype),N.isPureReactComponent=!0;var K=Array.isArray;function L(){}var $={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function W(q,Z,ae){var de=ae.ref;return{$$typeof:e,type:q,key:Z,ref:de!==void 0?de:null,props:ae}}function fe(q,Z){return W(q.type,Z,q.props)}function J(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function G(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ae){return Z[ae]})}var re=/\/+/g;function k(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?G(""+q.key):Z.toString(36)}function Y(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(Z){q.status==="pending"&&(q.status="fulfilled",q.value=Z)},function(Z){q.status==="pending"&&(q.status="rejected",q.reason=Z)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function D(q,Z,ae,de,ye){var Ce=typeof q;(Ce==="undefined"||Ce==="boolean")&&(q=null);var Ae=!1;if(q===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(q.$$typeof){case e:case r:Ae=!0;break;case b:return Ae=q._init,D(Ae(q._payload),Z,ae,de,ye)}}if(Ae)return ye=ye(q),Ae=de===""?"."+k(q,0):de,K(ye)?(ae="",Ae!=null&&(ae=Ae.replace(re,"$&/")+"/"),D(ye,Z,ae,"",function(Ge){return Ge})):ye!=null&&(J(ye)&&(ye=fe(ye,ae+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(re,"$&/")+"/")+Ae)),Z.push(ye)),1;Ae=0;var Te=de===""?".":de+":";if(K(q))for(var we=0;we<q.length;we++)de=q[we],Ce=Te+k(de,we),Ae+=D(de,Z,ae,Ce,ye);else if(we=S(q),typeof we=="function")for(q=we.call(q),we=0;!(de=q.next()).done;)de=de.value,Ce=Te+k(de,we++),Ae+=D(de,Z,ae,Ce,ye);else if(Ce==="object"){if(typeof q.then=="function")return D(Y(q),Z,ae,de,ye);throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function M(q,Z,ae){if(q==null)return q;var de=[],ye=0;return D(q,de,"","",function(Ce){return Z.call(ae,Ce,ye++)}),de}function I(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=ae)},function(ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=ae)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var Q=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ne={map:M,forEach:function(q,Z,ae){M(q,function(){Z.apply(this,arguments)},ae)},count:function(q){var Z=0;return M(q,function(){Z++}),Z},toArray:function(q){return M(q,function(Z){return Z})||[]},only:function(q){if(!J(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return bt.Activity=y,bt.Children=ne,bt.Component=z,bt.Fragment=a,bt.Profiler=l,bt.PureComponent=A,bt.StrictMode=o,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,bt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return $.H.useMemoCache(q)}},bt.cache=function(q){return function(){return q.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(q,Z,ae){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var de=T({},q.props),ye=q.key;if(Z!=null)for(Ce in Z.key!==void 0&&(ye=""+Z.key),Z)!P.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(de[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)de.children=ae;else if(1<Ce){for(var Ae=Array(Ce),Te=0;Te<Ce;Te++)Ae[Te]=arguments[Te+2];de.children=Ae}return W(q.type,ye,de)},bt.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},bt.createElement=function(q,Z,ae){var de,ye={},Ce=null;if(Z!=null)for(de in Z.key!==void 0&&(Ce=""+Z.key),Z)P.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ye[de]=Z[de]);var Ae=arguments.length-2;if(Ae===1)ye.children=ae;else if(1<Ae){for(var Te=Array(Ae),we=0;we<Ae;we++)Te[we]=arguments[we+2];ye.children=Te}if(q&&q.defaultProps)for(de in Ae=q.defaultProps,Ae)ye[de]===void 0&&(ye[de]=Ae[de]);return W(q,Ce,ye)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(q){return{$$typeof:d,render:q}},bt.isValidElement=J,bt.lazy=function(q){return{$$typeof:b,_payload:{_status:-1,_result:q},_init:I}},bt.memo=function(q,Z){return{$$typeof:m,type:q,compare:Z===void 0?null:Z}},bt.startTransition=function(q){var Z=$.T,ae={};$.T=ae;try{var de=q(),ye=$.S;ye!==null&&ye(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(L,Q)}catch(Ce){Q(Ce)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),$.T=Z}},bt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},bt.use=function(q){return $.H.use(q)},bt.useActionState=function(q,Z,ae){return $.H.useActionState(q,Z,ae)},bt.useCallback=function(q,Z){return $.H.useCallback(q,Z)},bt.useContext=function(q){return $.H.useContext(q)},bt.useDebugValue=function(){},bt.useDeferredValue=function(q,Z){return $.H.useDeferredValue(q,Z)},bt.useEffect=function(q,Z){return $.H.useEffect(q,Z)},bt.useEffectEvent=function(q){return $.H.useEffectEvent(q)},bt.useId=function(){return $.H.useId()},bt.useImperativeHandle=function(q,Z,ae){return $.H.useImperativeHandle(q,Z,ae)},bt.useInsertionEffect=function(q,Z){return $.H.useInsertionEffect(q,Z)},bt.useLayoutEffect=function(q,Z){return $.H.useLayoutEffect(q,Z)},bt.useMemo=function(q,Z){return $.H.useMemo(q,Z)},bt.useOptimistic=function(q,Z){return $.H.useOptimistic(q,Z)},bt.useReducer=function(q,Z,ae){return $.H.useReducer(q,Z,ae)},bt.useRef=function(q){return $.H.useRef(q)},bt.useState=function(q){return $.H.useState(q)},bt.useSyncExternalStore=function(q,Z,ae){return $.H.useSyncExternalStore(q,Z,ae)},bt.useTransition=function(){return $.H.useTransition()},bt.version="19.2.0",bt}var fb;function fs(){return fb||(fb=1,Qp.exports=H_()),Qp.exports}var R=fs();const He=ic(R),Gn="_bangin",_a="_bangout",Mt="_output",lr="_active",id="$in_",Di="$out_",Oi=`_${id}`,Zf="__nodecreator",la="nodecreator",Rm="__basicedge",ul="reactflow-wrapper",db="connecting",gg="connected-highlight",iw="highlighting",od="animate";function Vn(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let a=0,o;a<e.length;a++)(o=Vn(e[a]))!==""&&(r+=(r&&" ")+o);else for(let a in e)e[a]&&(r+=(r&&" ")+a);return r}var k_={value:()=>{}};function zd(){for(var e=0,r=arguments.length,a={},o;e<r;++e){if(!(o=arguments[e]+"")||o in a||/[\s.]/.test(o))throw new Error("illegal type: "+o);a[o]=[]}return new Qf(a)}function Qf(e){this._=e}function L_(e,r){return e.trim().split(/^|\s+/).map(function(a){var o="",l=a.indexOf(".");if(l>=0&&(o=a.slice(l+1),a=a.slice(0,l)),a&&!r.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:o}})}Qf.prototype=zd.prototype={constructor:Qf,on:function(e,r){var a=this._,o=L_(e+"",a),l,u=-1,c=o.length;if(arguments.length<2){for(;++u<c;)if((l=(e=o[u]).type)&&(l=U_(a[l],e.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<c;)if(l=(e=o[u]).type)a[l]=hb(a[l],e.name,r);else if(r==null)for(l in a)a[l]=hb(a[l],e.name,null);return this},copy:function(){var e={},r=this._;for(var a in r)e[a]=r[a].slice();return new Qf(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var a=new Array(l),o=0,l,u;o<l;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],o=0,l=u.length;o<l;++o)u[o].value.apply(r,a)},apply:function(e,r,a){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,u=o.length;l<u;++l)o[l].value.apply(r,a)}};function U_(e,r){for(var a=0,o=e.length,l;a<o;++a)if((l=e[a]).name===r)return l.value}function hb(e,r,a){for(var o=0,l=e.length;o<l;++o)if(e[o].name===r){e[o]=k_,e=e.slice(0,o).concat(e.slice(o+1));break}return a!=null&&e.push({name:r,value:a}),e}var jm="http://www.w3.org/1999/xhtml";const pb={svg:"http://www.w3.org/2000/svg",xhtml:jm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bd(e){var r=e+="",a=r.indexOf(":");return a>=0&&(r=e.slice(0,a))!=="xmlns"&&(e=e.slice(a+1)),pb.hasOwnProperty(r)?{space:pb[r],local:e}:e}function q_(e){return function(){var r=this.ownerDocument,a=this.namespaceURI;return a===jm&&r.documentElement.namespaceURI===jm?r.createElement(e):r.createElementNS(a,e)}}function $_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ow(e){var r=Bd(e);return(r.local?$_:q_)(r)}function V_(){}function vg(e){return e==null?V_:function(){return this.querySelector(e)}}function Y_(e){typeof e!="function"&&(e=vg(e));for(var r=this._groups,a=r.length,o=new Array(a),l=0;l<a;++l)for(var u=r[l],c=u.length,d=o[l]=new Array(c),p,m,b=0;b<c;++b)(p=u[b])&&(m=e.call(p,p.__data__,b,u))&&("__data__"in p&&(m.__data__=p.__data__),d[b]=m);return new Yr(o,this._parents)}function I_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function X_(){return[]}function sw(e){return e==null?X_:function(){return this.querySelectorAll(e)}}function K_(e){return function(){return I_(e.apply(this,arguments))}}function G_(e){typeof e=="function"?e=K_(e):e=sw(e);for(var r=this._groups,a=r.length,o=[],l=[],u=0;u<a;++u)for(var c=r[u],d=c.length,p,m=0;m<d;++m)(p=c[m])&&(o.push(e.call(p,p.__data__,m,c)),l.push(p));return new Yr(o,l)}function lw(e){return function(){return this.matches(e)}}function uw(e){return function(r){return r.matches(e)}}var P_=Array.prototype.find;function Z_(e){return function(){return P_.call(this.children,e)}}function Q_(){return this.firstElementChild}function F_(e){return this.select(e==null?Q_:Z_(typeof e=="function"?e:uw(e)))}var W_=Array.prototype.filter;function J_(){return Array.from(this.children)}function eC(e){return function(){return W_.call(this.children,e)}}function tC(e){return this.selectAll(e==null?J_:eC(typeof e=="function"?e:uw(e)))}function nC(e){typeof e!="function"&&(e=lw(e));for(var r=this._groups,a=r.length,o=new Array(a),l=0;l<a;++l)for(var u=r[l],c=u.length,d=o[l]=[],p,m=0;m<c;++m)(p=u[m])&&e.call(p,p.__data__,m,u)&&d.push(p);return new Yr(o,this._parents)}function cw(e){return new Array(e.length)}function rC(){return new Yr(this._enter||this._groups.map(cw),this._parents)}function sd(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}sd.prototype={constructor:sd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function aC(e){return function(){return e}}function iC(e,r,a,o,l,u){for(var c=0,d,p=r.length,m=u.length;c<m;++c)(d=r[c])?(d.__data__=u[c],o[c]=d):a[c]=new sd(e,u[c]);for(;c<p;++c)(d=r[c])&&(l[c]=d)}function oC(e,r,a,o,l,u,c){var d,p,m=new Map,b=r.length,y=u.length,x=new Array(b),S;for(d=0;d<b;++d)(p=r[d])&&(x[d]=S=c.call(p,p.__data__,d,r)+"",m.has(S)?l[d]=p:m.set(S,p));for(d=0;d<y;++d)S=c.call(e,u[d],d,u)+"",(p=m.get(S))?(o[d]=p,p.__data__=u[d],m.delete(S)):a[d]=new sd(e,u[d]);for(d=0;d<b;++d)(p=r[d])&&m.get(x[d])===p&&(l[d]=p)}function sC(e){return e.__data__}function lC(e,r){if(!arguments.length)return Array.from(this,sC);var a=r?oC:iC,o=this._parents,l=this._groups;typeof e!="function"&&(e=aC(e));for(var u=l.length,c=new Array(u),d=new Array(u),p=new Array(u),m=0;m<u;++m){var b=o[m],y=l[m],x=y.length,S=uC(e.call(b,b&&b.__data__,m,o)),C=S.length,T=d[m]=new Array(C),B=c[m]=new Array(C),z=p[m]=new Array(x);a(b,y,T,B,z,S,r);for(var V=0,A=0,N,K;V<C;++V)if(N=T[V]){for(V>=A&&(A=V+1);!(K=B[A])&&++A<C;);N._next=K||null}}return c=new Yr(c,o),c._enter=d,c._exit=p,c}function uC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cC(){return new Yr(this._exit||this._groups.map(cw),this._parents)}function fC(e,r,a){var o=this.enter(),l=this,u=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),r!=null&&(l=r(l),l&&(l=l.selection())),a==null?u.remove():a(u),o&&l?o.merge(l).order():l}function dC(e){for(var r=e.selection?e.selection():e,a=this._groups,o=r._groups,l=a.length,u=o.length,c=Math.min(l,u),d=new Array(l),p=0;p<c;++p)for(var m=a[p],b=o[p],y=m.length,x=d[p]=new Array(y),S,C=0;C<y;++C)(S=m[C]||b[C])&&(x[C]=S);for(;p<l;++p)d[p]=a[p];return new Yr(d,this._parents)}function hC(){for(var e=this._groups,r=-1,a=e.length;++r<a;)for(var o=e[r],l=o.length-1,u=o[l],c;--l>=0;)(c=o[l])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function pC(e){e||(e=mC);function r(y,x){return y&&x?e(y.__data__,x.__data__):!y-!x}for(var a=this._groups,o=a.length,l=new Array(o),u=0;u<o;++u){for(var c=a[u],d=c.length,p=l[u]=new Array(d),m,b=0;b<d;++b)(m=c[b])&&(p[b]=m);p.sort(r)}return new Yr(l,this._parents).order()}function mC(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function gC(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vC(){return Array.from(this)}function yC(){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var o=e[r],l=0,u=o.length;l<u;++l){var c=o[l];if(c)return c}return null}function bC(){let e=0;for(const r of this)++e;return e}function xC(){return!this.node()}function wC(e){for(var r=this._groups,a=0,o=r.length;a<o;++a)for(var l=r[a],u=0,c=l.length,d;u<c;++u)(d=l[u])&&e.call(d,d.__data__,u,l);return this}function SC(e){return function(){this.removeAttribute(e)}}function EC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _C(e,r){return function(){this.setAttribute(e,r)}}function CC(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function NC(e,r){return function(){var a=r.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function TC(e,r){return function(){var a=r.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function OC(e,r){var a=Bd(e);if(arguments.length<2){var o=this.node();return a.local?o.getAttributeNS(a.space,a.local):o.getAttribute(a)}return this.each((r==null?a.local?EC:SC:typeof r=="function"?a.local?TC:NC:a.local?CC:_C)(a,r))}function fw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function MC(e){return function(){this.style.removeProperty(e)}}function DC(e,r,a){return function(){this.style.setProperty(e,r,a)}}function AC(e,r,a){return function(){var o=r.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,a)}}function RC(e,r,a){return arguments.length>1?this.each((r==null?MC:typeof r=="function"?AC:DC)(e,r,a??"")):pl(this.node(),e)}function pl(e,r){return e.style.getPropertyValue(r)||fw(e).getComputedStyle(e,null).getPropertyValue(r)}function jC(e){return function(){delete this[e]}}function zC(e,r){return function(){this[e]=r}}function BC(e,r){return function(){var a=r.apply(this,arguments);a==null?delete this[e]:this[e]=a}}function HC(e,r){return arguments.length>1?this.each((r==null?jC:typeof r=="function"?BC:zC)(e,r)):this.node()[e]}function dw(e){return e.trim().split(/^|\s+/)}function yg(e){return e.classList||new hw(e)}function hw(e){this._node=e,this._names=dw(e.getAttribute("class")||"")}hw.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pw(e,r){for(var a=yg(e),o=-1,l=r.length;++o<l;)a.add(r[o])}function mw(e,r){for(var a=yg(e),o=-1,l=r.length;++o<l;)a.remove(r[o])}function kC(e){return function(){pw(this,e)}}function LC(e){return function(){mw(this,e)}}function UC(e,r){return function(){(r.apply(this,arguments)?pw:mw)(this,e)}}function qC(e,r){var a=dw(e+"");if(arguments.length<2){for(var o=yg(this.node()),l=-1,u=a.length;++l<u;)if(!o.contains(a[l]))return!1;return!0}return this.each((typeof r=="function"?UC:r?kC:LC)(a,r))}function $C(){this.textContent=""}function VC(e){return function(){this.textContent=e}}function YC(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function IC(e){return arguments.length?this.each(e==null?$C:(typeof e=="function"?YC:VC)(e)):this.node().textContent}function XC(){this.innerHTML=""}function KC(e){return function(){this.innerHTML=e}}function GC(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function PC(e){return arguments.length?this.each(e==null?XC:(typeof e=="function"?GC:KC)(e)):this.node().innerHTML}function ZC(){this.nextSibling&&this.parentNode.appendChild(this)}function QC(){return this.each(ZC)}function FC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function WC(){return this.each(FC)}function JC(e){var r=typeof e=="function"?e:ow(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function eN(){return null}function tN(e,r){var a=typeof e=="function"?e:ow(e),o=r==null?eN:typeof r=="function"?r:vg(r);return this.select(function(){return this.insertBefore(a.apply(this,arguments),o.apply(this,arguments)||null)})}function nN(){var e=this.parentNode;e&&e.removeChild(this)}function rN(){return this.each(nN)}function aN(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function iN(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function oN(e){return this.select(e?iN:aN)}function sN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function lN(e){return function(r){e.call(this,r,this.__data__)}}function uN(e){return e.trim().split(/^|\s+/).map(function(r){var a="",o=r.indexOf(".");return o>=0&&(a=r.slice(o+1),r=r.slice(0,o)),{type:r,name:a}})}function cN(e){return function(){var r=this.__on;if(r){for(var a=0,o=-1,l=r.length,u;a<l;++a)u=r[a],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):r[++o]=u;++o?r.length=o:delete this.__on}}}function fN(e,r,a){return function(){var o=this.__on,l,u=lN(r);if(o){for(var c=0,d=o.length;c<d;++c)if((l=o[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=a),l.value=r;return}}this.addEventListener(e.type,u,a),l={type:e.type,name:e.name,value:r,listener:u,options:a},o?o.push(l):this.__on=[l]}}function dN(e,r,a){var o=uN(e+""),l,u=o.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var p=0,m=d.length,b;p<m;++p)for(l=0,b=d[p];l<u;++l)if((c=o[l]).type===b.type&&c.name===b.name)return b.value}return}for(d=r?fN:cN,l=0;l<u;++l)this.each(d(o[l],r,a));return this}function gw(e,r,a){var o=fw(e),l=o.CustomEvent;typeof l=="function"?l=new l(r,a):(l=o.document.createEvent("Event"),a?(l.initEvent(r,a.bubbles,a.cancelable),l.detail=a.detail):l.initEvent(r,!1,!1)),e.dispatchEvent(l)}function hN(e,r){return function(){return gw(this,e,r)}}function pN(e,r){return function(){return gw(this,e,r.apply(this,arguments))}}function mN(e,r){return this.each((typeof r=="function"?pN:hN)(e,r))}function*gN(){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var o=e[r],l=0,u=o.length,c;l<u;++l)(c=o[l])&&(yield c)}var vw=[null];function Yr(e,r){this._groups=e,this._parents=r}function oc(){return new Yr([[document.documentElement]],vw)}function vN(){return this}Yr.prototype=oc.prototype={constructor:Yr,select:Y_,selectAll:G_,selectChild:F_,selectChildren:tC,filter:nC,data:lC,enter:rC,exit:cC,join:fC,merge:dC,selection:vN,order:hC,sort:pC,call:gC,nodes:vC,node:yC,size:bC,empty:xC,each:wC,attr:OC,style:RC,property:HC,classed:qC,text:IC,html:PC,raise:QC,lower:WC,append:JC,insert:tN,remove:rN,clone:oN,datum:sN,on:dN,dispatch:mN,[Symbol.iterator]:gN};function Vr(e){return typeof e=="string"?new Yr([[document.querySelector(e)]],[document.documentElement]):new Yr([[e]],vw)}function yN(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Ca(e,r){if(e=yN(e),r===void 0&&(r=e.currentTarget),r){var a=r.ownerSVGElement||r;if(a.createSVGPoint){var o=a.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(r.getScreenCTM().inverse()),[o.x,o.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[e.clientX-l.left-r.clientLeft,e.clientY-l.top-r.clientTop]}}return[e.pageX,e.pageY]}const bN={passive:!1},Vu={capture:!0,passive:!1};function Fp(e){e.stopImmediatePropagation()}function cl(e){e.preventDefault(),e.stopImmediatePropagation()}function yw(e){var r=e.document.documentElement,a=Vr(e).on("dragstart.drag",cl,Vu);"onselectstart"in r?a.on("selectstart.drag",cl,Vu):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function bw(e,r){var a=e.document.documentElement,o=Vr(e).on("dragstart.drag",null);r&&(o.on("click.drag",cl,Vu),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in a?o.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}const Rf=e=>()=>e;function zm(e,{sourceEvent:r,subject:a,target:o,identifier:l,active:u,x:c,y:d,dx:p,dy:m,dispatch:b}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:b}})}zm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function xN(e){return!e.ctrlKey&&!e.button}function wN(){return this.parentNode}function SN(e,r){return r??{x:e.x,y:e.y}}function EN(){return navigator.maxTouchPoints||"ontouchstart"in this}function xw(){var e=xN,r=wN,a=SN,o=EN,l={},u=zd("start","drag","end"),c=0,d,p,m,b,y=0;function x(N){N.on("mousedown.drag",S).filter(o).on("touchstart.drag",B).on("touchmove.drag",z,bN).on("touchend.drag touchcancel.drag",V).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(N,K){if(!(b||!e.call(this,N,K))){var L=A(this,r.call(this,N,K),N,K,"mouse");L&&(Vr(N.view).on("mousemove.drag",C,Vu).on("mouseup.drag",T,Vu),yw(N.view),Fp(N),m=!1,d=N.clientX,p=N.clientY,L("start",N))}}function C(N){if(cl(N),!m){var K=N.clientX-d,L=N.clientY-p;m=K*K+L*L>y}l.mouse("drag",N)}function T(N){Vr(N.view).on("mousemove.drag mouseup.drag",null),bw(N.view,m),cl(N),l.mouse("end",N)}function B(N,K){if(e.call(this,N,K)){var L=N.changedTouches,$=r.call(this,N,K),P=L.length,W,fe;for(W=0;W<P;++W)(fe=A(this,$,N,K,L[W].identifier,L[W]))&&(Fp(N),fe("start",N,L[W]))}}function z(N){var K=N.changedTouches,L=K.length,$,P;for($=0;$<L;++$)(P=l[K[$].identifier])&&(cl(N),P("drag",N,K[$]))}function V(N){var K=N.changedTouches,L=K.length,$,P;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),$=0;$<L;++$)(P=l[K[$].identifier])&&(Fp(N),P("end",N,K[$]))}function A(N,K,L,$,P,W){var fe=u.copy(),J=Ca(W||L,K),G,re,k;if((k=a.call(N,new zm("beforestart",{sourceEvent:L,target:x,identifier:P,active:c,x:J[0],y:J[1],dx:0,dy:0,dispatch:fe}),$))!=null)return G=k.x-J[0]||0,re=k.y-J[1]||0,function Y(D,M,I){var Q=J,ne;switch(D){case"start":l[P]=Y,ne=c++;break;case"end":delete l[P],--c;case"drag":J=Ca(I||M,K),ne=c;break}fe.call(D,N,new zm(D,{sourceEvent:M,subject:k,target:x,identifier:P,active:ne,x:J[0]+G,y:J[1]+re,dx:J[0]-Q[0],dy:J[1]-Q[1],dispatch:fe}),$)}}return x.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Rf(!!N),x):e},x.container=function(N){return arguments.length?(r=typeof N=="function"?N:Rf(N),x):r},x.subject=function(N){return arguments.length?(a=typeof N=="function"?N:Rf(N),x):a},x.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:Rf(!!N),x):o},x.on=function(){var N=u.on.apply(u,arguments);return N===u?x:N},x.clickDistance=function(N){return arguments.length?(y=(N=+N)*N,x):Math.sqrt(y)},x}function bg(e,r,a){e.prototype=r.prototype=a,a.constructor=e}function ww(e,r){var a=Object.create(e.prototype);for(var o in r)a[o]=r[o];return a}function sc(){}var Yu=.7,ld=1/Yu,fl="\\s*([+-]?\\d+)\\s*",Iu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_N=/^#([0-9a-f]{3,8})$/,CN=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),NN=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),TN=new RegExp(`^rgba\\(${fl},${fl},${fl},${Iu}\\)$`),ON=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${Iu}\\)$`),MN=new RegExp(`^hsl\\(${Iu},${Ka},${Ka}\\)$`),DN=new RegExp(`^hsla\\(${Iu},${Ka},${Ka},${Iu}\\)$`),mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bg(sc,is,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gb,formatHex:gb,formatHex8:AN,formatHsl:RN,formatRgb:vb,toString:vb});function gb(){return this.rgb().formatHex()}function AN(){return this.rgb().formatHex8()}function RN(){return Sw(this).formatHsl()}function vb(){return this.rgb().formatRgb()}function is(e){var r,a;return e=(e+"").trim().toLowerCase(),(r=_N.exec(e))?(a=r[1].length,r=parseInt(r[1],16),a===6?yb(r):a===3?new Ar(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?jf(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?jf(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=CN.exec(e))?new Ar(r[1],r[2],r[3],1):(r=NN.exec(e))?new Ar(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=TN.exec(e))?jf(r[1],r[2],r[3],r[4]):(r=ON.exec(e))?jf(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=MN.exec(e))?wb(r[1],r[2]/100,r[3]/100,1):(r=DN.exec(e))?wb(r[1],r[2]/100,r[3]/100,r[4]):mb.hasOwnProperty(e)?yb(mb[e]):e==="transparent"?new Ar(NaN,NaN,NaN,0):null}function yb(e){return new Ar(e>>16&255,e>>8&255,e&255,1)}function jf(e,r,a,o){return o<=0&&(e=r=a=NaN),new Ar(e,r,a,o)}function jN(e){return e instanceof sc||(e=is(e)),e?(e=e.rgb(),new Ar(e.r,e.g,e.b,e.opacity)):new Ar}function Bm(e,r,a,o){return arguments.length===1?jN(e):new Ar(e,r,a,o??1)}function Ar(e,r,a,o){this.r=+e,this.g=+r,this.b=+a,this.opacity=+o}bg(Ar,Bm,ww(sc,{brighter(e){return e=e==null?ld:Math.pow(ld,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ar(ts(this.r),ts(this.g),ts(this.b),ud(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bb,formatHex:bb,formatHex8:zN,formatRgb:xb,toString:xb}));function bb(){return`#${es(this.r)}${es(this.g)}${es(this.b)}`}function zN(){return`#${es(this.r)}${es(this.g)}${es(this.b)}${es((isNaN(this.opacity)?1:this.opacity)*255)}`}function xb(){const e=ud(this.opacity);return`${e===1?"rgb(":"rgba("}${ts(this.r)}, ${ts(this.g)}, ${ts(this.b)}${e===1?")":`, ${e})`}`}function ud(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ts(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function es(e){return e=ts(e),(e<16?"0":"")+e.toString(16)}function wb(e,r,a,o){return o<=0?e=r=a=NaN:a<=0||a>=1?e=r=NaN:r<=0&&(e=NaN),new Na(e,r,a,o)}function Sw(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof sc||(e=is(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var r=e.r/255,a=e.g/255,o=e.b/255,l=Math.min(r,a,o),u=Math.max(r,a,o),c=NaN,d=u-l,p=(u+l)/2;return d?(r===u?c=(a-o)/d+(a<o)*6:a===u?c=(o-r)/d+2:c=(r-a)/d+4,d/=p<.5?u+l:2-u-l,c*=60):d=p>0&&p<1?0:c,new Na(c,d,p,e.opacity)}function BN(e,r,a,o){return arguments.length===1?Sw(e):new Na(e,r,a,o??1)}function Na(e,r,a,o){this.h=+e,this.s=+r,this.l=+a,this.opacity=+o}bg(Na,BN,ww(sc,{brighter(e){return e=e==null?ld:Math.pow(ld,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,o=a+(a<.5?a:1-a)*r,l=2*a-o;return new Ar(Wp(e>=240?e-240:e+120,l,o),Wp(e,l,o),Wp(e<120?e+240:e-120,l,o),this.opacity)},clamp(){return new Na(Sb(this.h),zf(this.s),zf(this.l),ud(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ud(this.opacity);return`${e===1?"hsl(":"hsla("}${Sb(this.h)}, ${zf(this.s)*100}%, ${zf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Sb(e){return e=(e||0)%360,e<0?e+360:e}function zf(e){return Math.max(0,Math.min(1,e||0))}function Wp(e,r,a){return(e<60?r+(a-r)*e/60:e<180?a:e<240?r+(a-r)*(240-e)/60:r)*255}const xg=e=>()=>e;function HN(e,r){return function(a){return e+a*r}}function kN(e,r,a){return e=Math.pow(e,a),r=Math.pow(r,a)-e,a=1/a,function(o){return Math.pow(e+o*r,a)}}function LN(e){return(e=+e)==1?Ew:function(r,a){return a-r?kN(r,a,e):xg(isNaN(r)?a:r)}}function Ew(e,r){var a=r-e;return a?HN(e,a):xg(isNaN(e)?r:e)}const cd=(function e(r){var a=LN(r);function o(l,u){var c=a((l=Bm(l)).r,(u=Bm(u)).r),d=a(l.g,u.g),p=a(l.b,u.b),m=Ew(l.opacity,u.opacity);return function(b){return l.r=c(b),l.g=d(b),l.b=p(b),l.opacity=m(b),l+""}}return o.gamma=e,o})(1);function UN(e,r){r||(r=[]);var a=e?Math.min(r.length,e.length):0,o=r.slice(),l;return function(u){for(l=0;l<a;++l)o[l]=e[l]*(1-u)+r[l]*u;return o}}function qN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $N(e,r){var a=r?r.length:0,o=e?Math.min(a,e.length):0,l=new Array(o),u=new Array(a),c;for(c=0;c<o;++c)l[c]=zu(e[c],r[c]);for(;c<a;++c)u[c]=r[c];return function(d){for(c=0;c<o;++c)u[c]=l[c](d);return u}}function VN(e,r){var a=new Date;return e=+e,r=+r,function(o){return a.setTime(e*(1-o)+r*o),a}}function Ia(e,r){return e=+e,r=+r,function(a){return e*(1-a)+r*a}}function YN(e,r){var a={},o={},l;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(l in r)l in e?a[l]=zu(e[l],r[l]):o[l]=r[l];return function(u){for(l in a)o[l]=a[l](u);return o}}var Hm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jp=new RegExp(Hm.source,"g");function IN(e){return function(){return e}}function XN(e){return function(r){return e(r)+""}}function _w(e,r){var a=Hm.lastIndex=Jp.lastIndex=0,o,l,u,c=-1,d=[],p=[];for(e=e+"",r=r+"";(o=Hm.exec(e))&&(l=Jp.exec(r));)(u=l.index)>a&&(u=r.slice(a,u),d[c]?d[c]+=u:d[++c]=u),(o=o[0])===(l=l[0])?d[c]?d[c]+=l:d[++c]=l:(d[++c]=null,p.push({i:c,x:Ia(o,l)})),a=Jp.lastIndex;return a<r.length&&(u=r.slice(a),d[c]?d[c]+=u:d[++c]=u),d.length<2?p[0]?XN(p[0].x):IN(r):(r=p.length,function(m){for(var b=0,y;b<r;++b)d[(y=p[b]).i]=y.x(m);return d.join("")})}function zu(e,r){var a=typeof r,o;return r==null||a==="boolean"?xg(r):(a==="number"?Ia:a==="string"?(o=is(r))?(r=o,cd):_w:r instanceof is?cd:r instanceof Date?VN:qN(r)?UN:Array.isArray(r)?$N:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?YN:Ia)(e,r)}var Eb=180/Math.PI,km={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cw(e,r,a,o,l,u){var c,d,p;return(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c),(p=e*a+r*o)&&(a-=e*p,o-=r*p),(d=Math.sqrt(a*a+o*o))&&(a/=d,o/=d,p/=d),e*o<r*a&&(e=-e,r=-r,p=-p,c=-c),{translateX:l,translateY:u,rotate:Math.atan2(r,e)*Eb,skewX:Math.atan(p)*Eb,scaleX:c,scaleY:d}}var Bf;function KN(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?km:Cw(r.a,r.b,r.c,r.d,r.e,r.f)}function GN(e){return e==null||(Bf||(Bf=document.createElementNS("http://www.w3.org/2000/svg","g")),Bf.setAttribute("transform",e),!(e=Bf.transform.baseVal.consolidate()))?km:(e=e.matrix,Cw(e.a,e.b,e.c,e.d,e.e,e.f))}function Nw(e,r,a,o){function l(m){return m.length?m.pop()+" ":""}function u(m,b,y,x,S,C){if(m!==y||b!==x){var T=S.push("translate(",null,r,null,a);C.push({i:T-4,x:Ia(m,y)},{i:T-2,x:Ia(b,x)})}else(y||x)&&S.push("translate("+y+r+x+a)}function c(m,b,y,x){m!==b?(m-b>180?b+=360:b-m>180&&(m+=360),x.push({i:y.push(l(y)+"rotate(",null,o)-2,x:Ia(m,b)})):b&&y.push(l(y)+"rotate("+b+o)}function d(m,b,y,x){m!==b?x.push({i:y.push(l(y)+"skewX(",null,o)-2,x:Ia(m,b)}):b&&y.push(l(y)+"skewX("+b+o)}function p(m,b,y,x,S,C){if(m!==y||b!==x){var T=S.push(l(S)+"scale(",null,",",null,")");C.push({i:T-4,x:Ia(m,y)},{i:T-2,x:Ia(b,x)})}else(y!==1||x!==1)&&S.push(l(S)+"scale("+y+","+x+")")}return function(m,b){var y=[],x=[];return m=e(m),b=e(b),u(m.translateX,m.translateY,b.translateX,b.translateY,y,x),c(m.rotate,b.rotate,y,x),d(m.skewX,b.skewX,y,x),p(m.scaleX,m.scaleY,b.scaleX,b.scaleY,y,x),m=b=null,function(S){for(var C=-1,T=x.length,B;++C<T;)y[(B=x[C]).i]=B.x(S);return y.join("")}}}var PN=Nw(KN,"px, ","px)","deg)"),ZN=Nw(GN,", ",")",")"),QN=1e-12;function _b(e){return((e=Math.exp(e))+1/e)/2}function FN(e){return((e=Math.exp(e))-1/e)/2}function WN(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ff=(function e(r,a,o){function l(u,c){var d=u[0],p=u[1],m=u[2],b=c[0],y=c[1],x=c[2],S=b-d,C=y-p,T=S*S+C*C,B,z;if(T<QN)z=Math.log(x/m)/r,B=function($){return[d+$*S,p+$*C,m*Math.exp(r*$*z)]};else{var V=Math.sqrt(T),A=(x*x-m*m+o*T)/(2*m*a*V),N=(x*x-m*m-o*T)/(2*x*a*V),K=Math.log(Math.sqrt(A*A+1)-A),L=Math.log(Math.sqrt(N*N+1)-N);z=(L-K)/r,B=function($){var P=$*z,W=_b(K),fe=m/(a*V)*(W*WN(r*P+K)-FN(K));return[d+fe*S,p+fe*C,m*W/_b(r*P+K)]}}return B.duration=z*1e3*r/Math.SQRT2,B}return l.rho=function(u){var c=Math.max(.001,+u),d=c*c,p=d*d;return e(c,d,p)},l})(Math.SQRT2,2,4);var ml=0,Ru=0,Nu=0,Tw=1e3,fd,ju,dd=0,os=0,Hd=0,Xu=typeof performance=="object"&&performance.now?performance:Date,Ow=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wg(){return os||(Ow(JN),os=Xu.now()+Hd)}function JN(){os=0}function hd(){this._call=this._time=this._next=null}hd.prototype=Mw.prototype={constructor:hd,restart:function(e,r,a){if(typeof e!="function")throw new TypeError("callback is not a function");a=(a==null?wg():+a)+(r==null?0:+r),!this._next&&ju!==this&&(ju?ju._next=this:fd=this,ju=this),this._call=e,this._time=a,Lm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lm())}};function Mw(e,r,a){var o=new hd;return o.restart(e,r,a),o}function eT(){wg(),++ml;for(var e=fd,r;e;)(r=os-e._time)>=0&&e._call.call(void 0,r),e=e._next;--ml}function Cb(){os=(dd=Xu.now())+Hd,ml=Ru=0;try{eT()}finally{ml=0,nT(),os=0}}function tT(){var e=Xu.now(),r=e-dd;r>Tw&&(Hd-=r,dd=e)}function nT(){for(var e,r=fd,a,o=1/0;r;)r._call?(o>r._time&&(o=r._time),e=r,r=r._next):(a=r._next,r._next=null,r=e?e._next=a:fd=a);ju=e,Lm(o)}function Lm(e){if(!ml){Ru&&(Ru=clearTimeout(Ru));var r=e-os;r>24?(e<1/0&&(Ru=setTimeout(Cb,e-Xu.now()-Hd)),Nu&&(Nu=clearInterval(Nu))):(Nu||(dd=Xu.now(),Nu=setInterval(tT,Tw)),ml=1,Ow(Cb))}}function Nb(e,r,a){var o=new hd;return r=r==null?0:+r,o.restart(l=>{o.stop(),e(l+r)},r,a),o}var rT=zd("start","end","cancel","interrupt"),aT=[],Dw=0,Tb=1,Um=2,Wf=3,Ob=4,qm=5,Jf=6;function kd(e,r,a,o,l,u){var c=e.__transition;if(!c)e.__transition={};else if(a in c)return;iT(e,a,{name:r,index:o,group:l,on:rT,tween:aT,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Dw})}function Sg(e,r){var a=Ra(e,r);if(a.state>Dw)throw new Error("too late; already scheduled");return a}function Qa(e,r){var a=Ra(e,r);if(a.state>Wf)throw new Error("too late; already running");return a}function Ra(e,r){var a=e.__transition;if(!a||!(a=a[r]))throw new Error("transition not found");return a}function iT(e,r,a){var o=e.__transition,l;o[r]=a,a.timer=Mw(u,0,a.time);function u(m){a.state=Tb,a.timer.restart(c,a.delay,a.time),a.delay<=m&&c(m-a.delay)}function c(m){var b,y,x,S;if(a.state!==Tb)return p();for(b in o)if(S=o[b],S.name===a.name){if(S.state===Wf)return Nb(c);S.state===Ob?(S.state=Jf,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete o[b]):+b<r&&(S.state=Jf,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete o[b])}if(Nb(function(){a.state===Wf&&(a.state=Ob,a.timer.restart(d,a.delay,a.time),d(m))}),a.state=Um,a.on.call("start",e,e.__data__,a.index,a.group),a.state===Um){for(a.state=Wf,l=new Array(x=a.tween.length),b=0,y=-1;b<x;++b)(S=a.tween[b].value.call(e,e.__data__,a.index,a.group))&&(l[++y]=S);l.length=y+1}}function d(m){for(var b=m<a.duration?a.ease.call(null,m/a.duration):(a.timer.restart(p),a.state=qm,1),y=-1,x=l.length;++y<x;)l[y].call(e,b);a.state===qm&&(a.on.call("end",e,e.__data__,a.index,a.group),p())}function p(){a.state=Jf,a.timer.stop(),delete o[r];for(var m in o)return;delete e.__transition}}function ed(e,r){var a=e.__transition,o,l,u=!0,c;if(a){r=r==null?null:r+"";for(c in a){if((o=a[c]).name!==r){u=!1;continue}l=o.state>Um&&o.state<qm,o.state=Jf,o.timer.stop(),o.on.call(l?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete a[c]}u&&delete e.__transition}}function oT(e){return this.each(function(){ed(this,e)})}function sT(e,r){var a,o;return function(){var l=Qa(this,e),u=l.tween;if(u!==a){o=a=u;for(var c=0,d=o.length;c<d;++c)if(o[c].name===r){o=o.slice(),o.splice(c,1);break}}l.tween=o}}function lT(e,r,a){var o,l;if(typeof a!="function")throw new Error;return function(){var u=Qa(this,e),c=u.tween;if(c!==o){l=(o=c).slice();for(var d={name:r,value:a},p=0,m=l.length;p<m;++p)if(l[p].name===r){l[p]=d;break}p===m&&l.push(d)}u.tween=l}}function uT(e,r){var a=this._id;if(e+="",arguments.length<2){for(var o=Ra(this.node(),a).tween,l=0,u=o.length,c;l<u;++l)if((c=o[l]).name===e)return c.value;return null}return this.each((r==null?sT:lT)(a,e,r))}function Eg(e,r,a){var o=e._id;return e.each(function(){var l=Qa(this,o);(l.value||(l.value={}))[r]=a.apply(this,arguments)}),function(l){return Ra(l,o).value[r]}}function Aw(e,r){var a;return(typeof r=="number"?Ia:r instanceof is?cd:(a=is(r))?(r=a,cd):_w)(e,r)}function cT(e){return function(){this.removeAttribute(e)}}function fT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dT(e,r,a){var o,l=a+"",u;return function(){var c=this.getAttribute(e);return c===l?null:c===o?u:u=r(o=c,a)}}function hT(e,r,a){var o,l=a+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===l?null:c===o?u:u=r(o=c,a)}}function pT(e,r,a){var o,l,u;return function(){var c,d=a(this),p;return d==null?void this.removeAttribute(e):(c=this.getAttribute(e),p=d+"",c===p?null:c===o&&p===l?u:(l=p,u=r(o=c,d)))}}function mT(e,r,a){var o,l,u;return function(){var c,d=a(this),p;return d==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),p=d+"",c===p?null:c===o&&p===l?u:(l=p,u=r(o=c,d)))}}function gT(e,r){var a=Bd(e),o=a==="transform"?ZN:Aw;return this.attrTween(e,typeof r=="function"?(a.local?mT:pT)(a,o,Eg(this,"attr."+e,r)):r==null?(a.local?fT:cT)(a):(a.local?hT:dT)(a,o,r))}function vT(e,r){return function(a){this.setAttribute(e,r.call(this,a))}}function yT(e,r){return function(a){this.setAttributeNS(e.space,e.local,r.call(this,a))}}function bT(e,r){var a,o;function l(){var u=r.apply(this,arguments);return u!==o&&(a=(o=u)&&yT(e,u)),a}return l._value=r,l}function xT(e,r){var a,o;function l(){var u=r.apply(this,arguments);return u!==o&&(a=(o=u)&&vT(e,u)),a}return l._value=r,l}function wT(e,r){var a="attr."+e;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(r==null)return this.tween(a,null);if(typeof r!="function")throw new Error;var o=Bd(e);return this.tween(a,(o.local?bT:xT)(o,r))}function ST(e,r){return function(){Sg(this,e).delay=+r.apply(this,arguments)}}function ET(e,r){return r=+r,function(){Sg(this,e).delay=r}}function _T(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?ST:ET)(r,e)):Ra(this.node(),r).delay}function CT(e,r){return function(){Qa(this,e).duration=+r.apply(this,arguments)}}function NT(e,r){return r=+r,function(){Qa(this,e).duration=r}}function TT(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?CT:NT)(r,e)):Ra(this.node(),r).duration}function OT(e,r){if(typeof r!="function")throw new Error;return function(){Qa(this,e).ease=r}}function MT(e){var r=this._id;return arguments.length?this.each(OT(r,e)):Ra(this.node(),r).ease}function DT(e,r){return function(){var a=r.apply(this,arguments);if(typeof a!="function")throw new Error;Qa(this,e).ease=a}}function AT(e){if(typeof e!="function")throw new Error;return this.each(DT(this._id,e))}function RT(e){typeof e!="function"&&(e=lw(e));for(var r=this._groups,a=r.length,o=new Array(a),l=0;l<a;++l)for(var u=r[l],c=u.length,d=o[l]=[],p,m=0;m<c;++m)(p=u[m])&&e.call(p,p.__data__,m,u)&&d.push(p);return new Ai(o,this._parents,this._name,this._id)}function jT(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,a=e._groups,o=r.length,l=a.length,u=Math.min(o,l),c=new Array(o),d=0;d<u;++d)for(var p=r[d],m=a[d],b=p.length,y=c[d]=new Array(b),x,S=0;S<b;++S)(x=p[S]||m[S])&&(y[S]=x);for(;d<o;++d)c[d]=r[d];return new Ai(c,this._parents,this._name,this._id)}function zT(e){return(e+"").trim().split(/^|\s+/).every(function(r){var a=r.indexOf(".");return a>=0&&(r=r.slice(0,a)),!r||r==="start"})}function BT(e,r,a){var o,l,u=zT(r)?Sg:Qa;return function(){var c=u(this,e),d=c.on;d!==o&&(l=(o=d).copy()).on(r,a),c.on=l}}function HT(e,r){var a=this._id;return arguments.length<2?Ra(this.node(),a).on.on(e):this.each(BT(a,e,r))}function kT(e){return function(){var r=this.parentNode;for(var a in this.__transition)if(+a!==e)return;r&&r.removeChild(this)}}function LT(){return this.on("end.remove",kT(this._id))}function UT(e){var r=this._name,a=this._id;typeof e!="function"&&(e=vg(e));for(var o=this._groups,l=o.length,u=new Array(l),c=0;c<l;++c)for(var d=o[c],p=d.length,m=u[c]=new Array(p),b,y,x=0;x<p;++x)(b=d[x])&&(y=e.call(b,b.__data__,x,d))&&("__data__"in b&&(y.__data__=b.__data__),m[x]=y,kd(m[x],r,a,x,m,Ra(b,a)));return new Ai(u,this._parents,r,a)}function qT(e){var r=this._name,a=this._id;typeof e!="function"&&(e=sw(e));for(var o=this._groups,l=o.length,u=[],c=[],d=0;d<l;++d)for(var p=o[d],m=p.length,b,y=0;y<m;++y)if(b=p[y]){for(var x=e.call(b,b.__data__,y,p),S,C=Ra(b,a),T=0,B=x.length;T<B;++T)(S=x[T])&&kd(S,r,a,T,x,C);u.push(x),c.push(b)}return new Ai(u,c,r,a)}var $T=oc.prototype.constructor;function VT(){return new $T(this._groups,this._parents)}function YT(e,r){var a,o,l;return function(){var u=pl(this,e),c=(this.style.removeProperty(e),pl(this,e));return u===c?null:u===a&&c===o?l:l=r(a=u,o=c)}}function Rw(e){return function(){this.style.removeProperty(e)}}function IT(e,r,a){var o,l=a+"",u;return function(){var c=pl(this,e);return c===l?null:c===o?u:u=r(o=c,a)}}function XT(e,r,a){var o,l,u;return function(){var c=pl(this,e),d=a(this),p=d+"";return d==null&&(p=d=(this.style.removeProperty(e),pl(this,e))),c===p?null:c===o&&p===l?u:(l=p,u=r(o=c,d))}}function KT(e,r){var a,o,l,u="style."+r,c="end."+u,d;return function(){var p=Qa(this,e),m=p.on,b=p.value[u]==null?d||(d=Rw(r)):void 0;(m!==a||l!==b)&&(o=(a=m).copy()).on(c,l=b),p.on=o}}function GT(e,r,a){var o=(e+="")=="transform"?PN:Aw;return r==null?this.styleTween(e,YT(e,o)).on("end.style."+e,Rw(e)):typeof r=="function"?this.styleTween(e,XT(e,o,Eg(this,"style."+e,r))).each(KT(this._id,e)):this.styleTween(e,IT(e,o,r),a).on("end.style."+e,null)}function PT(e,r,a){return function(o){this.style.setProperty(e,r.call(this,o),a)}}function ZT(e,r,a){var o,l;function u(){var c=r.apply(this,arguments);return c!==l&&(o=(l=c)&&PT(e,c,a)),o}return u._value=r,u}function QT(e,r,a){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;return this.tween(o,ZT(e,r,a??""))}function FT(e){return function(){this.textContent=e}}function WT(e){return function(){var r=e(this);this.textContent=r??""}}function JT(e){return this.tween("text",typeof e=="function"?WT(Eg(this,"text",e)):FT(e==null?"":e+""))}function eO(e){return function(r){this.textContent=e.call(this,r)}}function tO(e){var r,a;function o(){var l=e.apply(this,arguments);return l!==a&&(r=(a=l)&&eO(l)),r}return o._value=e,o}function nO(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,tO(e))}function rO(){for(var e=this._name,r=this._id,a=jw(),o=this._groups,l=o.length,u=0;u<l;++u)for(var c=o[u],d=c.length,p,m=0;m<d;++m)if(p=c[m]){var b=Ra(p,r);kd(p,e,a,m,c,{time:b.time+b.delay+b.duration,delay:0,duration:b.duration,ease:b.ease})}return new Ai(o,this._parents,e,a)}function aO(){var e,r,a=this,o=a._id,l=a.size();return new Promise(function(u,c){var d={value:c},p={value:function(){--l===0&&u()}};a.each(function(){var m=Qa(this,o),b=m.on;b!==e&&(r=(e=b).copy(),r._.cancel.push(d),r._.interrupt.push(d),r._.end.push(p)),m.on=r}),l===0&&u()})}var iO=0;function Ai(e,r,a,o){this._groups=e,this._parents=r,this._name=a,this._id=o}function jw(){return++iO}var Ti=oc.prototype;Ai.prototype={constructor:Ai,select:UT,selectAll:qT,selectChild:Ti.selectChild,selectChildren:Ti.selectChildren,filter:RT,merge:jT,selection:VT,transition:rO,call:Ti.call,nodes:Ti.nodes,node:Ti.node,size:Ti.size,empty:Ti.empty,each:Ti.each,on:HT,attr:gT,attrTween:wT,style:GT,styleTween:QT,text:JT,textTween:nO,remove:LT,tween:uT,delay:_T,duration:TT,ease:MT,easeVarying:AT,end:aO,[Symbol.iterator]:Ti[Symbol.iterator]};function oO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sO={time:null,delay:0,duration:250,ease:oO};function lO(e,r){for(var a;!(a=e.__transition)||!(a=a[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return a}function uO(e){var r,a;e instanceof Ai?(r=e._id,e=e._name):(r=jw(),(a=sO).time=wg(),e=e==null?null:e+"");for(var o=this._groups,l=o.length,u=0;u<l;++u)for(var c=o[u],d=c.length,p,m=0;m<d;++m)(p=c[m])&&kd(p,e,r,m,c,a||lO(p,r));return new Ai(o,this._parents,e,r)}oc.prototype.interrupt=oT;oc.prototype.transition=uO;const Hf=e=>()=>e;function cO(e,{sourceEvent:r,target:a,transform:o,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:l}})}function Mi(e,r,a){this.k=e,this.x=r,this.y=a}Mi.prototype={constructor:Mi,scale:function(e){return e===1?this:new Mi(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Mi(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ld=new Mi(1,0,0);zw.prototype=Mi.prototype;function zw(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ld;return e.__zoom}function em(e){e.stopImmediatePropagation()}function Tu(e){e.preventDefault(),e.stopImmediatePropagation()}function fO(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Mb(){return this.__zoom||Ld}function hO(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pO(){return navigator.maxTouchPoints||"ontouchstart"in this}function mO(e,r,a){var o=e.invertX(r[0][0])-a[0][0],l=e.invertX(r[1][0])-a[1][0],u=e.invertY(r[0][1])-a[0][1],c=e.invertY(r[1][1])-a[1][1];return e.translate(l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function Bw(){var e=fO,r=dO,a=mO,o=hO,l=pO,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,p=Ff,m=zd("start","zoom","end"),b,y,x,S=500,C=150,T=0,B=10;function z(k){k.property("__zoom",Mb).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",fe).filter(l).on("touchstart.zoom",J).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}z.transform=function(k,Y,D,M){var I=k.selection?k.selection():k;I.property("__zoom",Mb),k!==I?K(k,Y,D,M):I.interrupt().each(function(){L(this,arguments).event(M).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},z.scaleBy=function(k,Y,D,M){z.scaleTo(k,function(){var I=this.__zoom.k,Q=typeof Y=="function"?Y.apply(this,arguments):Y;return I*Q},D,M)},z.scaleTo=function(k,Y,D,M){z.transform(k,function(){var I=r.apply(this,arguments),Q=this.__zoom,ne=D==null?N(I):typeof D=="function"?D.apply(this,arguments):D,q=Q.invert(ne),Z=typeof Y=="function"?Y.apply(this,arguments):Y;return a(A(V(Q,Z),ne,q),I,c)},D,M)},z.translateBy=function(k,Y,D,M){z.transform(k,function(){return a(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof D=="function"?D.apply(this,arguments):D),r.apply(this,arguments),c)},null,M)},z.translateTo=function(k,Y,D,M,I){z.transform(k,function(){var Q=r.apply(this,arguments),ne=this.__zoom,q=M==null?N(Q):typeof M=="function"?M.apply(this,arguments):M;return a(Ld.translate(q[0],q[1]).scale(ne.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof D=="function"?-D.apply(this,arguments):-D),Q,c)},M,I)};function V(k,Y){return Y=Math.max(u[0],Math.min(u[1],Y)),Y===k.k?k:new Mi(Y,k.x,k.y)}function A(k,Y,D){var M=Y[0]-D[0]*k.k,I=Y[1]-D[1]*k.k;return M===k.x&&I===k.y?k:new Mi(k.k,M,I)}function N(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function K(k,Y,D,M){k.on("start.zoom",function(){L(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(M).end()}).tween("zoom",function(){var I=this,Q=arguments,ne=L(I,Q).event(M),q=r.apply(I,Q),Z=D==null?N(q):typeof D=="function"?D.apply(I,Q):D,ae=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),de=I.__zoom,ye=typeof Y=="function"?Y.apply(I,Q):Y,Ce=p(de.invert(Z).concat(ae/de.k),ye.invert(Z).concat(ae/ye.k));return function(Ae){if(Ae===1)Ae=ye;else{var Te=Ce(Ae),we=ae/Te[2];Ae=new Mi(we,Z[0]-Te[0]*we,Z[1]-Te[1]*we)}ne.zoom(null,Ae)}})}function L(k,Y,D){return!D&&k.__zooming||new $(k,Y)}function $(k,Y){this.that=k,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=r.apply(k,Y),this.taps=0}$.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,Y){return this.mouse&&k!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var Y=Vr(this.that).datum();m.call(k,this.that,new cO(k,{sourceEvent:this.sourceEvent,target:z,transform:this.that.__zoom,dispatch:m}),Y)}};function P(k,...Y){if(!e.apply(this,arguments))return;var D=L(this,Y).event(k),M=this.__zoom,I=Math.max(u[0],Math.min(u[1],M.k*Math.pow(2,o.apply(this,arguments)))),Q=Ca(k);if(D.wheel)(D.mouse[0][0]!==Q[0]||D.mouse[0][1]!==Q[1])&&(D.mouse[1]=M.invert(D.mouse[0]=Q)),clearTimeout(D.wheel);else{if(M.k===I)return;D.mouse=[Q,M.invert(Q)],ed(this),D.start()}Tu(k),D.wheel=setTimeout(ne,C),D.zoom("mouse",a(A(V(M,I),D.mouse[0],D.mouse[1]),D.extent,c));function ne(){D.wheel=null,D.end()}}function W(k,...Y){if(x||!e.apply(this,arguments))return;var D=k.currentTarget,M=L(this,Y,!0).event(k),I=Vr(k.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",ae,!0),Q=Ca(k,D),ne=k.clientX,q=k.clientY;yw(k.view),em(k),M.mouse=[Q,this.__zoom.invert(Q)],ed(this),M.start();function Z(de){if(Tu(de),!M.moved){var ye=de.clientX-ne,Ce=de.clientY-q;M.moved=ye*ye+Ce*Ce>T}M.event(de).zoom("mouse",a(A(M.that.__zoom,M.mouse[0]=Ca(de,D),M.mouse[1]),M.extent,c))}function ae(de){I.on("mousemove.zoom mouseup.zoom",null),bw(de.view,M.moved),Tu(de),M.event(de).end()}}function fe(k,...Y){if(e.apply(this,arguments)){var D=this.__zoom,M=Ca(k.changedTouches?k.changedTouches[0]:k,this),I=D.invert(M),Q=D.k*(k.shiftKey?.5:2),ne=a(A(V(D,Q),M,I),r.apply(this,Y),c);Tu(k),d>0?Vr(this).transition().duration(d).call(K,ne,M,k):Vr(this).call(z.transform,ne,M,k)}}function J(k,...Y){if(e.apply(this,arguments)){var D=k.touches,M=D.length,I=L(this,Y,k.changedTouches.length===M).event(k),Q,ne,q,Z;for(em(k),ne=0;ne<M;++ne)q=D[ne],Z=Ca(q,this),Z=[Z,this.__zoom.invert(Z),q.identifier],I.touch0?!I.touch1&&I.touch0[2]!==Z[2]&&(I.touch1=Z,I.taps=0):(I.touch0=Z,Q=!0,I.taps=1+!!b);b&&(b=clearTimeout(b)),Q&&(I.taps<2&&(y=Z[0],b=setTimeout(function(){b=null},S)),ed(this),I.start())}}function G(k,...Y){if(this.__zooming){var D=L(this,Y).event(k),M=k.changedTouches,I=M.length,Q,ne,q,Z;for(Tu(k),Q=0;Q<I;++Q)ne=M[Q],q=Ca(ne,this),D.touch0&&D.touch0[2]===ne.identifier?D.touch0[0]=q:D.touch1&&D.touch1[2]===ne.identifier&&(D.touch1[0]=q);if(ne=D.that.__zoom,D.touch1){var ae=D.touch0[0],de=D.touch0[1],ye=D.touch1[0],Ce=D.touch1[1],Ae=(Ae=ye[0]-ae[0])*Ae+(Ae=ye[1]-ae[1])*Ae,Te=(Te=Ce[0]-de[0])*Te+(Te=Ce[1]-de[1])*Te;ne=V(ne,Math.sqrt(Ae/Te)),q=[(ae[0]+ye[0])/2,(ae[1]+ye[1])/2],Z=[(de[0]+Ce[0])/2,(de[1]+Ce[1])/2]}else if(D.touch0)q=D.touch0[0],Z=D.touch0[1];else return;D.zoom("touch",a(A(ne,q,Z),D.extent,c))}}function re(k,...Y){if(this.__zooming){var D=L(this,Y).event(k),M=k.changedTouches,I=M.length,Q,ne;for(em(k),x&&clearTimeout(x),x=setTimeout(function(){x=null},S),Q=0;Q<I;++Q)ne=M[Q],D.touch0&&D.touch0[2]===ne.identifier?delete D.touch0:D.touch1&&D.touch1[2]===ne.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(ne=Ca(ne,this),Math.hypot(y[0]-ne[0],y[1]-ne[1])<B)){var q=Vr(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return z.wheelDelta=function(k){return arguments.length?(o=typeof k=="function"?k:Hf(+k),z):o},z.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Hf(!!k),z):e},z.touchable=function(k){return arguments.length?(l=typeof k=="function"?k:Hf(!!k),z):l},z.extent=function(k){return arguments.length?(r=typeof k=="function"?k:Hf([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),z):r},z.scaleExtent=function(k){return arguments.length?(u[0]=+k[0],u[1]=+k[1],z):[u[0],u[1]]},z.translateExtent=function(k){return arguments.length?(c[0][0]=+k[0][0],c[1][0]=+k[1][0],c[0][1]=+k[0][1],c[1][1]=+k[1][1],z):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},z.constrain=function(k){return arguments.length?(a=k,z):a},z.duration=function(k){return arguments.length?(d=+k,z):d},z.interpolate=function(k){return arguments.length?(p=k,z):p},z.on=function(){var k=m.on.apply(m,arguments);return k===m?z:k},z.clickDistance=function(k){return arguments.length?(T=(k=+k)*k,z):Math.sqrt(T)},z.tapDistance=function(k){return arguments.length?(B=+k,z):B},z}const Pa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:a,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?a:o}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ku=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Hw=["Enter"," ","Escape"],kw={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:a})=>`Moved selected node ${e}. New position, x: ${r}, y: ${a}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var gl;(function(e){e.Strict="strict",e.Loose="loose"})(gl||(gl={}));var ns;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ns||(ns={}));var vl;(function(e){e.Partial="partial",e.Full="full"})(vl||(vl={}));const Lw={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var xo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(xo||(xo={}));var pd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(pd||(pd={}));var Je;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Je||(Je={}));const Db={[Je.Left]:Je.Right,[Je.Right]:Je.Left,[Je.Top]:Je.Bottom,[Je.Bottom]:Je.Top};function Uw(e){return e===null?null:e?"valid":"invalid"}const qw=e=>"id"in e&&"source"in e&&"target"in e,gO=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),_g=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),lc=(e,r=[0,0])=>{const{width:a,height:o}=zi(e),l=e.origin??r,u=a*l[0],c=o*l[1];return{x:e.position.x-u,y:e.position.y-c}},vO=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const a=e.reduce((o,l)=>{const u=typeof l=="string";let c=!r.nodeLookup&&!u?l:void 0;r.nodeLookup&&(c=u?r.nodeLookup.get(l):_g(l)?l:r.nodeLookup.get(l.id));const d=c?md(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ud(o,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qd(a)},uc=(e,r={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let a={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(o=>{if(r.filter===void 0||r.filter(o)){const l=md(o);a=Ud(a,l)}}),qd(a)},Cg=(e,r,[a,o,l]=[0,0,1],u=!1,c=!1)=>{const d={...fc(r,[a,o,l]),width:r.width/l,height:r.height/l},p=[];for(const m of e.values()){const{measured:b,selectable:y=!0,hidden:x=!1}=m;if(c&&!y||x)continue;const S=b.width??m.width??m.initialWidth??null,C=b.height??m.height??m.initialHeight??null,T=Gu(d,bl(m)),B=(S??0)*(C??0),z=u&&T>0;(!m.internals.handleBounds||z||T>=B||m.dragging)&&p.push(m)}return p},$w=(e,r)=>{const a=new Set;return e.forEach(o=>{a.add(o.id)}),r.filter(o=>a.has(o.source)||a.has(o.target))};function yO(e,r){const a=new Map,o=r?.nodes?new Set(r.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(r?.includeHiddenNodes||!l.hidden)&&(!o||o.has(l.id))&&a.set(l.id,l)}),a}async function bO({nodes:e,width:r,height:a,panZoom:o,minZoom:l,maxZoom:u},c){if(e.size===0)return Promise.resolve(!0);const d=yO(e,c),p=uc(d),m=Ng(p,r,a,c?.minZoom??l,c?.maxZoom??u,c?.padding??.1);return await o.setViewport(m,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function Vw({nodeId:e,nextPosition:r,nodeLookup:a,nodeOrigin:o=[0,0],nodeExtent:l,onError:u}){const c=a.get(e),d=c.parentId?a.get(c.parentId):void 0,{x:p,y:m}=d?d.internals.positionAbsolute:{x:0,y:0},b=c.origin??o;let y=c.extent||l;if(c.extent==="parent"&&!c.expandParent)if(!d)u?.("005",Pa.error005());else{const S=d.measured.width,C=d.measured.height;S&&C&&(y=[[p,m],[p+S,m+C]])}else d&&xl(c.extent)&&(y=[[c.extent[0][0]+p,c.extent[0][1]+m],[c.extent[1][0]+p,c.extent[1][1]+m]]);const x=xl(y)?ss(r,y,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&u?.("015",Pa.error015()),{position:{x:x.x-p+(c.measured.width??0)*b[0],y:x.y-m+(c.measured.height??0)*b[1]},positionAbsolute:x}}async function xO({nodesToRemove:e=[],edgesToRemove:r=[],nodes:a,edges:o,onBeforeDelete:l}){const u=new Set(e.map(x=>x.id)),c=[];for(const x of a){if(x.deletable===!1)continue;const S=u.has(x.id),C=!S&&x.parentId&&c.find(T=>T.id===x.parentId);(S||C)&&c.push(x)}const d=new Set(r.map(x=>x.id)),p=o.filter(x=>x.deletable!==!1),b=$w(c,p);for(const x of p)d.has(x.id)&&!b.find(C=>C.id===x.id)&&b.push(x);if(!l)return{edges:b,nodes:c};const y=await l({nodes:c,edges:b});return typeof y=="boolean"?y?{edges:b,nodes:c}:{edges:[],nodes:[]}:y}const yl=(e,r=0,a=1)=>Math.min(Math.max(e,r),a),ss=(e={x:0,y:0},r,a)=>({x:yl(e.x,r[0][0],r[1][0]-(a?.width??0)),y:yl(e.y,r[0][1],r[1][1]-(a?.height??0))});function Yw(e,r,a){const{width:o,height:l}=zi(a),{x:u,y:c}=a.internals.positionAbsolute;return ss(e,[[u,c],[u+o,c+l]],r)}const Ab=(e,r,a)=>e<r?yl(Math.abs(e-r),1,r)/r:e>a?-yl(Math.abs(e-a),1,r)/r:0,Iw=(e,r,a=15,o=40)=>{const l=Ab(e.x,o,r.width-o)*a,u=Ab(e.y,o,r.height-o)*a;return[l,u]},Ud=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),$m=({x:e,y:r,width:a,height:o})=>({x:e,y:r,x2:e+a,y2:r+o}),qd=({x:e,y:r,x2:a,y2:o})=>({x:e,y:r,width:a-e,height:o-r}),bl=(e,r=[0,0])=>{const{x:a,y:o}=_g(e)?e.internals.positionAbsolute:lc(e,r);return{x:a,y:o,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},md=(e,r=[0,0])=>{const{x:a,y:o}=_g(e)?e.internals.positionAbsolute:lc(e,r);return{x:a,y:o,x2:a+(e.measured?.width??e.width??e.initialWidth??0),y2:o+(e.measured?.height??e.height??e.initialHeight??0)}},Xw=(e,r)=>qd(Ud($m(e),$m(r))),Gu=(e,r)=>{const a=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),o=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(a*o)},Rb=e=>Ta(e.width)&&Ta(e.height)&&Ta(e.x)&&Ta(e.y),Ta=e=>!isNaN(e)&&isFinite(e),wO=(e,r)=>{},cc=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),fc=({x:e,y:r},[a,o,l],u=!1,c=[1,1])=>{const d={x:(e-a)/l,y:(r-o)/l};return u?cc(d,c):d},gd=({x:e,y:r},[a,o,l])=>({x:e*l+a,y:r*l+o});function rl(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const a=parseFloat(e);if(!Number.isNaN(a))return Math.floor(a)}if(typeof e=="string"&&e.endsWith("%")){const a=parseFloat(e);if(!Number.isNaN(a))return Math.floor(r*a*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function SO(e,r,a){if(typeof e=="string"||typeof e=="number"){const o=rl(e,a),l=rl(e,r);return{top:o,right:l,bottom:o,left:l,x:l*2,y:o*2}}if(typeof e=="object"){const o=rl(e.top??e.y??0,a),l=rl(e.bottom??e.y??0,a),u=rl(e.left??e.x??0,r),c=rl(e.right??e.x??0,r);return{top:o,right:c,bottom:l,left:u,x:u+c,y:o+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function EO(e,r,a,o,l,u){const{x:c,y:d}=gd(e,[r,a,o]),{x:p,y:m}=gd({x:e.x+e.width,y:e.y+e.height},[r,a,o]),b=l-p,y=u-m;return{left:Math.floor(c),top:Math.floor(d),right:Math.floor(b),bottom:Math.floor(y)}}const Ng=(e,r,a,o,l,u)=>{const c=SO(u,r,a),d=(r-c.x)/e.width,p=(a-c.y)/e.height,m=Math.min(d,p),b=yl(m,o,l),y=e.x+e.width/2,x=e.y+e.height/2,S=r/2-y*b,C=a/2-x*b,T=EO(e,S,C,b,r,a),B={left:Math.min(T.left-c.left,0),top:Math.min(T.top-c.top,0),right:Math.min(T.right-c.right,0),bottom:Math.min(T.bottom-c.bottom,0)};return{x:S-B.left+B.right,y:C-B.top+B.bottom,zoom:b}},Pu=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function xl(e){return e!=null&&e!=="parent"}function zi(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Kw(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function Gw(e,r={width:0,height:0},a,o,l){const u={...e},c=o.get(a);if(c){const d=c.origin||l;u.x+=c.internals.positionAbsolute.x-(r.width??0)*d[0],u.y+=c.internals.positionAbsolute.y-(r.height??0)*d[1]}return u}function jb(e,r){if(e.size!==r.size)return!1;for(const a of e)if(!r.has(a))return!1;return!0}function _O(){let e,r;return{promise:new Promise((o,l)=>{e=o,r=l}),resolve:e,reject:r}}function CO(e){return{...kw,...e||{}}}function Bu(e,{snapGrid:r=[0,0],snapToGrid:a=!1,transform:o,containerBounds:l}){const{x:u,y:c}=Oa(e),d=fc({x:u-(l?.left??0),y:c-(l?.top??0)},o),{x:p,y:m}=a?cc(d,r):d;return{xSnapped:p,ySnapped:m,...d}}const Tg=e=>({width:e.offsetWidth,height:e.offsetHeight}),Pw=e=>e?.getRootNode?.()||window?.document,NO=["INPUT","SELECT","TEXTAREA"];function Zw(e){const r=e.composedPath?.()?.[0]||e.target;return r?.nodeType!==1?!1:NO.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const Qw=e=>"clientX"in e,Oa=(e,r)=>{const a=Qw(e),o=a?e.clientX:e.touches?.[0].clientX,l=a?e.clientY:e.touches?.[0].clientY;return{x:o-(r?.left??0),y:l-(r?.top??0)}},zb=(e,r,a,o,l)=>{const u=r.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:l,position:c.getAttribute("data-handlepos"),x:(d.left-a.left)/o,y:(d.top-a.top)/o,...Tg(c)}})};function Fw({sourceX:e,sourceY:r,targetX:a,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d}){const p=e*.125+l*.375+c*.375+a*.125,m=r*.125+u*.375+d*.375+o*.125,b=Math.abs(p-e),y=Math.abs(m-r);return[p,m,b,y]}function kf(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function Bb({pos:e,x1:r,y1:a,x2:o,y2:l,c:u}){switch(e){case Je.Left:return[r-kf(r-o,u),a];case Je.Right:return[r+kf(o-r,u),a];case Je.Top:return[r,a-kf(a-l,u)];case Je.Bottom:return[r,a+kf(l-a,u)]}}function $d({sourceX:e,sourceY:r,sourcePosition:a=Je.Bottom,targetX:o,targetY:l,targetPosition:u=Je.Top,curvature:c=.25}){const[d,p]=Bb({pos:a,x1:e,y1:r,x2:o,y2:l,c}),[m,b]=Bb({pos:u,x1:o,y1:l,x2:e,y2:r,c}),[y,x,S,C]=Fw({sourceX:e,sourceY:r,targetX:o,targetY:l,sourceControlX:d,sourceControlY:p,targetControlX:m,targetControlY:b});return[`M${e},${r} C${d},${p} ${m},${b} ${o},${l}`,y,x,S,C]}function Ww({sourceX:e,sourceY:r,targetX:a,targetY:o}){const l=Math.abs(a-e)/2,u=a<e?a+l:a-l,c=Math.abs(o-r)/2,d=o<r?o+c:o-c;return[u,d,l,c]}function TO({sourceNode:e,targetNode:r,selected:a=!1,zIndex:o,elevateOnSelect:l=!1}){if(o!==void 0)return o;const u=l&&a?1e3:0,c=Math.max(e.parentId||l&&e.selected?e.internals.z:0,r.parentId||l&&r.selected?r.internals.z:0);return u+c}function OO({sourceNode:e,targetNode:r,width:a,height:o,transform:l}){const u=Ud(md(e),md(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-l[0]/l[2],y:-l[1]/l[2],width:a/l[2],height:o/l[2]};return Gu(c,qd(u))>0}const MO=({source:e,sourceHandle:r,target:a,targetHandle:o})=>`xy-edge__${e}${r||""}-${a}${o||""}`,DO=(e,r)=>r.some(a=>a.source===e.source&&a.target===e.target&&(a.sourceHandle===e.sourceHandle||!a.sourceHandle&&!e.sourceHandle)&&(a.targetHandle===e.targetHandle||!a.targetHandle&&!e.targetHandle)),Vm=(e,r)=>{if(!e.source||!e.target)return r;let a;return qw(e)?a={...e}:a={...e,id:MO(e)},DO(a,r)?r:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,r.concat(a))};function Jw({sourceX:e,sourceY:r,targetX:a,targetY:o}){const[l,u,c,d]=Ww({sourceX:e,sourceY:r,targetX:a,targetY:o});return[`M ${e},${r}L ${a},${o}`,l,u,c,d]}const Hb={[Je.Left]:{x:-1,y:0},[Je.Right]:{x:1,y:0},[Je.Top]:{x:0,y:-1},[Je.Bottom]:{x:0,y:1}},AO=({source:e,sourcePosition:r=Je.Bottom,target:a})=>r===Je.Left||r===Je.Right?e.x<a.x?{x:1,y:0}:{x:-1,y:0}:e.y<a.y?{x:0,y:1}:{x:0,y:-1},kb=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function RO({source:e,sourcePosition:r=Je.Bottom,target:a,targetPosition:o=Je.Top,center:l,offset:u,stepPosition:c}){const d=Hb[r],p=Hb[o],m={x:e.x+d.x*u,y:e.y+d.y*u},b={x:a.x+p.x*u,y:a.y+p.y*u},y=AO({source:m,sourcePosition:r,target:b}),x=y.x!==0?"x":"y",S=y[x];let C=[],T,B;const z={x:0,y:0},V={x:0,y:0},[,,A,N]=Ww({sourceX:e.x,sourceY:e.y,targetX:a.x,targetY:a.y});if(d[x]*p[x]===-1){x==="x"?(T=l.x??m.x+(b.x-m.x)*c,B=l.y??(m.y+b.y)/2):(T=l.x??(m.x+b.x)/2,B=l.y??m.y+(b.y-m.y)*c);const L=[{x:T,y:m.y},{x:T,y:b.y}],$=[{x:m.x,y:B},{x:b.x,y:B}];d[x]===S?C=x==="x"?L:$:C=x==="x"?$:L}else{const L=[{x:m.x,y:b.y}],$=[{x:b.x,y:m.y}];if(x==="x"?C=d.x===S?$:L:C=d.y===S?L:$,r===o){const G=Math.abs(e[x]-a[x]);if(G<=u){const re=Math.min(u-1,u-G);d[x]===S?z[x]=(m[x]>e[x]?-1:1)*re:V[x]=(b[x]>a[x]?-1:1)*re}}if(r!==o){const G=x==="x"?"y":"x",re=d[x]===p[G],k=m[G]>b[G],Y=m[G]<b[G];(d[x]===1&&(!re&&k||re&&Y)||d[x]!==1&&(!re&&Y||re&&k))&&(C=x==="x"?L:$)}const P={x:m.x+z.x,y:m.y+z.y},W={x:b.x+V.x,y:b.y+V.y},fe=Math.max(Math.abs(P.x-C[0].x),Math.abs(W.x-C[0].x)),J=Math.max(Math.abs(P.y-C[0].y),Math.abs(W.y-C[0].y));fe>=J?(T=(P.x+W.x)/2,B=C[0].y):(T=C[0].x,B=(P.y+W.y)/2)}return[[e,{x:m.x+z.x,y:m.y+z.y},...C,{x:b.x+V.x,y:b.y+V.y},a],T,B,A,N]}function jO(e,r,a,o){const l=Math.min(kb(e,r)/2,kb(r,a)/2,o),{x:u,y:c}=r;if(e.x===u&&u===a.x||e.y===c&&c===a.y)return`L${u} ${c}`;if(e.y===c){const m=e.x<a.x?-1:1,b=e.y<a.y?1:-1;return`L ${u+l*m},${c}Q ${u},${c} ${u},${c+l*b}`}const d=e.x<a.x?1:-1,p=e.y<a.y?-1:1;return`L ${u},${c+l*p}Q ${u},${c} ${u+l*d},${c}`}function Ym({sourceX:e,sourceY:r,sourcePosition:a=Je.Bottom,targetX:o,targetY:l,targetPosition:u=Je.Top,borderRadius:c=5,centerX:d,centerY:p,offset:m=20,stepPosition:b=.5}){const[y,x,S,C,T]=RO({source:{x:e,y:r},sourcePosition:a,target:{x:o,y:l},targetPosition:u,center:{x:d,y:p},offset:m,stepPosition:b});return[y.reduce((z,V,A)=>{let N="";return A>0&&A<y.length-1?N=jO(y[A-1],V,y[A+1],c):N=`${A===0?"M":"L"}${V.x} ${V.y}`,z+=N,z},""),x,S,C,T]}function Lb(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function zO(e){const{sourceNode:r,targetNode:a}=e;if(!Lb(r)||!Lb(a))return null;const o=r.internals.handleBounds||Ub(r.handles),l=a.internals.handleBounds||Ub(a.handles),u=qb(o?.source??[],e.sourceHandle),c=qb(e.connectionMode===gl.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!u||!c)return e.onError?.("008",Pa.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=u?.position||Je.Bottom,p=c?.position||Je.Top,m=Zu(r,u,d),b=Zu(a,c,p);return{sourceX:m.x,sourceY:m.y,targetX:b.x,targetY:b.y,sourcePosition:d,targetPosition:p}}function Ub(e){if(!e)return null;const r=[],a=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?r.push(o):o.type==="target"&&a.push(o);return{source:r,target:a}}function Zu(e,r,a=Je.Left,o=!1){const l=(r?.x??0)+e.internals.positionAbsolute.x,u=(r?.y??0)+e.internals.positionAbsolute.y,{width:c,height:d}=r??zi(e);if(o)return{x:l+c/2,y:u+d/2};switch(r?.position??a){case Je.Top:return{x:l+c/2,y:u};case Je.Right:return{x:l+c,y:u+d/2};case Je.Bottom:return{x:l+c/2,y:u+d};case Je.Left:return{x:l,y:u+d/2}}}function qb(e,r){return e&&(r?e.find(a=>a.id===r):e[0])||null}function Im(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function BO(e,{id:r,defaultColor:a,defaultMarkerStart:o,defaultMarkerEnd:l}){const u=new Set;return e.reduce((c,d)=>([d.markerStart||o,d.markerEnd||l].forEach(p=>{if(p&&typeof p=="object"){const m=Im(p,r);u.has(m)||(c.push({id:m,color:p.color||a,...p}),u.add(m))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}const Og={nodeOrigin:[0,0],nodeExtent:Ku,elevateNodesOnSelect:!0,defaults:{}},HO={...Og,checkEquality:!0};function Mg(e,r){const a={...e};for(const o in r)r[o]!==void 0&&(a[o]=r[o]);return a}function kO(e,r,a){const o=Mg(Og,a);for(const l of e.values())if(l.parentId)Dg(l,e,r,o);else{const u=lc(l,o.nodeOrigin),c=xl(l.extent)?l.extent:o.nodeExtent,d=ss(u,c,zi(l));l.internals.positionAbsolute=d}}function LO(e,r){if(!e.handles)return e.measured?r?.internals.handleBounds:void 0;const a=[],o=[];for(const l of e.handles){const u={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?a.push(u):l.type==="target"&&o.push(u)}return{source:a,target:o}}function Xm(e,r,a,o){const l=Mg(HO,o);let u=e.length>0;const c=new Map(r),d=l?.elevateNodesOnSelect?1e3:0;r.clear(),a.clear();for(const p of e){let m=c.get(p.id);if(l.checkEquality&&p===m?.internals.userNode)r.set(p.id,m);else{const b=lc(p,l.nodeOrigin),y=xl(p.extent)?p.extent:l.nodeExtent,x=ss(b,y,zi(p));m={...l.defaults,...p,measured:{width:p.measured?.width,height:p.measured?.height},internals:{positionAbsolute:x,handleBounds:LO(p,m),z:eS(p,d),userNode:p}},r.set(p.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(u=!1),p.parentId&&Dg(m,r,a,o)}return u}function UO(e,r){if(!e.parentId)return;const a=r.get(e.parentId);a?a.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function Dg(e,r,a,o){const{elevateNodesOnSelect:l,nodeOrigin:u,nodeExtent:c}=Mg(Og,o),d=e.parentId,p=r.get(d);if(!p){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}UO(e,a);const m=l?1e3:0,{x:b,y,z:x}=qO(e,p,u,c,m),{positionAbsolute:S}=e.internals,C=b!==S.x||y!==S.y;(C||x!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x:b,y}:S,z:x}})}function eS(e,r){return(Ta(e.zIndex)?e.zIndex:0)+(e.selected?r:0)}function qO(e,r,a,o,l){const{x:u,y:c}=r.internals.positionAbsolute,d=zi(e),p=lc(e,a),m=xl(e.extent)?ss(p,e.extent,d):p;let b=ss({x:u+m.x,y:c+m.y},o,d);e.extent==="parent"&&(b=Yw(b,d,r));const y=eS(e,l),x=r.internals.z??0;return{x:b.x,y:b.y,z:x>=y?x+1:y}}function Ag(e,r,a,o=[0,0]){const l=[],u=new Map;for(const c of e){const d=r.get(c.parentId);if(!d)continue;const p=u.get(c.parentId)?.expandedRect??bl(d),m=Xw(p,c.rect);u.set(c.parentId,{expandedRect:m,parent:d})}return u.size>0&&u.forEach(({expandedRect:c,parent:d},p)=>{const m=d.internals.positionAbsolute,b=zi(d),y=d.origin??o,x=c.x<m.x?Math.round(Math.abs(m.x-c.x)):0,S=c.y<m.y?Math.round(Math.abs(m.y-c.y)):0,C=Math.max(b.width,Math.round(c.width)),T=Math.max(b.height,Math.round(c.height)),B=(C-b.width)*y[0],z=(T-b.height)*y[1];(x>0||S>0||B||z)&&(l.push({id:p,type:"position",position:{x:d.position.x-x+B,y:d.position.y-S+z}}),a.get(p)?.forEach(V=>{e.some(A=>A.id===V.id)||l.push({id:V.id,type:"position",position:{x:V.position.x+x,y:V.position.y+S}})})),(b.width<c.width||b.height<c.height||x||S)&&l.push({id:p,type:"dimensions",setAttributes:!0,dimensions:{width:C+(x?y[0]*x-B:0),height:T+(S?y[1]*S-z:0)}})}),l}function $O(e,r,a,o,l,u){const c=o?.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const p=[],m=window.getComputedStyle(c),{m22:b}=new window.DOMMatrixReadOnly(m.transform),y=[];for(const x of e.values()){const S=r.get(x.id);if(!S)continue;if(S.hidden){r.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),d=!0;continue}const C=Tg(x.nodeElement),T=S.measured.width!==C.width||S.measured.height!==C.height;if(!!(C.width&&C.height&&(T||!S.internals.handleBounds||x.force))){const z=x.nodeElement.getBoundingClientRect(),V=xl(S.extent)?S.extent:u;let{positionAbsolute:A}=S.internals;S.parentId&&S.extent==="parent"?A=Yw(A,C,r.get(S.parentId)):V&&(A=ss(A,V,C));const N={...S,measured:C,internals:{...S.internals,positionAbsolute:A,handleBounds:{source:zb("source",x.nodeElement,z,b,S.id),target:zb("target",x.nodeElement,z,b,S.id)}}};r.set(S.id,N),S.parentId&&Dg(N,r,a,{nodeOrigin:l}),d=!0,T&&(p.push({id:S.id,type:"dimensions",dimensions:C}),S.expandParent&&S.parentId&&y.push({id:S.id,parentId:S.parentId,rect:bl(N,l)}))}}if(y.length>0){const x=Ag(y,r,a,l);p.push(...x)}return{changes:p,updatedInternals:d}}async function VO({delta:e,panZoom:r,transform:a,translateExtent:o,width:l,height:u}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:a[0]+e.x,y:a[1]+e.y,zoom:a[2]},[[0,0],[l,u]],o),d=!!c&&(c.x!==a[0]||c.y!==a[1]||c.k!==a[2]);return Promise.resolve(d)}function $b(e,r,a,o,l,u){let c=l;const d=o.get(c)||new Map;o.set(c,d.set(a,r)),c=`${l}-${e}`;const p=o.get(c)||new Map;if(o.set(c,p.set(a,r)),u){c=`${l}-${e}-${u}`;const m=o.get(c)||new Map;o.set(c,m.set(a,r))}}function tS(e,r,a){e.clear(),r.clear();for(const o of a){const{source:l,target:u,sourceHandle:c=null,targetHandle:d=null}=o,p={edgeId:o.id,source:l,target:u,sourceHandle:c,targetHandle:d},m=`${l}-${c}--${u}-${d}`,b=`${u}-${d}--${l}-${c}`;$b("source",p,b,e,l,c),$b("target",p,m,e,u,d),r.set(o.id,o)}}function nS(e,r){if(!e.parentId)return!1;const a=r.get(e.parentId);return a?a.selected?!0:nS(a,r):!1}function Vb(e,r,a){let o=e;do{if(o?.matches?.(r))return!0;if(o===a)return!1;o=o?.parentElement}while(o);return!1}function YO(e,r,a,o){const l=new Map;for(const[u,c]of e)if((c.selected||c.id===o)&&(!c.parentId||!nS(c,e))&&(c.draggable||r&&typeof c.draggable>"u")){const d=e.get(u);d&&l.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:a.x-d.internals.positionAbsolute.x,y:a.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return l}function tm({nodeId:e,dragItems:r,nodeLookup:a,dragging:o=!0}){const l=[];for(const[c,d]of r){const p=a.get(c)?.internals.userNode;p&&l.push({...p,position:d.position,dragging:o})}if(!e)return[l[0],l];const u=a.get(e)?.internals.userNode;return[u?{...u,position:r.get(e)?.position||u.position,dragging:o}:l[0],l]}function IO({dragItems:e,snapGrid:r,x:a,y:o}){const l=e.values().next().value;if(!l)return null;const u={x:a-l.distance.x,y:o-l.distance.y},c=cc(u,r);return{x:c.x-u.x,y:c.y-u.y}}function XO({onNodeMouseDown:e,getStoreItems:r,onDragStart:a,onDrag:o,onDragStop:l}){let u={x:null,y:null},c=0,d=new Map,p=!1,m={x:0,y:0},b=null,y=!1,x=null,S=!1,C=!1,T=null;function B({noDragClassName:V,handleSelector:A,domNode:N,isSelectable:K,nodeId:L,nodeClickDistance:$=0}){x=Vr(N);function P({x:G,y:re}){const{nodeLookup:k,nodeExtent:Y,snapGrid:D,snapToGrid:M,nodeOrigin:I,onNodeDrag:Q,onSelectionDrag:ne,onError:q,updateNodePositions:Z}=r();u={x:G,y:re};let ae=!1;const de=d.size>1,ye=de&&Y?$m(uc(d)):null,Ce=de&&M?IO({dragItems:d,snapGrid:D,x:G,y:re}):null;for(const[Ae,Te]of d){if(!k.has(Ae))continue;let we={x:G-Te.distance.x,y:re-Te.distance.y};M&&(we=Ce?{x:Math.round(we.x+Ce.x),y:Math.round(we.y+Ce.y)}:cc(we,D));let Ge=null;if(de&&Y&&!Te.extent&&ye){const{positionAbsolute:Qe}=Te.internals,Xe=Qe.x-ye.x+Y[0][0],st=Qe.x+Te.measured.width-ye.x2+Y[1][0],vt=Qe.y-ye.y+Y[0][1],rt=Qe.y+Te.measured.height-ye.y2+Y[1][1];Ge=[[Xe,vt],[st,rt]]}const{position:Fe,positionAbsolute:ke}=Vw({nodeId:Ae,nextPosition:we,nodeLookup:k,nodeExtent:Ge||Y,nodeOrigin:I,onError:q});ae=ae||Te.position.x!==Fe.x||Te.position.y!==Fe.y,Te.position=Fe,Te.internals.positionAbsolute=ke}if(C=C||ae,!!ae&&(Z(d,!0),T&&(o||Q||!L&&ne))){const[Ae,Te]=tm({nodeId:L,dragItems:d,nodeLookup:k});o?.(T,d,Ae,Te),Q?.(T,Ae,Te),L||ne?.(T,Te)}}async function W(){if(!b)return;const{transform:G,panBy:re,autoPanSpeed:k,autoPanOnNodeDrag:Y}=r();if(!Y){p=!1,cancelAnimationFrame(c);return}const[D,M]=Iw(m,b,k);(D!==0||M!==0)&&(u.x=(u.x??0)-D/G[2],u.y=(u.y??0)-M/G[2],await re({x:D,y:M})&&P(u)),c=requestAnimationFrame(W)}function fe(G){const{nodeLookup:re,multiSelectionActive:k,nodesDraggable:Y,transform:D,snapGrid:M,snapToGrid:I,selectNodesOnDrag:Q,onNodeDragStart:ne,onSelectionDragStart:q,unselectNodesAndEdges:Z}=r();y=!0,(!Q||!K)&&!k&&L&&(re.get(L)?.selected||Z()),K&&Q&&L&&e?.(L);const ae=Bu(G.sourceEvent,{transform:D,snapGrid:M,snapToGrid:I,containerBounds:b});if(u=ae,d=YO(re,Y,ae,L),d.size>0&&(a||ne||!L&&q)){const[de,ye]=tm({nodeId:L,dragItems:d,nodeLookup:re});a?.(G.sourceEvent,d,de,ye),ne?.(G.sourceEvent,de,ye),L||q?.(G.sourceEvent,ye)}}const J=xw().clickDistance($).on("start",G=>{const{domNode:re,nodeDragThreshold:k,transform:Y,snapGrid:D,snapToGrid:M}=r();b=re?.getBoundingClientRect()||null,S=!1,C=!1,T=G.sourceEvent,k===0&&fe(G),u=Bu(G.sourceEvent,{transform:Y,snapGrid:D,snapToGrid:M,containerBounds:b}),m=Oa(G.sourceEvent,b)}).on("drag",G=>{const{autoPanOnNodeDrag:re,transform:k,snapGrid:Y,snapToGrid:D,nodeDragThreshold:M,nodeLookup:I}=r(),Q=Bu(G.sourceEvent,{transform:k,snapGrid:Y,snapToGrid:D,containerBounds:b});if(T=G.sourceEvent,(G.sourceEvent.type==="touchmove"&&G.sourceEvent.touches.length>1||L&&!I.has(L))&&(S=!0),!S){if(!p&&re&&y&&(p=!0,W()),!y){const ne=Oa(G.sourceEvent,b),q=ne.x-m.x,Z=ne.y-m.y;Math.sqrt(q*q+Z*Z)>M&&fe(G)}(u.x!==Q.xSnapped||u.y!==Q.ySnapped)&&d&&y&&(m=Oa(G.sourceEvent,b),P(Q))}}).on("end",G=>{if(!(!y||S)&&(p=!1,y=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:re,updateNodePositions:k,onNodeDragStop:Y,onSelectionDragStop:D}=r();if(C&&(k(d,!1),C=!1),l||Y||!L&&D){const[M,I]=tm({nodeId:L,dragItems:d,nodeLookup:re,dragging:!1});l?.(G.sourceEvent,d,M,I),Y?.(G.sourceEvent,M,I),L||D?.(G.sourceEvent,I)}}}).filter(G=>{const re=G.target;return!G.button&&(!V||!Vb(re,`.${V}`,N))&&(!A||Vb(re,A,N))});x.call(J)}function z(){x?.on(".drag",null)}return{update:B,destroy:z}}function KO(e,r,a){const o=[],l={x:e.x-a,y:e.y-a,width:a*2,height:a*2};for(const u of r.values())Gu(l,bl(u))>0&&o.push(u);return o}const GO=250;function PO(e,r,a,o){let l=[],u=1/0;const c=KO(e,a,r+GO);for(const d of c){const p=[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]];for(const m of p){if(o.nodeId===m.nodeId&&o.type===m.type&&o.id===m.id)continue;const{x:b,y}=Zu(d,m,m.position,!0),x=Math.sqrt(Math.pow(b-e.x,2)+Math.pow(y-e.y,2));x>r||(x<u?(l=[{...m,x:b,y}],u=x):x===u&&l.push({...m,x:b,y}))}}if(!l.length)return null;if(l.length>1){const d=o.type==="source"?"target":"source";return l.find(p=>p.type===d)??l[0]}return l[0]}function rS(e,r,a,o,l,u=!1){const c=o.get(e);if(!c)return null;const d=l==="strict"?c.internals.handleBounds?.[r]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],p=(a?d?.find(m=>m.id===a):d?.[0])??null;return p&&u?{...p,...Zu(c,p,p.position,!0)}:p}function aS(e,r){return e||(r?.classList.contains("target")?"target":r?.classList.contains("source")?"source":null)}function ZO(e,r){let a=null;return r?a=!0:e&&!r&&(a=!1),a}const iS=()=>!0;function QO(e,{connectionMode:r,connectionRadius:a,handleId:o,nodeId:l,edgeUpdaterType:u,isTarget:c,domNode:d,nodeLookup:p,lib:m,autoPanOnConnect:b,flowId:y,panBy:x,cancelConnection:S,onConnectStart:C,onConnect:T,onConnectEnd:B,isValidConnection:z=iS,onReconnectEnd:V,updateConnection:A,getTransform:N,getFromHandle:K,autoPanSpeed:L,dragThreshold:$=1,handleDomNode:P}){const W=Pw(e.target);let fe=0,J;const{x:G,y:re}=Oa(e),k=aS(u,P),Y=d?.getBoundingClientRect();let D=!1;if(!Y||!k)return;const M=rS(l,k,o,p,r);if(!M)return;let I=Oa(e,Y),Q=!1,ne=null,q=!1,Z=null;function ae(){if(!b||!Y)return;const[Fe,ke]=Iw(I,Y,L);x({x:Fe,y:ke}),fe=requestAnimationFrame(ae)}const de={...M,nodeId:l,type:k,position:M.position},ye=p.get(l);let Ae={inProgress:!0,isValid:null,from:Zu(ye,de,Je.Left,!0),fromHandle:de,fromPosition:de.position,fromNode:ye,to:I,toHandle:null,toPosition:Db[de.position],toNode:null};function Te(){D=!0,A(Ae),C?.(e,{nodeId:l,handleId:o,handleType:k})}$===0&&Te();function we(Fe){if(!D){const{x:st,y:vt}=Oa(Fe),rt=st-G,St=vt-re;if(!(rt*rt+St*St>$*$))return;Te()}if(!K()||!de){Ge(Fe);return}const ke=N();I=Oa(Fe,Y),J=PO(fc(I,ke,!1,[1,1]),a,p,de),Q||(ae(),Q=!0);const Qe=oS(Fe,{handle:J,connectionMode:r,fromNodeId:l,fromHandleId:o,fromType:c?"target":"source",isValidConnection:z,doc:W,lib:m,flowId:y,nodeLookup:p});Z=Qe.handleDomNode,ne=Qe.connection,q=ZO(!!J,Qe.isValid);const Xe={...Ae,isValid:q,to:Qe.toHandle&&q?gd({x:Qe.toHandle.x,y:Qe.toHandle.y},ke):I,toHandle:Qe.toHandle,toPosition:q&&Qe.toHandle?Qe.toHandle.position:Db[de.position],toNode:Qe.toHandle?p.get(Qe.toHandle.nodeId):null};q&&J&&Ae.toHandle&&Xe.toHandle&&Ae.toHandle.type===Xe.toHandle.type&&Ae.toHandle.nodeId===Xe.toHandle.nodeId&&Ae.toHandle.id===Xe.toHandle.id&&Ae.to.x===Xe.to.x&&Ae.to.y===Xe.to.y||(A(Xe),Ae=Xe)}function Ge(Fe){if(!("touches"in Fe&&Fe.touches.length>0)){if(D){(J||Z)&&ne&&q&&T?.(ne);const{inProgress:ke,...Qe}=Ae,Xe={...Qe,toPosition:Ae.toHandle?Ae.toPosition:null};B?.(Fe,Xe),u&&V?.(Fe,Xe)}S(),cancelAnimationFrame(fe),Q=!1,q=!1,ne=null,Z=null,W.removeEventListener("mousemove",we),W.removeEventListener("mouseup",Ge),W.removeEventListener("touchmove",we),W.removeEventListener("touchend",Ge)}}W.addEventListener("mousemove",we),W.addEventListener("mouseup",Ge),W.addEventListener("touchmove",we),W.addEventListener("touchend",Ge)}function oS(e,{handle:r,connectionMode:a,fromNodeId:o,fromHandleId:l,fromType:u,doc:c,lib:d,flowId:p,isValidConnection:m=iS,nodeLookup:b}){const y=u==="target",x=r?c.querySelector(`.${d}-flow__handle[data-id="${p}-${r?.nodeId}-${r?.id}-${r?.type}"]`):null,{x:S,y:C}=Oa(e),T=c.elementFromPoint(S,C),B=T?.classList.contains(`${d}-flow__handle`)?T:x,z={handleDomNode:B,isValid:!1,connection:null,toHandle:null};if(B){const V=aS(void 0,B),A=B.getAttribute("data-nodeid"),N=B.getAttribute("data-handleid"),K=B.classList.contains("connectable"),L=B.classList.contains("connectableend");if(!A||!V)return z;const $={source:y?A:o,sourceHandle:y?N:l,target:y?o:A,targetHandle:y?l:N};z.connection=$;const W=K&&L&&(a===gl.Strict?y&&V==="source"||!y&&V==="target":A!==o||N!==l);z.isValid=W&&m($),z.toHandle=rS(A,V,N,b,a,!0)}return z}const Km={onPointerDown:QO,isValid:oS};function FO({domNode:e,panZoom:r,getTransform:a,getViewScale:o}){const l=Vr(e);function u({translateExtent:d,width:p,height:m,zoomStep:b=1,pannable:y=!0,zoomable:x=!0,inversePan:S=!1}){const C=A=>{if(A.sourceEvent.type!=="wheel"||!r)return;const N=a(),K=A.sourceEvent.ctrlKey&&Pu()?10:1,L=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*b,$=N[2]*Math.pow(2,L*K);r.scaleTo($)};let T=[0,0];const B=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(T=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},z=A=>{const N=a();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!r)return;const K=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],L=[K[0]-T[0],K[1]-T[1]];T=K;const $=o()*Math.max(N[2],Math.log(N[2]))*(S?-1:1),P={x:N[0]-L[0]*$,y:N[1]-L[1]*$},W=[[0,0],[p,m]];r.setViewportConstrained({x:P.x,y:P.y,zoom:N[2]},W,d)},V=Bw().on("start",B).on("zoom",y?z:null).on("zoom.wheel",x?C:null);l.call(V,{})}function c(){l.on("zoom",null)}return{update:u,destroy:c,pointer:Ca}}const WO=(e,r)=>e.x!==r.x||e.y!==r.y||e.zoom!==r.k,Vd=e=>({x:e.x,y:e.y,zoom:e.k}),nm=({x:e,y:r,zoom:a})=>Ld.translate(e,r).scale(a),ol=(e,r)=>e.target.closest(`.${r}`),sS=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),JO=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,rm=(e,r=0,a=JO,o=()=>{})=>{const l=typeof r=="number"&&r>0;return l||o(),l?e.transition().duration(r).ease(a).on("end",o):e},lS=e=>{const r=e.ctrlKey&&Pu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function eM({zoomPanValues:e,noWheelClassName:r,d3Selection:a,d3Zoom:o,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:p,onPanZoomEnd:m}){return b=>{if(ol(b,r))return b.ctrlKey&&b.preventDefault(),!1;b.preventDefault(),b.stopImmediatePropagation();const y=a.property("__zoom").k||1;if(b.ctrlKey&&c){const B=Ca(b),z=lS(b),V=y*Math.pow(2,z);o.scaleTo(a,V,B,b);return}const x=b.deltaMode===1?20:1;let S=l===ns.Vertical?0:b.deltaX*x,C=l===ns.Horizontal?0:b.deltaY*x;!Pu()&&b.shiftKey&&l!==ns.Vertical&&(S=b.deltaY*x,C=0),o.translateBy(a,-(S/y)*u,-(C/y)*u,{internal:!0});const T=Vd(a.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,d?.(b,T)),e.isPanScrolling&&(p?.(b,T),e.panScrollTimeout=setTimeout(()=>{m?.(b,T),e.isPanScrolling=!1},150))}}function tM({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:a}){return function(o,l){const u=o.type==="wheel",c=!r&&u&&!o.ctrlKey,d=ol(o,e);if(o.ctrlKey&&u&&d&&o.preventDefault(),c||d)return null;o.preventDefault(),a.call(this,o,l)}}function nM({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:a}){return o=>{if(o.sourceEvent?.internal)return;const l=Vd(o.transform);e.mouseButton=o.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,o.sourceEvent?.type==="mousedown"&&r(!0),a&&a?.(o.sourceEvent,l)}}function rM({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:a,onTransformChange:o,onPanZoom:l}){return u=>{e.usedRightMouseButton=!!(a&&sS(r,e.mouseButton??0)),u.sourceEvent?.sync||o([u.transform.x,u.transform.y,u.transform.k]),l&&!u.sourceEvent?.internal&&l?.(u.sourceEvent,Vd(u.transform))}}function aM({zoomPanValues:e,panOnDrag:r,panOnScroll:a,onDraggingChange:o,onPanZoomEnd:l,onPaneContextMenu:u}){return c=>{if(!c.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,u&&sS(r,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),e.usedRightMouseButton=!1,o(!1),l&&WO(e.prevViewport,c.transform))){const d=Vd(c.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(c.sourceEvent,d)},a?150:0)}}}function iM({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:a,panOnDrag:o,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:d,noPanClassName:p,lib:m,connectionInProgress:b}){return y=>{const x=e||r,S=a&&y.ctrlKey,C=y.type==="wheel";if(y.button===1&&y.type==="mousedown"&&(ol(y,`${m}-flow__node`)||ol(y,`${m}-flow__edge`)))return!0;if(!o&&!x&&!l&&!u&&!a||c||b&&!C||ol(y,d)&&C||ol(y,p)&&(!C||l&&C&&!e)||!a&&y.ctrlKey&&C)return!1;if(!a&&y.type==="touchstart"&&y.touches?.length>1)return y.preventDefault(),!1;if(!x&&!l&&!S&&C||!o&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(o)&&!o.includes(y.button)&&y.type==="mousedown")return!1;const T=Array.isArray(o)&&o.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||C)&&T}}function oM({domNode:e,minZoom:r,maxZoom:a,paneClickDistance:o,translateExtent:l,viewport:u,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:p,onDraggingChange:m}){const b={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},y=e.getBoundingClientRect(),x=Bw().clickDistance(!Ta(o)||o<0?0:o).scaleExtent([r,a]).translateExtent(l),S=Vr(e).call(x);A({x:u.x,y:u.y,zoom:yl(u.zoom,r,a)},[[0,0],[y.width,y.height]],l);const C=S.on("wheel.zoom"),T=S.on("dblclick.zoom");x.wheelDelta(lS);function B(G,re){return S?new Promise(k=>{x?.interpolate(re?.interpolate==="linear"?zu:Ff).transform(rm(S,re?.duration,re?.ease,()=>k(!0)),G)}):Promise.resolve(!1)}function z({noWheelClassName:G,noPanClassName:re,onPaneContextMenu:k,userSelectionActive:Y,panOnScroll:D,panOnDrag:M,panOnScrollMode:I,panOnScrollSpeed:Q,preventScrolling:ne,zoomOnPinch:q,zoomOnScroll:Z,zoomOnDoubleClick:ae,zoomActivationKeyPressed:de,lib:ye,onTransformChange:Ce,connectionInProgress:Ae}){Y&&!b.isZoomingOrPanning&&V();const we=D&&!de&&!Y?eM({zoomPanValues:b,noWheelClassName:G,d3Selection:S,d3Zoom:x,panOnScrollMode:I,panOnScrollSpeed:Q,zoomOnPinch:q,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:p}):tM({noWheelClassName:G,preventScrolling:ne,d3ZoomHandler:C});if(S.on("wheel.zoom",we,{passive:!1}),!Y){const Fe=nM({zoomPanValues:b,onDraggingChange:m,onPanZoomStart:d});x.on("start",Fe);const ke=rM({zoomPanValues:b,panOnDrag:M,onPaneContextMenu:!!k,onPanZoom:c,onTransformChange:Ce});x.on("zoom",ke);const Qe=aM({zoomPanValues:b,panOnDrag:M,panOnScroll:D,onPaneContextMenu:k,onPanZoomEnd:p,onDraggingChange:m});x.on("end",Qe)}const Ge=iM({zoomActivationKeyPressed:de,panOnDrag:M,zoomOnScroll:Z,panOnScroll:D,zoomOnDoubleClick:ae,zoomOnPinch:q,userSelectionActive:Y,noPanClassName:re,noWheelClassName:G,lib:ye,connectionInProgress:Ae});x.filter(Ge),ae?S.on("dblclick.zoom",T):S.on("dblclick.zoom",null)}function V(){x.on("zoom",null)}async function A(G,re,k){const Y=nm(G),D=x?.constrain()(Y,re,k);return D&&await B(D),new Promise(M=>M(D))}async function N(G,re){const k=nm(G);return await B(k,re),new Promise(Y=>Y(k))}function K(G){if(S){const re=nm(G),k=S.property("__zoom");(k.k!==G.zoom||k.x!==G.x||k.y!==G.y)&&x?.transform(S,re,null,{sync:!0})}}function L(){const G=S?zw(S.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function $(G,re){return S?new Promise(k=>{x?.interpolate(re?.interpolate==="linear"?zu:Ff).scaleTo(rm(S,re?.duration,re?.ease,()=>k(!0)),G)}):Promise.resolve(!1)}function P(G,re){return S?new Promise(k=>{x?.interpolate(re?.interpolate==="linear"?zu:Ff).scaleBy(rm(S,re?.duration,re?.ease,()=>k(!0)),G)}):Promise.resolve(!1)}function W(G){x?.scaleExtent(G)}function fe(G){x?.translateExtent(G)}function J(G){const re=!Ta(G)||G<0?0:G;x?.clickDistance(re)}return{update:z,destroy:V,setViewport:N,setViewportConstrained:A,getViewport:L,scaleTo:$,scaleBy:P,setScaleExtent:W,setTranslateExtent:fe,syncViewport:K,setClickDistance:J}}var wl;(function(e){e.Line="line",e.Handle="handle"})(wl||(wl={}));function sM({width:e,prevWidth:r,height:a,prevHeight:o,affectsX:l,affectsY:u}){const c=e-r,d=a-o,p=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&l&&(p[0]=p[0]*-1),d&&u&&(p[1]=p[1]*-1),p}function lM(e){const r=e.includes("right")||e.includes("left"),a=e.includes("bottom")||e.includes("top"),o=e.includes("left"),l=e.includes("top");return{isHorizontal:r,isVertical:a,affectsX:o,affectsY:l}}function go(e,r){return Math.max(0,r-e)}function vo(e,r){return Math.max(0,e-r)}function Lf(e,r,a){return Math.max(0,r-e,e-a)}function Yb(e,r){return e?!r:r}function uM(e,r,a,o,l,u,c,d){let{affectsX:p,affectsY:m}=r;const{isHorizontal:b,isVertical:y}=r,x=b&&y,{xSnapped:S,ySnapped:C}=a,{minWidth:T,maxWidth:B,minHeight:z,maxHeight:V}=o,{x:A,y:N,width:K,height:L,aspectRatio:$}=e;let P=Math.floor(b?S-e.pointerX:0),W=Math.floor(y?C-e.pointerY:0);const fe=K+(p?-P:P),J=L+(m?-W:W),G=-u[0]*K,re=-u[1]*L;let k=Lf(fe,T,B),Y=Lf(J,z,V);if(c){let I=0,Q=0;p&&P<0?I=go(A+P+G,c[0][0]):!p&&P>0&&(I=vo(A+fe+G,c[1][0])),m&&W<0?Q=go(N+W+re,c[0][1]):!m&&W>0&&(Q=vo(N+J+re,c[1][1])),k=Math.max(k,I),Y=Math.max(Y,Q)}if(d){let I=0,Q=0;p&&P>0?I=vo(A+P,d[0][0]):!p&&P<0&&(I=go(A+fe,d[1][0])),m&&W>0?Q=vo(N+W,d[0][1]):!m&&W<0&&(Q=go(N+J,d[1][1])),k=Math.max(k,I),Y=Math.max(Y,Q)}if(l){if(b){const I=Lf(fe/$,z,V)*$;if(k=Math.max(k,I),c){let Q=0;!p&&!m||p&&!m&&x?Q=vo(N+re+fe/$,c[1][1])*$:Q=go(N+re+(p?P:-P)/$,c[0][1])*$,k=Math.max(k,Q)}if(d){let Q=0;!p&&!m||p&&!m&&x?Q=go(N+fe/$,d[1][1])*$:Q=vo(N+(p?P:-P)/$,d[0][1])*$,k=Math.max(k,Q)}}if(y){const I=Lf(J*$,T,B)/$;if(Y=Math.max(Y,I),c){let Q=0;!p&&!m||m&&!p&&x?Q=vo(A+J*$+G,c[1][0])/$:Q=go(A+(m?W:-W)*$+G,c[0][0])/$,Y=Math.max(Y,Q)}if(d){let Q=0;!p&&!m||m&&!p&&x?Q=go(A+J*$,d[1][0])/$:Q=vo(A+(m?W:-W)*$,d[0][0])/$,Y=Math.max(Y,Q)}}}W=W+(W<0?Y:-Y),P=P+(P<0?k:-k),l&&(x?fe>J*$?W=(Yb(p,m)?-P:P)/$:P=(Yb(p,m)?-W:W)*$:b?(W=P/$,m=p):(P=W*$,p=m));const D=p?A+P:A,M=m?N+W:N;return{width:K+(p?-P:P),height:L+(m?-W:W),x:u[0]*P*(p?-1:1)+D,y:u[1]*W*(m?-1:1)+M}}const uS={width:0,height:0,x:0,y:0},cM={...uS,pointerX:0,pointerY:0,aspectRatio:1};function fM(e){return[[0,0],[e.measured.width,e.measured.height]]}function dM(e,r,a){const o=r.position.x+e.position.x,l=r.position.y+e.position.y,u=e.measured.width??0,c=e.measured.height??0,d=a[0]*u,p=a[1]*c;return[[o-d,l-p],[o+u-d,l+c-p]]}function hM({domNode:e,nodeId:r,getStoreItems:a,onChange:o,onEnd:l}){const u=Vr(e);function c({controlPosition:p,boundaries:m,keepAspectRatio:b,resizeDirection:y,onResizeStart:x,onResize:S,onResizeEnd:C,shouldResize:T}){let B={...uS},z={...cM};const V=lM(p);let A,N=null,K=[],L,$,P,W=!1;const fe=xw().on("start",J=>{const{nodeLookup:G,transform:re,snapGrid:k,snapToGrid:Y,nodeOrigin:D,paneDomNode:M}=a();if(A=G.get(r),!A)return;N=M?.getBoundingClientRect()??null;const{xSnapped:I,ySnapped:Q}=Bu(J.sourceEvent,{transform:re,snapGrid:k,snapToGrid:Y,containerBounds:N});B={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},z={...B,pointerX:I,pointerY:Q,aspectRatio:B.width/B.height},L=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(L=G.get(A.parentId),$=L&&A.extent==="parent"?fM(L):void 0),K=[],P=void 0;for(const[ne,q]of G)if(q.parentId===r&&(K.push({id:ne,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const Z=dM(q,A,q.origin??D);P?P=[[Math.min(Z[0][0],P[0][0]),Math.min(Z[0][1],P[0][1])],[Math.max(Z[1][0],P[1][0]),Math.max(Z[1][1],P[1][1])]]:P=Z}x?.(J,{...B})}).on("drag",J=>{const{transform:G,snapGrid:re,snapToGrid:k,nodeOrigin:Y}=a(),D=Bu(J.sourceEvent,{transform:G,snapGrid:re,snapToGrid:k,containerBounds:N}),M=[];if(!A)return;const{x:I,y:Q,width:ne,height:q}=B,Z={},ae=A.origin??Y,{width:de,height:ye,x:Ce,y:Ae}=uM(z,V,D,m,b,ae,$,P),Te=de!==ne,we=ye!==q,Ge=Ce!==I&&Te,Fe=Ae!==Q&&we;if(!Ge&&!Fe&&!Te&&!we)return;if((Ge||Fe||ae[0]===1||ae[1]===1)&&(Z.x=Ge?Ce:B.x,Z.y=Fe?Ae:B.y,B.x=Z.x,B.y=Z.y,K.length>0)){const st=Ce-I,vt=Ae-Q;for(const rt of K)rt.position={x:rt.position.x-st+ae[0]*(de-ne),y:rt.position.y-vt+ae[1]*(ye-q)},M.push(rt)}if((Te||we)&&(Z.width=Te&&(!y||y==="horizontal")?de:B.width,Z.height=we&&(!y||y==="vertical")?ye:B.height,B.width=Z.width,B.height=Z.height),L&&A.expandParent){const st=ae[0]*(Z.width??0);Z.x&&Z.x<st&&(B.x=st,z.x=z.x-(Z.x-st));const vt=ae[1]*(Z.height??0);Z.y&&Z.y<vt&&(B.y=vt,z.y=z.y-(Z.y-vt))}const ke=sM({width:B.width,prevWidth:ne,height:B.height,prevHeight:q,affectsX:V.affectsX,affectsY:V.affectsY}),Qe={...B,direction:ke};T?.(J,Qe)!==!1&&(W=!0,S?.(J,Qe),o(Z,M))}).on("end",J=>{W&&(C?.(J,{...B}),l?.({...B}),W=!1)});u.call(fe)}function d(){u.on(".drag",null)}return{update:c,destroy:d}}var am={exports:{}},im={},om={exports:{}},sm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function pM(){if(Ib)return sm;Ib=1;var e=fs();function r(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var a=typeof Object.is=="function"?Object.is:r,o=e.useState,l=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function d(y,x){var S=x(),C=o({inst:{value:S,getSnapshot:x}}),T=C[0].inst,B=C[1];return u(function(){T.value=S,T.getSnapshot=x,p(T)&&B({inst:T})},[y,S,x]),l(function(){return p(T)&&B({inst:T}),y(function(){p(T)&&B({inst:T})})},[y]),c(S),S}function p(y){var x=y.getSnapshot;y=y.value;try{var S=x();return!a(y,S)}catch{return!0}}function m(y,x){return x()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return sm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:b,sm}var Xb;function mM(){return Xb||(Xb=1,om.exports=pM()),om.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function gM(){if(Kb)return im;Kb=1;var e=fs(),r=mM();function a(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var o=typeof Object.is=="function"?Object.is:a,l=r.useSyncExternalStore,u=e.useRef,c=e.useEffect,d=e.useMemo,p=e.useDebugValue;return im.useSyncExternalStoreWithSelector=function(m,b,y,x,S){var C=u(null);if(C.current===null){var T={hasValue:!1,value:null};C.current=T}else T=C.current;C=d(function(){function z(L){if(!V){if(V=!0,A=L,L=x(L),S!==void 0&&T.hasValue){var $=T.value;if(S($,L))return N=$}return N=L}if($=N,o(A,L))return $;var P=x(L);return S!==void 0&&S($,P)?(A=L,$):(A=L,N=P)}var V=!1,A,N,K=y===void 0?null:y;return[function(){return z(b())},K===null?void 0:function(){return z(K())}]},[b,y,x,S]);var B=l(m,C[0],C[1]);return c(function(){T.hasValue=!0,T.value=B},[B]),p(B),B},im}var Gb;function vM(){return Gb||(Gb=1,am.exports=gM()),am.exports}var yM=vM();const bM=ic(yM),xM={},Pb=e=>{let r;const a=new Set,o=(b,y)=>{const x=typeof b=="function"?b(r):b;if(!Object.is(x,r)){const S=r;r=y??(typeof x!="object"||x===null)?x:Object.assign({},r,x),a.forEach(C=>C(r,S))}},l=()=>r,p={setState:o,getState:l,getInitialState:()=>m,subscribe:b=>(a.add(b),()=>a.delete(b)),destroy:()=>{(xM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},m=r=e(o,l,p);return p},wM=e=>e?Pb(e):Pb,{useDebugValue:SM}=He,{useSyncExternalStoreWithSelector:EM}=bM,_M=e=>e;function cS(e,r=_M,a){const o=EM(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,a);return SM(o),o}const Zb=(e,r)=>{const a=wM(e),o=(l,u=r)=>cS(a,l,u);return Object.assign(o,a),o},CM=(e,r)=>e?Zb(e,r):Zb;function wn(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[o,l]of e)if(!Object.is(l,r.get(o)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}const a=Object.keys(e);if(a.length!==Object.keys(r).length)return!1;for(const o of a)if(!Object.prototype.hasOwnProperty.call(r,o)||!Object.is(e[o],r[o]))return!1;return!0}var lm={exports:{}},hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function NM(){if(Qb)return hr;Qb=1;var e=fs();function r(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:b}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,hr.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return u(p,m,null,b)},hr.flushSync=function(p){var m=c.T,b=o.p;try{if(c.T=null,o.p=2,p)return p()}finally{c.T=m,o.p=b,o.d.f()}},hr.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},hr.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},hr.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,y=d(b,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:S}):b==="script"&&o.d.X(p,{crossOrigin:y,integrity:x,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hr.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=d(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},hr.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,y=d(b,m.crossOrigin);o.d.L(p,b,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hr.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=d(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},hr.requestFormReset=function(p){o.d.r(p)},hr.unstable_batchedUpdates=function(p,m){return p(m)},hr.useFormState=function(p,m,b){return c.H.useFormState(p,m,b)},hr.useFormStatus=function(){return c.H.useHostTransitionStatus()},hr.version="19.2.0",hr}var Fb;function Rg(){if(Fb)return lm.exports;Fb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),lm.exports=NM(),lm.exports}var ua=Rg();const TM=ic(ua),Yd=R.createContext(null),OM=Yd.Provider,fS=Pa.error001();function Ut(e,r){const a=R.useContext(Yd);if(a===null)throw new Error(fS);return cS(a,e,r)}function mn(){const e=R.useContext(Yd);if(e===null)throw new Error(fS);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Wb={display:"none"},MM={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},dS="react-flow__node-desc",hS="react-flow__edge-desc",DM="react-flow__aria-live",AM=e=>e.ariaLiveMessage,RM=e=>e.ariaLabelConfig;function jM({rfId:e}){const r=Ut(AM);return j.jsx("div",{id:`${DM}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:MM,children:r})}function zM({rfId:e,disableKeyboardA11y:r}){const a=Ut(RM);return j.jsxs(j.Fragment,{children:[j.jsx("div",{id:`${dS}-${e}`,style:Wb,children:r?a["node.a11yDescription.default"]:a["node.a11yDescription.keyboardDisabled"]}),j.jsx("div",{id:`${hS}-${e}`,style:Wb,children:a["edge.a11yDescription.default"]}),!r&&j.jsx(jM,{rfId:e})]})}const Id=R.forwardRef(({position:e="top-left",children:r,className:a,style:o,...l},u)=>{const c=`${e}`.split("-");return j.jsx("div",{className:Vn(["react-flow__panel",a,...c]),style:o,ref:u,...l,children:r})});Id.displayName="Panel";function BM({proOptions:e,position:r="bottom-right"}){return e?.hideAttribution?null:j.jsx(Id,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:j.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const HM=e=>{const r=[],a=[];for(const[,o]of e.nodeLookup)o.selected&&r.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&a.push(o);return{selectedNodes:r,selectedEdges:a}},Uf=e=>e.id;function kM(e,r){return wn(e.selectedNodes.map(Uf),r.selectedNodes.map(Uf))&&wn(e.selectedEdges.map(Uf),r.selectedEdges.map(Uf))}function LM({onSelectionChange:e}){const r=mn(),{selectedNodes:a,selectedEdges:o}=Ut(HM,kM);return R.useEffect(()=>{const l={nodes:a,edges:o};e?.(l),r.getState().onSelectionChangeHandlers.forEach(u=>u(l))},[a,o,e]),null}const UM=e=>!!e.onSelectionChangeHandlers;function qM({onSelectionChange:e}){const r=Ut(UM);return e||r?j.jsx(LM,{onSelectionChange:e}):null}const pS=[0,0],$M={x:0,y:0,zoom:1},VM=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],Jb=[...VM,"rfId"],YM=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),ex={translateExtent:Ku,nodeOrigin:pS,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function IM(e){const{setNodes:r,setEdges:a,setMinZoom:o,setMaxZoom:l,setTranslateExtent:u,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:p,setPaneClickDistance:m}=Ut(YM,wn),b=mn();R.useEffect(()=>(p(e.defaultNodes,e.defaultEdges),()=>{y.current=ex,d()}),[]);const y=R.useRef(ex);return R.useEffect(()=>{for(const x of Jb){const S=e[x],C=y.current[x];S!==C&&(typeof e[x]>"u"||(x==="nodes"?r(S):x==="edges"?a(S):x==="minZoom"?o(S):x==="maxZoom"?l(S):x==="translateExtent"?u(S):x==="nodeExtent"?c(S):x==="paneClickDistance"?m(S):x==="ariaLabelConfig"?b.setState({ariaLabelConfig:CO(S)}):x==="fitView"?b.setState({fitViewQueued:S}):x==="fitViewOptions"?b.setState({fitViewOptions:S}):b.setState({[x]:S})))}y.current=e},Jb.map(x=>e[x])),null}function tx(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function XM(e){const[r,a]=R.useState(e==="system"?null:e);return R.useEffect(()=>{if(e!=="system"){a(e);return}const o=tx(),l=()=>a(o?.matches?"dark":"light");return l(),o?.addEventListener("change",l),()=>{o?.removeEventListener("change",l)}},[e]),r!==null?r:tx()?.matches?"dark":"light"}const nx=typeof document<"u"?document:null;function Qu(e=null,r={target:nx,actInsideInputWithModifier:!0}){const[a,o]=R.useState(!1),l=R.useRef(!1),u=R.useRef(new Set([])),[c,d]=R.useMemo(()=>{if(e!==null){const m=(Array.isArray(e)?e:[e]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),b=m.reduce((y,x)=>y.concat(...x),[]);return[m,b]}return[[],[]]},[e]);return R.useEffect(()=>{const p=r?.target??nx,m=r?.actInsideInputWithModifier??!0;if(e!==null){const b=S=>{if(l.current=S.ctrlKey||S.metaKey||S.shiftKey||S.altKey,(!l.current||l.current&&!m)&&Zw(S))return!1;const T=ax(S.code,d);if(u.current.add(S[T]),rx(c,u.current,!1)){const B=S.composedPath?.()?.[0]||S.target,z=B?.nodeName==="BUTTON"||B?.nodeName==="A";r.preventDefault!==!1&&(l.current||!z)&&S.preventDefault(),o(!0)}},y=S=>{const C=ax(S.code,d);rx(c,u.current,!0)?(o(!1),u.current.clear()):u.current.delete(S[C]),S.key==="Meta"&&u.current.clear(),l.current=!1},x=()=>{u.current.clear(),o(!1)};return p?.addEventListener("keydown",b),p?.addEventListener("keyup",y),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{p?.removeEventListener("keydown",b),p?.removeEventListener("keyup",y),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,o]),a}function rx(e,r,a){return e.filter(o=>a||o.length===r.size).some(o=>o.every(l=>r.has(l)))}function ax(e,r){return r.includes(e)?"code":"key"}const KM=()=>{const e=mn();return R.useMemo(()=>({zoomIn:r=>{const{panZoom:a}=e.getState();return a?a.scaleBy(1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:a}=e.getState();return a?a.scaleBy(1/1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomTo:(r,a)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(r,{duration:a?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,a)=>{const{transform:[o,l,u],panZoom:c}=e.getState();return c?(await c.setViewport({x:r.x??o,y:r.y??l,zoom:r.zoom??u},a),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,a,o]=e.getState().transform;return{x:r,y:a,zoom:o}},setCenter:async(r,a,o)=>e.getState().setCenter(r,a,o),fitBounds:async(r,a)=>{const{width:o,height:l,minZoom:u,maxZoom:c,panZoom:d}=e.getState(),p=Ng(r,o,l,u,c,a?.padding??.1);return d?(await d.setViewport(p,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,a={})=>{const{transform:o,snapGrid:l,snapToGrid:u,domNode:c}=e.getState();if(!c)return r;const{x:d,y:p}=c.getBoundingClientRect(),m={x:r.x-d,y:r.y-p},b=a.snapGrid??l,y=a.snapToGrid??u;return fc(m,o,y,b)},flowToScreenPosition:r=>{const{transform:a,domNode:o}=e.getState();if(!o)return r;const{x:l,y:u}=o.getBoundingClientRect(),c=gd(r,a);return{x:c.x+l,y:c.y+u}}}),[])};function mS(e,r){const a=[],o=new Map,l=[];for(const u of e)if(u.type==="add"){l.push(u);continue}else if(u.type==="remove"||u.type==="replace")o.set(u.id,[u]);else{const c=o.get(u.id);c?c.push(u):o.set(u.id,[u])}for(const u of r){const c=o.get(u.id);if(!c){a.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){a.push({...c[0].item});continue}const d={...u};for(const p of c)GM(p,d);a.push(d)}return l.length&&l.forEach(u=>{u.index!==void 0?a.splice(u.index,0,{...u.item}):a.push({...u.item})}),a}function GM(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured??={},r.measured.width=e.dimensions.width,r.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function gS(e,r){return mS(e,r)}function vS(e,r){return mS(e,r)}function Wo(e,r){return{id:e,type:"select",selected:r}}function sl(e,r=new Set,a=!1){const o=[];for(const[l,u]of e){const c=r.has(l);!(u.selected===void 0&&!c)&&u.selected!==c&&(a&&(u.selected=c),o.push(Wo(u.id,c)))}return o}function ix({items:e=[],lookup:r}){const a=[],o=new Map(e.map(l=>[l.id,l]));for(const[l,u]of e.entries()){const c=r.get(u.id),d=c?.internals?.userNode??c;d!==void 0&&d!==u&&a.push({id:u.id,item:u,type:"replace"}),d===void 0&&a.push({item:u,type:"add",index:l})}for(const[l]of r)o.get(l)===void 0&&a.push({id:l,type:"remove"});return a}function ox(e){return{id:e.id,type:"remove"}}const sx=e=>gO(e),PM=e=>qw(e);function yS(e){return R.forwardRef(e)}const ZM=typeof window<"u"?R.useLayoutEffect:R.useEffect;function lx(e){const[r,a]=R.useState(BigInt(0)),[o]=R.useState(()=>QM(()=>a(l=>l+BigInt(1))));return ZM(()=>{const l=o.get();l.length&&(e(l),o.reset())},[r]),o}function QM(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:a=>{r.push(a),e()}}}const bS=R.createContext(null);function FM({children:e}){const r=mn(),a=R.useCallback(d=>{const{nodes:p=[],setNodes:m,hasDefaultNodes:b,onNodesChange:y,nodeLookup:x,fitViewQueued:S}=r.getState();let C=p;for(const B of d)C=typeof B=="function"?B(C):B;const T=ix({items:C,lookup:x});b&&m(C),T.length>0?y?.(T):S&&window.requestAnimationFrame(()=>{const{fitViewQueued:B,nodes:z,setNodes:V}=r.getState();B&&V(z)})},[]),o=lx(a),l=R.useCallback(d=>{const{edges:p=[],setEdges:m,hasDefaultEdges:b,onEdgesChange:y,edgeLookup:x}=r.getState();let S=p;for(const C of d)S=typeof C=="function"?C(S):C;b?m(S):y&&y(ix({items:S,lookup:x}))},[]),u=lx(l),c=R.useMemo(()=>({nodeQueue:o,edgeQueue:u}),[]);return j.jsx(bS.Provider,{value:c,children:e})}function WM(){const e=R.useContext(bS);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const JM=e=>!!e.panZoom;function No(){const e=KM(),r=mn(),a=WM(),o=Ut(JM),l=R.useMemo(()=>{const u=y=>r.getState().nodeLookup.get(y),c=y=>{a.nodeQueue.push(y)},d=y=>{a.edgeQueue.push(y)},p=y=>{const{nodeLookup:x,nodeOrigin:S}=r.getState(),C=sx(y)?y:x.get(y.id),T=C.parentId?Gw(C.position,C.measured,C.parentId,x,S):C.position,B={...C,position:T,width:C.measured?.width??C.width,height:C.measured?.height??C.height};return bl(B)},m=(y,x,S={replace:!1})=>{c(C=>C.map(T=>{if(T.id===y){const B=typeof x=="function"?x(T):x;return S.replace&&sx(B)?B:{...T,...B}}return T}))},b=(y,x,S={replace:!1})=>{d(C=>C.map(T=>{if(T.id===y){const B=typeof x=="function"?x(T):x;return S.replace&&PM(B)?B:{...T,...B}}return T}))};return{getNodes:()=>r.getState().nodes.map(y=>({...y})),getNode:y=>u(y)?.internals.userNode,getInternalNode:u,getEdges:()=>{const{edges:y=[]}=r.getState();return y.map(x=>({...x}))},getEdge:y=>r.getState().edgeLookup.get(y),setNodes:c,setEdges:d,addNodes:y=>{const x=Array.isArray(y)?y:[y];a.nodeQueue.push(S=>[...S,...x])},addEdges:y=>{const x=Array.isArray(y)?y:[y];a.edgeQueue.push(S=>[...S,...x])},toObject:()=>{const{nodes:y=[],edges:x=[],transform:S}=r.getState(),[C,T,B]=S;return{nodes:y.map(z=>({...z})),edges:x.map(z=>({...z})),viewport:{x:C,y:T,zoom:B}}},deleteElements:async({nodes:y=[],edges:x=[]})=>{const{nodes:S,edges:C,onNodesDelete:T,onEdgesDelete:B,triggerNodeChanges:z,triggerEdgeChanges:V,onDelete:A,onBeforeDelete:N}=r.getState(),{nodes:K,edges:L}=await xO({nodesToRemove:y,edgesToRemove:x,nodes:S,edges:C,onBeforeDelete:N}),$=L.length>0,P=K.length>0;if($){const W=L.map(ox);B?.(L),V(W)}if(P){const W=K.map(ox);T?.(K),z(W)}return(P||$)&&A?.({nodes:K,edges:L}),{deletedNodes:K,deletedEdges:L}},getIntersectingNodes:(y,x=!0,S)=>{const C=Rb(y),T=C?y:p(y),B=S!==void 0;return T?(S||r.getState().nodes).filter(z=>{const V=r.getState().nodeLookup.get(z.id);if(V&&!C&&(z.id===y.id||!V.internals.positionAbsolute))return!1;const A=bl(B?z:V),N=Gu(A,T);return x&&N>0||N>=A.width*A.height||N>=T.width*T.height}):[]},isNodeIntersecting:(y,x,S=!0)=>{const T=Rb(y)?y:p(y);if(!T)return!1;const B=Gu(T,x);return S&&B>0||B>=x.width*x.height||B>=T.width*T.height},updateNode:m,updateNodeData:(y,x,S={replace:!1})=>{m(y,C=>{const T=typeof x=="function"?x(C):x;return S.replace?{...C,data:T}:{...C,data:{...C.data,...T}}},S)},updateEdge:b,updateEdgeData:(y,x,S={replace:!1})=>{b(y,C=>{const T=typeof x=="function"?x(C):x;return S.replace?{...C,data:T}:{...C,data:{...C.data,...T}}},S)},getNodesBounds:y=>{const{nodeLookup:x,nodeOrigin:S}=r.getState();return vO(y,{nodeLookup:x,nodeOrigin:S})},getHandleConnections:({type:y,id:x,nodeId:S})=>Array.from(r.getState().connectionLookup.get(`${S}-${y}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:x,nodeId:S})=>Array.from(r.getState().connectionLookup.get(`${S}${y?x?`-${y}-${x}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const x=r.getState().fitViewResolver??_O();return r.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:x}),a.nodeQueue.push(S=>[...S]),x.promise}}},[]);return R.useMemo(()=>({...l,...e,viewportInitialized:o}),[o])}const ux=e=>e.selected,eD=typeof window<"u"?window:void 0;function tD({deleteKeyCode:e,multiSelectionKeyCode:r}){const a=mn(),{deleteElements:o}=No(),l=Qu(e,{actInsideInputWithModifier:!1}),u=Qu(r,{target:eD});R.useEffect(()=>{if(l){const{edges:c,nodes:d}=a.getState();o({nodes:d.filter(ux),edges:c.filter(ux)}),a.setState({nodesSelectionActive:!1})}},[l]),R.useEffect(()=>{a.setState({multiSelectionActive:u})},[u])}function nD(e){const r=mn();R.useEffect(()=>{const a=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const o=Tg(e.current);(o.height===0||o.width===0)&&r.getState().onError?.("004",Pa.error004()),r.setState({width:o.width||500,height:o.height||500})};if(e.current){a(),window.addEventListener("resize",a);const o=new ResizeObserver(()=>a());return o.observe(e.current),()=>{window.removeEventListener("resize",a),o&&e.current&&o.unobserve(e.current)}}},[])}const Xd={position:"absolute",width:"100%",height:"100%",top:0,left:0},rD=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function aD({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=ns.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:p,translateExtent:m,minZoom:b,maxZoom:y,zoomActivationKeyCode:x,preventScrolling:S=!0,children:C,noWheelClassName:T,noPanClassName:B,onViewportChange:z,isControlledViewport:V,paneClickDistance:A}){const N=mn(),K=R.useRef(null),{userSelectionActive:L,lib:$,connectionInProgress:P}=Ut(rD,wn),W=Qu(x),fe=R.useRef();nD(K);const J=R.useCallback(G=>{z?.({x:G[0],y:G[1],zoom:G[2]}),V||N.setState({transform:G})},[z,V]);return R.useEffect(()=>{if(K.current){fe.current=oM({domNode:K.current,minZoom:b,maxZoom:y,translateExtent:m,viewport:p,paneClickDistance:A,onDraggingChange:Y=>N.setState({paneDragging:Y}),onPanZoomStart:(Y,D)=>{const{onViewportChangeStart:M,onMoveStart:I}=N.getState();I?.(Y,D),M?.(D)},onPanZoom:(Y,D)=>{const{onViewportChange:M,onMove:I}=N.getState();I?.(Y,D),M?.(D)},onPanZoomEnd:(Y,D)=>{const{onViewportChangeEnd:M,onMoveEnd:I}=N.getState();I?.(Y,D),M?.(D)}});const{x:G,y:re,zoom:k}=fe.current.getViewport();return N.setState({panZoom:fe.current,transform:[G,re,k],domNode:K.current.closest(".react-flow")}),()=>{fe.current?.destroy()}}},[]),R.useEffect(()=>{fe.current?.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:a,panOnScroll:o,panOnScrollSpeed:l,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:W,preventScrolling:S,noPanClassName:B,userSelectionActive:L,noWheelClassName:T,lib:$,onTransformChange:J,connectionInProgress:P})},[e,r,a,o,l,u,c,d,W,S,B,L,T,$,J,P]),j.jsx("div",{className:"react-flow__renderer",ref:K,style:Xd,children:C})}const iD=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oD(){const{userSelectionActive:e,userSelectionRect:r}=Ut(iD,wn);return e&&r?j.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const um=(e,r)=>a=>{a.target===r.current&&e?.(a)},sD=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function lD({isSelecting:e,selectionKeyPressed:r,selectionMode:a=vl.Full,panOnDrag:o,selectionOnDrag:l,onSelectionStart:u,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:p,onPaneScroll:m,onPaneMouseEnter:b,onPaneMouseMove:y,onPaneMouseLeave:x,children:S}){const C=mn(),{userSelectionActive:T,elementsSelectable:B,dragging:z,connectionInProgress:V}=Ut(sD,wn),A=B&&(e||T),N=R.useRef(null),K=R.useRef(),L=R.useRef(new Set),$=R.useRef(new Set),P=R.useRef(!1),W=R.useRef(!1),fe=M=>{if(P.current||V){P.current=!1;return}d?.(M),C.getState().resetSelectedElements(),C.setState({nodesSelectionActive:!1})},J=M=>{if(Array.isArray(o)&&o?.includes(2)){M.preventDefault();return}p?.(M)},G=m?M=>m(M):void 0,re=M=>{const{resetSelectedElements:I,domNode:Q}=C.getState();if(K.current=Q?.getBoundingClientRect(),!B||!e||M.button!==0||M.target!==N.current||!K.current)return;M.target?.setPointerCapture?.(M.pointerId),W.current=!0,P.current=!1;const{x:ne,y:q}=Oa(M.nativeEvent,K.current);I(),C.setState({userSelectionRect:{width:0,height:0,startX:ne,startY:q,x:ne,y:q}}),u?.(M)},k=M=>{const{userSelectionRect:I,transform:Q,nodeLookup:ne,edgeLookup:q,connectionLookup:Z,triggerNodeChanges:ae,triggerEdgeChanges:de,defaultEdgeOptions:ye}=C.getState();if(!K.current||!I)return;P.current=!0;const{x:Ce,y:Ae}=Oa(M.nativeEvent,K.current),{startX:Te,startY:we}=I,Ge={startX:Te,startY:we,x:Ce<Te?Ce:Te,y:Ae<we?Ae:we,width:Math.abs(Ce-Te),height:Math.abs(Ae-we)},Fe=L.current,ke=$.current;L.current=new Set(Cg(ne,Ge,Q,a===vl.Partial,!0).map(Xe=>Xe.id)),$.current=new Set;const Qe=ye?.selectable??!0;for(const Xe of L.current){const st=Z.get(Xe);if(st)for(const{edgeId:vt}of st.values()){const rt=q.get(vt);rt&&(rt.selectable??Qe)&&$.current.add(vt)}}if(!jb(Fe,L.current)){const Xe=sl(ne,L.current,!0);ae(Xe)}if(!jb(ke,$.current)){const Xe=sl(q,$.current);de(Xe)}C.setState({userSelectionRect:Ge,userSelectionActive:!0,nodesSelectionActive:!1})},Y=M=>{if(M.button!==0||!W.current)return;M.target?.releasePointerCapture?.(M.pointerId);const{userSelectionRect:I}=C.getState();!T&&I&&M.target===N.current&&fe?.(M),C.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:L.current.size>0}),c?.(M),(r||l)&&(P.current=!1),W.current=!1},D=o===!0||Array.isArray(o)&&o.includes(0);return j.jsxs("div",{className:Vn(["react-flow__pane",{draggable:D,dragging:z,selection:e}]),onClick:A?void 0:um(fe,N),onContextMenu:um(J,N),onWheel:um(G,N),onPointerEnter:A?void 0:b,onPointerDown:A?re:y,onPointerMove:A?k:y,onPointerUp:A?Y:void 0,onPointerLeave:x,ref:N,style:Xd,children:[S,j.jsx(oD,{})]})}function Gm({id:e,store:r,unselect:a=!1,nodeRef:o}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:d,onError:p}=r.getState(),m=d.get(e);if(!m){p?.("012",Pa.error012(e));return}r.setState({nodesSelectionActive:!1}),m.selected?(a||m.selected&&c)&&(u({nodes:[m],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):l([e])}function xS({nodeRef:e,disabled:r=!1,noDragClassName:a,handleSelector:o,nodeId:l,isSelectable:u,nodeClickDistance:c}){const d=mn(),[p,m]=R.useState(!1),b=R.useRef();return R.useEffect(()=>{b.current=XO({getStoreItems:()=>d.getState(),onNodeMouseDown:y=>{Gm({id:y,store:d,nodeRef:e})},onDragStart:()=>{m(!0)},onDragStop:()=>{m(!1)}})},[]),R.useEffect(()=>{if(r)b.current?.destroy();else if(e.current)return b.current?.update({noDragClassName:a,handleSelector:o,domNode:e.current,isSelectable:u,nodeId:l,nodeClickDistance:c}),()=>{b.current?.destroy()}},[a,o,r,u,e,l]),p}const uD=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function wS(){const e=mn();return R.useCallback(a=>{const{nodeExtent:o,snapToGrid:l,snapGrid:u,nodesDraggable:c,onError:d,updateNodePositions:p,nodeLookup:m,nodeOrigin:b}=e.getState(),y=new Map,x=uD(c),S=l?u[0]:5,C=l?u[1]:5,T=a.direction.x*S*a.factor,B=a.direction.y*C*a.factor;for(const[,z]of m){if(!x(z))continue;let V={x:z.internals.positionAbsolute.x+T,y:z.internals.positionAbsolute.y+B};l&&(V=cc(V,u));const{position:A,positionAbsolute:N}=Vw({nodeId:z.id,nextPosition:V,nodeLookup:m,nodeExtent:o,nodeOrigin:b,onError:d});z.position=A,z.internals.positionAbsolute=N,y.set(z.id,z)}p(y)},[])}const jg=R.createContext(null),cD=jg.Provider;jg.Consumer;const SS=()=>R.useContext(jg),fD=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),dD=(e,r,a)=>o=>{const{connectionClickStartHandle:l,connectionMode:u,connection:c}=o,{fromHandle:d,toHandle:p,isValid:m}=c,b=p?.nodeId===e&&p?.id===r&&p?.type===a;return{connectingFrom:d?.nodeId===e&&d?.id===r&&d?.type===a,connectingTo:b,clickConnecting:l?.nodeId===e&&l?.id===r&&l?.type===a,isPossibleEndHandle:u===gl.Strict?d?.type!==a:e!==d?.nodeId||r!==d?.id,connectionInProcess:!!d,clickConnectionInProcess:!!l,valid:b&&m}};function hD({type:e="source",position:r=Je.Top,isValidConnection:a,isConnectable:o=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:p,className:m,onMouseDown:b,onTouchStart:y,...x},S){const C=c||null,T=e==="target",B=mn(),z=SS(),{connectOnClick:V,noPanClassName:A,rfId:N}=Ut(fD,wn),{connectingFrom:K,connectingTo:L,clickConnecting:$,isPossibleEndHandle:P,connectionInProcess:W,clickConnectionInProcess:fe,valid:J}=Ut(dD(z,C,e),wn);z||B.getState().onError?.("010",Pa.error010());const G=Y=>{const{defaultEdgeOptions:D,onConnect:M,hasDefaultEdges:I}=B.getState(),Q={...D,...Y};if(I){const{edges:ne,setEdges:q}=B.getState();q(Vm(Q,ne))}M?.(Q),d?.(Q)},re=Y=>{if(!z)return;const D=Qw(Y.nativeEvent);if(l&&(D&&Y.button===0||!D)){const M=B.getState();Km.onPointerDown(Y.nativeEvent,{handleDomNode:Y.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:T,handleId:C,nodeId:z,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:G,isValidConnection:a||M.isValidConnection,getTransform:()=>B.getState().transform,getFromHandle:()=>B.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}D?b?.(Y):y?.(Y)},k=Y=>{const{onClickConnectStart:D,onClickConnectEnd:M,connectionClickStartHandle:I,connectionMode:Q,isValidConnection:ne,lib:q,rfId:Z,nodeLookup:ae,connection:de}=B.getState();if(!z||!I&&!l)return;if(!I){D?.(Y.nativeEvent,{nodeId:z,handleId:C,handleType:e}),B.setState({connectionClickStartHandle:{nodeId:z,type:e,id:C}});return}const ye=Pw(Y.target),Ce=a||ne,{connection:Ae,isValid:Te}=Km.isValid(Y.nativeEvent,{handle:{nodeId:z,id:C,type:e},connectionMode:Q,fromNodeId:I.nodeId,fromHandleId:I.id||null,fromType:I.type,isValidConnection:Ce,flowId:Z,doc:ye,lib:q,nodeLookup:ae});Te&&Ae&&G(Ae);const we=structuredClone(de);delete we.inProgress,we.toPosition=we.toHandle?we.toHandle.position:null,M?.(Y,we),B.setState({connectionClickStartHandle:null})};return j.jsx("div",{"data-handleid":C,"data-nodeid":z,"data-handlepos":r,"data-id":`${N}-${z}-${C}-${e}`,className:Vn(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",A,m,{source:!T,target:T,connectable:o,connectablestart:l,connectableend:u,clickconnecting:$,connectingfrom:K,connectingto:L,valid:J,connectionindicator:o&&(!W||P)&&(W||fe?u:l)}]),onMouseDown:re,onTouchStart:re,onClick:V?k:void 0,ref:S,...x,children:p})}const So=R.memo(yS(hD));function pD({data:e,isConnectable:r,sourcePosition:a=Je.Bottom}){return j.jsxs(j.Fragment,{children:[e?.label,j.jsx(So,{type:"source",position:a,isConnectable:r})]})}function mD({data:e,isConnectable:r,targetPosition:a=Je.Top,sourcePosition:o=Je.Bottom}){return j.jsxs(j.Fragment,{children:[j.jsx(So,{type:"target",position:a,isConnectable:r}),e?.label,j.jsx(So,{type:"source",position:o,isConnectable:r})]})}function gD(){return null}function vD({data:e,isConnectable:r,targetPosition:a=Je.Top}){return j.jsxs(j.Fragment,{children:[j.jsx(So,{type:"target",position:a,isConnectable:r}),e?.label]})}const vd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},cx={input:pD,default:mD,output:vD,group:gD};function yD(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const bD=e=>{const{width:r,height:a,x:o,y:l}=uc(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ta(r)?r:null,height:Ta(a)?a:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${l}px)`}};function xD({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:a}){const o=mn(),{width:l,height:u,transformString:c,userSelectionActive:d}=Ut(bD,wn),p=wS(),m=R.useRef(null);if(R.useEffect(()=>{a||m.current?.focus({preventScroll:!0})},[a]),xS({nodeRef:m}),d||!l||!u)return null;const b=e?x=>{const S=o.getState().nodes.filter(C=>C.selected);e(x,S)}:void 0,y=x=>{Object.prototype.hasOwnProperty.call(vd,x.key)&&(x.preventDefault(),p({direction:vd[x.key],factor:x.shiftKey?4:1}))};return j.jsx("div",{className:Vn(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:j.jsx("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:b,tabIndex:a?void 0:-1,onKeyDown:a?void 0:y,style:{width:l,height:u}})})}const fx=typeof window<"u"?window:void 0,wD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function ES({children:e,onPaneClick:r,onPaneMouseEnter:a,onPaneMouseMove:o,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:p,selectionKeyCode:m,selectionOnDrag:b,selectionMode:y,onSelectionStart:x,onSelectionEnd:S,multiSelectionKeyCode:C,panActivationKeyCode:T,zoomActivationKeyCode:B,elementsSelectable:z,zoomOnScroll:V,zoomOnPinch:A,panOnScroll:N,panOnScrollSpeed:K,panOnScrollMode:L,zoomOnDoubleClick:$,panOnDrag:P,defaultViewport:W,translateExtent:fe,minZoom:J,maxZoom:G,preventScrolling:re,onSelectionContextMenu:k,noWheelClassName:Y,noPanClassName:D,disableKeyboardA11y:M,onViewportChange:I,isControlledViewport:Q}){const{nodesSelectionActive:ne,userSelectionActive:q}=Ut(wD),Z=Qu(m,{target:fx}),ae=Qu(T,{target:fx}),de=ae||P,ye=ae||N,Ce=b&&de!==!0,Ae=Z||q||Ce;return tD({deleteKeyCode:p,multiSelectionKeyCode:C}),j.jsx(aD,{onPaneContextMenu:u,elementsSelectable:z,zoomOnScroll:V,zoomOnPinch:A,panOnScroll:ye,panOnScrollSpeed:K,panOnScrollMode:L,zoomOnDoubleClick:$,panOnDrag:!Z&&de,defaultViewport:W,translateExtent:fe,minZoom:J,maxZoom:G,zoomActivationKeyCode:B,preventScrolling:re,noWheelClassName:Y,noPanClassName:D,onViewportChange:I,isControlledViewport:Q,paneClickDistance:d,children:j.jsxs(lD,{onSelectionStart:x,onSelectionEnd:S,onPaneClick:r,onPaneMouseEnter:a,onPaneMouseMove:o,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:de,isSelecting:!!Ae,selectionMode:y,selectionKeyPressed:Z,selectionOnDrag:Ce,children:[e,ne&&j.jsx(xD,{onSelectionContextMenu:k,noPanClassName:D,disableKeyboardA11y:M})]})})}ES.displayName="FlowRenderer";const SD=R.memo(ES),ED=e=>r=>e?Cg(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(a=>a.id):Array.from(r.nodeLookup.keys());function _D(e){return Ut(R.useCallback(ED(e),[e]),wn)}const CD=e=>e.updateNodeInternals;function ND(){const e=Ut(CD),[r]=R.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(a=>{const o=new Map;a.forEach(l=>{const u=l.target.getAttribute("data-id");o.set(u,{id:u,nodeElement:l.target,force:!0})}),e(o)}));return R.useEffect(()=>()=>{r?.disconnect()},[r]),r}function TD({node:e,nodeType:r,hasDimensions:a,resizeObserver:o}){const l=mn(),u=R.useRef(null),c=R.useRef(null),d=R.useRef(e.sourcePosition),p=R.useRef(e.targetPosition),m=R.useRef(r),b=a&&!!e.internals.handleBounds;return R.useEffect(()=>{u.current&&!e.hidden&&(!b||c.current!==u.current)&&(c.current&&o?.unobserve(c.current),o?.observe(u.current),c.current=u.current)},[b,e.hidden]),R.useEffect(()=>()=>{c.current&&(o?.unobserve(c.current),c.current=null)},[]),R.useEffect(()=>{if(u.current){const y=m.current!==r,x=d.current!==e.sourcePosition,S=p.current!==e.targetPosition;(y||x||S)&&(m.current=r,d.current=e.sourcePosition,p.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),u}function OD({id:e,onClick:r,onMouseEnter:a,onMouseMove:o,onMouseLeave:l,onContextMenu:u,onDoubleClick:c,nodesDraggable:d,elementsSelectable:p,nodesConnectable:m,nodesFocusable:b,resizeObserver:y,noDragClassName:x,noPanClassName:S,disableKeyboardA11y:C,rfId:T,nodeTypes:B,nodeClickDistance:z,onError:V}){const{node:A,internals:N,isParent:K}=Ut(Te=>{const we=Te.nodeLookup.get(e),Ge=Te.parentLookup.has(e);return{node:we,internals:we.internals,isParent:Ge}},wn);let L=A.type||"default",$=B?.[L]||cx[L];$===void 0&&(V?.("003",Pa.error003(L)),L="default",$=B?.default||cx.default);const P=!!(A.draggable||d&&typeof A.draggable>"u"),W=!!(A.selectable||p&&typeof A.selectable>"u"),fe=!!(A.connectable||m&&typeof A.connectable>"u"),J=!!(A.focusable||b&&typeof A.focusable>"u"),G=mn(),re=Kw(A),k=TD({node:A,nodeType:L,hasDimensions:re,resizeObserver:y}),Y=xS({nodeRef:k,disabled:A.hidden||!P,noDragClassName:x,handleSelector:A.dragHandle,nodeId:e,isSelectable:W,nodeClickDistance:z}),D=wS();if(A.hidden)return null;const M=zi(A),I=yD(A),Q=W||P||r||a||o||l,ne=a?Te=>a(Te,{...N.userNode}):void 0,q=o?Te=>o(Te,{...N.userNode}):void 0,Z=l?Te=>l(Te,{...N.userNode}):void 0,ae=u?Te=>u(Te,{...N.userNode}):void 0,de=c?Te=>c(Te,{...N.userNode}):void 0,ye=Te=>{const{selectNodesOnDrag:we,nodeDragThreshold:Ge}=G.getState();W&&(!we||!P||Ge>0)&&Gm({id:e,store:G,nodeRef:k}),r&&r(Te,{...N.userNode})},Ce=Te=>{if(!(Zw(Te.nativeEvent)||C)){if(Hw.includes(Te.key)&&W){const we=Te.key==="Escape";Gm({id:e,store:G,unselect:we,nodeRef:k})}else if(P&&A.selected&&Object.prototype.hasOwnProperty.call(vd,Te.key)){Te.preventDefault();const{ariaLabelConfig:we}=G.getState();G.setState({ariaLiveMessage:we["node.a11yDescription.ariaLiveMessage"]({direction:Te.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),D({direction:vd[Te.key],factor:Te.shiftKey?4:1})}}},Ae=()=>{if(C||!k.current?.matches(":focus-visible"))return;const{transform:Te,width:we,height:Ge,autoPanOnNodeFocus:Fe,setCenter:ke}=G.getState();if(!Fe)return;Cg(new Map([[e,A]]),{x:0,y:0,width:we,height:Ge},Te,!0).length>0||ke(A.position.x+M.width/2,A.position.y+M.height/2,{zoom:Te[2]})};return j.jsx("div",{className:Vn(["react-flow__node",`react-flow__node-${L}`,{[S]:P},A.className,{selected:A.selected,selectable:W,parent:K,draggable:P,dragging:Y}]),ref:k,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:Q?"all":"none",visibility:re?"visible":"hidden",...A.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:ne,onMouseMove:q,onMouseLeave:Z,onContextMenu:ae,onClick:ye,onDoubleClick:de,onKeyDown:J?Ce:void 0,tabIndex:J?0:void 0,onFocus:J?Ae:void 0,role:A.ariaRole??(J?"group":void 0),"aria-roledescription":"node","aria-describedby":C?void 0:`${dS}-${T}`,"aria-label":A.ariaLabel,...A.domAttributes,children:j.jsx(cD,{value:e,children:j.jsx($,{id:e,data:A.data,type:L,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:A.selected??!1,selectable:W,draggable:P,deletable:A.deletable??!0,isConnectable:fe,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:Y,dragHandle:A.dragHandle,zIndex:N.z,parentId:A.parentId,...M})})})}const MD=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function _S(e){const{nodesDraggable:r,nodesConnectable:a,nodesFocusable:o,elementsSelectable:l,onError:u}=Ut(MD,wn),c=_D(e.onlyRenderVisibleElements),d=ND();return j.jsx("div",{className:"react-flow__nodes",style:Xd,children:c.map(p=>j.jsx(OD,{id:p,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:r,nodesConnectable:a,nodesFocusable:o,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:u},p))})}_S.displayName="NodeRenderer";const DD=R.memo(_S);function AD(e){return Ut(R.useCallback(a=>{if(!e)return a.edges.map(l=>l.id);const o=[];if(a.width&&a.height)for(const l of a.edges){const u=a.nodeLookup.get(l.source),c=a.nodeLookup.get(l.target);u&&c&&OO({sourceNode:u,targetNode:c,width:a.width,height:a.height,transform:a.transform})&&o.push(l.id)}return o},[e]),wn)}const RD=({color:e="none",strokeWidth:r=1})=>{const a={strokeWidth:r,...e&&{stroke:e}};return j.jsx("polyline",{className:"arrow",style:a,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},jD=({color:e="none",strokeWidth:r=1})=>{const a={strokeWidth:r,...e&&{stroke:e,fill:e}};return j.jsx("polyline",{className:"arrowclosed",style:a,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},dx={[pd.Arrow]:RD,[pd.ArrowClosed]:jD};function zD(e){const r=mn();return R.useMemo(()=>Object.prototype.hasOwnProperty.call(dx,e)?dx[e]:(r.getState().onError?.("009",Pa.error009(e)),null),[e])}const BD=({id:e,type:r,color:a,width:o=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const p=zD(r);return p?j.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:j.jsx(p,{color:a,strokeWidth:c})}):null},CS=({defaultColor:e,rfId:r})=>{const a=Ut(u=>u.edges),o=Ut(u=>u.defaultEdgeOptions),l=R.useMemo(()=>BO(a,{id:r,defaultColor:e,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[a,o,r,e]);return l.length?j.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:j.jsx("defs",{children:l.map(u=>j.jsx(BD,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};CS.displayName="MarkerDefinitions";var HD=R.memo(CS);function NS({x:e,y:r,label:a,labelStyle:o,labelShowBg:l=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:p,className:m,...b}){const[y,x]=R.useState({x:1,y:0,width:0,height:0}),S=Vn(["react-flow__edge-textwrapper",m]),C=R.useRef(null);return R.useEffect(()=>{if(C.current){const T=C.current.getBBox();x({x:T.x,y:T.y,width:T.width,height:T.height})}},[a]),a?j.jsxs("g",{transform:`translate(${e-y.width/2} ${r-y.height/2})`,className:S,visibility:y.width?"visible":"hidden",...b,children:[l&&j.jsx("rect",{width:y.width+2*c[0],x:-c[0],y:-c[1],height:y.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),j.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:C,style:o,children:a}),p]}):null}NS.displayName="EdgeText";const kD=R.memo(NS);function dc({path:e,labelX:r,labelY:a,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:p,interactionWidth:m=20,...b}){return j.jsxs(j.Fragment,{children:[j.jsx("path",{...b,d:e,fill:"none",className:Vn(["react-flow__edge-path",b.className])}),m?j.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}):null,o&&Ta(r)&&Ta(a)?j.jsx(kD,{x:r,y:a,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:p}):null]})}function hx({pos:e,x1:r,y1:a,x2:o,y2:l}){return e===Je.Left||e===Je.Right?[.5*(r+o),a]:[r,.5*(a+l)]}function TS({sourceX:e,sourceY:r,sourcePosition:a=Je.Bottom,targetX:o,targetY:l,targetPosition:u=Je.Top}){const[c,d]=hx({pos:a,x1:e,y1:r,x2:o,y2:l}),[p,m]=hx({pos:u,x1:o,y1:l,x2:e,y2:r}),[b,y,x,S]=Fw({sourceX:e,sourceY:r,targetX:o,targetY:l,sourceControlX:c,sourceControlY:d,targetControlX:p,targetControlY:m});return[`M${e},${r} C${c},${d} ${p},${m} ${o},${l}`,b,y,x,S]}function OS(e){return R.memo(({id:r,sourceX:a,sourceY:o,targetX:l,targetY:u,sourcePosition:c,targetPosition:d,label:p,labelStyle:m,labelShowBg:b,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:S,style:C,markerEnd:T,markerStart:B,interactionWidth:z})=>{const[V,A,N]=TS({sourceX:a,sourceY:o,sourcePosition:c,targetX:l,targetY:u,targetPosition:d}),K=e.isInternal?void 0:r;return j.jsx(dc,{id:K,path:V,labelX:A,labelY:N,label:p,labelStyle:m,labelShowBg:b,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:S,style:C,markerEnd:T,markerStart:B,interactionWidth:z})})}const LD=OS({isInternal:!1}),MS=OS({isInternal:!0});LD.displayName="SimpleBezierEdge";MS.displayName="SimpleBezierEdgeInternal";function DS(e){return R.memo(({id:r,sourceX:a,sourceY:o,targetX:l,targetY:u,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:b,labelBgBorderRadius:y,style:x,sourcePosition:S=Je.Bottom,targetPosition:C=Je.Top,markerEnd:T,markerStart:B,pathOptions:z,interactionWidth:V})=>{const[A,N,K]=Ym({sourceX:a,sourceY:o,sourcePosition:S,targetX:l,targetY:u,targetPosition:C,borderRadius:z?.borderRadius,offset:z?.offset,stepPosition:z?.stepPosition}),L=e.isInternal?void 0:r;return j.jsx(dc,{id:L,path:A,labelX:N,labelY:K,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:b,labelBgBorderRadius:y,style:x,markerEnd:T,markerStart:B,interactionWidth:V})})}const AS=DS({isInternal:!1}),RS=DS({isInternal:!0});AS.displayName="SmoothStepEdge";RS.displayName="SmoothStepEdgeInternal";function jS(e){return R.memo(({id:r,...a})=>{const o=e.isInternal?void 0:r;return j.jsx(AS,{...a,id:o,pathOptions:R.useMemo(()=>({borderRadius:0,offset:a.pathOptions?.offset}),[a.pathOptions?.offset])})})}const UD=jS({isInternal:!1}),zS=jS({isInternal:!0});UD.displayName="StepEdge";zS.displayName="StepEdgeInternal";function BS(e){return R.memo(({id:r,sourceX:a,sourceY:o,targetX:l,targetY:u,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:b,labelBgBorderRadius:y,style:x,markerEnd:S,markerStart:C,interactionWidth:T})=>{const[B,z,V]=Jw({sourceX:a,sourceY:o,targetX:l,targetY:u}),A=e.isInternal?void 0:r;return j.jsx(dc,{id:A,path:B,labelX:z,labelY:V,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:b,labelBgBorderRadius:y,style:x,markerEnd:S,markerStart:C,interactionWidth:T})})}const qD=BS({isInternal:!1}),HS=BS({isInternal:!0});qD.displayName="StraightEdge";HS.displayName="StraightEdgeInternal";function kS(e){return R.memo(({id:r,sourceX:a,sourceY:o,targetX:l,targetY:u,sourcePosition:c=Je.Bottom,targetPosition:d=Je.Top,label:p,labelStyle:m,labelShowBg:b,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:S,style:C,markerEnd:T,markerStart:B,pathOptions:z,interactionWidth:V})=>{const[A,N,K]=$d({sourceX:a,sourceY:o,sourcePosition:c,targetX:l,targetY:u,targetPosition:d,curvature:z?.curvature}),L=e.isInternal?void 0:r;return j.jsx(dc,{id:L,path:A,labelX:N,labelY:K,label:p,labelStyle:m,labelShowBg:b,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:S,style:C,markerEnd:T,markerStart:B,interactionWidth:V})})}const $D=kS({isInternal:!1}),LS=kS({isInternal:!0});$D.displayName="BezierEdge";LS.displayName="BezierEdgeInternal";const px={default:LS,straight:HS,step:zS,smoothstep:RS,simplebezier:MS},mx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},VD=(e,r,a)=>a===Je.Left?e-r:a===Je.Right?e+r:e,YD=(e,r,a)=>a===Je.Top?e-r:a===Je.Bottom?e+r:e,gx="react-flow__edgeupdater";function vx({position:e,centerX:r,centerY:a,radius:o=10,onMouseDown:l,onMouseEnter:u,onMouseOut:c,type:d}){return j.jsx("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:c,className:Vn([gx,`${gx}-${d}`]),cx:VD(r,o,e),cy:YD(a,o,e),r:o,stroke:"transparent",fill:"transparent"})}function ID({isReconnectable:e,reconnectRadius:r,edge:a,sourceX:o,sourceY:l,targetX:u,targetY:c,sourcePosition:d,targetPosition:p,onReconnect:m,onReconnectStart:b,onReconnectEnd:y,setReconnecting:x,setUpdateHover:S}){const C=mn(),T=(N,K)=>{if(N.button!==0)return;const{autoPanOnConnect:L,domNode:$,isValidConnection:P,connectionMode:W,connectionRadius:fe,lib:J,onConnectStart:G,onConnectEnd:re,cancelConnection:k,nodeLookup:Y,rfId:D,panBy:M,updateConnection:I}=C.getState(),Q=K.type==="target",ne=(ae,de)=>{x(!1),y?.(ae,a,K.type,de)},q=ae=>m?.(a,ae),Z=(ae,de)=>{x(!0),b?.(N,a,K.type),G?.(ae,de)};Km.onPointerDown(N.nativeEvent,{autoPanOnConnect:L,connectionMode:W,connectionRadius:fe,domNode:$,handleId:K.id,nodeId:K.nodeId,nodeLookup:Y,isTarget:Q,edgeUpdaterType:K.type,lib:J,flowId:D,cancelConnection:k,panBy:M,isValidConnection:P,onConnect:q,onConnectStart:Z,onConnectEnd:re,onReconnectEnd:ne,updateConnection:I,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,dragThreshold:C.getState().connectionDragThreshold,handleDomNode:N.currentTarget})},B=N=>T(N,{nodeId:a.target,id:a.targetHandle??null,type:"target"}),z=N=>T(N,{nodeId:a.source,id:a.sourceHandle??null,type:"source"}),V=()=>S(!0),A=()=>S(!1);return j.jsxs(j.Fragment,{children:[(e===!0||e==="source")&&j.jsx(vx,{position:d,centerX:o,centerY:l,radius:r,onMouseDown:B,onMouseEnter:V,onMouseOut:A,type:"source"}),(e===!0||e==="target")&&j.jsx(vx,{position:p,centerX:u,centerY:c,radius:r,onMouseDown:z,onMouseEnter:V,onMouseOut:A,type:"target"})]})}function XD({id:e,edgesFocusable:r,edgesReconnectable:a,elementsSelectable:o,onClick:l,onDoubleClick:u,onContextMenu:c,onMouseEnter:d,onMouseMove:p,onMouseLeave:m,reconnectRadius:b,onReconnect:y,onReconnectStart:x,onReconnectEnd:S,rfId:C,edgeTypes:T,noPanClassName:B,onError:z,disableKeyboardA11y:V}){let A=Ut(ke=>ke.edgeLookup.get(e));const N=Ut(ke=>ke.defaultEdgeOptions);A=N?{...N,...A}:A;let K=A.type||"default",L=T?.[K]||px[K];L===void 0&&(z?.("011",Pa.error011(K)),K="default",L=T?.default||px.default);const $=!!(A.focusable||r&&typeof A.focusable>"u"),P=typeof y<"u"&&(A.reconnectable||a&&typeof A.reconnectable>"u"),W=!!(A.selectable||o&&typeof A.selectable>"u"),fe=R.useRef(null),[J,G]=R.useState(!1),[re,k]=R.useState(!1),Y=mn(),{zIndex:D,sourceX:M,sourceY:I,targetX:Q,targetY:ne,sourcePosition:q,targetPosition:Z}=Ut(R.useCallback(ke=>{const Qe=ke.nodeLookup.get(A.source),Xe=ke.nodeLookup.get(A.target);if(!Qe||!Xe)return{zIndex:A.zIndex,...mx};const st=zO({id:e,sourceNode:Qe,targetNode:Xe,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:ke.connectionMode,onError:z});return{zIndex:TO({selected:A.selected,zIndex:A.zIndex,sourceNode:Qe,targetNode:Xe,elevateOnSelect:ke.elevateEdgesOnSelect}),...st||mx}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),wn),ae=R.useMemo(()=>A.markerStart?`url('#${Im(A.markerStart,C)}')`:void 0,[A.markerStart,C]),de=R.useMemo(()=>A.markerEnd?`url('#${Im(A.markerEnd,C)}')`:void 0,[A.markerEnd,C]);if(A.hidden||M===null||I===null||Q===null||ne===null)return null;const ye=ke=>{const{addSelectedEdges:Qe,unselectNodesAndEdges:Xe,multiSelectionActive:st}=Y.getState();W&&(Y.setState({nodesSelectionActive:!1}),A.selected&&st?(Xe({nodes:[],edges:[A]}),fe.current?.blur()):Qe([e])),l&&l(ke,A)},Ce=u?ke=>{u(ke,{...A})}:void 0,Ae=c?ke=>{c(ke,{...A})}:void 0,Te=d?ke=>{d(ke,{...A})}:void 0,we=p?ke=>{p(ke,{...A})}:void 0,Ge=m?ke=>{m(ke,{...A})}:void 0,Fe=ke=>{if(!V&&Hw.includes(ke.key)&&W){const{unselectNodesAndEdges:Qe,addSelectedEdges:Xe}=Y.getState();ke.key==="Escape"?(fe.current?.blur(),Qe({edges:[A]})):Xe([e])}};return j.jsx("svg",{style:{zIndex:D},children:j.jsxs("g",{className:Vn(["react-flow__edge",`react-flow__edge-${K}`,A.className,B,{selected:A.selected,animated:A.animated,inactive:!W&&!l,updating:J,selectable:W}]),onClick:ye,onDoubleClick:Ce,onContextMenu:Ae,onMouseEnter:Te,onMouseMove:we,onMouseLeave:Ge,onKeyDown:$?Fe:void 0,tabIndex:$?0:void 0,role:A.ariaRole??($?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":$?`${hS}-${C}`:void 0,ref:fe,...A.domAttributes,children:[!re&&j.jsx(L,{id:e,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:W,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:M,sourceY:I,targetX:Q,targetY:ne,sourcePosition:q,targetPosition:Z,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:ae,markerEnd:de,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),P&&j.jsx(ID,{edge:A,isReconnectable:P,reconnectRadius:b,onReconnect:y,onReconnectStart:x,onReconnectEnd:S,sourceX:M,sourceY:I,targetX:Q,targetY:ne,sourcePosition:q,targetPosition:Z,setUpdateHover:G,setReconnecting:k})]})})}const KD=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function US({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:a,edgeTypes:o,noPanClassName:l,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:p,onEdgeMouseLeave:m,onEdgeClick:b,reconnectRadius:y,onEdgeDoubleClick:x,onReconnectStart:S,onReconnectEnd:C,disableKeyboardA11y:T}){const{edgesFocusable:B,edgesReconnectable:z,elementsSelectable:V,onError:A}=Ut(KD,wn),N=AD(r);return j.jsxs("div",{className:"react-flow__edges",children:[j.jsx(HD,{defaultColor:e,rfId:a}),N.map(K=>j.jsx(XD,{id:K,edgesFocusable:B,edgesReconnectable:z,elementsSelectable:V,noPanClassName:l,onReconnect:u,onContextMenu:c,onMouseEnter:d,onMouseMove:p,onMouseLeave:m,onClick:b,reconnectRadius:y,onDoubleClick:x,onReconnectStart:S,onReconnectEnd:C,rfId:a,onError:A,edgeTypes:o,disableKeyboardA11y:T},K))]})}US.displayName="EdgeRenderer";const GD=R.memo(US),PD=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ZD({children:e}){const r=Ut(PD);return j.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function QD(e){const r=No(),a=R.useRef(!1);R.useEffect(()=>{!a.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),a.current=!0)},[e,r.viewportInitialized])}const FD=e=>e.panZoom?.syncViewport;function WD(e){const r=Ut(FD),a=mn();return R.useEffect(()=>{e&&(r?.(e),a.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function JD(e){return e.connection.inProgress?{...e.connection,to:fc(e.connection.to,e.transform)}:{...e.connection}}function eA(e){return JD}function tA(e){const r=eA();return Ut(r,wn)}const nA=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function rA({containerStyle:e,style:r,type:a,component:o}){const{nodesConnectable:l,width:u,height:c,isValid:d,inProgress:p}=Ut(nA,wn);return!(u&&l&&p)?null:j.jsx("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:j.jsx("g",{className:Vn(["react-flow__connection",Uw(d)]),children:j.jsx(qS,{style:r,type:a,CustomComponent:o,isValid:d})})})}const qS=({style:e,type:r=xo.Bezier,CustomComponent:a,isValid:o})=>{const{inProgress:l,from:u,fromNode:c,fromHandle:d,fromPosition:p,to:m,toNode:b,toHandle:y,toPosition:x}=tA();if(!l)return;if(a)return j.jsx(a,{connectionLineType:r,connectionLineStyle:e,fromNode:c,fromHandle:d,fromX:u.x,fromY:u.y,toX:m.x,toY:m.y,fromPosition:p,toPosition:x,connectionStatus:Uw(o),toNode:b,toHandle:y});let S="";const C={sourceX:u.x,sourceY:u.y,sourcePosition:p,targetX:m.x,targetY:m.y,targetPosition:x};switch(r){case xo.Bezier:[S]=$d(C);break;case xo.SimpleBezier:[S]=TS(C);break;case xo.Step:[S]=Ym({...C,borderRadius:0});break;case xo.SmoothStep:[S]=Ym(C);break;default:[S]=Jw(C)}return j.jsx("path",{d:S,fill:"none",className:"react-flow__connection-path",style:e})};qS.displayName="ConnectionLine";const aA={};function yx(e=aA){R.useRef(e),mn(),R.useEffect(()=>{},[e])}function iA(){mn(),R.useRef(!1),R.useEffect(()=>{},[])}function $S({nodeTypes:e,edgeTypes:r,onInit:a,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:m,onNodeContextMenu:b,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:S,connectionLineType:C,connectionLineStyle:T,connectionLineComponent:B,connectionLineContainerStyle:z,selectionKeyCode:V,selectionOnDrag:A,selectionMode:N,multiSelectionKeyCode:K,panActivationKeyCode:L,zoomActivationKeyCode:$,deleteKeyCode:P,onlyRenderVisibleElements:W,elementsSelectable:fe,defaultViewport:J,translateExtent:G,minZoom:re,maxZoom:k,preventScrolling:Y,defaultMarkerColor:D,zoomOnScroll:M,zoomOnPinch:I,panOnScroll:Q,panOnScrollSpeed:ne,panOnScrollMode:q,zoomOnDoubleClick:Z,panOnDrag:ae,onPaneClick:de,onPaneMouseEnter:ye,onPaneMouseMove:Ce,onPaneMouseLeave:Ae,onPaneScroll:Te,onPaneContextMenu:we,paneClickDistance:Ge,nodeClickDistance:Fe,onEdgeContextMenu:ke,onEdgeMouseEnter:Qe,onEdgeMouseMove:Xe,onEdgeMouseLeave:st,reconnectRadius:vt,onReconnect:rt,onReconnectStart:St,onReconnectEnd:qt,noDragClassName:ft,noWheelClassName:Dt,noPanClassName:At,disableKeyboardA11y:xt,nodeExtent:Vt,rfId:Sn,viewport:Pt,onViewportChange:Xt}){return yx(e),yx(r),iA(),QD(a),WD(Pt),j.jsx(SD,{onPaneClick:de,onPaneMouseEnter:ye,onPaneMouseMove:Ce,onPaneMouseLeave:Ae,onPaneContextMenu:we,onPaneScroll:Te,paneClickDistance:Ge,deleteKeyCode:P,selectionKeyCode:V,selectionOnDrag:A,selectionMode:N,onSelectionStart:x,onSelectionEnd:S,multiSelectionKeyCode:K,panActivationKeyCode:L,zoomActivationKeyCode:$,elementsSelectable:fe,zoomOnScroll:M,zoomOnPinch:I,zoomOnDoubleClick:Z,panOnScroll:Q,panOnScrollSpeed:ne,panOnScrollMode:q,panOnDrag:ae,defaultViewport:J,translateExtent:G,minZoom:re,maxZoom:k,onSelectionContextMenu:y,preventScrolling:Y,noDragClassName:ft,noWheelClassName:Dt,noPanClassName:At,disableKeyboardA11y:xt,onViewportChange:Xt,isControlledViewport:!!Pt,children:j.jsxs(ZD,{children:[j.jsx(GD,{edgeTypes:r,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:rt,onReconnectStart:St,onReconnectEnd:qt,onlyRenderVisibleElements:W,onEdgeContextMenu:ke,onEdgeMouseEnter:Qe,onEdgeMouseMove:Xe,onEdgeMouseLeave:st,reconnectRadius:vt,defaultMarkerColor:D,noPanClassName:At,disableKeyboardA11y:xt,rfId:Sn}),j.jsx(rA,{style:T,type:C,component:B,containerStyle:z}),j.jsx("div",{className:"react-flow__edgelabel-renderer"}),j.jsx(DD,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:p,onNodeMouseLeave:m,onNodeContextMenu:b,nodeClickDistance:Fe,onlyRenderVisibleElements:W,noPanClassName:At,noDragClassName:ft,disableKeyboardA11y:xt,nodeExtent:Vt,rfId:Sn}),j.jsx("div",{className:"react-flow__viewport-portal"})]})})}$S.displayName="GraphView";const oA=R.memo($S),bx=({nodes:e,edges:r,defaultNodes:a,defaultEdges:o,width:l,height:u,fitView:c,fitViewOptions:d,minZoom:p=.5,maxZoom:m=2,nodeOrigin:b,nodeExtent:y}={})=>{const x=new Map,S=new Map,C=new Map,T=new Map,B=o??r??[],z=a??e??[],V=b??[0,0],A=y??Ku;tS(C,T,B);const N=Xm(z,x,S,{nodeOrigin:V,nodeExtent:A,elevateNodesOnSelect:!1});let K=[0,0,1];if(c&&l&&u){const L=uc(x,{filter:fe=>!!((fe.width||fe.initialWidth)&&(fe.height||fe.initialHeight))}),{x:$,y:P,zoom:W}=Ng(L,l,u,p,m,d?.padding??.1);K=[$,P,W]}return{rfId:"1",width:l??0,height:u??0,transform:K,nodes:z,nodesInitialized:N,nodeLookup:x,parentLookup:S,edges:B,edgeLookup:T,connectionLookup:C,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:a!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:p,maxZoom:m,translateExtent:Ku,nodeExtent:A,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:gl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:V,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:d,fitViewResolver:null,connection:{...Lw},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:wO,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:kw}},sA=({nodes:e,edges:r,defaultNodes:a,defaultEdges:o,width:l,height:u,fitView:c,fitViewOptions:d,minZoom:p,maxZoom:m,nodeOrigin:b,nodeExtent:y})=>CM((x,S)=>{async function C(){const{nodeLookup:T,panZoom:B,fitViewOptions:z,fitViewResolver:V,width:A,height:N,minZoom:K,maxZoom:L}=S();B&&(await bO({nodes:T,width:A,height:N,panZoom:B,minZoom:K,maxZoom:L},z),V?.resolve(!0),x({fitViewResolver:null}))}return{...bx({nodes:e,edges:r,width:l,height:u,fitView:c,fitViewOptions:d,minZoom:p,maxZoom:m,nodeOrigin:b,nodeExtent:y,defaultNodes:a,defaultEdges:o}),setNodes:T=>{const{nodeLookup:B,parentLookup:z,nodeOrigin:V,elevateNodesOnSelect:A,fitViewQueued:N}=S(),K=Xm(T,B,z,{nodeOrigin:V,nodeExtent:y,elevateNodesOnSelect:A,checkEquality:!0});N&&K?(C(),x({nodes:T,nodesInitialized:K,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:T,nodesInitialized:K})},setEdges:T=>{const{connectionLookup:B,edgeLookup:z}=S();tS(B,z,T),x({edges:T})},setDefaultNodesAndEdges:(T,B)=>{if(T){const{setNodes:z}=S();z(T),x({hasDefaultNodes:!0})}if(B){const{setEdges:z}=S();z(B),x({hasDefaultEdges:!0})}},updateNodeInternals:T=>{const{triggerNodeChanges:B,nodeLookup:z,parentLookup:V,domNode:A,nodeOrigin:N,nodeExtent:K,debug:L,fitViewQueued:$}=S(),{changes:P,updatedInternals:W}=$O(T,z,V,A,N,K);W&&(kO(z,V,{nodeOrigin:N,nodeExtent:K}),$?(C(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),P?.length>0&&(L&&console.log("React Flow: trigger node changes",P),B?.(P)))},updateNodePositions:(T,B=!1)=>{const z=[],V=[],{nodeLookup:A,triggerNodeChanges:N}=S();for(const[K,L]of T){const $=A.get(K),P=!!($?.expandParent&&$?.parentId&&L?.position),W={id:K,type:"position",position:P?{x:Math.max(0,L.position.x),y:Math.max(0,L.position.y)}:L.position,dragging:B};P&&$.parentId&&z.push({id:K,parentId:$.parentId,rect:{...L.internals.positionAbsolute,width:L.measured.width??0,height:L.measured.height??0}}),V.push(W)}if(z.length>0){const{parentLookup:K,nodeOrigin:L}=S(),$=Ag(z,A,K,L);V.push(...$)}N(V)},triggerNodeChanges:T=>{const{onNodesChange:B,setNodes:z,nodes:V,hasDefaultNodes:A,debug:N}=S();if(T?.length){if(A){const K=gS(T,V);z(K)}N&&console.log("React Flow: trigger node changes",T),B?.(T)}},triggerEdgeChanges:T=>{const{onEdgesChange:B,setEdges:z,edges:V,hasDefaultEdges:A,debug:N}=S();if(T?.length){if(A){const K=vS(T,V);z(K)}N&&console.log("React Flow: trigger edge changes",T),B?.(T)}},addSelectedNodes:T=>{const{multiSelectionActive:B,edgeLookup:z,nodeLookup:V,triggerNodeChanges:A,triggerEdgeChanges:N}=S();if(B){const K=T.map(L=>Wo(L,!0));A(K);return}A(sl(V,new Set([...T]),!0)),N(sl(z))},addSelectedEdges:T=>{const{multiSelectionActive:B,edgeLookup:z,nodeLookup:V,triggerNodeChanges:A,triggerEdgeChanges:N}=S();if(B){const K=T.map(L=>Wo(L,!0));N(K);return}N(sl(z,new Set([...T]))),A(sl(V,new Set,!0))},unselectNodesAndEdges:({nodes:T,edges:B}={})=>{const{edges:z,nodes:V,nodeLookup:A,triggerNodeChanges:N,triggerEdgeChanges:K}=S(),L=T||V,$=B||z,P=L.map(fe=>{const J=A.get(fe.id);return J&&(J.selected=!1),Wo(fe.id,!1)}),W=$.map(fe=>Wo(fe.id,!1));N(P),K(W)},setMinZoom:T=>{const{panZoom:B,maxZoom:z}=S();B?.setScaleExtent([T,z]),x({minZoom:T})},setMaxZoom:T=>{const{panZoom:B,minZoom:z}=S();B?.setScaleExtent([z,T]),x({maxZoom:T})},setTranslateExtent:T=>{S().panZoom?.setTranslateExtent(T),x({translateExtent:T})},setPaneClickDistance:T=>{S().panZoom?.setClickDistance(T)},resetSelectedElements:()=>{const{edges:T,nodes:B,triggerNodeChanges:z,triggerEdgeChanges:V,elementsSelectable:A}=S();if(!A)return;const N=B.reduce((L,$)=>$.selected?[...L,Wo($.id,!1)]:L,[]),K=T.reduce((L,$)=>$.selected?[...L,Wo($.id,!1)]:L,[]);z(N),V(K)},setNodeExtent:T=>{const{nodes:B,nodeLookup:z,parentLookup:V,nodeOrigin:A,elevateNodesOnSelect:N,nodeExtent:K}=S();T[0][0]===K[0][0]&&T[0][1]===K[0][1]&&T[1][0]===K[1][0]&&T[1][1]===K[1][1]||(Xm(B,z,V,{nodeOrigin:A,nodeExtent:T,elevateNodesOnSelect:N,checkEquality:!1}),x({nodeExtent:T}))},panBy:T=>{const{transform:B,width:z,height:V,panZoom:A,translateExtent:N}=S();return VO({delta:T,panZoom:A,transform:B,translateExtent:N,width:z,height:V})},setCenter:async(T,B,z)=>{const{width:V,height:A,maxZoom:N,panZoom:K}=S();if(!K)return Promise.resolve(!1);const L=typeof z?.zoom<"u"?z.zoom:N;return await K.setViewport({x:V/2-T*L,y:A/2-B*L,zoom:L},{duration:z?.duration,ease:z?.ease,interpolate:z?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...Lw}})},updateConnection:T=>{x({connection:T})},reset:()=>x({...bx()})}},Object.is);function zg({initialNodes:e,initialEdges:r,defaultNodes:a,defaultEdges:o,initialWidth:l,initialHeight:u,initialMinZoom:c,initialMaxZoom:d,initialFitViewOptions:p,fitView:m,nodeOrigin:b,nodeExtent:y,children:x}){const[S]=R.useState(()=>sA({nodes:e,edges:r,defaultNodes:a,defaultEdges:o,width:l,height:u,fitView:m,minZoom:c,maxZoom:d,fitViewOptions:p,nodeOrigin:b,nodeExtent:y}));return j.jsx(OM,{value:S,children:j.jsx(FM,{children:x})})}function lA({children:e,nodes:r,edges:a,defaultNodes:o,defaultEdges:l,width:u,height:c,fitView:d,fitViewOptions:p,minZoom:m,maxZoom:b,nodeOrigin:y,nodeExtent:x}){return R.useContext(Yd)?j.jsx(j.Fragment,{children:e}):j.jsx(zg,{initialNodes:r,initialEdges:a,defaultNodes:o,defaultEdges:l,initialWidth:u,initialHeight:c,fitView:d,initialFitViewOptions:p,initialMinZoom:m,initialMaxZoom:b,nodeOrigin:y,nodeExtent:x,children:e})}const uA={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function cA({nodes:e,edges:r,defaultNodes:a,defaultEdges:o,className:l,nodeTypes:u,edgeTypes:c,onNodeClick:d,onEdgeClick:p,onInit:m,onMove:b,onMoveStart:y,onMoveEnd:x,onConnect:S,onConnectStart:C,onConnectEnd:T,onClickConnectStart:B,onClickConnectEnd:z,onNodeMouseEnter:V,onNodeMouseMove:A,onNodeMouseLeave:N,onNodeContextMenu:K,onNodeDoubleClick:L,onNodeDragStart:$,onNodeDrag:P,onNodeDragStop:W,onNodesDelete:fe,onEdgesDelete:J,onDelete:G,onSelectionChange:re,onSelectionDragStart:k,onSelectionDrag:Y,onSelectionDragStop:D,onSelectionContextMenu:M,onSelectionStart:I,onSelectionEnd:Q,onBeforeDelete:ne,connectionMode:q,connectionLineType:Z=xo.Bezier,connectionLineStyle:ae,connectionLineComponent:de,connectionLineContainerStyle:ye,deleteKeyCode:Ce="Backspace",selectionKeyCode:Ae="Shift",selectionOnDrag:Te=!1,selectionMode:we=vl.Full,panActivationKeyCode:Ge="Space",multiSelectionKeyCode:Fe=Pu()?"Meta":"Control",zoomActivationKeyCode:ke=Pu()?"Meta":"Control",snapToGrid:Qe,snapGrid:Xe,onlyRenderVisibleElements:st=!1,selectNodesOnDrag:vt,nodesDraggable:rt,autoPanOnNodeFocus:St,nodesConnectable:qt,nodesFocusable:ft,nodeOrigin:Dt=pS,edgesFocusable:At,edgesReconnectable:xt,elementsSelectable:Vt=!0,defaultViewport:Sn=$M,minZoom:Pt=.5,maxZoom:Xt=2,translateExtent:Ht=Ku,preventScrolling:gn=!0,nodeExtent:vn,defaultMarkerColor:ln="#b1b1b7",zoomOnScroll:an=!0,zoomOnPinch:jn=!0,panOnScroll:_e=!1,panOnScrollSpeed:qe=.5,panOnScrollMode:Me=ns.Free,zoomOnDoubleClick:gt=!0,panOnDrag:at=!0,onPaneClick:Ze,onPaneMouseEnter:je,onPaneMouseMove:Yt,onPaneMouseLeave:wt,onPaneScroll:nt,onPaneContextMenu:Ke,paneClickDistance:ht=0,nodeClickDistance:yt=0,children:Nt,onReconnect:$t,onReconnectStart:mt,onReconnectEnd:Tt,onEdgeContextMenu:un,onEdgeDoubleClick:lt,onEdgeMouseEnter:ut,onEdgeMouseMove:zn,onEdgeMouseLeave:Jt,reconnectRadius:yn=10,onNodesChange:pr,onEdgesChange:ur,noDragClassName:en="nodrag",noWheelClassName:En="nowheel",noPanClassName:Qn="nopan",fitView:ga,fitViewOptions:hs,connectOnClick:Kr,attributionPosition:Oo,proOptions:mr,defaultEdgeOptions:Bi,elevateNodesOnSelect:Gr,elevateEdgesOnSelect:Qt,disableKeyboardA11y:cr=!1,autoPanOnConnect:Fn,autoPanOnNodeDrag:_n,autoPanSpeed:va,connectionRadius:Wa,isValidConnection:zr,onError:Pr,style:ya,id:Hi,nodeDragThreshold:Ja,connectionDragThreshold:ps,viewport:Et,onViewportChange:ei,width:wr,height:Xn,colorMode:ja="light",debug:ms,onScroll:ti,ariaLabelConfig:Mo,...It},ni){const Tn=Hi||"1",Zr=XM(ja),ki=R.useCallback(za=>{za.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ti?.(za)},[ti]);return j.jsx("div",{"data-testid":"rf__wrapper",...It,onScroll:ki,style:{...ya,...uA},ref:ni,className:Vn(["react-flow",l,Zr]),id:Hi,role:"application",children:j.jsxs(lA,{nodes:e,edges:r,width:wr,height:Xn,fitView:ga,fitViewOptions:hs,minZoom:Pt,maxZoom:Xt,nodeOrigin:Dt,nodeExtent:vn,children:[j.jsx(oA,{onInit:m,onNodeClick:d,onEdgeClick:p,onNodeMouseEnter:V,onNodeMouseMove:A,onNodeMouseLeave:N,onNodeContextMenu:K,onNodeDoubleClick:L,nodeTypes:u,edgeTypes:c,connectionLineType:Z,connectionLineStyle:ae,connectionLineComponent:de,connectionLineContainerStyle:ye,selectionKeyCode:Ae,selectionOnDrag:Te,selectionMode:we,deleteKeyCode:Ce,multiSelectionKeyCode:Fe,panActivationKeyCode:Ge,zoomActivationKeyCode:ke,onlyRenderVisibleElements:st,defaultViewport:Sn,translateExtent:Ht,minZoom:Pt,maxZoom:Xt,preventScrolling:gn,zoomOnScroll:an,zoomOnPinch:jn,zoomOnDoubleClick:gt,panOnScroll:_e,panOnScrollSpeed:qe,panOnScrollMode:Me,panOnDrag:at,onPaneClick:Ze,onPaneMouseEnter:je,onPaneMouseMove:Yt,onPaneMouseLeave:wt,onPaneScroll:nt,onPaneContextMenu:Ke,paneClickDistance:ht,nodeClickDistance:yt,onSelectionContextMenu:M,onSelectionStart:I,onSelectionEnd:Q,onReconnect:$t,onReconnectStart:mt,onReconnectEnd:Tt,onEdgeContextMenu:un,onEdgeDoubleClick:lt,onEdgeMouseEnter:ut,onEdgeMouseMove:zn,onEdgeMouseLeave:Jt,reconnectRadius:yn,defaultMarkerColor:ln,noDragClassName:en,noWheelClassName:En,noPanClassName:Qn,rfId:Tn,disableKeyboardA11y:cr,nodeExtent:vn,viewport:Et,onViewportChange:ei}),j.jsx(IM,{nodes:e,edges:r,defaultNodes:a,defaultEdges:o,onConnect:S,onConnectStart:C,onConnectEnd:T,onClickConnectStart:B,onClickConnectEnd:z,nodesDraggable:rt,autoPanOnNodeFocus:St,nodesConnectable:qt,nodesFocusable:ft,edgesFocusable:At,edgesReconnectable:xt,elementsSelectable:Vt,elevateNodesOnSelect:Gr,elevateEdgesOnSelect:Qt,minZoom:Pt,maxZoom:Xt,nodeExtent:vn,onNodesChange:pr,onEdgesChange:ur,snapToGrid:Qe,snapGrid:Xe,connectionMode:q,translateExtent:Ht,connectOnClick:Kr,defaultEdgeOptions:Bi,fitView:ga,fitViewOptions:hs,onNodesDelete:fe,onEdgesDelete:J,onDelete:G,onNodeDragStart:$,onNodeDrag:P,onNodeDragStop:W,onSelectionDrag:Y,onSelectionDragStart:k,onSelectionDragStop:D,onMove:b,onMoveStart:y,onMoveEnd:x,noPanClassName:Qn,nodeOrigin:Dt,rfId:Tn,autoPanOnConnect:Fn,autoPanOnNodeDrag:_n,autoPanSpeed:va,onError:Pr,connectionRadius:Wa,isValidConnection:zr,selectNodesOnDrag:vt,nodeDragThreshold:Ja,connectionDragThreshold:ps,onBeforeDelete:ne,paneClickDistance:ht,debug:ms,ariaLabelConfig:Mo}),j.jsx(qM,{onSelectionChange:re}),Nt,j.jsx(BM,{proOptions:mr,position:Oo}),j.jsx(zM,{rfId:Tn,disableKeyboardA11y:cr})]})})}var fA=yS(cA);function VS(){const e=mn();return R.useCallback(r=>{const{domNode:a,updateNodeInternals:o}=e.getState(),l=Array.isArray(r)?r:[r],u=new Map;l.forEach(c=>{const d=a?.querySelector(`.react-flow__node[data-id="${c}"]`);d&&u.set(c,{id:c,nodeElement:d,force:!0})}),requestAnimationFrame(()=>o(u,{triggerFitView:!1}))},[])}const dA=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function YS(){return Ut(dA,wn)}function hA({dimensions:e,lineWidth:r,variant:a,className:o}){return j.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Vn(["react-flow__background-pattern",a,o])})}function pA({radius:e,className:r}){return j.jsx("circle",{cx:e,cy:e,r:e,className:Vn(["react-flow__background-pattern","dots",r])})}var Eo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Eo||(Eo={}));const mA={[Eo.Dots]:1,[Eo.Lines]:1,[Eo.Cross]:6},gA=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function IS({id:e,variant:r=Eo.Dots,gap:a=20,size:o,lineWidth:l=1,offset:u=0,color:c,bgColor:d,style:p,className:m,patternClassName:b}){const y=R.useRef(null),{transform:x,patternId:S}=Ut(gA,wn),C=o||mA[r],T=r===Eo.Dots,B=r===Eo.Cross,z=Array.isArray(a)?a:[a,a],V=[z[0]*x[2]||1,z[1]*x[2]||1],A=C*x[2],N=Array.isArray(u)?u:[u,u],K=B?[A,A]:V,L=[N[0]*x[2]||1+K[0]/2,N[1]*x[2]||1+K[1]/2],$=`${S}${e||""}`;return j.jsxs("svg",{className:Vn(["react-flow__background",m]),style:{...p,...Xd,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:y,"data-testid":"rf__background",children:[j.jsx("pattern",{id:$,x:x[0]%V[0],y:x[1]%V[1],width:V[0],height:V[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:T?j.jsx(pA,{radius:A/2,className:b}):j.jsx(hA,{dimensions:K,lineWidth:l,variant:r,className:b})}),j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${$})`})]})}IS.displayName="Background";const vA=R.memo(IS);function yA(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:j.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function bA(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:j.jsx("path",{d:"M0 0h32v4.2H0z"})})}function xA(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:j.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function wA(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function SA(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function qf({children:e,className:r,...a}){return j.jsx("button",{type:"button",className:Vn(["react-flow__controls-button",r]),...a,children:e})}const EA=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function XS({style:e,showZoom:r=!0,showFitView:a=!0,showInteractive:o=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:p,className:m,children:b,position:y="bottom-left",orientation:x="vertical","aria-label":S}){const C=mn(),{isInteractive:T,minZoomReached:B,maxZoomReached:z,ariaLabelConfig:V}=Ut(EA,wn),{zoomIn:A,zoomOut:N,fitView:K}=No(),L=()=>{A(),u?.()},$=()=>{N(),c?.()},P=()=>{K(l),d?.()},W=()=>{C.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),p?.(!T)},fe=x==="horizontal"?"horizontal":"vertical";return j.jsxs(Id,{className:Vn(["react-flow__controls",fe,m]),position:y,style:e,"data-testid":"rf__controls","aria-label":S??V["controls.ariaLabel"],children:[r&&j.jsxs(j.Fragment,{children:[j.jsx(qf,{onClick:L,className:"react-flow__controls-zoomin",title:V["controls.zoomIn.ariaLabel"],"aria-label":V["controls.zoomIn.ariaLabel"],disabled:z,children:j.jsx(yA,{})}),j.jsx(qf,{onClick:$,className:"react-flow__controls-zoomout",title:V["controls.zoomOut.ariaLabel"],"aria-label":V["controls.zoomOut.ariaLabel"],disabled:B,children:j.jsx(bA,{})})]}),a&&j.jsx(qf,{className:"react-flow__controls-fitview",onClick:P,title:V["controls.fitView.ariaLabel"],"aria-label":V["controls.fitView.ariaLabel"],children:j.jsx(xA,{})}),o&&j.jsx(qf,{className:"react-flow__controls-interactive",onClick:W,title:V["controls.interactive.ariaLabel"],"aria-label":V["controls.interactive.ariaLabel"],children:T?j.jsx(SA,{}):j.jsx(wA,{})}),b]})}XS.displayName="Controls";R.memo(XS);function _A({id:e,x:r,y:a,width:o,height:l,style:u,color:c,strokeColor:d,strokeWidth:p,className:m,borderRadius:b,shapeRendering:y,selected:x,onClick:S}){const{background:C,backgroundColor:T}=u||{},B=c||C||T;return j.jsx("rect",{className:Vn(["react-flow__minimap-node",{selected:x},m]),x:r,y:a,rx:b,ry:b,width:o,height:l,style:{fill:B,stroke:d,strokeWidth:p},shapeRendering:y,onClick:S?z=>S(z,e):void 0})}const CA=R.memo(_A),NA=e=>e.nodes.map(r=>r.id),cm=e=>e instanceof Function?e:()=>e;function TA({nodeStrokeColor:e,nodeColor:r,nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:u=CA,onClick:c}){const d=Ut(NA,wn),p=cm(r),m=cm(e),b=cm(a),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return j.jsx(j.Fragment,{children:d.map(x=>j.jsx(MA,{id:x,nodeColorFunc:p,nodeStrokeColorFunc:m,nodeClassNameFunc:b,nodeBorderRadius:o,nodeStrokeWidth:l,NodeComponent:u,onClick:c,shapeRendering:y},x))})}function OA({id:e,nodeColorFunc:r,nodeStrokeColorFunc:a,nodeClassNameFunc:o,nodeBorderRadius:l,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:d,onClick:p}){const{node:m,x:b,y,width:x,height:S}=Ut(C=>{const{internals:T}=C.nodeLookup.get(e),B=T.userNode,{x:z,y:V}=T.positionAbsolute,{width:A,height:N}=zi(B);return{node:B,x:z,y:V,width:A,height:N}},wn);return!m||m.hidden||!Kw(m)?null:j.jsx(d,{x:b,y,width:x,height:S,style:m.style,selected:!!m.selected,className:o(m),color:r(m),borderRadius:l,strokeColor:a(m),strokeWidth:u,shapeRendering:c,onClick:p,id:m.id})}const MA=R.memo(OA);var DA=R.memo(TA);const AA=200,RA=150,jA=e=>!e.hidden,zA=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?Xw(uc(e.nodeLookup,{filter:jA}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},BA="react-flow__minimap-desc";function KS({style:e,className:r,nodeStrokeColor:a,nodeColor:o,nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:p,maskColor:m,maskStrokeColor:b,maskStrokeWidth:y,position:x="bottom-right",onClick:S,onNodeClick:C,pannable:T=!1,zoomable:B=!1,ariaLabel:z,inversePan:V,zoomStep:A=1,offsetScale:N=5}){const K=mn(),L=R.useRef(null),{boundingRect:$,viewBB:P,rfId:W,panZoom:fe,translateExtent:J,flowWidth:G,flowHeight:re,ariaLabelConfig:k}=Ut(zA,wn),Y=e?.width??AA,D=e?.height??RA,M=$.width/Y,I=$.height/D,Q=Math.max(M,I),ne=Q*Y,q=Q*D,Z=N*Q,ae=$.x-(ne-$.width)/2-Z,de=$.y-(q-$.height)/2-Z,ye=ne+Z*2,Ce=q+Z*2,Ae=`${BA}-${W}`,Te=R.useRef(0),we=R.useRef();Te.current=Q,R.useEffect(()=>{if(L.current&&fe)return we.current=FO({domNode:L.current,panZoom:fe,getTransform:()=>K.getState().transform,getViewScale:()=>Te.current}),()=>{we.current?.destroy()}},[fe]),R.useEffect(()=>{we.current?.update({translateExtent:J,width:G,height:re,inversePan:V,pannable:T,zoomStep:A,zoomable:B})},[T,B,V,A,J,G,re]);const Ge=S?Qe=>{const[Xe,st]=we.current?.pointer(Qe)||[0,0];S(Qe,{x:Xe,y:st})}:void 0,Fe=C?R.useCallback((Qe,Xe)=>{const st=K.getState().nodeLookup.get(Xe).internals.userNode;C(Qe,st)},[]):void 0,ke=z??k["minimap.ariaLabel"];return j.jsx(Id,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-color-props":typeof b=="string"?b:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*Q:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Vn(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:j.jsxs("svg",{width:Y,height:D,viewBox:`${ae} ${de} ${ye} ${Ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ae,ref:L,onClick:Ge,children:[ke&&j.jsx("title",{id:Ae,children:ke}),j.jsx(DA,{onClick:Fe,nodeColor:o,nodeStrokeColor:a,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:d}),j.jsx("path",{className:"react-flow__minimap-mask",d:`M${ae-Z},${de-Z}h${ye+Z*2}v${Ce+Z*2}h${-ye-Z*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}KS.displayName="MiniMap";R.memo(KS);const HA=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,kA={[wl.Line]:"right",[wl.Handle]:"bottom-right"};function LA({nodeId:e,position:r,variant:a=wl.Handle,className:o,style:l=void 0,children:u,color:c,minWidth:d=10,minHeight:p=10,maxWidth:m=Number.MAX_VALUE,maxHeight:b=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:x,autoScale:S=!0,shouldResize:C,onResizeStart:T,onResize:B,onResizeEnd:z}){const V=SS(),A=typeof e=="string"?e:V,N=mn(),K=R.useRef(null),L=a===wl.Handle,$=Ut(R.useCallback(HA(L&&S),[L,S]),wn),P=R.useRef(null),W=r??kA[a];R.useEffect(()=>{if(!(!K.current||!A))return P.current||(P.current=hM({domNode:K.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:J,transform:G,snapGrid:re,snapToGrid:k,nodeOrigin:Y,domNode:D}=N.getState();return{nodeLookup:J,transform:G,snapGrid:re,snapToGrid:k,nodeOrigin:Y,paneDomNode:D}},onChange:(J,G)=>{const{triggerNodeChanges:re,nodeLookup:k,parentLookup:Y,nodeOrigin:D}=N.getState(),M=[],I={x:J.x,y:J.y},Q=k.get(A);if(Q&&Q.expandParent&&Q.parentId){const ne=Q.origin??D,q=J.width??Q.measured.width??0,Z=J.height??Q.measured.height??0,ae={id:Q.id,parentId:Q.parentId,rect:{width:q,height:Z,...Gw({x:J.x??Q.position.x,y:J.y??Q.position.y},{width:q,height:Z},Q.parentId,k,ne)}},de=Ag([ae],k,Y,D);M.push(...de),I.x=J.x?Math.max(ne[0]*q,J.x):void 0,I.y=J.y?Math.max(ne[1]*Z,J.y):void 0}if(I.x!==void 0&&I.y!==void 0){const ne={id:A,type:"position",position:{...I}};M.push(ne)}if(J.width!==void 0&&J.height!==void 0){const q={id:A,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:J.width,height:J.height}};M.push(q)}for(const ne of G){const q={...ne,type:"position"};M.push(q)}re(M)},onEnd:({width:J,height:G})=>{const re={id:A,type:"dimensions",resizing:!1,dimensions:{width:J,height:G}};N.getState().triggerNodeChanges([re])}})),P.current.update({controlPosition:W,boundaries:{minWidth:d,minHeight:p,maxWidth:m,maxHeight:b},keepAspectRatio:y,resizeDirection:x,onResizeStart:T,onResize:B,onResizeEnd:z,shouldResize:C}),()=>{P.current?.destroy()}},[W,d,p,m,b,y,T,B,z,C]);const fe=W.split("-");return j.jsx("div",{className:Vn(["react-flow__resize-control","nodrag",...fe,a,o]),ref:K,style:{...l,scale:$,...c&&{[L?"backgroundColor":"borderColor"]:c}},children:u})}R.memo(LA);const sr=[];for(let e=0;e<256;++e)sr.push((e+256).toString(16).slice(1));function UA(e,r=0){return(sr[e[r+0]]+sr[e[r+1]]+sr[e[r+2]]+sr[e[r+3]]+"-"+sr[e[r+4]]+sr[e[r+5]]+"-"+sr[e[r+6]]+sr[e[r+7]]+"-"+sr[e[r+8]]+sr[e[r+9]]+"-"+sr[e[r+10]]+sr[e[r+11]]+sr[e[r+12]]+sr[e[r+13]]+sr[e[r+14]]+sr[e[r+15]]).toLowerCase()}let fm;const qA=new Uint8Array(16);function $A(){if(!fm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fm=crypto.getRandomValues.bind(crypto)}return fm(qA)}const VA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xx={randomUUID:VA};function YA(e,r,a){e=e||{};const o=e.random??e.rng?.()??$A();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,UA(o)}function Sl(e,r,a){return xx.randomUUID&&!e?xx.randomUUID():YA(e)}var td={exports:{}},IA=td.exports,wx;function XA(){return wx||(wx=1,(function(e,r){(function(a,o){e.exports=o()})(IA,function(){var a=function(f,g){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(w[O]=E[O])})(f,g)},o=function(){return(o=Object.assign||function(f){for(var g,w=1,E=arguments.length;w<E;w++)for(var O in g=arguments[w])Object.prototype.hasOwnProperty.call(g,O)&&(f[O]=g[O]);return f}).apply(this,arguments)};function l(f,g,w){for(var E,O=0,H=g.length;O<H;O++)!E&&O in g||((E=E||Array.prototype.slice.call(g,0,O))[O]=g[O]);return f.concat(E||Array.prototype.slice.call(g))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:R_,c=Object.keys,d=Array.isArray;function p(f,g){return typeof g!="object"||c(g).forEach(function(w){f[w]=g[w]}),f}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var m=Object.getPrototypeOf,b={}.hasOwnProperty;function y(f,g){return b.call(f,g)}function x(f,g){typeof g=="function"&&(g=g(m(f))),(typeof Reflect>"u"?c:Reflect.ownKeys)(g).forEach(function(w){C(f,w,g[w])})}var S=Object.defineProperty;function C(f,g,w,E){S(f,g,p(w&&y(w,"get")&&typeof w.get=="function"?{get:w.get,set:w.set,configurable:!0}:{value:w,configurable:!0,writable:!0},E))}function T(f){return{from:function(g){return f.prototype=Object.create(g.prototype),C(f.prototype,"constructor",f),{extend:x.bind(null,f.prototype)}}}}var B=Object.getOwnPropertyDescriptor,z=[].slice;function V(f,g,w){return z.call(f,g,w)}function A(f,g){return g(f)}function N(f){if(!f)throw new Error("Assertion Failed")}function K(f){u.setImmediate?setImmediate(f):setTimeout(f,0)}function L(f,g){if(typeof g=="string"&&y(f,g))return f[g];if(!g)return f;if(typeof g!="string"){for(var w=[],E=0,O=g.length;E<O;++E){var H=L(f,g[E]);w.push(H)}return w}var X=g.indexOf(".");if(X!==-1){var F=f[g.substr(0,X)];return F==null?void 0:L(F,g.substr(X+1))}}function $(f,g,w){if(f&&g!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof g!="string"&&"length"in g){N(typeof w!="string"&&"length"in w);for(var E=0,O=g.length;E<O;++E)$(f,g[E],w[E])}else{var H,X,F=g.indexOf(".");F!==-1?(H=g.substr(0,F),(X=g.substr(F+1))===""?w===void 0?d(f)&&!isNaN(parseInt(H))?f.splice(H,1):delete f[H]:f[H]=w:$(F=!(F=f[H])||!y(f,H)?f[H]={}:F,X,w)):w===void 0?d(f)&&!isNaN(parseInt(g))?f.splice(g,1):delete f[g]:f[g]=w}}function P(f){var g,w={};for(g in f)y(f,g)&&(w[g]=f[g]);return w}var W=[].concat;function fe(f){return W.apply([],f)}var Pt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fe([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(g){return g+f+"Array"})}))).filter(function(f){return u[f]}),J=new Set(Pt.map(function(f){return u[f]})),G=null;function re(f){return G=new WeakMap,f=(function g(w){if(!w||typeof w!="object")return w;var E=G.get(w);if(E)return E;if(d(w)){E=[],G.set(w,E);for(var O=0,H=w.length;O<H;++O)E.push(g(w[O]))}else if(J.has(w.constructor))E=w;else{var X,F=m(w);for(X in E=F===Object.prototype?{}:Object.create(F),G.set(w,E),w)y(w,X)&&(E[X]=g(w[X]))}return E})(f),G=null,f}var k={}.toString;function Y(f){return k.call(f).slice(8,-1)}var D=typeof Symbol<"u"?Symbol.iterator:"@@iterator",M=typeof D=="symbol"?function(f){var g;return f!=null&&(g=f[D])&&g.apply(f)}:function(){return null};function I(f,g){return g=f.indexOf(g),0<=g&&f.splice(g,1),0<=g}var Q={};function ne(f){var g,w,E,O;if(arguments.length===1){if(d(f))return f.slice();if(this===Q&&typeof f=="string")return[f];if(O=M(f)){for(w=[];!(E=O.next()).done;)w.push(E.value);return w}if(f==null)return[f];if(typeof(g=f.length)!="number")return[f];for(w=new Array(g);g--;)w[g]=f[g];return w}for(g=arguments.length,w=new Array(g);g--;)w[g]=arguments[g];return w}var q=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Sn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Sn),Z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(f,g){this.name=f,this.message=g}function de(f,g){return f+". Errors: "+Object.keys(g).map(function(w){return g[w].toString()}).filter(function(w,E,O){return O.indexOf(w)===E}).join(`
`)}function ye(f,g,w,E){this.failures=g,this.failedKeys=E,this.successCount=w,this.message=de(f,g)}function Ce(f,g){this.name="BulkError",this.failures=Object.keys(g).map(function(w){return g[w]}),this.failuresByPos=g,this.message=de(f,this.failures)}T(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),T(ye).from(ae),T(Ce).from(ae);var Ae=vr.reduce(function(f,g){return f[g]=g+"Error",f},{}),Te=ae,we=vr.reduce(function(f,g){var w=g+"Error";function E(O,H){this.name=w,O?typeof O=="string"?(this.message="".concat(O).concat(H?`
 `+H:""),this.inner=H||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=Z[g]||w,this.inner=null)}return T(E).from(Te),f[g]=E,f},{});we.Syntax=SyntaxError,we.Type=TypeError,we.Range=RangeError;var Ge=Sn.reduce(function(f,g){return f[g+"Error"]=we[g],f},{}),Fe=vr.reduce(function(f,g){return["Syntax","Type","Range"].indexOf(g)===-1&&(f[g+"Error"]=we[g]),f},{});function ke(){}function Qe(f){return f}function Xe(f,g){return f==null||f===Qe?g:function(w){return g(f(w))}}function st(f,g){return function(){f.apply(this,arguments),g.apply(this,arguments)}}function vt(f,g){return f===ke?g:function(){var w=f.apply(this,arguments);w!==void 0&&(arguments[0]=w);var E=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var H=g.apply(this,arguments);return E&&(this.onsuccess=this.onsuccess?st(E,this.onsuccess):E),O&&(this.onerror=this.onerror?st(O,this.onerror):O),H!==void 0?H:w}}function rt(f,g){return f===ke?g:function(){f.apply(this,arguments);var w=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,g.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?st(w,this.onsuccess):w),E&&(this.onerror=this.onerror?st(E,this.onerror):E)}}function St(f,g){return f===ke?g:function(w){var E=f.apply(this,arguments);p(w,E);var O=this.onsuccess,H=this.onerror;return this.onsuccess=null,this.onerror=null,w=g.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?st(O,this.onsuccess):O),H&&(this.onerror=this.onerror?st(H,this.onerror):H),E===void 0?w===void 0?void 0:w:p(E,w)}}function qt(f,g){return f===ke?g:function(){return g.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function ft(f,g){return f===ke?g:function(){var w=f.apply(this,arguments);if(w&&typeof w.then=="function"){for(var E=this,O=arguments.length,H=new Array(O);O--;)H[O]=arguments[O];return w.then(function(){return g.apply(E,H)})}return g.apply(this,arguments)}}Fe.ModifyError=ye,Fe.DexieError=ae,Fe.BulkError=Ce;var Dt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function At(f){Dt=f}var xt={},Vt=100,Pt=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,m(f),f];var g=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[g,m(g),f]})(),Sn=Pt[0],vr=Pt[1],Pt=Pt[2],vr=vr&&vr.then,Xt=Sn&&Sn.constructor,Ht=!!Pt,gn=function(f,g){gt.push([f,g]),ln&&(queueMicrotask(Nt),ln=!1)},vn=!0,ln=!0,an=[],jn=[],_e=Qe,qe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ke,pgp:!1,env:{},finalize:ke},Me=qe,gt=[],at=0,Ze=[];function je(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var g=this._PSD=Me;if(typeof f!="function"){if(f!==xt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&nt(this,this._value))}this._state=null,this._value=null,++g.ref,(function w(E,O){try{O(function(H){if(E._state===null){if(H===E)throw new TypeError("A promise cannot be resolved with itself.");var X=E._lib&&$t();H&&typeof H.then=="function"?w(E,function(F,ie){H instanceof je?H._then(F,ie):H.then(F,ie)}):(E._state=!0,E._value=H,Ke(E)),X&&mt()}},nt.bind(null,E))}catch(H){nt(E,H)}})(this,f)}var Yt={get:function(){var f=Me,g=pr;function w(E,O){var H=this,X=!f.global&&(f!==Me||g!==pr),F=X&&!Qn(),ie=new je(function(oe,he){ht(H,new wt(Bi(E,f,X,F),Bi(O,f,X,F),oe,he,f))});return this._consoleTask&&(ie._consoleTask=this._consoleTask),ie}return w.prototype=xt,w},set:function(f){C(this,"then",f&&f.prototype===xt?Yt:{get:function(){return f},set:Yt.set})}};function wt(f,g,w,E,O){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof g=="function"?g:null,this.resolve=w,this.reject=E,this.psd=O}function nt(f,g){var w,E;jn.push(g),f._state===null&&(w=f._lib&&$t(),g=_e(g),f._state=!1,f._value=g,E=f,an.some(function(O){return O._value===E._value})||an.push(E),Ke(f),w&&mt())}function Ke(f){var g=f._listeners;f._listeners=[];for(var w=0,E=g.length;w<E;++w)ht(f,g[w]);var O=f._PSD;--O.ref||O.finalize(),at===0&&(++at,gn(function(){--at==0&&Tt()},[]))}function ht(f,g){if(f._state!==null){var w=f._state?g.onFulfilled:g.onRejected;if(w===null)return(f._state?g.resolve:g.reject)(f._value);++g.psd.ref,++at,gn(yt,[w,f,g])}else f._listeners.push(g)}function yt(f,g,w){try{var E,O=g._value;!g._state&&jn.length&&(jn=[]),E=Dt&&g._consoleTask?g._consoleTask.run(function(){return f(O)}):f(O),g._state||jn.indexOf(O)!==-1||(function(H){for(var X=an.length;X;)if(an[--X]._value===H._value)return an.splice(X,1)})(g),w.resolve(E)}catch(H){w.reject(H)}finally{--at==0&&Tt(),--w.psd.ref||w.psd.finalize()}}function Nt(){mr(qe,function(){$t()&&mt()})}function $t(){var f=vn;return ln=vn=!1,f}function mt(){var f,g,w;do for(;0<gt.length;)for(f=gt,gt=[],w=f.length,g=0;g<w;++g){var E=f[g];E[0].apply(null,E[1])}while(0<gt.length);ln=vn=!0}function Tt(){var f=an;an=[],f.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)});for(var g=Ze.slice(0),w=g.length;w;)g[--w]()}function un(f){return new je(xt,!1,f)}function lt(f,g){var w=Me;return function(){var E=$t(),O=Me;try{return Kr(w,!0),f.apply(this,arguments)}catch(H){g&&g(H)}finally{Kr(O,!1),E&&mt()}}}x(je.prototype,{then:Yt,_then:function(f,g){ht(this,new wt(null,null,f,g,Me))},catch:function(f){if(arguments.length===1)return this.then(null,f);var g=f,w=arguments[1];return typeof g=="function"?this.then(null,function(E){return(E instanceof g?w:un)(E)}):this.then(null,function(E){return(E&&E.name===g?w:un)(E)})},finally:function(f){return this.then(function(g){return je.resolve(f()).then(function(){return g})},function(g){return je.resolve(f()).then(function(){return un(g)})})},timeout:function(f,g){var w=this;return f<1/0?new je(function(E,O){var H=setTimeout(function(){return O(new we.Timeout(g))},f);w.then(E,O).finally(clearTimeout.bind(null,H))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(je.prototype,Symbol.toStringTag,"Dexie.Promise"),qe.env=Oo(),x(je,{all:function(){var f=ne.apply(null,arguments).map(ga);return new je(function(g,w){f.length===0&&g([]);var E=f.length;f.forEach(function(O,H){return je.resolve(O).then(function(X){f[H]=X,--E||g(f)},w)})})},resolve:function(f){return f instanceof je?f:f&&typeof f.then=="function"?new je(function(g,w){f.then(g,w)}):new je(xt,!0,f)},reject:un,race:function(){var f=ne.apply(null,arguments).map(ga);return new je(function(g,w){f.map(function(E){return je.resolve(E).then(g,w)})})},PSD:{get:function(){return Me},set:function(f){return Me=f}},totalEchoes:{get:function(){return pr}},newPSD:en,usePSD:mr,scheduler:{get:function(){return gn},set:function(f){gn=f}},rejectionMapper:{get:function(){return _e},set:function(f){_e=f}},follow:function(f,g){return new je(function(w,E){return en(function(O,H){var X=Me;X.unhandleds=[],X.onunhandled=H,X.finalize=st(function(){var F,ie=this;F=function(){ie.unhandleds.length===0?O():H(ie.unhandleds[0])},Ze.push(function oe(){F(),Ze.splice(Ze.indexOf(oe),1)}),++at,gn(function(){--at==0&&Tt()},[])},X.finalize),f()},g,w,E)})}}),Xt&&(Xt.allSettled&&C(je,"allSettled",function(){var f=ne.apply(null,arguments).map(ga);return new je(function(g){f.length===0&&g([]);var w=f.length,E=new Array(w);f.forEach(function(O,H){return je.resolve(O).then(function(X){return E[H]={status:"fulfilled",value:X}},function(X){return E[H]={status:"rejected",reason:X}}).then(function(){return--w||g(E)})})})}),Xt.any&&typeof AggregateError<"u"&&C(je,"any",function(){var f=ne.apply(null,arguments).map(ga);return new je(function(g,w){f.length===0&&w(new AggregateError([]));var E=f.length,O=new Array(E);f.forEach(function(H,X){return je.resolve(H).then(function(F){return g(F)},function(F){O[X]=F,--E||w(new AggregateError(O))})})})}),Xt.withResolvers&&(je.withResolvers=Xt.withResolvers));var ut={awaits:0,echoes:0,id:0},zn=0,Jt=[],yn=0,pr=0,ur=0;function en(f,g,w,E){var O=Me,H=Object.create(O);return H.parent=O,H.ref=0,H.global=!1,H.id=++ur,qe.env,H.env=Ht?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject}:{},g&&p(H,g),++O.ref,H.finalize=function(){--this.parent.ref||this.parent.finalize()},E=mr(H,f,w,E),H.ref===0&&H.finalize(),E}function En(){return ut.id||(ut.id=++zn),++ut.awaits,ut.echoes+=Vt,ut.id}function Qn(){return!!ut.awaits&&(--ut.awaits==0&&(ut.id=0),ut.echoes=ut.awaits*Vt,!0)}function ga(f){return ut.echoes&&f&&f.constructor===Xt?(En(),f.then(function(g){return Qn(),g},function(g){return Qn(),Qt(g)})):f}function hs(){var f=Jt[Jt.length-1];Jt.pop(),Kr(f,!1)}function Kr(f,g){var w,E=Me;(g?!ut.echoes||yn++&&f===Me:!yn||--yn&&f===Me)||queueMicrotask(g?(function(O){++pr,ut.echoes&&--ut.echoes!=0||(ut.echoes=ut.awaits=ut.id=0),Jt.push(Me),Kr(O,!0)}).bind(null,f):hs),f!==Me&&(Me=f,E===qe&&(qe.env=Oo()),Ht&&(w=qe.env.Promise,g=f.env,(E.global||f.global)&&(Object.defineProperty(u,"Promise",g.PromiseProp),w.all=g.all,w.race=g.race,w.resolve=g.resolve,w.reject=g.reject,g.allSettled&&(w.allSettled=g.allSettled),g.any&&(w.any=g.any))))}function Oo(){var f=u.Promise;return Ht?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function mr(f,g,w,E,O){var H=Me;try{return Kr(f,!0),g(w,E,O)}finally{Kr(H,!1)}}function Bi(f,g,w,E){return typeof f!="function"?f:function(){var O=Me;w&&En(),Kr(g,!0);try{return f.apply(this,arguments)}finally{Kr(O,!1),E&&queueMicrotask(Qn)}}}function Gr(f){Promise===Xt&&ut.echoes===0?yn===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+vr).indexOf("[native code]")===-1&&(En=Qn=ke);var Qt=je.reject,cr="",Fn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_n="String expected.",va=[],Wa="__dbnames",zr="readonly",Pr="readwrite";function ya(f,g){return f?g?function(){return f.apply(this,arguments)&&g.apply(this,arguments)}:f:g}var Hi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ja(f){return typeof f!="string"||/\./.test(f)?function(g){return g}:function(g){return g[f]===void 0&&f in g&&delete(g=re(g))[f],g}}function ps(){throw we.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Et(f,g){try{var w=ei(f),E=ei(g);if(w!==E)return w==="Array"?1:E==="Array"?-1:w==="binary"?1:E==="binary"?-1:w==="string"?1:E==="string"?-1:w==="Date"?1:E!=="Date"?NaN:-1;switch(w){case"number":case"Date":case"string":return g<f?1:f<g?-1:0;case"binary":return(function(O,H){for(var X=O.length,F=H.length,ie=X<F?X:F,oe=0;oe<ie;++oe)if(O[oe]!==H[oe])return O[oe]<H[oe]?-1:1;return X===F?0:X<F?-1:1})(wr(f),wr(g));case"Array":return(function(O,H){for(var X=O.length,F=H.length,ie=X<F?X:F,oe=0;oe<ie;++oe){var he=Et(O[oe],H[oe]);if(he!==0)return he}return X===F?0:X<F?-1:1})(f,g)}}catch{}return NaN}function ei(f){var g=typeof f;return g!="object"?g:ArrayBuffer.isView(f)?"binary":(f=Y(f),f==="ArrayBuffer"?"binary":f)}function wr(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function Xn(f,g,w){var E=f.schema.yProps;return E?(g&&0<w.numFailures&&(g=g.filter(function(O,H){return!w.failures[H]})),Promise.all(E.map(function(O){return O=O.updatesTable,g?f.db.table(O).where("k").anyOf(g).delete():f.db.table(O).clear()})).then(function(){return w})):w}var ja=(ms.prototype.execute=function(f){var g=this["@@propmod"];if(g.add!==void 0){var w=g.add;if(d(w))return l(l([],d(f)?f:[],!0),w).sort();if(typeof w=="number")return(Number(f)||0)+w;if(typeof w=="bigint")try{return BigInt(f)+w}catch{return BigInt(0)+w}throw new TypeError("Invalid term ".concat(w))}if(g.remove!==void 0){var E=g.remove;if(d(E))return d(f)?f.filter(function(O){return!E.includes(O)}).sort():[];if(typeof E=="number")return Number(f)-E;if(typeof E=="bigint")try{return BigInt(f)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return w=(w=g.replacePrefix)===null||w===void 0?void 0:w[0],w&&typeof f=="string"&&f.startsWith(w)?g.replacePrefix[1]+f.substring(w.length):f},ms);function ms(f){this["@@propmod"]=f}function ti(f,g){for(var w=c(g),E=w.length,O=!1,H=0;H<E;++H){var X=w[H],F=g[X],ie=L(f,X);F instanceof ja?($(f,X,F.execute(ie)),O=!0):ie!==F&&($(f,X,F),O=!0)}return O}var Mo=(It.prototype._trans=function(f,g,w){var E=this._tx||Me.trans,O=this.name,H=Dt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function X(oe,he,te){if(!te.schema[O])throw new we.NotFound("Table "+O+" not part of transaction");return g(te.idbtrans,te)}var F=$t();try{var ie=E&&E.db._novip===this.db._novip?E===Me.trans?E._promise(f,X,w):en(function(){return E._promise(f,X,w)},{trans:E,transless:Me.transless||Me}):(function oe(he,te,me,se){if(he.idbdb&&(he._state.openComplete||Me.letThrough||he._vip)){var ue=he._createTransaction(te,me,he._dbSchema);try{ue.create(),he._state.PR1398_maxLoop=3}catch(ce){return ce.name===Ae.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return oe(he,te,me,se)})):Qt(ce)}return ue._promise(te,function(ce,pe){return en(function(){return Me.trans=ue,se(ce,pe,ue)})}).then(function(ce){if(te==="readwrite")try{ue.idbtrans.commit()}catch{}return te==="readonly"?ce:ue._completion.then(function(){return ce})})}if(he._state.openComplete)return Qt(new we.DatabaseClosed(he._state.dbOpenError));if(!he._state.isBeingOpened){if(!he._state.autoOpen)return Qt(new we.DatabaseClosed);he.open().catch(ke)}return he._state.dbReadyPromise.then(function(){return oe(he,te,me,se)})})(this.db,f,[this.name],X);return H&&(ie._consoleTask=H,ie=ie.catch(function(oe){return console.trace(oe),Qt(oe)})),ie}finally{F&&mt()}},It.prototype.get=function(f,g){var w=this;return f&&f.constructor===Object?this.where(f).first(g):f==null?Qt(new we.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return w.core.get({trans:E,key:f}).then(function(O){return w.hook.reading.fire(O)})}).then(g)},It.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(d(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var g=c(f);if(g.length===1)return this.where(g[0]).equals(f[g[0]]);var w=this.schema.indexes.concat(this.schema.primKey).filter(function(F){if(F.compound&&g.every(function(oe){return 0<=F.keyPath.indexOf(oe)})){for(var ie=0;ie<g.length;++ie)if(g.indexOf(F.keyPath[ie])===-1)return!1;return!0}return!1}).sort(function(F,ie){return F.keyPath.length-ie.keyPath.length})[0];if(w&&this.db._maxKey!==cr){var H=w.keyPath.slice(0,g.length);return this.where(H).equals(H.map(function(ie){return f[ie]}))}!w&&Dt&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(g.join("+"),"]"));var E=this.schema.idxByName;function O(F,ie){return Et(F,ie)===0}var X=g.reduce(function(te,ie){var oe=te[0],he=te[1],te=E[ie],me=f[ie];return[oe||te,oe||!te?ya(he,te&&te.multi?function(se){return se=L(se,ie),d(se)&&se.some(function(ue){return O(me,ue)})}:function(se){return O(me,L(se,ie))}):he]},[null,null]),H=X[0],X=X[1];return H?this.where(H.name).equals(f[H.keyPath]).filter(X):w?this.filter(X):this.where(g).equals("")},It.prototype.filter=function(f){return this.toCollection().and(f)},It.prototype.count=function(f){return this.toCollection().count(f)},It.prototype.offset=function(f){return this.toCollection().offset(f)},It.prototype.limit=function(f){return this.toCollection().limit(f)},It.prototype.each=function(f){return this.toCollection().each(f)},It.prototype.toArray=function(f){return this.toCollection().toArray(f)},It.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},It.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,d(f)?"[".concat(f.join("+"),"]"):f))},It.prototype.reverse=function(){return this.toCollection().reverse()},It.prototype.mapToClass=function(f){var g,w=this.db,E=this.name;function O(){return g!==null&&g.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof ps&&((function(ie,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function he(){this.constructor=ie}a(ie,oe),ie.prototype=oe===null?Object.create(oe):(he.prototype=oe.prototype,new he)})(O,g=f),Object.defineProperty(O.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),O.prototype.table=function(){return E},f=O);for(var H=new Set,X=f.prototype;X;X=m(X))Object.getOwnPropertyNames(X).forEach(function(ie){return H.add(ie)});function F(ie){if(!ie)return ie;var oe,he=Object.create(f.prototype);for(oe in ie)if(!H.has(oe))try{he[oe]=ie[oe]}catch{}return he}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=F,this.hook("reading",F),f},It.prototype.defineClass=function(){return this.mapToClass(function(f){p(this,f)})},It.prototype.add=function(f,g){var w=this,E=this.schema.primKey,O=E.auto,H=E.keyPath,X=f;return H&&O&&(X=Ja(H)(f)),this._trans("readwrite",function(F){return w.core.mutate({trans:F,type:"add",keys:g!=null?[g]:null,values:[X]})}).then(function(F){return F.numFailures?je.reject(F.failures[0]):F.lastResult}).then(function(F){if(H)try{$(f,H,F)}catch{}return F})},It.prototype.upsert=function(f,g){var w=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(O){return w.core.get({trans:O,key:f}).then(function(H){var X=H??{};return ti(X,g),E&&$(X,E,f),w.core.mutate({trans:O,type:"put",values:[X],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[g]}}).then(function(F){return F.numFailures?je.reject(F.failures[0]):!!H})})})},It.prototype.update=function(f,g){return typeof f!="object"||d(f)?this.where(":id").equals(f).modify(g):(f=L(f,this.schema.primKey.keyPath),f===void 0?Qt(new we.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(g))},It.prototype.put=function(f,g){var w=this,E=this.schema.primKey,O=E.auto,H=E.keyPath,X=f;return H&&O&&(X=Ja(H)(f)),this._trans("readwrite",function(F){return w.core.mutate({trans:F,type:"put",values:[X],keys:g!=null?[g]:null})}).then(function(F){return F.numFailures?je.reject(F.failures[0]):F.lastResult}).then(function(F){if(H)try{$(f,H,F)}catch{}return F})},It.prototype.delete=function(f){var g=this;return this._trans("readwrite",function(w){return g.core.mutate({trans:w,type:"delete",keys:[f]}).then(function(E){return Xn(g,[f],E)}).then(function(E){return E.numFailures?je.reject(E.failures[0]):void 0})})},It.prototype.clear=function(){var f=this;return this._trans("readwrite",function(g){return f.core.mutate({trans:g,type:"deleteRange",range:Hi}).then(function(w){return Xn(f,null,w)})}).then(function(g){return g.numFailures?je.reject(g.failures[0]):void 0})},It.prototype.bulkGet=function(f){var g=this;return this._trans("readonly",function(w){return g.core.getMany({keys:f,trans:w}).then(function(E){return E.map(function(O){return g.hook.reading.fire(O)})})})},It.prototype.bulkAdd=function(f,g,w){var E=this,O=Array.isArray(g)?g:void 0,H=(w=w||(O?void 0:g))?w.allKeys:void 0;return this._trans("readwrite",function(X){var oe=E.schema.primKey,F=oe.auto,oe=oe.keyPath;if(oe&&O)throw new we.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==f.length)throw new we.InvalidArgument("Arguments objects and keys must have the same length");var ie=f.length,oe=oe&&F?f.map(Ja(oe)):f;return E.core.mutate({trans:X,type:"add",keys:O,values:oe,wantResults:H}).then(function(ue){var te=ue.numFailures,me=ue.results,se=ue.lastResult,ue=ue.failures;if(te===0)return H?me:se;throw new Ce("".concat(E.name,".bulkAdd(): ").concat(te," of ").concat(ie," operations failed"),ue)})})},It.prototype.bulkPut=function(f,g,w){var E=this,O=Array.isArray(g)?g:void 0,H=(w=w||(O?void 0:g))?w.allKeys:void 0;return this._trans("readwrite",function(X){var oe=E.schema.primKey,F=oe.auto,oe=oe.keyPath;if(oe&&O)throw new we.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==f.length)throw new we.InvalidArgument("Arguments objects and keys must have the same length");var ie=f.length,oe=oe&&F?f.map(Ja(oe)):f;return E.core.mutate({trans:X,type:"put",keys:O,values:oe,wantResults:H}).then(function(ue){var te=ue.numFailures,me=ue.results,se=ue.lastResult,ue=ue.failures;if(te===0)return H?me:se;throw new Ce("".concat(E.name,".bulkPut(): ").concat(te," of ").concat(ie," operations failed"),ue)})})},It.prototype.bulkUpdate=function(f){var g=this,w=this.core,E=f.map(function(X){return X.key}),O=f.map(function(X){return X.changes}),H=[];return this._trans("readwrite",function(X){return w.getMany({trans:X,keys:E,cache:"clone"}).then(function(F){var ie=[],oe=[];f.forEach(function(te,me){var se=te.key,ue=te.changes,ce=F[me];if(ce){for(var pe=0,ve=Object.keys(ue);pe<ve.length;pe++){var Se=ve[pe],Oe=ue[Se];if(Se===g.schema.primKey.keyPath){if(Et(Oe,se)!==0)throw new we.Constraint("Cannot update primary key in bulkUpdate()")}else $(ce,Se,Oe)}H.push(me),ie.push(se),oe.push(ce)}});var he=ie.length;return w.mutate({trans:X,type:"put",keys:ie,values:oe,updates:{keys:E,changeSpecs:O}}).then(function(te){var me=te.numFailures,se=te.failures;if(me===0)return he;for(var ue=0,ce=Object.keys(se);ue<ce.length;ue++){var pe,ve=ce[ue],Se=H[Number(ve)];Se!=null&&(pe=se[ve],delete se[ve],se[Se]=pe)}throw new Ce("".concat(g.name,".bulkUpdate(): ").concat(me," of ").concat(he," operations failed"),se)})})})},It.prototype.bulkDelete=function(f){var g=this,w=f.length;return this._trans("readwrite",function(E){return g.core.mutate({trans:E,type:"delete",keys:f}).then(function(O){return Xn(g,f,O)})}).then(function(X){var O=X.numFailures,H=X.lastResult,X=X.failures;if(O===0)return H;throw new Ce("".concat(g.name,".bulkDelete(): ").concat(O," of ").concat(w," operations failed"),X)})},It);function It(){}function ni(f){function g(X,F){if(F){for(var ie=arguments.length,oe=new Array(ie-1);--ie;)oe[ie-1]=arguments[ie];return w[X].subscribe.apply(null,oe),f}if(typeof X=="string")return w[X]}var w={};g.addEventType=H;for(var E=1,O=arguments.length;E<O;++E)H(arguments[E]);return g;function H(X,F,ie){if(typeof X!="object"){var oe;F=F||qt;var he={subscribers:[],fire:ie=ie||ke,subscribe:function(te){he.subscribers.indexOf(te)===-1&&(he.subscribers.push(te),he.fire=F(he.fire,te))},unsubscribe:function(te){he.subscribers=he.subscribers.filter(function(me){return me!==te}),he.fire=he.subscribers.reduce(F,ie)}};return w[X]=g[X]=he}c(oe=X).forEach(function(te){var me=oe[te];if(d(me))H(te,oe[te][0],oe[te][1]);else{if(me!=="asap")throw new we.InvalidArgument("Invalid event config");var se=H(te,Qe,function(){for(var ue=arguments.length,ce=new Array(ue);ue--;)ce[ue]=arguments[ue];se.subscribers.forEach(function(pe){K(function(){pe.apply(null,ce)})})})}})}}function Tn(f,g){return T(g).from({prototype:f}),g}function Zr(f,g){return!(f.filter||f.algorithm||f.or)&&(g?f.justLimit:!f.replayFilter)}function ki(f,g){f.filter=ya(f.filter,g)}function za(f,g,w){var E=f.replayFilter;f.replayFilter=E?function(){return ya(E(),g())}:g,f.justLimit=w&&!E}function ba(f,g){if(f.isPrimKey)return g.primaryKey;var w=g.getIndexByKeyPath(f.index);if(!w)throw new we.Schema("KeyPath "+f.index+" on object store "+g.name+" is not indexed");return w}function Ml(f,g,w){var E=ba(f,g.schema);return g.openCursor({trans:w,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:E,range:f.range}})}function Do(f,g,w,E){var O=f.replayFilter?ya(f.filter,f.replayFilter()):f.filter;if(f.or){var H={},X=function(F,ie,oe){var he,te;O&&!O(ie,oe,function(me){return ie.stop(me)},function(me){return ie.fail(me)})||((te=""+(he=ie.primaryKey))=="[object ArrayBuffer]"&&(te=""+new Uint8Array(he)),y(H,te)||(H[te]=!0,g(F,ie,oe)))};return Promise.all([f.or._iterate(X,w),ri(Ml(f,E,w),f.algorithm,X,!f.keysOnly&&f.valueMapper)])}return ri(Ml(f,E,w),ya(f.algorithm,O),g,!f.keysOnly&&f.valueMapper)}function ri(f,g,w,E){var O=lt(E?function(H,X,F){return w(E(H),X,F)}:w);return f.then(function(H){if(H)return H.start(function(){var X=function(){return H.continue()};g&&!g(H,function(F){return X=F},function(F){H.stop(F),X=ke},function(F){H.fail(F),X=ke})||O(H.value,H,function(F){return X=F}),X()})})}var ah=(kt.prototype._read=function(f,g){var w=this._ctx;return w.error?w.table._trans(null,Qt.bind(null,w.error)):w.table._trans("readonly",f).then(g)},kt.prototype._write=function(f){var g=this._ctx;return g.error?g.table._trans(null,Qt.bind(null,g.error)):g.table._trans("readwrite",f,"locked")},kt.prototype._addAlgorithm=function(f){var g=this._ctx;g.algorithm=ya(g.algorithm,f)},kt.prototype._iterate=function(f,g){return Do(this._ctx,f,g,this._ctx.table.core)},kt.prototype.clone=function(f){var g=Object.create(this.constructor.prototype),w=Object.create(this._ctx);return f&&p(w,f),g._ctx=w,g},kt.prototype.raw=function(){return this._ctx.valueMapper=null,this},kt.prototype.each=function(f){var g=this._ctx;return this._read(function(w){return Do(g,f,w,g.table.core)})},kt.prototype.count=function(f){var g=this;return this._read(function(w){var E=g._ctx,O=E.table.core;if(Zr(E,!0))return O.count({trans:w,query:{index:ba(E,O.schema),range:E.range}}).then(function(X){return Math.min(X,E.limit)});var H=0;return Do(E,function(){return++H,!1},w,O).then(function(){return H})}).then(f)},kt.prototype.sortBy=function(f,g){var w=f.split(".").reverse(),E=w[0],O=w.length-1;function H(ie,oe){return oe?H(ie[w[oe]],oe-1):ie[E]}var X=this._ctx.dir==="next"?1:-1;function F(ie,oe){return Et(H(ie,O),H(oe,O))*X}return this.toArray(function(ie){return ie.sort(F)}).then(g)},kt.prototype.toArray=function(f){var g=this;return this._read(function(w){var E=g._ctx;if(E.dir==="next"&&Zr(E,!0)&&0<E.limit){var O=E.valueMapper,H=ba(E,E.table.core.schema);return E.table.core.query({trans:w,limit:E.limit,values:!0,query:{index:H,range:E.range}}).then(function(F){return F=F.result,O?F.map(O):F})}var X=[];return Do(E,function(F){return X.push(F)},w,E.table.core).then(function(){return X})},f)},kt.prototype.offset=function(f){var g=this._ctx;return f<=0||(g.offset+=f,Zr(g)?za(g,function(){var w=f;return function(E,O){return w===0||(w===1?--w:O(function(){E.advance(w),w=0}),!1)}}):za(g,function(){var w=f;return function(){return--w<0}})),this},kt.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),za(this._ctx,function(){var g=f;return function(w,E,O){return--g<=0&&E(O),0<=g}},!0),this},kt.prototype.until=function(f,g){return ki(this._ctx,function(w,E,O){return!f(w.value)||(E(O),g)}),this},kt.prototype.first=function(f){return this.limit(1).toArray(function(g){return g[0]}).then(f)},kt.prototype.last=function(f){return this.reverse().first(f)},kt.prototype.filter=function(f){var g;return ki(this._ctx,function(w){return f(w.value)}),(g=this._ctx).isMatch=ya(g.isMatch,f),this},kt.prototype.and=function(f){return this.filter(f)},kt.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},kt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},kt.prototype.desc=function(){return this.reverse()},kt.prototype.eachKey=function(f){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(w,E){f(E.key,E)})},kt.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},kt.prototype.eachPrimaryKey=function(f){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(w,E){f(E.primaryKey,E)})},kt.prototype.keys=function(f){var g=this._ctx;g.keysOnly=!g.isMatch;var w=[];return this.each(function(E,O){w.push(O.key)}).then(function(){return w}).then(f)},kt.prototype.primaryKeys=function(f){var g=this._ctx;if(g.dir==="next"&&Zr(g,!0)&&0<g.limit)return this._read(function(E){var O=ba(g,g.table.core.schema);return g.table.core.query({trans:E,values:!1,limit:g.limit,query:{index:O,range:g.range}})}).then(function(E){return E.result}).then(f);g.keysOnly=!g.isMatch;var w=[];return this.each(function(E,O){w.push(O.primaryKey)}).then(function(){return w}).then(f)},kt.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},kt.prototype.firstKey=function(f){return this.limit(1).keys(function(g){return g[0]}).then(f)},kt.prototype.lastKey=function(f){return this.reverse().firstKey(f)},kt.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var g={};return ki(this._ctx,function(O){var E=O.primaryKey.toString(),O=y(g,E);return g[E]=!0,!O}),this},kt.prototype.modify=function(f){var g=this,w=this._ctx;return this._write(function(E){var O=typeof f=="function"?f:function(ce){return ti(ce,f)},H=w.table.core,oe=H.schema.primaryKey,X=oe.outbound,F=oe.extractKey,ie=200,oe=g.db._options.modifyChunkSize;oe&&(ie=typeof oe=="object"?oe[H.name]||oe["*"]||200:oe);function he(ce,Se){var ve=Se.failures,Se=Se.numFailures;me+=ce-Se;for(var Oe=0,ze=c(ve);Oe<ze.length;Oe++){var $e=ze[Oe];te.push(ve[$e])}}var te=[],me=0,se=[],ue=f===Dl;return g.clone().primaryKeys().then(function(ce){function pe(Se){var Oe=Math.min(ie,ce.length-Se),ze=ce.slice(Se,Se+Oe);return(ue?Promise.resolve([]):H.getMany({trans:E,keys:ze,cache:"immutable"})).then(function($e){var Ie=[],Le=[],Ve=X?[]:null,Ye=ue?ze:[];if(!ue)for(var Ue=0;Ue<Oe;++Ue){var Pe=$e[Ue],it={value:re(Pe),primKey:ce[Se+Ue]};O.call(it,it.value,it)!==!1&&(it.value==null?Ye.push(ce[Se+Ue]):X||Et(F(Pe),F(it.value))===0?(Le.push(it.value),X&&Ve.push(ce[Se+Ue])):(Ye.push(ce[Se+Ue]),Ie.push(it.value)))}return Promise.resolve(0<Ie.length&&H.mutate({trans:E,type:"add",values:Ie}).then(function(pt){for(var _t in pt.failures)Ye.splice(parseInt(_t),1);he(Ie.length,pt)})).then(function(){return(0<Le.length||ve&&typeof f=="object")&&H.mutate({trans:E,type:"put",keys:Ve,values:Le,criteria:ve,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<Se}).then(function(pt){return he(Le.length,pt)})}).then(function(){return(0<Ye.length||ve&&ue)&&H.mutate({trans:E,type:"delete",keys:Ye,criteria:ve,isAdditionalChunk:0<Se}).then(function(pt){return Xn(w.table,Ye,pt)}).then(function(pt){return he(Ye.length,pt)})}).then(function(){return ce.length>Se+Oe&&pe(Se+ie)})})}var ve=Zr(w)&&w.limit===1/0&&(typeof f!="function"||ue)&&{index:w.index,range:w.range};return pe(0).then(function(){if(0<te.length)throw new ye("Error modifying one or more objects",te,me,se);return ce.length})})})},kt.prototype.delete=function(){var f=this._ctx,g=f.range;return!Zr(f)||f.table.schema.yProps||!f.isPrimKey&&g.type!==3?this.modify(Dl):this._write(function(w){var E=f.table.core.schema.primaryKey,O=g;return f.table.core.count({trans:w,query:{index:E,range:O}}).then(function(H){return f.table.core.mutate({trans:w,type:"deleteRange",range:O}).then(function(ie){var F=ie.failures,ie=ie.numFailures;if(ie)throw new ye("Could not delete some values",Object.keys(F).map(function(oe){return F[oe]}),H-ie);return H-ie})})})},kt);function kt(){}var Dl=function(f,g){return g.value=null};function Al(f,g){return f<g?-1:f===g?0:1}function ih(f,g){return g<f?-1:f===g?0:1}function gr(f,g,w){return f=f instanceof ai?new f.Collection(f):f,f._ctx.error=new(w||TypeError)(g),f}function xa(f){return new f.Collection(f,function(){return gs("")}).limit(0)}function Sr(f,g,w,E){var O,H,X,F,ie,oe,he,te=w.length;if(!w.every(function(ue){return typeof ue=="string"}))return gr(f,_n);function me(ue){O=ue==="next"?function(pe){return pe.toUpperCase()}:function(pe){return pe.toLowerCase()},H=ue==="next"?function(pe){return pe.toLowerCase()}:function(pe){return pe.toUpperCase()},X=ue==="next"?Al:ih;var ce=w.map(function(pe){return{lower:H(pe),upper:O(pe)}}).sort(function(pe,ve){return X(pe.lower,ve.lower)});F=ce.map(function(pe){return pe.upper}),ie=ce.map(function(pe){return pe.lower}),he=(oe=ue)==="next"?"":E}me("next"),f=new f.Collection(f,function(){return Qr(F[0],ie[te-1]+E)}),f._ondirectionchange=function(ue){me(ue)};var se=0;return f._addAlgorithm(function(ue,ce,pe){var ve=ue.key;if(typeof ve!="string")return!1;var Se=H(ve);if(g(Se,ie,se))return!0;for(var Oe=null,ze=se;ze<te;++ze){var $e=(function(Ie,Le,Ve,Ye,Ue,Pe){for(var it=Math.min(Ie.length,Ye.length),pt=-1,_t=0;_t<it;++_t){var er=Le[_t];if(er!==Ye[_t])return Ue(Ie[_t],Ve[_t])<0?Ie.substr(0,_t)+Ve[_t]+Ve.substr(_t+1):Ue(Ie[_t],Ye[_t])<0?Ie.substr(0,_t)+Ye[_t]+Ve.substr(_t+1):0<=pt?Ie.substr(0,pt)+Le[pt]+Ve.substr(pt+1):null;Ue(Ie[_t],er)<0&&(pt=_t)}return it<Ye.length&&Pe==="next"?Ie+Ve.substr(Ie.length):it<Ie.length&&Pe==="prev"?Ie.substr(0,Ve.length):pt<0?null:Ie.substr(0,pt)+Ye[pt]+Ve.substr(pt+1)})(ve,Se,F[ze],ie[ze],X,oe);$e===null&&Oe===null?se=ze+1:(Oe===null||0<X(Oe,$e))&&(Oe=$e)}return ce(Oe!==null?function(){ue.continue(Oe+he)}:pe),!1}),f}function Qr(f,g,w,E){return{type:2,lower:f,upper:g,lowerOpen:w,upperOpen:E}}function gs(f){return{type:1,lower:f,upper:f}}var ai=(Object.defineProperty(cn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),cn.prototype.between=function(f,g,w,E){w=w!==!1,E=E===!0;try{return 0<this._cmp(f,g)||this._cmp(f,g)===0&&(w||E)&&(!w||!E)?xa(this):new this.Collection(this,function(){return Qr(f,g,!w,!E)})}catch{return gr(this,Fn)}},cn.prototype.equals=function(f){return f==null?gr(this,Fn):new this.Collection(this,function(){return gs(f)})},cn.prototype.above=function(f){return f==null?gr(this,Fn):new this.Collection(this,function(){return Qr(f,void 0,!0)})},cn.prototype.aboveOrEqual=function(f){return f==null?gr(this,Fn):new this.Collection(this,function(){return Qr(f,void 0,!1)})},cn.prototype.below=function(f){return f==null?gr(this,Fn):new this.Collection(this,function(){return Qr(void 0,f,!1,!0)})},cn.prototype.belowOrEqual=function(f){return f==null?gr(this,Fn):new this.Collection(this,function(){return Qr(void 0,f)})},cn.prototype.startsWith=function(f){return typeof f!="string"?gr(this,_n):this.between(f,f+cr,!0,!0)},cn.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):Sr(this,function(g,w){return g.indexOf(w[0])===0},[f],cr)},cn.prototype.equalsIgnoreCase=function(f){return Sr(this,function(g,w){return g===w[0]},[f],"")},cn.prototype.anyOfIgnoreCase=function(){var f=ne.apply(Q,arguments);return f.length===0?xa(this):Sr(this,function(g,w){return w.indexOf(g)!==-1},f,"")},cn.prototype.startsWithAnyOfIgnoreCase=function(){var f=ne.apply(Q,arguments);return f.length===0?xa(this):Sr(this,function(g,w){return w.some(function(E){return g.indexOf(E)===0})},f,cr)},cn.prototype.anyOf=function(){var f=this,g=ne.apply(Q,arguments),w=this._cmp;try{g.sort(w)}catch{return gr(this,Fn)}if(g.length===0)return xa(this);var E=new this.Collection(this,function(){return Qr(g[0],g[g.length-1])});E._ondirectionchange=function(H){w=H==="next"?f._ascending:f._descending,g.sort(w)};var O=0;return E._addAlgorithm(function(H,X,F){for(var ie=H.key;0<w(ie,g[O]);)if(++O===g.length)return X(F),!1;return w(ie,g[O])===0||(X(function(){H.continue(g[O])}),!1)}),E},cn.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},cn.prototype.noneOf=function(){var f=ne.apply(Q,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return gr(this,Fn)}var g=f.reduce(function(w,E){return w?w.concat([[w[w.length-1][1],E]]):[[-1/0,E]]},null);return g.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(g,{includeLowers:!1,includeUppers:!1})},cn.prototype.inAnyRange=function(ve,g){var w=this,E=this._cmp,O=this._ascending,H=this._descending,X=this._min,F=this._max;if(ve.length===0)return xa(this);if(!ve.every(function(Se){return Se[0]!==void 0&&Se[1]!==void 0&&O(Se[0],Se[1])<=0}))return gr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",we.InvalidArgument);var ie=!g||g.includeLowers!==!1,oe=g&&g.includeUppers===!0,he,te=O;function me(Se,Oe){return te(Se[0],Oe[0])}try{(he=ve.reduce(function(Se,Oe){for(var ze=0,$e=Se.length;ze<$e;++ze){var Ie=Se[ze];if(E(Oe[0],Ie[1])<0&&0<E(Oe[1],Ie[0])){Ie[0]=X(Ie[0],Oe[0]),Ie[1]=F(Ie[1],Oe[1]);break}}return ze===$e&&Se.push(Oe),Se},[])).sort(me)}catch{return gr(this,Fn)}var se=0,ue=oe?function(Se){return 0<O(Se,he[se][1])}:function(Se){return 0<=O(Se,he[se][1])},ce=ie?function(Se){return 0<H(Se,he[se][0])}:function(Se){return 0<=H(Se,he[se][0])},pe=ue,ve=new this.Collection(this,function(){return Qr(he[0][0],he[he.length-1][1],!ie,!oe)});return ve._ondirectionchange=function(Se){te=Se==="next"?(pe=ue,O):(pe=ce,H),he.sort(me)},ve._addAlgorithm(function(Se,Oe,ze){for(var $e,Ie=Se.key;pe(Ie);)if(++se===he.length)return Oe(ze),!1;return!ue($e=Ie)&&!ce($e)||(w._cmp(Ie,he[se][1])===0||w._cmp(Ie,he[se][0])===0||Oe(function(){te===O?Se.continue(he[se][0]):Se.continue(he[se][1])}),!1)}),ve},cn.prototype.startsWithAnyOf=function(){var f=ne.apply(Q,arguments);return f.every(function(g){return typeof g=="string"})?f.length===0?xa(this):this.inAnyRange(f.map(function(g){return[g,g+cr]})):gr(this,"startsWithAnyOf() only works with strings")},cn);function cn(){}function Br(f){return lt(function(g){return ii(g),f(g.target.error),!1})}function ii(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var Li="storagemutated",oi="x-storagemutated-1",Wn=ni(null,Li),Rl=(fr.prototype._lock=function(){return N(!Me.global),++this._reculock,this._reculock!==1||Me.global||(Me.lockOwnerFor=this),this},fr.prototype._unlock=function(){if(N(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{mr(f[1],f[0])}catch{}}return this},fr.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},fr.prototype.create=function(f){var g=this;if(!this.mode)return this;var w=this.db.idbdb,E=this.db._state.dbOpenError;if(N(!this.idbtrans),!f&&!w)switch(E&&E.name){case"DatabaseClosedError":throw new we.DatabaseClosed(E);case"MissingAPIError":throw new we.MissingAPI(E.message,E);default:throw new we.OpenFailed(E)}if(!this.active)throw new we.TransactionInactive;return N(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||w).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(O){ii(O),g._reject(f.error)}),f.onabort=lt(function(O){ii(O),g.active&&g._reject(new we.Abort(f.error)),g.active=!1,g.on("abort").fire(O)}),f.oncomplete=lt(function(){g.active=!1,g._resolve(),"mutatedParts"in f&&Wn.storagemutated.fire(f.mutatedParts)}),this},fr.prototype._promise=function(f,g,w){var E=this;if(f==="readwrite"&&this.mode!=="readwrite")return Qt(new we.ReadOnly("Transaction is readonly"));if(!this.active)return Qt(new we.TransactionInactive);if(this._locked())return new je(function(H,X){E._blockedFuncs.push([function(){E._promise(f,g,w).then(H,X)},Me])});if(w)return en(function(){var H=new je(function(X,F){E._lock();var ie=g(X,F,E);ie&&ie.then&&ie.then(X,F)});return H.finally(function(){return E._unlock()}),H._lib=!0,H});var O=new je(function(H,X){var F=g(H,X,E);F&&F.then&&F.then(H,X)});return O._lib=!0,O},fr.prototype._root=function(){return this.parent?this.parent._root():this},fr.prototype.waitFor=function(f){var g,w=this._root(),E=je.resolve(f);w._waitingFor?w._waitingFor=w._waitingFor.then(function(){return E}):(w._waitingFor=E,w._waitingQueue=[],g=w.idbtrans.objectStore(w.storeNames[0]),(function H(){for(++w._spinCount;w._waitingQueue.length;)w._waitingQueue.shift()();w._waitingFor&&(g.get(-1/0).onsuccess=H)})());var O=w._waitingFor;return new je(function(H,X){E.then(function(F){return w._waitingQueue.push(lt(H.bind(null,F)))},function(F){return w._waitingQueue.push(lt(X.bind(null,F)))}).finally(function(){w._waitingFor===O&&(w._waitingFor=null)})})},fr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new we.Abort))},fr.prototype.table=function(f){var g=this._memoizedTables||(this._memoizedTables={});if(y(g,f))return g[f];var w=this.schema[f];if(!w)throw new we.NotFound("Table "+f+" not part of transaction");return w=new this.db.Table(f,w,this),w.core=this.db.core.table(f),g[f]=w},fr);function fr(){}function Fr(f,g,w,E,O,H,X,F){return{name:f,keyPath:g,unique:w,multi:E,auto:O,compound:H,src:(w&&!X?"&":"")+(E?"*":"")+(O?"++":"")+vs(g),type:F}}function vs(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function Ui(f,g,w){return{name:f,primKey:g,indexes:w,mappedClass:null,idxByName:(E=function(O){return[O.name,O]},w.reduce(function(O,H,X){return X=E(H,X),X&&(O[X[0]]=X[1]),O},{}))};var E}var qi=function(f){try{return f.only([[]]),qi=function(){return[[]]},[[]]}catch{return qi=function(){return cr},cr}};function $i(f){return f==null?function(){}:typeof f=="string"?(g=f).split(".").length===1?function(w){return w[g]}:function(w){return L(w,g)}:function(w){return L(w,f)};var g}function Ao(f){return[].slice.call(f)}var wc=0;function Bn(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function si(f,g,ie){function E(pe){if(pe.type===3)return null;if(pe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var se=pe.lower,ue=pe.upper,ce=pe.lowerOpen,pe=pe.upperOpen;return se===void 0?ue===void 0?null:g.upperBound(ue,!!pe):ue===void 0?g.lowerBound(se,!!ce):g.bound(se,ue,!!ce,!!pe)}function O(me){var se,ue=me.name;return{name:ue,schema:me,mutate:function(ce){var pe=ce.trans,ve=ce.type,Se=ce.keys,Oe=ce.values,ze=ce.range;return new Promise(function($e,Ie){$e=lt($e);var Le=pe.objectStore(ue),Ve=Le.keyPath==null,Ye=ve==="put"||ve==="add";if(!Ye&&ve!=="delete"&&ve!=="deleteRange")throw new Error("Invalid operation type: "+ve);var Ue,Pe=(Se||Oe||{length:1}).length;if(Se&&Oe&&Se.length!==Oe.length)throw new Error("Given keys array must have same length as given values array.");if(Pe===0)return $e({numFailures:0,failures:{},results:[],lastResult:void 0});function it(kn){++er,ii(kn)}var pt=[],_t=[],er=0;if(ve==="deleteRange"){if(ze.type===4)return $e({numFailures:er,failures:_t,results:[],lastResult:void 0});ze.type===3?pt.push(Ue=Le.clear()):pt.push(Ue=Le.delete(E(ze)))}else{var Ve=Ye?Ve?[Oe,Se]:[Oe,null]:[Se,null],dt=Ve[0],Hn=Ve[1];if(Ye)for(var bn=0;bn<Pe;++bn)pt.push(Ue=Hn&&Hn[bn]!==void 0?Le[ve](dt[bn],Hn[bn]):Le[ve](dt[bn])),Ue.onerror=it;else for(bn=0;bn<Pe;++bn)pt.push(Ue=Le[ve](dt[bn])),Ue.onerror=it}function Lo(kn){kn=kn.target.result,pt.forEach(function(Er,Kl){return Er.error!=null&&(_t[Kl]=Er.error)}),$e({numFailures:er,failures:_t,results:ve==="delete"?Se:pt.map(function(Er){return Er.result}),lastResult:kn})}Ue.onerror=function(kn){it(kn),Lo(kn)},Ue.onsuccess=Lo})},getMany:function(ce){var pe=ce.trans,ve=ce.keys;return new Promise(function(Se,Oe){Se=lt(Se);for(var ze,$e=pe.objectStore(ue),Ie=ve.length,Le=new Array(Ie),Ve=0,Ye=0,Ue=function(pt){pt=pt.target,Le[pt._pos]=pt.result,++Ye===Ve&&Se(Le)},Pe=Br(Oe),it=0;it<Ie;++it)ve[it]!=null&&((ze=$e.get(ve[it]))._pos=it,ze.onsuccess=Ue,ze.onerror=Pe,++Ve);Ve===0&&Se(Le)})},get:function(ce){var pe=ce.trans,ve=ce.key;return new Promise(function(Se,Oe){Se=lt(Se);var ze=pe.objectStore(ue).get(ve);ze.onsuccess=function($e){return Se($e.target.result)},ze.onerror=Br(Oe)})},query:(se=oe,function(ce){return new Promise(function(pe,ve){pe=lt(pe);var Se,Oe,ze,Ve=ce.trans,$e=ce.values,Ie=ce.limit,Ue=ce.query,Le=Ie===1/0?void 0:Ie,Ye=Ue.index,Ue=Ue.range,Ve=Ve.objectStore(ue),Ye=Ye.isPrimaryKey?Ve:Ve.index(Ye.name),Ue=E(Ue);if(Ie===0)return pe({result:[]});se?((Le=$e?Ye.getAll(Ue,Le):Ye.getAllKeys(Ue,Le)).onsuccess=function(Pe){return pe({result:Pe.target.result})},Le.onerror=Br(ve)):(Se=0,Oe=!$e&&"openKeyCursor"in Ye?Ye.openKeyCursor(Ue):Ye.openCursor(Ue),ze=[],Oe.onsuccess=function(Pe){var it=Oe.result;return it?(ze.push($e?it.value:it.primaryKey),++Se===Ie?pe({result:ze}):void it.continue()):pe({result:ze})},Oe.onerror=Br(ve))})}),openCursor:function(ce){var pe=ce.trans,ve=ce.values,Se=ce.query,Oe=ce.reverse,ze=ce.unique;return new Promise(function($e,Ie){$e=lt($e);var Ye=Se.index,Le=Se.range,Ve=pe.objectStore(ue),Ve=Ye.isPrimaryKey?Ve:Ve.index(Ye.name),Ye=Oe?ze?"prevunique":"prev":ze?"nextunique":"next",Ue=!ve&&"openKeyCursor"in Ve?Ve.openKeyCursor(E(Le),Ye):Ve.openCursor(E(Le),Ye);Ue.onerror=Br(Ie),Ue.onsuccess=lt(function(Pe){var it,pt,_t,er,dt=Ue.result;dt?(dt.___id=++wc,dt.done=!1,it=dt.continue.bind(dt),pt=(pt=dt.continuePrimaryKey)&&pt.bind(dt),_t=dt.advance.bind(dt),er=function(){throw new Error("Cursor not stopped")},dt.trans=pe,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=function(){throw new Error("Cursor not started")},dt.fail=lt(Ie),dt.next=function(){var Hn=this,bn=1;return this.start(function(){return bn--?Hn.continue():Hn.stop()}).then(function(){return Hn})},dt.start=function(Hn){function bn(){if(Ue.result)try{Hn()}catch(kn){dt.fail(kn)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()}var Lo=new Promise(function(kn,Er){kn=lt(kn),Ue.onerror=Br(Er),dt.fail=Er,dt.stop=function(Kl){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=er,kn(Kl)}});return Ue.onsuccess=lt(function(kn){Ue.onsuccess=bn,bn()}),dt.continue=it,dt.continuePrimaryKey=pt,dt.advance=_t,bn(),Lo},$e(dt)):$e(null)},Ie)})},count:function(ce){var pe=ce.query,ve=ce.trans,Se=pe.index,Oe=pe.range;return new Promise(function(ze,$e){var Ie=ve.objectStore(ue),Le=Se.isPrimaryKey?Ie:Ie.index(Se.name),Ie=E(Oe),Le=Ie?Le.count(Ie):Le.count();Le.onsuccess=lt(function(Ve){return ze(Ve.target.result)}),Le.onerror=Br($e)})}}}var H,X,F,he=(X=ie,F=Ao((H=f).objectStoreNames),{schema:{name:H.name,tables:F.map(function(me){return X.objectStore(me)}).map(function(me){var se=me.keyPath,pe=me.autoIncrement,ue=d(se),ce={},pe={name:me.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:se==null,compound:ue,keyPath:se,autoIncrement:pe,unique:!0,extractKey:$i(se)},indexes:Ao(me.indexNames).map(function(ve){return me.index(ve)}).map(function(ze){var Se=ze.name,Oe=ze.unique,$e=ze.multiEntry,ze=ze.keyPath,$e={name:Se,compound:d(ze),keyPath:ze,unique:Oe,multiEntry:$e,extractKey:$i(ze)};return ce[Bn(ze)]=$e}),getIndexByKeyPath:function(ve){return ce[Bn(ve)]}};return ce[":id"]=pe.primaryKey,se!=null&&(ce[Bn(se)]=pe.primaryKey),pe})},hasGetAll:0<F.length&&"getAll"in X.objectStore(F[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ie=he.schema,oe=he.hasGetAll,he=ie.tables.map(O),te={};return he.forEach(function(me){return te[me.name]=me}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(me){if(!te[me])throw new Error("Table '".concat(me,"' not found"));return te[me]},MIN_KEY:-1/0,MAX_KEY:qi(g),schema:ie}}function ys(f,g,w,E){var O=w.IDBKeyRange;return w.indexedDB,{dbcore:(E=si(g,O,E),f.dbcore.reduce(function(H,X){return X=X.create,o(o({},H),X(H))},E))}}function Ba(f,E){var w=E.db,E=ys(f._middlewares,w,f._deps,E);f.core=E.dbcore,f.tables.forEach(function(O){var H=O.name;f.core.schema.tables.some(function(X){return X.name===H})&&(O.core=f.core.table(H),f[H]instanceof f.Table&&(f[H].core=O.core))})}function bs(f,g,w,E){w.forEach(function(O){var H=E[O];g.forEach(function(X){var F=(function ie(oe,he){return B(oe,he)||(oe=m(oe))&&ie(oe,he)})(X,O);(!F||"value"in F&&F.value===void 0)&&(X===f.Transaction.prototype||X instanceof f.Transaction?C(X,O,{get:function(){return this.table(O)},set:function(ie){S(this,O,{value:ie,writable:!0,configurable:!0,enumerable:!0})}}):X[O]=new f.Table(O,H))})})}function Ro(f,g){g.forEach(function(w){for(var E in w)w[E]instanceof f.Table&&delete w[E]})}function jl(f,g){return f._cfg.version-g._cfg.version}function jo(f,g,w,E){var O=f._dbSchema;w.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=Ui("$meta",Ec("")[0],[]),f._storeNames.push("$meta"));var H=f._createTransaction("readwrite",f._storeNames,O);H.create(w),H._completion.catch(E);var X=H._reject.bind(H),F=Me.transless||Me;en(function(){return Me.trans=H,Me.transless=F,g!==0?(Ba(f,w),oe=g,((ie=H).storeNames.includes("$meta")?ie.table("$meta").get("version").then(function(he){return he??oe}):je.resolve(oe)).then(function(he){return me=he,se=H,ue=w,ce=[],he=(te=f)._versions,pe=te._dbSchema=Vi(0,te.idbdb,ue),(he=he.filter(function(ve){return ve._cfg.version>=me})).length!==0?(he.forEach(function(ve){ce.push(function(){var Se=pe,Oe=ve._cfg.dbschema;Es(te,Se,ue),Es(te,Oe,ue),pe=te._dbSchema=Oe;var ze=ws(Se,Oe);ze.add.forEach(function(Ye){zl(ue,Ye[0],Ye[1].primKey,Ye[1].indexes)}),ze.change.forEach(function(Ye){if(Ye.recreate)throw new we.Upgrade("Not yet support for changing primary key");var Ue=ue.objectStore(Ye.name);Ye.add.forEach(function(Pe){return Ss(Ue,Pe)}),Ye.change.forEach(function(Pe){Ue.deleteIndex(Pe.name),Ss(Ue,Pe)}),Ye.del.forEach(function(Pe){return Ue.deleteIndex(Pe)})});var $e=ve._cfg.contentUpgrade;if($e&&ve._cfg.version>me){Ba(te,ue),se._memoizedTables={};var Ie=P(Oe);ze.del.forEach(function(Ye){Ie[Ye]=Se[Ye]}),Ro(te,[te.Transaction.prototype]),bs(te,[te.Transaction.prototype],c(Ie),Ie),se.schema=Ie;var Le,Ve=q($e);return Ve&&En(),ze=je.follow(function(){var Ye;(Le=$e(se))&&Ve&&(Ye=Qn.bind(null,null),Le.then(Ye,Ye))}),Le&&typeof Le.then=="function"?je.resolve(Le):ze.then(function(){return Le})}}),ce.push(function(Se){var Oe,ze,$e=ve._cfg.dbschema;Oe=$e,ze=Se,[].slice.call(ze.db.objectStoreNames).forEach(function(Ie){return Oe[Ie]==null&&ze.db.deleteObjectStore(Ie)}),Ro(te,[te.Transaction.prototype]),bs(te,[te.Transaction.prototype],te._storeNames,te._dbSchema),se.schema=te._dbSchema}),ce.push(function(Se){te.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(te.idbdb.version/10)===ve._cfg.version?(te.idbdb.deleteObjectStore("$meta"),delete te._dbSchema.$meta,te._storeNames=te._storeNames.filter(function(Oe){return Oe!=="$meta"})):Se.objectStore("$meta").put(ve._cfg.version,"version"))})}),(function ve(){return ce.length?je.resolve(ce.shift()(se.idbtrans)).then(ve):je.resolve()})().then(function(){Sc(pe,ue)})):je.resolve();var te,me,se,ue,ce,pe}).catch(X)):(c(O).forEach(function(he){zl(w,he,O[he].primKey,O[he].indexes)}),Ba(f,w),void je.follow(function(){return f.on.populate.fire(H)}).catch(X));var ie,oe})}function xs(f,g){Sc(f._dbSchema,g),g.db.version%10!=0||g.objectStoreNames.contains("$meta")||g.db.createObjectStore("$meta").add(Math.ceil(g.db.version/10-1),"version");var w=Vi(0,f.idbdb,g);Es(f,f._dbSchema,g);for(var E=0,O=ws(w,f._dbSchema).change;E<O.length;E++){var H=(function(X){if(X.change.length||X.recreate)return console.warn("Unable to patch indexes of table ".concat(X.name," because it has changes on the type of index or primary key.")),{value:void 0};var F=g.objectStore(X.name);X.add.forEach(function(ie){Dt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(X.name,".").concat(ie.src)),Ss(F,ie)})})(O[E]);if(typeof H=="object")return H.value}}function ws(f,g){var w,E={del:[],add:[],change:[]};for(w in f)g[w]||E.del.push(w);for(w in g){var O=f[w],H=g[w];if(O){var X={name:w,def:H,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(H.primKey.keyPath||"")||O.primKey.auto!==H.primKey.auto)X.recreate=!0,E.change.push(X);else{var F=O.idxByName,ie=H.idxByName,oe=void 0;for(oe in F)ie[oe]||X.del.push(oe);for(oe in ie){var he=F[oe],te=ie[oe];he?he.src!==te.src&&X.change.push(te):X.add.push(te)}(0<X.del.length||0<X.add.length||0<X.change.length)&&E.change.push(X)}}else E.add.push([w,H])}return E}function zl(f,g,w,E){var O=f.db.createObjectStore(g,w.keyPath?{keyPath:w.keyPath,autoIncrement:w.auto}:{autoIncrement:w.auto});return E.forEach(function(H){return Ss(O,H)}),O}function Sc(f,g){c(f).forEach(function(w){g.db.objectStoreNames.contains(w)||(Dt&&console.debug("Dexie: Creating missing table",w),zl(g,w,f[w].primKey,f[w].indexes))})}function Ss(f,g){f.createIndex(g.name,g.keyPath,{unique:g.unique,multiEntry:g.multi})}function Vi(f,g,w){var E={};return V(g.objectStoreNames,0).forEach(function(O){for(var H=w.objectStore(O),X=Fr(vs(oe=H.keyPath),oe||"",!0,!1,!!H.autoIncrement,oe&&typeof oe!="string",!0),F=[],ie=0;ie<H.indexNames.length;++ie){var he=H.index(H.indexNames[ie]),oe=he.keyPath,he=Fr(he.name,oe,!!he.unique,!!he.multiEntry,!1,oe&&typeof oe!="string",!1);F.push(he)}E[O]=Ui(O,X,F)}),E}function Es(f,g,w){for(var E=w.db.objectStoreNames,O=0;O<E.length;++O){var H=E[O],X=w.objectStore(H);f._hasGetAll="getAll"in X;for(var F=0;F<X.indexNames.length;++F){var ie=X.indexNames[F],oe=X.index(ie).keyPath,he=typeof oe=="string"?oe:"["+V(oe).join("+")+"]";!g[H]||(oe=g[H].idxByName[he])&&(oe.name=ie,delete g[H].idxByName[he],g[H].idxByName[ie]=oe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Ec(f){return f.split(",").map(function(g,w){var H=g.split(":"),E=(O=H[1])===null||O===void 0?void 0:O.trim(),O=(g=H[0].trim()).replace(/([&*]|\+\+)/g,""),H=/^\[/.test(O)?O.match(/^\[(.*)\]$/)[1].split("+"):O;return Fr(O,H||null,/\&/.test(g),/\*/.test(g),/\+\+/.test(g),d(H),w===0,E)})}var oh=(Yi.prototype._createTableSchema=Ui,Yi.prototype._parseIndexSyntax=Ec,Yi.prototype._parseStoresSpec=function(f,g){var w=this;c(f).forEach(function(E){if(f[E]!==null){var O=w._parseIndexSyntax(f[E]),H=O.shift();if(!H)throw new we.Schema("Invalid schema for table "+E+": "+f[E]);if(H.unique=!0,H.multi)throw new we.Schema("Primary key cannot be multiEntry*");O.forEach(function(X){if(X.auto)throw new we.Schema("Only primary key can be marked as autoIncrement (++)");if(!X.keyPath)throw new we.Schema("Index must have a name and cannot be an empty string")}),O=w._createTableSchema(E,H,O),g[E]=O}})},Yi.prototype.stores=function(w){var g=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,w):w;var w=g._versions,E={},O={};return w.forEach(function(H){p(E,H._cfg.storesSource),O=H._cfg.dbschema={},H._parseStoresSpec(E,O)}),g._dbSchema=O,Ro(g,[g._allTables,g,g.Transaction.prototype]),bs(g,[g._allTables,g,g.Transaction.prototype,this._cfg.tables],c(O),O),g._storeNames=c(O),this},Yi.prototype.upgrade=function(f){return this._cfg.contentUpgrade=ft(this._cfg.contentUpgrade||ke,f),this},Yi);function Yi(){}function Bl(f,g){var w=f._dbNamesDB;return w||(w=f._dbNamesDB=new Wr(Wa,{addons:[],indexedDB:f,IDBKeyRange:g})).version(1).stores({dbnames:"name"}),w.table("dbnames")}function _s(f){return f&&typeof f.databases=="function"}function Hl(f){return en(function(){return Me.letThrough=!0,f()})}function kl(f){return!("from"in f)}var Jn=function(f,g){if(!this){var w=new Jn;return f&&"d"in f&&p(w,f),w}p(this,arguments.length?{d:1,from:f,to:1<arguments.length?g:f}:{d:0})};function zo(f,g,w){var E=Et(g,w);if(!isNaN(E)){if(0<E)throw RangeError();if(kl(f))return p(f,{from:g,to:w,d:1});var O=f.l,E=f.r;if(Et(w,f.from)<0)return O?zo(O,g,w):f.l={from:g,to:w,d:1,l:null,r:null},Cc(f);if(0<Et(g,f.to))return E?zo(E,g,w):f.r={from:g,to:w,d:1,l:null,r:null},Cc(f);Et(g,f.from)<0&&(f.from=g,f.l=null,f.d=E?E.d+1:1),0<Et(w,f.to)&&(f.to=w,f.r=null,f.d=f.l?f.l.d+1:1),w=!f.r,O&&!f.l&&li(f,O),E&&w&&li(f,E)}}function li(f,g){kl(g)||(function w(E,ie){var H=ie.from,X=ie.to,F=ie.l,ie=ie.r;zo(E,H,X),F&&w(E,F),ie&&w(E,ie)})(f,g)}function _c(f,g){var w=Cs(g),E=w.next();if(E.done)return!1;for(var O=E.value,H=Cs(f),X=H.next(O.from),F=X.value;!E.done&&!X.done;){if(Et(F.from,O.to)<=0&&0<=Et(F.to,O.from))return!0;Et(O.from,F.from)<0?O=(E=w.next(F.from)).value:F=(X=H.next(O.from)).value}return!1}function Cs(f){var g=kl(f)?null:{s:0,n:f};return{next:function(w){for(var E=0<arguments.length;g;)switch(g.s){case 0:if(g.s=1,E)for(;g.n.l&&Et(w,g.n.from)<0;)g={up:g,n:g.n.l,s:1};else for(;g.n.l;)g={up:g,n:g.n.l,s:1};case 1:if(g.s=2,!E||Et(w,g.n.to)<=0)return{value:g.n,done:!1};case 2:if(g.n.r){g.s=3,g={up:g,n:g.n.r,s:0};continue}case 3:g=g.up}return{done:!0}}}}function Cc(f){var g,w,E=(((g=f.r)===null||g===void 0?void 0:g.d)||0)-(((w=f.l)===null||w===void 0?void 0:w.d)||0),O=1<E?"r":E<-1?"l":"";O&&(g=O=="r"?"l":"r",w=o({},f),E=f[O],f.from=E.from,f.to=E.to,f[O]=E[O],w[O]=E[g],(f[g]=w).d=Ll(w)),f.d=Ll(f)}function Ll(w){var g=w.r,w=w.l;return(g?w?Math.max(g.d,w.d):g.d:w?w.d:0)+1}function Ns(f,g){return c(g).forEach(function(w){f[w]?li(f[w],g[w]):f[w]=(function E(O){var H,X,F={};for(H in O)y(O,H)&&(X=O[H],F[H]=!X||typeof X!="object"||J.has(X.constructor)?X:E(X));return F})(g[w])}),f}function Ul(f,g){return f.all||g.all||Object.keys(f).some(function(w){return g[w]&&_c(g[w],f[w])})}x(Jn.prototype,((vr={add:function(f){return li(this,f),this},addKey:function(f){return zo(this,f,f),this},addKeys:function(f){var g=this;return f.forEach(function(w){return zo(g,w,w)}),this},hasKey:function(f){var g=Cs(this).next(f).value;return g&&Et(g.from,f)<=0&&0<=Et(g.to,f)}})[D]=function(){return Cs(this)},vr));var ui={},ql={},$l=!1;function Ts(f){Ns(ql,f),$l||($l=!0,setTimeout(function(){$l=!1,Vl(ql,!(ql={}))},0))}function Vl(f,g){g===void 0&&(g=!1);var w=new Set;if(f.all)for(var E=0,O=Object.values(ui);E<O.length;E++)Nc(X=O[E],f,w,g);else for(var H in f){var X,F=/^idb\:\/\/(.*)\/(.*)\//.exec(H);F&&(H=F[1],F=F[2],(X=ui["idb://".concat(H,"/").concat(F)])&&Nc(X,f,w,g))}w.forEach(function(ie){return ie()})}function Nc(f,g,w,E){for(var O=[],H=0,X=Object.entries(f.queries.query);H<X.length;H++){for(var F=X[H],ie=F[0],oe=[],he=0,te=F[1];he<te.length;he++){var me=te[he];Ul(g,me.obsSet)?me.subscribers.forEach(function(pe){return w.add(pe)}):E&&oe.push(me)}E&&O.push([ie,oe])}if(E)for(var se=0,ue=O;se<ue.length;se++){var ce=ue[se],ie=ce[0],oe=ce[1];f.queries.query[ie]=oe}}function sh(f){var g=f._state,w=f._deps.indexedDB;if(g.isBeingOpened||f.idbdb)return g.dbReadyPromise.then(function(){return g.dbOpenError?Qt(g.dbOpenError):f});g.isBeingOpened=!0,g.dbOpenError=null,g.openComplete=!1;var E=g.openCanceller,O=Math.round(10*f.verno),H=!1;function X(){if(g.openCanceller!==E)throw new we.DatabaseClosed("db.open() was cancelled")}function F(){return new je(function(me,se){if(X(),!w)throw new we.MissingAPI;var ue=f.name,ce=g.autoSchema||!O?w.open(ue):w.open(ue,O);if(!ce)throw new we.MissingAPI;ce.onerror=Br(se),ce.onblocked=lt(f._fireOnBlocked),ce.onupgradeneeded=lt(function(pe){var ve;he=ce.transaction,g.autoSchema&&!f._options.allowEmptyDB?(ce.onerror=ii,he.abort(),ce.result.close(),(ve=w.deleteDatabase(ue)).onsuccess=ve.onerror=lt(function(){se(new we.NoSuchDatabase("Database ".concat(ue," doesnt exist")))})):(he.onerror=Br(se),pe=pe.oldVersion>Math.pow(2,62)?0:pe.oldVersion,te=pe<1,f.idbdb=ce.result,H&&xs(f,he),jo(f,pe/10,he,se))},se),ce.onsuccess=lt(function(){he=null;var pe,ve,Se,Oe,ze,$e=f.idbdb=ce.result,Ie=V($e.objectStoreNames);if(0<Ie.length)try{var Le=$e.transaction((Oe=Ie).length===1?Oe[0]:Oe,"readonly");if(g.autoSchema)ve=$e,Se=Le,(pe=f).verno=ve.version/10,Se=pe._dbSchema=Vi(0,ve,Se),pe._storeNames=V(ve.objectStoreNames,0),bs(pe,[pe._allTables],c(Se),Se);else if(Es(f,f._dbSchema,Le),((ze=ws(Vi(0,(ze=f).idbdb,Le),ze._dbSchema)).add.length||ze.change.some(function(Ve){return Ve.add.length||Ve.change.length}))&&!H)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),$e.close(),O=$e.version+1,H=!0,me(F());Ba(f,Le)}catch{}va.push(f),$e.onversionchange=lt(function(Ve){g.vcFired=!0,f.on("versionchange").fire(Ve)}),$e.onclose=lt(function(){f.close({disableAutoOpen:!1})}),te&&(ze=f._deps,Le=ue,$e=ze.indexedDB,ze=ze.IDBKeyRange,_s($e)||Le===Wa||Bl($e,ze).put({name:Le}).catch(ke)),me()},se)}).catch(function(me){switch(me?.name){case"UnknownError":if(0<g.PR1398_maxLoop)return g.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),F();break;case"VersionError":if(0<O)return O=0,F()}return je.reject(me)})}var ie,oe=g.dbReadyResolve,he=null,te=!1;return je.race([E,(typeof navigator>"u"?je.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(me){function se(){return indexedDB.databases().finally(me)}ie=setInterval(se,100),se()}).finally(function(){return clearInterval(ie)}):Promise.resolve()).then(F)]).then(function(){return X(),g.onReadyBeingFired=[],je.resolve(Hl(function(){return f.on.ready.fire(f.vip)})).then(function me(){if(0<g.onReadyBeingFired.length){var se=g.onReadyBeingFired.reduce(ft,ke);return g.onReadyBeingFired=[],je.resolve(Hl(function(){return se(f.vip)})).then(me)}})}).finally(function(){g.openCanceller===E&&(g.onReadyBeingFired=null,g.isBeingOpened=!1)}).catch(function(me){g.dbOpenError=me;try{he&&he.abort()}catch{}return E===g.openCanceller&&f._close(),Qt(me)}).finally(function(){g.openComplete=!0,oe()}).then(function(){var me;return te&&(me={},f.tables.forEach(function(se){se.schema.indexes.forEach(function(ue){ue.name&&(me["idb://".concat(f.name,"/").concat(se.name,"/").concat(ue.name)]=new Jn(-1/0,[[[]]]))}),me["idb://".concat(f.name,"/").concat(se.name,"/")]=me["idb://".concat(f.name,"/").concat(se.name,"/:dels")]=new Jn(-1/0,[[[]]])}),Wn(Li).fire(me),Vl(me,!0)),f})}function Bo(f){function g(H){return f.next(H)}var w=O(g),E=O(function(H){return f.throw(H)});function O(H){return function(ie){var F=H(ie),ie=F.value;return F.done?ie:ie&&typeof ie.then=="function"?ie.then(w,E):d(ie)?Promise.all(ie).then(w,E):w(ie)}}return O(g)()}function Ha(f,g,w){for(var E=d(f)?f.slice():[f],O=0;O<w;++O)E.push(g);return E}var lh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return o(o({},f),{table:function(g){var w=f.table(g),E=w.schema,O={},H=[];function X(te,me,se){var ue=Bn(te),ce=O[ue]=O[ue]||[],pe=te==null?0:typeof te=="string"?1:te.length,ve=0<me,ve=o(o({},se),{name:ve?"".concat(ue,"(virtual-from:").concat(se.name,")"):se.name,lowLevelIndex:se,isVirtual:ve,keyTail:me,keyLength:pe,extractKey:$i(te),unique:!ve&&se.unique});return ce.push(ve),ve.isPrimaryKey||H.push(ve),1<pe&&X(pe===2?te[0]:te.slice(0,pe-1),me+1,se),ce.sort(function(Se,Oe){return Se.keyTail-Oe.keyTail}),ve}g=X(E.primaryKey.keyPath,0,E.primaryKey),O[":id"]=[g];for(var F=0,ie=E.indexes;F<ie.length;F++){var oe=ie[F];X(oe.keyPath,0,oe)}function he(te){var me,se=te.query.index;return se.isVirtual?o(o({},te),{query:{index:se.lowLevelIndex,range:(me=te.query.range,se=se.keyTail,{type:me.type===1?2:me.type,lower:Ha(me.lower,me.lowerOpen?f.MAX_KEY:f.MIN_KEY,se),lowerOpen:!0,upper:Ha(me.upper,me.upperOpen?f.MIN_KEY:f.MAX_KEY,se),upperOpen:!0})}}):te}return o(o({},w),{schema:o(o({},E),{primaryKey:g,indexes:H,getIndexByKeyPath:function(te){return(te=O[Bn(te)])&&te[0]}}),count:function(te){return w.count(he(te))},query:function(te){return w.query(he(te))},openCursor:function(te){var me=te.query.index,se=me.keyTail,ue=me.isVirtual,ce=me.keyLength;return ue?w.openCursor(he(te)).then(function(ve){return ve&&pe(ve)}):w.openCursor(te);function pe(ve){return Object.create(ve,{continue:{value:function(Se){Se!=null?ve.continue(Ha(Se,te.reverse?f.MAX_KEY:f.MIN_KEY,se)):te.unique?ve.continue(ve.key.slice(0,ce).concat(te.reverse?f.MIN_KEY:f.MAX_KEY,se)):ve.continue()}},continuePrimaryKey:{value:function(Se,Oe){ve.continuePrimaryKey(Ha(Se,f.MAX_KEY,se),Oe)}},primaryKey:{get:function(){return ve.primaryKey}},key:{get:function(){var Se=ve.key;return ce===1?Se[0]:Se.slice(0,ce)}},value:{get:function(){return ve.value}}})}}})}})}};function Os(f,g,w,E){return w=w||{},E=E||"",c(f).forEach(function(O){var H,X,F;y(g,O)?(H=f[O],X=g[O],typeof H=="object"&&typeof X=="object"&&H&&X?(F=Y(H))!==Y(X)?w[E+O]=g[O]:F==="Object"?Os(H,X,w,E+O+"."):H!==X&&(w[E+O]=g[O]):H!==X&&(w[E+O]=g[O])):w[E+O]=void 0}),c(g).forEach(function(O){y(f,O)||(w[E+O]=g[O])}),w}function Ms(f,g){return g.type==="delete"?g.keys:g.keys||g.values.map(f.extractKey)}var Tc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return o(o({},f),{table:function(g){var w=f.table(g),E=w.schema.primaryKey;return o(o({},w),{mutate:function(O){var H=Me.trans,X=H.table(g).hook,F=X.deleting,ie=X.creating,oe=X.updating;switch(O.type){case"add":if(ie.fire===ke)break;return H._promise("readwrite",function(){return he(O)},!0);case"put":if(ie.fire===ke&&oe.fire===ke)break;return H._promise("readwrite",function(){return he(O)},!0);case"delete":if(F.fire===ke)break;return H._promise("readwrite",function(){return he(O)},!0);case"deleteRange":if(F.fire===ke)break;return H._promise("readwrite",function(){return(function te(me,se,ue){return w.query({trans:me,values:!1,query:{index:E,range:se},limit:ue}).then(function(ce){var pe=ce.result;return he({type:"delete",keys:pe,trans:me}).then(function(ve){return 0<ve.numFailures?Promise.reject(ve.failures[0]):pe.length<ue?{failures:[],numFailures:0,lastResult:void 0}:te(me,o(o({},se),{lower:pe[pe.length-1],lowerOpen:!0}),ue)})})})(O.trans,O.range,1e4)},!0)}return w.mutate(O);function he(te){var me,se,ue,ce=Me.trans,pe=te.keys||Ms(E,te);if(!pe)throw new Error("Keys missing");return(te=te.type==="add"||te.type==="put"?o(o({},te),{keys:pe}):o({},te)).type!=="delete"&&(te.values=l([],te.values)),te.keys&&(te.keys=l([],te.keys)),me=w,ue=pe,((se=te).type==="add"?Promise.resolve([]):me.getMany({trans:se.trans,keys:ue,cache:"immutable"})).then(function(ve){var Se=pe.map(function(Oe,ze){var $e,Ie,Le,Ve=ve[ze],Ye={onerror:null,onsuccess:null};return te.type==="delete"?F.fire.call(Ye,Oe,Ve,ce):te.type==="add"||Ve===void 0?($e=ie.fire.call(Ye,Oe,te.values[ze],ce),Oe==null&&$e!=null&&(te.keys[ze]=Oe=$e,E.outbound||$(te.values[ze],E.keyPath,Oe))):($e=Os(Ve,te.values[ze]),(Ie=oe.fire.call(Ye,$e,Oe,Ve,ce))&&(Le=te.values[ze],Object.keys(Ie).forEach(function(Ue){y(Le,Ue)?Le[Ue]=Ie[Ue]:$(Le,Ue,Ie[Ue])}))),Ye});return w.mutate(te).then(function(Oe){for(var ze=Oe.failures,$e=Oe.results,Ie=Oe.numFailures,Oe=Oe.lastResult,Le=0;Le<pe.length;++Le){var Ve=($e||pe)[Le],Ye=Se[Le];Ve==null?Ye.onerror&&Ye.onerror(ze[Le]):Ye.onsuccess&&Ye.onsuccess(te.type==="put"&&ve[Le]?te.values[Le]:Ve)}return{failures:ze,results:$e,numFailures:Ie,lastResult:Oe}}).catch(function(Oe){return Se.forEach(function(ze){return ze.onerror&&ze.onerror(Oe)}),Promise.reject(Oe)})})}}})}})}};function Yl(f,g,w){try{if(!g||g.keys.length<f.length)return null;for(var E=[],O=0,H=0;O<g.keys.length&&H<f.length;++O)Et(g.keys[O],f[H])===0&&(E.push(w?re(g.values[O]):g.values[O]),++H);return E.length===f.length?E:null}catch{return null}}var Oc={stack:"dbcore",level:-1,create:function(f){return{table:function(g){var w=f.table(g);return o(o({},w),{getMany:function(E){if(!E.cache)return w.getMany(E);var O=Yl(E.keys,E.trans._cache,E.cache==="clone");return O?je.resolve(O):w.getMany(E).then(function(H){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?re(H):H},H})},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),w.mutate(E)}})}}}};function ci(f,g){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!g.schema.primaryKey.outbound}function Mc(f,g){switch(f){case"query":return g.values&&!g.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var uh={stack:"dbcore",level:0,name:"Observability",create:function(f){var g=f.schema.name,w=new Jn(f.MIN_KEY,f.MAX_KEY);return o(o({},f),{transaction:function(E,O,H){if(Me.subscr&&O!=="readonly")throw new we.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Me.querier));return f.transaction(E,O,H)},table:function(E){var O=f.table(E),H=O.schema,X=H.primaryKey,te=H.indexes,F=X.extractKey,ie=X.outbound,oe=X.autoIncrement&&te.filter(function(se){return se.compound&&se.keyPath.includes(X.keyPath)}),he=o(o({},O),{mutate:function(se){function ue(Ue){return Ue="idb://".concat(g,"/").concat(E,"/").concat(Ue),Oe[Ue]||(Oe[Ue]=new Jn)}var ce,pe,ve,Se=se.trans,Oe=se.mutatedParts||(se.mutatedParts={}),ze=ue(""),$e=ue(":dels"),Ie=se.type,Ye=se.type==="deleteRange"?[se.range]:se.type==="delete"?[se.keys]:se.values.length<50?[Ms(X,se).filter(function(Ue){return Ue}),se.values]:[],Le=Ye[0],Ve=Ye[1],Ye=se.trans._cache;return d(Le)?(ze.addKeys(Le),(Ye=Ie==="delete"||Le.length===Ve.length?Yl(Le,Ye):null)||$e.addKeys(Le),(Ye||Ve)&&(ce=ue,pe=Ye,ve=Ve,H.indexes.forEach(function(Ue){var Pe=ce(Ue.name||"");function it(_t){return _t!=null?Ue.extractKey(_t):null}function pt(_t){return Ue.multiEntry&&d(_t)?_t.forEach(function(er){return Pe.addKey(er)}):Pe.addKey(_t)}(pe||ve).forEach(function(_t,Hn){var dt=pe&&it(pe[Hn]),Hn=ve&&it(ve[Hn]);Et(dt,Hn)!==0&&(dt!=null&&pt(dt),Hn!=null&&pt(Hn))})}))):Le?(Ve={from:(Ve=Le.lower)!==null&&Ve!==void 0?Ve:f.MIN_KEY,to:(Ve=Le.upper)!==null&&Ve!==void 0?Ve:f.MAX_KEY},$e.add(Ve),ze.add(Ve)):(ze.add(w),$e.add(w),H.indexes.forEach(function(Ue){return ue(Ue.name).add(w)})),O.mutate(se).then(function(Ue){return!Le||se.type!=="add"&&se.type!=="put"||(ze.addKeys(Ue.results),oe&&oe.forEach(function(Pe){for(var it=se.values.map(function(dt){return Pe.extractKey(dt)}),pt=Pe.keyPath.findIndex(function(dt){return dt===X.keyPath}),_t=0,er=Ue.results.length;_t<er;++_t)it[_t][pt]=Ue.results[_t];ue(Pe.name).addKeys(it)})),Se.mutatedParts=Ns(Se.mutatedParts||{},Oe),Ue})}}),te=function(ue){var ce=ue.query,ue=ce.index,ce=ce.range;return[ue,new Jn((ue=ce.lower)!==null&&ue!==void 0?ue:f.MIN_KEY,(ce=ce.upper)!==null&&ce!==void 0?ce:f.MAX_KEY)]},me={get:function(se){return[X,new Jn(se.key)]},getMany:function(se){return[X,new Jn().addKeys(se.keys)]},count:te,query:te,openCursor:te};return c(me).forEach(function(se){he[se]=function(ue){var ce=Me.subscr,pe=!!ce,ve=ci(Me,O)&&Mc(se,ue)?ue.obsSet={}:ce;if(pe){var Se=function(Ve){return Ve="idb://".concat(g,"/").concat(E,"/").concat(Ve),ve[Ve]||(ve[Ve]=new Jn)},Oe=Se(""),ze=Se(":dels"),ce=me[se](ue),pe=ce[0],ce=ce[1];if((se==="query"&&pe.isPrimaryKey&&!ue.values?ze:Se(pe.name||"")).add(ce),!pe.isPrimaryKey){if(se!=="count"){var $e=se==="query"&&ie&&ue.values&&O.query(o(o({},ue),{values:!1}));return O[se].apply(this,arguments).then(function(Ve){if(se==="query"){if(ie&&ue.values)return $e.then(function(it){return it=it.result,Oe.addKeys(it),Ve});var Ye=ue.values?Ve.result.map(F):Ve.result;(ue.values?Oe:ze).addKeys(Ye)}else if(se==="openCursor"){var Ue=Ve,Pe=ue.values;return Ue&&Object.create(Ue,{key:{get:function(){return ze.addKey(Ue.primaryKey),Ue.key}},primaryKey:{get:function(){var it=Ue.primaryKey;return ze.addKey(it),it}},value:{get:function(){return Pe&&Oe.addKey(Ue.primaryKey),Ue.value}}})}return Ve})}ze.add(w)}}return O[se].apply(this,arguments)}}),he}})}};function Dc(f,g,w){if(w.numFailures===0)return g;if(g.type==="deleteRange")return null;var E=g.keys?g.keys.length:"values"in g&&g.values?g.values.length:1;return w.numFailures===E?null:(g=o({},g),d(g.keys)&&(g.keys=g.keys.filter(function(O,H){return!(H in w.failures)})),"values"in g&&d(g.values)&&(g.values=g.values.filter(function(O,H){return!(H in w.failures)})),g)}function Ds(f,g){return w=f,((E=g).lower===void 0||(E.lowerOpen?0<Et(w,E.lower):0<=Et(w,E.lower)))&&(f=f,(g=g).upper===void 0||(g.upperOpen?Et(f,g.upper)<0:Et(f,g.upper)<=0));var w,E}function Il(f,g,me,E,O,H){if(!me||me.length===0)return f;var X=g.query.index,F=X.multiEntry,ie=g.query.range,oe=E.schema.primaryKey.extractKey,he=X.extractKey,te=(X.lowLevelIndex||X).extractKey,me=me.reduce(function(se,ue){var ce=se,pe=[];if(ue.type==="add"||ue.type==="put")for(var ve=new Jn,Se=ue.values.length-1;0<=Se;--Se){var Oe,ze=ue.values[Se],$e=oe(ze);ve.hasKey($e)||(Oe=he(ze),(F&&d(Oe)?Oe.some(function(Ue){return Ds(Ue,ie)}):Ds(Oe,ie))&&(ve.addKey($e),pe.push(ze)))}switch(ue.type){case"add":var Ie=new Jn().addKeys(g.values?se.map(function(Pe){return oe(Pe)}):se),ce=se.concat(g.values?pe.filter(function(Pe){return Pe=oe(Pe),!Ie.hasKey(Pe)&&(Ie.addKey(Pe),!0)}):pe.map(function(Pe){return oe(Pe)}).filter(function(Pe){return!Ie.hasKey(Pe)&&(Ie.addKey(Pe),!0)}));break;case"put":var Le=new Jn().addKeys(ue.values.map(function(Pe){return oe(Pe)}));ce=se.filter(function(Pe){return!Le.hasKey(g.values?oe(Pe):Pe)}).concat(g.values?pe:pe.map(function(Pe){return oe(Pe)}));break;case"delete":var Ve=new Jn().addKeys(ue.keys);ce=se.filter(function(Pe){return!Ve.hasKey(g.values?oe(Pe):Pe)});break;case"deleteRange":var Ye=ue.range;ce=se.filter(function(Pe){return!Ds(oe(Pe),Ye)})}return ce},f);return me===f?f:(me.sort(function(se,ue){return Et(te(se),te(ue))||Et(oe(se),oe(ue))}),g.limit&&g.limit<1/0&&(me.length>g.limit?me.length=g.limit:f.length===g.limit&&me.length<g.limit&&(O.dirty=!0)),H?Object.freeze(me):me)}function Ii(f,g){return Et(f.lower,g.lower)===0&&Et(f.upper,g.upper)===0&&!!f.lowerOpen==!!g.lowerOpen&&!!f.upperOpen==!!g.upperOpen}function Ho(f,g){return(function(w,E,O,H){if(w===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((E=Et(w,E))===0){if(O&&H)return 0;if(O)return 1;if(H)return-1}return E})(f.lower,g.lower,f.lowerOpen,g.lowerOpen)<=0&&0<=(function(w,E,O,H){if(w===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((E=Et(w,E))===0){if(O&&H)return 0;if(O)return-1;if(H)return 1}return E})(f.upper,g.upper,f.upperOpen,g.upperOpen)}function ch(f,g,w,E){f.subscribers.add(w),E.addEventListener("abort",function(){var O,H;f.subscribers.delete(w),f.subscribers.size===0&&(O=f,H=g,setTimeout(function(){O.subscribers.size===0&&I(H,O)},3e3))})}var As={stack:"dbcore",level:0,name:"Cache",create:function(f){var g=f.schema.name;return o(o({},f),{transaction:function(w,E,O){var H,X,F=f.transaction(w,E,O);return E==="readwrite"&&(X=(H=new AbortController).signal,O=function(ie){return function(){if(H.abort(),E==="readwrite"){for(var oe=new Set,he=0,te=w;he<te.length;he++){var me=te[he],se=ui["idb://".concat(g,"/").concat(me)];if(se){var ue=f.table(me),ce=se.optimisticOps.filter(function(Pe){return Pe.trans===F});if(F._explicit&&ie&&F.mutatedParts)for(var pe=0,ve=Object.values(se.queries.query);pe<ve.length;pe++)for(var Se=0,Oe=(Ie=ve[pe]).slice();Se<Oe.length;Se++)Ul((Le=Oe[Se]).obsSet,F.mutatedParts)&&(I(Ie,Le),Le.subscribers.forEach(function(Pe){return oe.add(Pe)}));else if(0<ce.length){se.optimisticOps=se.optimisticOps.filter(function(Pe){return Pe.trans!==F});for(var ze=0,$e=Object.values(se.queries.query);ze<$e.length;ze++)for(var Ie,Le,Ve,Ye=0,Ue=(Ie=$e[ze]).slice();Ye<Ue.length;Ye++)(Le=Ue[Ye]).res!=null&&F.mutatedParts&&(ie&&!Le.dirty?(Ve=Object.isFrozen(Le.res),Ve=Il(Le.res,Le.req,ce,ue,Le,Ve),Le.dirty?(I(Ie,Le),Le.subscribers.forEach(function(Pe){return oe.add(Pe)})):Ve!==Le.res&&(Le.res=Ve,Le.promise=je.resolve({result:Ve}))):(Le.dirty&&I(Ie,Le),Le.subscribers.forEach(function(Pe){return oe.add(Pe)})))}}}oe.forEach(function(Pe){return Pe()})}}},F.addEventListener("abort",O(!1),{signal:X}),F.addEventListener("error",O(!1),{signal:X}),F.addEventListener("complete",O(!0),{signal:X})),F},table:function(w){var E=f.table(w),O=E.schema.primaryKey;return o(o({},E),{mutate:function(H){var X=Me.trans;if(O.outbound||X.db._options.cache==="disabled"||X.explicit||X.idbtrans.mode!=="readwrite")return E.mutate(H);var F=ui["idb://".concat(g,"/").concat(w)];return F?(X=E.mutate(H),H.type!=="add"&&H.type!=="put"||!(50<=H.values.length||Ms(O,H).some(function(ie){return ie==null}))?(F.optimisticOps.push(H),H.mutatedParts&&Ts(H.mutatedParts),X.then(function(ie){0<ie.numFailures&&(I(F.optimisticOps,H),(ie=Dc(0,H,ie))&&F.optimisticOps.push(ie),H.mutatedParts&&Ts(H.mutatedParts))}),X.catch(function(){I(F.optimisticOps,H),H.mutatedParts&&Ts(H.mutatedParts)})):X.then(function(ie){var oe=Dc(0,o(o({},H),{values:H.values.map(function(he,te){var me;return ie.failures[te]?he:(he=(me=O.keyPath)!==null&&me!==void 0&&me.includes(".")?re(he):o({},he),$(he,O.keyPath,ie.results[te]),he)})}),ie);F.optimisticOps.push(oe),queueMicrotask(function(){return H.mutatedParts&&Ts(H.mutatedParts)})}),X):E.mutate(H)},query:function(H){if(!ci(Me,E)||!Mc("query",H))return E.query(H);var X=((oe=Me.trans)===null||oe===void 0?void 0:oe.db._options.cache)==="immutable",te=Me,F=te.requery,ie=te.signal,oe=(function(ue,ce,pe,ve){var Se=ui["idb://".concat(ue,"/").concat(ce)];if(!Se)return[];if(!(ce=Se.queries[pe]))return[null,!1,Se,null];var Oe=ce[(ve.query?ve.query.index.name:null)||""];if(!Oe)return[null,!1,Se,null];switch(pe){case"query":var ze=Oe.find(function($e){return $e.req.limit===ve.limit&&$e.req.values===ve.values&&Ii($e.req.query.range,ve.query.range)});return ze?[ze,!0,Se,Oe]:[Oe.find(function($e){return("limit"in $e.req?$e.req.limit:1/0)>=ve.limit&&(!ve.values||$e.req.values)&&Ho($e.req.query.range,ve.query.range)}),!1,Se,Oe];case"count":return ze=Oe.find(function($e){return Ii($e.req.query.range,ve.query.range)}),[ze,!!ze,Se,Oe]}})(g,w,"query",H),he=oe[0],te=oe[1],me=oe[2],se=oe[3];return he&&te?he.obsSet=H.obsSet:(te=E.query(H).then(function(ue){var ce=ue.result;if(he&&(he.res=ce),X){for(var pe=0,ve=ce.length;pe<ve;++pe)Object.freeze(ce[pe]);Object.freeze(ce)}else ue.result=re(ce);return ue}).catch(function(ue){return se&&he&&I(se,he),Promise.reject(ue)}),he={obsSet:H.obsSet,promise:te,subscribers:new Set,type:"query",req:H,dirty:!1},se?se.push(he):(se=[he],(me=me||(ui["idb://".concat(g,"/").concat(w)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[H.query.index.name||""]=se)),ch(he,se,F,ie),he.promise.then(function(ue){return{result:Il(ue.result,H,me?.optimisticOps,E,he,X)}})}})}})}};function ko(f,g){return new Proxy(f,{get:function(w,E,O){return E==="db"?g:Reflect.get(w,E,O)}})}var Wr=(fn.prototype.version=function(f){if(isNaN(f)||f<.1)throw new we.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new we.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var g=this._versions,w=g.filter(function(E){return E._cfg.version===f})[0];return w||(w=new this.Version(f),g.push(w),g.sort(jl),w.stores({}),this._state.autoSchema=!1,w)},fn.prototype._whenReady=function(f){var g=this;return this.idbdb&&(this._state.openComplete||Me.letThrough||this._vip)?f():new je(function(w,E){if(g._state.openComplete)return E(new we.DatabaseClosed(g._state.dbOpenError));if(!g._state.isBeingOpened){if(!g._state.autoOpen)return void E(new we.DatabaseClosed);g.open().catch(ke)}g._state.dbReadyPromise.then(w,E)}).then(f)},fn.prototype.use=function(f){var g=f.stack,w=f.create,E=f.level,O=f.name;return O&&this.unuse({stack:g,name:O}),f=this._middlewares[g]||(this._middlewares[g]=[]),f.push({stack:g,create:w,level:E??10,name:O}),f.sort(function(H,X){return H.level-X.level}),this},fn.prototype.unuse=function(f){var g=f.stack,w=f.name,E=f.create;return g&&this._middlewares[g]&&(this._middlewares[g]=this._middlewares[g].filter(function(O){return E?O.create!==E:!!w&&O.name!==w})),this},fn.prototype.open=function(){var f=this;return mr(qe,function(){return sh(f)})},fn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,g=va.indexOf(this);if(0<=g&&va.splice(g,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new je(function(w){f.dbReadyResolve=w}),f.openCanceller=new je(function(w,E){f.cancelOpen=E}))},fn.prototype.close=function(w){var g=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,w=this._state;g?(w.isBeingOpened&&w.cancelOpen(new we.DatabaseClosed),this._close(),w.autoOpen=!1,w.dbOpenError=new we.DatabaseClosed):(this._close(),w.autoOpen=this._options.autoOpen||w.isBeingOpened,w.openComplete=!1,w.dbOpenError=null)},fn.prototype.delete=function(f){var g=this;f===void 0&&(f={disableAutoOpen:!0});var w=0<arguments.length&&typeof arguments[0]!="object",E=this._state;return new je(function(O,H){function X(){g.close(f);var F=g._deps.indexedDB.deleteDatabase(g.name);F.onsuccess=lt(function(){var ie,oe,he;ie=g._deps,oe=g.name,he=ie.indexedDB,ie=ie.IDBKeyRange,_s(he)||oe===Wa||Bl(he,ie).delete(oe).catch(ke),O()}),F.onerror=Br(H),F.onblocked=g._fireOnBlocked}if(w)throw new we.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(X):X()})},fn.prototype.backendDB=function(){return this.idbdb},fn.prototype.isOpen=function(){return this.idbdb!==null},fn.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},fn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},fn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(fn.prototype,"tables",{get:function(){var f=this;return c(this._allTables).map(function(g){return f._allTables[g]})},enumerable:!1,configurable:!0}),fn.prototype.transaction=function(){var f=(function(g,w,E){var O=arguments.length;if(O<2)throw new we.InvalidArgument("Too few arguments");for(var H=new Array(O-1);--O;)H[O-1]=arguments[O];return E=H.pop(),[g,fe(H),E]}).apply(this,arguments);return this._transaction.apply(this,f)},fn.prototype._transaction=function(f,g,w){var E=this,O=Me.trans;O&&O.db===this&&f.indexOf("!")===-1||(O=null);var H,X,F=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(X=g.map(function(oe){if(oe=oe instanceof E.Table?oe.name:oe,typeof oe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return oe}),f=="r"||f===zr)H=zr;else{if(f!="rw"&&f!=Pr)throw new we.InvalidArgument("Invalid transaction mode: "+f);H=Pr}if(O){if(O.mode===zr&&H===Pr){if(!F)throw new we.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&X.forEach(function(oe){if(O&&O.storeNames.indexOf(oe)===-1){if(!F)throw new we.SubTransaction("Table "+oe+" not included in parent transaction.");O=null}}),F&&O&&!O.active&&(O=null)}}catch(oe){return O?O._promise(null,function(he,te){te(oe)}):Qt(oe)}var ie=(function oe(he,te,me,se,ue){return je.resolve().then(function(){var ce=Me.transless||Me,pe=he._createTransaction(te,me,he._dbSchema,se);if(pe.explicit=!0,ce={trans:pe,transless:ce},se)pe.idbtrans=se.idbtrans;else try{pe.create(),pe.idbtrans._explicit=!0,he._state.PR1398_maxLoop=3}catch(Oe){return Oe.name===Ae.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return oe(he,te,me,null,ue)})):Qt(Oe)}var ve,Se=q(ue);return Se&&En(),ce=je.follow(function(){var Oe;(ve=ue.call(pe,pe))&&(Se?(Oe=Qn.bind(null,null),ve.then(Oe,Oe)):typeof ve.next=="function"&&typeof ve.throw=="function"&&(ve=Bo(ve)))},ce),(ve&&typeof ve.then=="function"?je.resolve(ve).then(function(Oe){return pe.active?Oe:Qt(new we.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ce.then(function(){return ve})).then(function(Oe){return se&&pe._resolve(),pe._completion.then(function(){return Oe})}).catch(function(Oe){return pe._reject(Oe),Qt(Oe)})})}).bind(null,this,H,X,O,w);return O?O._promise(H,ie,"lock"):Me.trans?mr(Me.transless,function(){return E._whenReady(ie)}):this._whenReady(ie)},fn.prototype.table=function(f){if(!y(this._allTables,f))throw new we.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},fn);function fn(f,g){var w=this;this._middlewares={},this.verno=0;var E=fn.dependencies;this._options=g=o({addons:fn.addons,autoOpen:!0,indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange,cache:"cloned"},g),this._deps={indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange},E=g.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,H,X,F,ie,oe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ke,dbReadyPromise:null,cancelOpen:ke,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:g.autoOpen};oe.dbReadyPromise=new je(function(te){oe.dbReadyResolve=te}),oe.openCanceller=new je(function(te,me){oe.cancelOpen=me}),this._state=oe,this.name=f,this.on=ni(this,"populate","blocked","versionchange","close",{ready:[ft,ke]}),this.once=function(te,me){var se=function(){for(var ue=[],ce=0;ce<arguments.length;ce++)ue[ce]=arguments[ce];w.on(te).unsubscribe(se),me.apply(w,ue)};return w.on(te,se)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(te){return function(me,se){fn.vip(function(){var ue,ce=w._state;ce.openComplete?(ce.dbOpenError||je.resolve().then(me),se&&te(me)):ce.onReadyBeingFired?(ce.onReadyBeingFired.push(me),se&&te(me)):(te(me),ue=w,se||te(function pe(){ue.on.ready.unsubscribe(me),ue.on.ready.unsubscribe(pe)}))})}}),this.Collection=(O=this,Tn(ah.prototype,function(ve,pe){this.db=O;var se=Hi,ue=null;if(pe)try{se=pe()}catch(Se){ue=Se}var ce=ve._ctx,pe=ce.table,ve=pe.hook.reading.fire;this._ctx={table:pe,index:ce.index,isPrimKey:!ce.index||pe.schema.primKey.keyPath&&ce.index===pe.schema.primKey.name,range:se,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ue,or:ce.or,valueMapper:ve!==Qe?ve:null}})),this.Table=(H=this,Tn(Mo.prototype,function(te,me,se){this.db=H,this._tx=se,this.name=te,this.schema=me,this.hook=H._allTables[te]?H._allTables[te].hook:ni(null,{creating:[vt,ke],reading:[Xe,Qe],updating:[St,ke],deleting:[rt,ke]})})),this.Transaction=(X=this,Tn(Rl.prototype,function(te,me,se,ue,ce){var pe=this;te!=="readonly"&&me.forEach(function(ve){ve=(ve=se[ve])===null||ve===void 0?void 0:ve.yProps,ve&&(me=me.concat(ve.map(function(Se){return Se.updatesTable})))}),this.db=X,this.mode=te,this.storeNames=me,this.schema=se,this.chromeTransactionDurability=ue,this.idbtrans=null,this.on=ni(this,"complete","error","abort"),this.parent=ce||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je(function(ve,Se){pe._resolve=ve,pe._reject=Se}),this._completion.then(function(){pe.active=!1,pe.on.complete.fire()},function(ve){var Se=pe.active;return pe.active=!1,pe.on.error.fire(ve),pe.parent?pe.parent._reject(ve):Se&&pe.idbtrans&&pe.idbtrans.abort(),Qt(ve)})})),this.Version=(F=this,Tn(oh.prototype,function(te){this.db=F,this._cfg={version:te,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ie=this,Tn(ai.prototype,function(te,me,se){if(this.db=ie,this._ctx={table:te,index:me===":id"?null:me,or:se},this._cmp=this._ascending=Et,this._descending=function(ue,ce){return Et(ce,ue)},this._max=function(ue,ce){return 0<Et(ue,ce)?ue:ce},this._min=function(ue,ce){return Et(ue,ce)<0?ue:ce},this._IDBKeyRange=ie._deps.IDBKeyRange,!this._IDBKeyRange)throw new we.MissingAPI})),this.on("versionchange",function(te){0<te.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(te){!te.newVersion||te.newVersion<te.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(te.oldVersion/10))}),this._maxKey=qi(g.IDBKeyRange),this._createTransaction=function(te,me,se,ue){return new w.Transaction(te,me,se,w._options.chromeTransactionDurability,ue)},this._fireOnBlocked=function(te){w.on("blocked").fire(te),va.filter(function(me){return me.name===w.name&&me!==w&&!me._state.vcFired}).map(function(me){return me.on("versionchange").fire(te)})},this.use(Oc),this.use(As),this.use(uh),this.use(lh),this.use(Tc);var he=new Proxy(this,{get:function(te,me,se){if(me==="_vip")return!0;if(me==="table")return function(ce){return ko(w.table(ce),he)};var ue=Reflect.get(te,me,se);return ue instanceof Mo?ko(ue,he):me==="tables"?ue.map(function(ce){return ko(ce,he)}):me==="_createTransaction"?function(){return ko(ue.apply(this,arguments),he)}:ue}});this.vip=he,E.forEach(function(te){return te(w)})}var Xi,vr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ac=(Rs.prototype.subscribe=function(f,g,w){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:g,complete:w})},Rs.prototype[vr]=function(){return this},Rs);function Rs(f){this._subscribe=f}try{Xi={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{Xi={indexedDB:null,IDBKeyRange:null}}function Rc(f){var g,w=!1,E=new Ac(function(O){var H=q(f),X,F=!1,ie={},oe={},he={get closed(){return F},unsubscribe:function(){F||(F=!0,X&&X.abort(),te&&Wn.storagemutated.unsubscribe(se))}};O.start&&O.start(he);var te=!1,me=function(){return Gr(ue)},se=function(ce){Ns(ie,ce),Ul(oe,ie)&&me()},ue=function(){var ce,pe,ve;!F&&Xi.indexedDB&&(ie={},ce={},X&&X.abort(),X=new AbortController,ve=(function(Se){var Oe=$t();try{H&&En();var ze=en(f,Se);return ze=H?ze.finally(Qn):ze}finally{Oe&&mt()}})(pe={subscr:ce,signal:X.signal,requery:me,querier:f,trans:null}),Promise.resolve(ve).then(function(Se){w=!0,g=Se,F||pe.signal.aborted||(ie={},(function(Oe){for(var ze in Oe)if(y(Oe,ze))return;return 1})(oe=ce)||te||(Wn(Li,se),te=!0),Gr(function(){return!F&&O.next&&O.next(Se)}))},function(Se){w=!1,["DatabaseClosedError","AbortError"].includes(Se?.name)||F||Gr(function(){F||O.error&&O.error(Se)})}))};return setTimeout(me,0),he});return E.hasValue=function(){return w},E.getValue=function(){return g},E}var fi=Wr;function Xl(f){var g=ka;try{ka=!0,Wn.storagemutated.fire(f),Vl(f,!0)}finally{ka=g}}x(fi,o(o({},Fe),{delete:function(f){return new fi(f,{addons:[]}).delete()},exists:function(f){return new fi(f,{addons:[]}).open().then(function(g){return g.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return g=fi.dependencies,w=g.indexedDB,g=g.IDBKeyRange,(_s(w)?Promise.resolve(w.databases()).then(function(E){return E.map(function(O){return O.name}).filter(function(O){return O!==Wa})}):Bl(w,g).toCollection().primaryKeys()).then(f)}catch{return Qt(new we.MissingAPI)}var g,w},defineClass:function(){return function(f){p(this,f)}},ignoreTransaction:function(f){return Me.trans?mr(Me.transless,f):f()},vip:Hl,async:function(f){return function(){try{var g=Bo(f.apply(this,arguments));return g&&typeof g.then=="function"?g:je.resolve(g)}catch(w){return Qt(w)}}},spawn:function(f,g,w){try{var E=Bo(f.apply(w,g||[]));return E&&typeof E.then=="function"?E:je.resolve(E)}catch(O){return Qt(O)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(f,g){return g=je.resolve(typeof f=="function"?fi.ignoreTransaction(f):f).timeout(g||6e4),Me.trans?Me.trans.waitFor(g):g},Promise:je,debug:{get:function(){return Dt},set:function(f){At(f)}},derive:T,extend:p,props:x,override:A,Events:ni,on:Wn,liveQuery:Rc,extendObservabilitySet:Ns,getByKeyPath:L,setByKeyPath:$,delByKeyPath:function(f,g){typeof g=="string"?$(f,g,void 0):"length"in g&&[].map.call(g,function(w){$(f,w,void 0)})},shallowClone:P,deepClone:re,getObjectDiff:Os,cmp:Et,asap:K,minKey:-1/0,addons:[],connections:va,errnames:Ae,dependencies:Xi,cache:ui,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,g,w){return f+g/Math.pow(10,2*w)})})),fi.maxKey=qi(fi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Wn(Li,function(f){ka||(f=new CustomEvent(oi,{detail:f}),ka=!0,dispatchEvent(f),ka=!1)}),addEventListener(oi,function(f){f=f.detail,ka||Xl(f)}));var Ki,ka=!1,dr=function(){};return typeof BroadcastChannel<"u"&&((dr=function(){(Ki=new BroadcastChannel(oi)).onmessage=function(f){return f.data&&Xl(f.data)}})(),typeof Ki.unref=="function"&&Ki.unref(),Wn(Li,function(f){ka||Ki.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Wr.disableBfCache&&f.persisted){Dt&&console.debug("Dexie: handling persisted pagehide"),Ki?.close();for(var g=0,w=va;g<w.length;g++)w[g].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Wr.disableBfCache&&f.persisted&&(Dt&&console.debug("Dexie: handling persisted pageshow"),dr(),Xl({all:new Jn(-1/0,[[]])}))})),je.rejectionMapper=function(f,g){return!f||f instanceof ae||f instanceof TypeError||f instanceof SyntaxError||!f.name||!Ge[f.name]?f:(g=new Ge[f.name](g||f.message,f),"stack"in f&&C(g,"stack",{get:function(){return this.inner.stack}}),g)},At(Dt),o(Wr,Object.freeze({__proto__:null,Dexie:Wr,liveQuery:Rc,Entity:ps,cmp:Et,PropModification:ja,replacePrefix:function(f,g){return new ja({replacePrefix:[f,g]})},add:function(f){return new ja({add:f})},remove:function(f){return new ja({remove:f})},default:Wr,RangeSet:Jn,mergeRanges:li,rangesOverlap:_c}),{default:Wr}),Wr})})(td)),td.exports}var KA=XA();const Pm=ic(KA),Sx=Symbol.for("Dexie"),yd=globalThis[Sx]||(globalThis[Sx]=Pm);if(Pm.semVer!==yd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Pm.semVer} and ${yd.semVer}`);const{liveQuery:l6,mergeRanges:u6,rangesOverlap:c6,RangeSet:f6,cmp:d6,Entity:h6,PropModification:p6,replacePrefix:m6,add:g6,remove:v6,DexieYProvider:y6}=yd,GA="graphId",PA="rfTypeIdentifier";class ZA extends yd{graphStore;userNodesStore;cache={userNodes:{},graphs:{}};constructor(){super("FlowDatabase"),this.version(1).stores({graphStore:GA,userNodesStore:PA})}async putUserNode(r,a){this.cache.userNodes[r]=a,await this.userNodesStore.put({rfTypeIdentifier:r,...a})}async removeUserNode(r){delete this.cache.userNodes[r],await this.userNodesStore.delete(r)}async putGraph(r,a){a.timestamp=Date.now(),this.cache.graphs[r]=a,await this.graphStore.put({graphId:r,...a})}async removeGraph(r){delete this.cache.graphs[r],await this.graphStore.delete(r)}async syncCache(){this.cache.userNodes={},this.cache.graphs={},await this.userNodesStore.each(r=>{const{rfTypeIdentifier:a,...o}=r;this.cache.userNodes[a]=o}),await this.graphStore.each(r=>{const{graphId:a,...o}=r;this.cache.graphs[a]=o})}}const pn=new ZA;window.db=pn;const ds=R.createContext({masterNodes:[],masterEdges:[],setMasterNodes:()=>{},setMasterEdges:()=>{}}),tt={Bang:"bang",Boolean:"boolean",Number:"number"};function QA({dataType:e,value:r,label:a,disabled:o,setValue:l}){switch(e){case tt.Number:return j.jsx("input",{value:r??0,className:"nodrag nopan",type:"number",onChange:u=>l(parseFloat(u.target.value)),style:{maxWidth:"50px",height:"20px"},disabled:o});case tt.Boolean:return j.jsxs("label",{className:"switch",children:[j.jsx("input",{checked:r,type:"checkbox",onChange:u=>l(u.target.checked),style:{margin:0},disabled:o}),j.jsx("span",{className:"slider",children:j.jsx("span",{className:"dot"})})]});case tt.Bang:return j.jsx("button",{className:"node-handle",onClick:l,disabled:o,children:a||"Run"})}}var Rr="top",da="bottom",ha="right",jr="left",Bg="auto",hc=[Rr,da,ha,jr],El="start",Fu="end",FA="clippingParents",GS="viewport",Ou="popper",WA="reference",Ex=hc.reduce(function(e,r){return e.concat([r+"-"+El,r+"-"+Fu])},[]),PS=[].concat(hc,[Bg]).reduce(function(e,r){return e.concat([r,r+"-"+El,r+"-"+Fu])},[]),JA="beforeRead",e3="read",t3="afterRead",n3="beforeMain",r3="main",a3="afterMain",i3="beforeWrite",o3="write",s3="afterWrite",l3=[JA,e3,t3,n3,r3,a3,i3,o3,s3];function Za(e){return e?(e.nodeName||"").toLowerCase():null}function Ir(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var r=e.ownerDocument;return r&&r.defaultView||window}return e}function ls(e){var r=Ir(e).Element;return e instanceof r||e instanceof Element}function ca(e){var r=Ir(e).HTMLElement;return e instanceof r||e instanceof HTMLElement}function Hg(e){if(typeof ShadowRoot>"u")return!1;var r=Ir(e).ShadowRoot;return e instanceof r||e instanceof ShadowRoot}function u3(e){var r=e.state;Object.keys(r.elements).forEach(function(a){var o=r.styles[a]||{},l=r.attributes[a]||{},u=r.elements[a];!ca(u)||!Za(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(c){var d=l[c];d===!1?u.removeAttribute(c):u.setAttribute(c,d===!0?"":d)}))})}function c3(e){var r=e.state,a={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,a.popper),r.styles=a,r.elements.arrow&&Object.assign(r.elements.arrow.style,a.arrow),function(){Object.keys(r.elements).forEach(function(o){var l=r.elements[o],u=r.attributes[o]||{},c=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:a[o]),d=c.reduce(function(p,m){return p[m]="",p},{});!ca(l)||!Za(l)||(Object.assign(l.style,d),Object.keys(u).forEach(function(p){l.removeAttribute(p)}))})}}const ZS={name:"applyStyles",enabled:!0,phase:"write",fn:u3,effect:c3,requires:["computeStyles"]};function Ga(e){return e.split("-")[0]}var rs=Math.max,bd=Math.min,_l=Math.round;function Zm(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function QS(){return!/^((?!chrome|android).)*safari/i.test(Zm())}function Cl(e,r,a){r===void 0&&(r=!1),a===void 0&&(a=!1);var o=e.getBoundingClientRect(),l=1,u=1;r&&ca(e)&&(l=e.offsetWidth>0&&_l(o.width)/e.offsetWidth||1,u=e.offsetHeight>0&&_l(o.height)/e.offsetHeight||1);var c=ls(e)?Ir(e):window,d=c.visualViewport,p=!QS()&&a,m=(o.left+(p&&d?d.offsetLeft:0))/l,b=(o.top+(p&&d?d.offsetTop:0))/u,y=o.width/l,x=o.height/u;return{width:y,height:x,top:b,right:m+y,bottom:b+x,left:m,x:m,y:b}}function kg(e){var r=Cl(e),a=e.offsetWidth,o=e.offsetHeight;return Math.abs(r.width-a)<=1&&(a=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:o}}function FS(e,r){var a=r.getRootNode&&r.getRootNode();if(e.contains(r))return!0;if(a&&Hg(a)){var o=r;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Ri(e){return Ir(e).getComputedStyle(e)}function f3(e){return["table","td","th"].indexOf(Za(e))>=0}function To(e){return((ls(e)?e.ownerDocument:e.document)||window.document).documentElement}function Kd(e){return Za(e)==="html"?e:e.assignedSlot||e.parentNode||(Hg(e)?e.host:null)||To(e)}function _x(e){return!ca(e)||Ri(e).position==="fixed"?null:e.offsetParent}function d3(e){var r=/firefox/i.test(Zm()),a=/Trident/i.test(Zm());if(a&&ca(e)){var o=Ri(e);if(o.position==="fixed")return null}var l=Kd(e);for(Hg(l)&&(l=l.host);ca(l)&&["html","body"].indexOf(Za(l))<0;){var u=Ri(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function pc(e){for(var r=Ir(e),a=_x(e);a&&f3(a)&&Ri(a).position==="static";)a=_x(a);return a&&(Za(a)==="html"||Za(a)==="body"&&Ri(a).position==="static")?r:a||d3(e)||r}function Lg(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hu(e,r,a){return rs(e,bd(r,a))}function h3(e,r,a){var o=Hu(e,r,a);return o>a?a:o}function WS(){return{top:0,right:0,bottom:0,left:0}}function JS(e){return Object.assign({},WS(),e)}function eE(e,r){return r.reduce(function(a,o){return a[o]=e,a},{})}var p3=function(r,a){return r=typeof r=="function"?r(Object.assign({},a.rects,{placement:a.placement})):r,JS(typeof r!="number"?r:eE(r,hc))};function m3(e){var r,a=e.state,o=e.name,l=e.options,u=a.elements.arrow,c=a.modifiersData.popperOffsets,d=Ga(a.placement),p=Lg(d),m=[jr,ha].indexOf(d)>=0,b=m?"height":"width";if(!(!u||!c)){var y=p3(l.padding,a),x=kg(u),S=p==="y"?Rr:jr,C=p==="y"?da:ha,T=a.rects.reference[b]+a.rects.reference[p]-c[p]-a.rects.popper[b],B=c[p]-a.rects.reference[p],z=pc(u),V=z?p==="y"?z.clientHeight||0:z.clientWidth||0:0,A=T/2-B/2,N=y[S],K=V-x[b]-y[C],L=V/2-x[b]/2+A,$=Hu(N,L,K),P=p;a.modifiersData[o]=(r={},r[P]=$,r.centerOffset=$-L,r)}}function g3(e){var r=e.state,a=e.options,o=a.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=r.elements.popper.querySelector(l),!l)||FS(r.elements.popper,l)&&(r.elements.arrow=l))}const v3={name:"arrow",enabled:!0,phase:"main",fn:m3,effect:g3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nl(e){return e.split("-")[1]}var y3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function b3(e,r){var a=e.x,o=e.y,l=r.devicePixelRatio||1;return{x:_l(a*l)/l||0,y:_l(o*l)/l||0}}function Cx(e){var r,a=e.popper,o=e.popperRect,l=e.placement,u=e.variation,c=e.offsets,d=e.position,p=e.gpuAcceleration,m=e.adaptive,b=e.roundOffsets,y=e.isFixed,x=c.x,S=x===void 0?0:x,C=c.y,T=C===void 0?0:C,B=typeof b=="function"?b({x:S,y:T}):{x:S,y:T};S=B.x,T=B.y;var z=c.hasOwnProperty("x"),V=c.hasOwnProperty("y"),A=jr,N=Rr,K=window;if(m){var L=pc(a),$="clientHeight",P="clientWidth";if(L===Ir(a)&&(L=To(a),Ri(L).position!=="static"&&d==="absolute"&&($="scrollHeight",P="scrollWidth")),L=L,l===Rr||(l===jr||l===ha)&&u===Fu){N=da;var W=y&&L===K&&K.visualViewport?K.visualViewport.height:L[$];T-=W-o.height,T*=p?1:-1}if(l===jr||(l===Rr||l===da)&&u===Fu){A=ha;var fe=y&&L===K&&K.visualViewport?K.visualViewport.width:L[P];S-=fe-o.width,S*=p?1:-1}}var J=Object.assign({position:d},m&&y3),G=b===!0?b3({x:S,y:T},Ir(a)):{x:S,y:T};if(S=G.x,T=G.y,p){var re;return Object.assign({},J,(re={},re[N]=V?"0":"",re[A]=z?"0":"",re.transform=(K.devicePixelRatio||1)<=1?"translate("+S+"px, "+T+"px)":"translate3d("+S+"px, "+T+"px, 0)",re))}return Object.assign({},J,(r={},r[N]=V?T+"px":"",r[A]=z?S+"px":"",r.transform="",r))}function x3(e){var r=e.state,a=e.options,o=a.gpuAcceleration,l=o===void 0?!0:o,u=a.adaptive,c=u===void 0?!0:u,d=a.roundOffsets,p=d===void 0?!0:d,m={placement:Ga(r.placement),variation:Nl(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:l,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,Cx(Object.assign({},m,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:c,roundOffsets:p})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,Cx(Object.assign({},m,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const w3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:x3,data:{}};var $f={passive:!0};function S3(e){var r=e.state,a=e.instance,o=e.options,l=o.scroll,u=l===void 0?!0:l,c=o.resize,d=c===void 0?!0:c,p=Ir(r.elements.popper),m=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&m.forEach(function(b){b.addEventListener("scroll",a.update,$f)}),d&&p.addEventListener("resize",a.update,$f),function(){u&&m.forEach(function(b){b.removeEventListener("scroll",a.update,$f)}),d&&p.removeEventListener("resize",a.update,$f)}}const E3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:S3,data:{}};var _3={left:"right",right:"left",bottom:"top",top:"bottom"};function nd(e){return e.replace(/left|right|bottom|top/g,function(r){return _3[r]})}var C3={start:"end",end:"start"};function Nx(e){return e.replace(/start|end/g,function(r){return C3[r]})}function Ug(e){var r=Ir(e),a=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:a,scrollTop:o}}function qg(e){return Cl(To(e)).left+Ug(e).scrollLeft}function N3(e,r){var a=Ir(e),o=To(e),l=a.visualViewport,u=o.clientWidth,c=o.clientHeight,d=0,p=0;if(l){u=l.width,c=l.height;var m=QS();(m||!m&&r==="fixed")&&(d=l.offsetLeft,p=l.offsetTop)}return{width:u,height:c,x:d+qg(e),y:p}}function T3(e){var r,a=To(e),o=Ug(e),l=(r=e.ownerDocument)==null?void 0:r.body,u=rs(a.scrollWidth,a.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=rs(a.scrollHeight,a.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),d=-o.scrollLeft+qg(e),p=-o.scrollTop;return Ri(l||a).direction==="rtl"&&(d+=rs(a.clientWidth,l?l.clientWidth:0)-u),{width:u,height:c,x:d,y:p}}function $g(e){var r=Ri(e),a=r.overflow,o=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(a+l+o)}function tE(e){return["html","body","#document"].indexOf(Za(e))>=0?e.ownerDocument.body:ca(e)&&$g(e)?e:tE(Kd(e))}function ku(e,r){var a;r===void 0&&(r=[]);var o=tE(e),l=o===((a=e.ownerDocument)==null?void 0:a.body),u=Ir(o),c=l?[u].concat(u.visualViewport||[],$g(o)?o:[]):o,d=r.concat(c);return l?d:d.concat(ku(Kd(c)))}function Qm(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function O3(e,r){var a=Cl(e,!1,r==="fixed");return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}function Tx(e,r,a){return r===GS?Qm(N3(e,a)):ls(r)?O3(r,a):Qm(T3(To(e)))}function M3(e){var r=ku(Kd(e)),a=["absolute","fixed"].indexOf(Ri(e).position)>=0,o=a&&ca(e)?pc(e):e;return ls(o)?r.filter(function(l){return ls(l)&&FS(l,o)&&Za(l)!=="body"}):[]}function D3(e,r,a,o){var l=r==="clippingParents"?M3(e):[].concat(r),u=[].concat(l,[a]),c=u[0],d=u.reduce(function(p,m){var b=Tx(e,m,o);return p.top=rs(b.top,p.top),p.right=bd(b.right,p.right),p.bottom=bd(b.bottom,p.bottom),p.left=rs(b.left,p.left),p},Tx(e,c,o));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function nE(e){var r=e.reference,a=e.element,o=e.placement,l=o?Ga(o):null,u=o?Nl(o):null,c=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,p;switch(l){case Rr:p={x:c,y:r.y-a.height};break;case da:p={x:c,y:r.y+r.height};break;case ha:p={x:r.x+r.width,y:d};break;case jr:p={x:r.x-a.width,y:d};break;default:p={x:r.x,y:r.y}}var m=l?Lg(l):null;if(m!=null){var b=m==="y"?"height":"width";switch(u){case El:p[m]=p[m]-(r[b]/2-a[b]/2);break;case Fu:p[m]=p[m]+(r[b]/2-a[b]/2);break}}return p}function Wu(e,r){r===void 0&&(r={});var a=r,o=a.placement,l=o===void 0?e.placement:o,u=a.strategy,c=u===void 0?e.strategy:u,d=a.boundary,p=d===void 0?FA:d,m=a.rootBoundary,b=m===void 0?GS:m,y=a.elementContext,x=y===void 0?Ou:y,S=a.altBoundary,C=S===void 0?!1:S,T=a.padding,B=T===void 0?0:T,z=JS(typeof B!="number"?B:eE(B,hc)),V=x===Ou?WA:Ou,A=e.rects.popper,N=e.elements[C?V:x],K=D3(ls(N)?N:N.contextElement||To(e.elements.popper),p,b,c),L=Cl(e.elements.reference),$=nE({reference:L,element:A,placement:l}),P=Qm(Object.assign({},A,$)),W=x===Ou?P:L,fe={top:K.top-W.top+z.top,bottom:W.bottom-K.bottom+z.bottom,left:K.left-W.left+z.left,right:W.right-K.right+z.right},J=e.modifiersData.offset;if(x===Ou&&J){var G=J[l];Object.keys(fe).forEach(function(re){var k=[ha,da].indexOf(re)>=0?1:-1,Y=[Rr,da].indexOf(re)>=0?"y":"x";fe[re]+=G[Y]*k})}return fe}function A3(e,r){r===void 0&&(r={});var a=r,o=a.placement,l=a.boundary,u=a.rootBoundary,c=a.padding,d=a.flipVariations,p=a.allowedAutoPlacements,m=p===void 0?PS:p,b=Nl(o),y=b?d?Ex:Ex.filter(function(C){return Nl(C)===b}):hc,x=y.filter(function(C){return m.indexOf(C)>=0});x.length===0&&(x=y);var S=x.reduce(function(C,T){return C[T]=Wu(e,{placement:T,boundary:l,rootBoundary:u,padding:c})[Ga(T)],C},{});return Object.keys(S).sort(function(C,T){return S[C]-S[T]})}function R3(e){if(Ga(e)===Bg)return[];var r=nd(e);return[Nx(e),r,Nx(r)]}function j3(e){var r=e.state,a=e.options,o=e.name;if(!r.modifiersData[o]._skip){for(var l=a.mainAxis,u=l===void 0?!0:l,c=a.altAxis,d=c===void 0?!0:c,p=a.fallbackPlacements,m=a.padding,b=a.boundary,y=a.rootBoundary,x=a.altBoundary,S=a.flipVariations,C=S===void 0?!0:S,T=a.allowedAutoPlacements,B=r.options.placement,z=Ga(B),V=z===B,A=p||(V||!C?[nd(B)]:R3(B)),N=[B].concat(A).reduce(function(de,ye){return de.concat(Ga(ye)===Bg?A3(r,{placement:ye,boundary:b,rootBoundary:y,padding:m,flipVariations:C,allowedAutoPlacements:T}):ye)},[]),K=r.rects.reference,L=r.rects.popper,$=new Map,P=!0,W=N[0],fe=0;fe<N.length;fe++){var J=N[fe],G=Ga(J),re=Nl(J)===El,k=[Rr,da].indexOf(G)>=0,Y=k?"width":"height",D=Wu(r,{placement:J,boundary:b,rootBoundary:y,altBoundary:x,padding:m}),M=k?re?ha:jr:re?da:Rr;K[Y]>L[Y]&&(M=nd(M));var I=nd(M),Q=[];if(u&&Q.push(D[G]<=0),d&&Q.push(D[M]<=0,D[I]<=0),Q.every(function(de){return de})){W=J,P=!1;break}$.set(J,Q)}if(P)for(var ne=C?3:1,q=function(ye){var Ce=N.find(function(Ae){var Te=$.get(Ae);if(Te)return Te.slice(0,ye).every(function(we){return we})});if(Ce)return W=Ce,"break"},Z=ne;Z>0;Z--){var ae=q(Z);if(ae==="break")break}r.placement!==W&&(r.modifiersData[o]._skip=!0,r.placement=W,r.reset=!0)}}const z3={name:"flip",enabled:!0,phase:"main",fn:j3,requiresIfExists:["offset"],data:{_skip:!1}};function Ox(e,r,a){return a===void 0&&(a={x:0,y:0}),{top:e.top-r.height-a.y,right:e.right-r.width+a.x,bottom:e.bottom-r.height+a.y,left:e.left-r.width-a.x}}function Mx(e){return[Rr,ha,da,jr].some(function(r){return e[r]>=0})}function B3(e){var r=e.state,a=e.name,o=r.rects.reference,l=r.rects.popper,u=r.modifiersData.preventOverflow,c=Wu(r,{elementContext:"reference"}),d=Wu(r,{altBoundary:!0}),p=Ox(c,o),m=Ox(d,l,u),b=Mx(p),y=Mx(m);r.modifiersData[a]={referenceClippingOffsets:p,popperEscapeOffsets:m,isReferenceHidden:b,hasPopperEscaped:y},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":y})}const H3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:B3};function k3(e,r,a){var o=Ga(e),l=[jr,Rr].indexOf(o)>=0?-1:1,u=typeof a=="function"?a(Object.assign({},r,{placement:e})):a,c=u[0],d=u[1];return c=c||0,d=(d||0)*l,[jr,ha].indexOf(o)>=0?{x:d,y:c}:{x:c,y:d}}function L3(e){var r=e.state,a=e.options,o=e.name,l=a.offset,u=l===void 0?[0,0]:l,c=PS.reduce(function(b,y){return b[y]=k3(y,r.rects,u),b},{}),d=c[r.placement],p=d.x,m=d.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=p,r.modifiersData.popperOffsets.y+=m),r.modifiersData[o]=c}const U3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:L3};function q3(e){var r=e.state,a=e.name;r.modifiersData[a]=nE({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})}const $3={name:"popperOffsets",enabled:!0,phase:"read",fn:q3,data:{}};function V3(e){return e==="x"?"y":"x"}function Y3(e){var r=e.state,a=e.options,o=e.name,l=a.mainAxis,u=l===void 0?!0:l,c=a.altAxis,d=c===void 0?!1:c,p=a.boundary,m=a.rootBoundary,b=a.altBoundary,y=a.padding,x=a.tether,S=x===void 0?!0:x,C=a.tetherOffset,T=C===void 0?0:C,B=Wu(r,{boundary:p,rootBoundary:m,padding:y,altBoundary:b}),z=Ga(r.placement),V=Nl(r.placement),A=!V,N=Lg(z),K=V3(N),L=r.modifiersData.popperOffsets,$=r.rects.reference,P=r.rects.popper,W=typeof T=="function"?T(Object.assign({},r.rects,{placement:r.placement})):T,fe=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),J=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,G={x:0,y:0};if(L){if(u){var re,k=N==="y"?Rr:jr,Y=N==="y"?da:ha,D=N==="y"?"height":"width",M=L[N],I=M+B[k],Q=M-B[Y],ne=S?-P[D]/2:0,q=V===El?$[D]:P[D],Z=V===El?-P[D]:-$[D],ae=r.elements.arrow,de=S&&ae?kg(ae):{width:0,height:0},ye=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:WS(),Ce=ye[k],Ae=ye[Y],Te=Hu(0,$[D],de[D]),we=A?$[D]/2-ne-Te-Ce-fe.mainAxis:q-Te-Ce-fe.mainAxis,Ge=A?-$[D]/2+ne+Te+Ae+fe.mainAxis:Z+Te+Ae+fe.mainAxis,Fe=r.elements.arrow&&pc(r.elements.arrow),ke=Fe?N==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,Qe=(re=J?.[N])!=null?re:0,Xe=M+we-Qe-ke,st=M+Ge-Qe,vt=Hu(S?bd(I,Xe):I,M,S?rs(Q,st):Q);L[N]=vt,G[N]=vt-M}if(d){var rt,St=N==="x"?Rr:jr,qt=N==="x"?da:ha,ft=L[K],Dt=K==="y"?"height":"width",At=ft+B[St],xt=ft-B[qt],Vt=[Rr,jr].indexOf(z)!==-1,Sn=(rt=J?.[K])!=null?rt:0,Pt=Vt?At:ft-$[Dt]-P[Dt]-Sn+fe.altAxis,Xt=Vt?ft+$[Dt]+P[Dt]-Sn-fe.altAxis:xt,Ht=S&&Vt?h3(Pt,ft,Xt):Hu(S?Pt:At,ft,S?Xt:xt);L[K]=Ht,G[K]=Ht-ft}r.modifiersData[o]=G}}const I3={name:"preventOverflow",enabled:!0,phase:"main",fn:Y3,requiresIfExists:["offset"]};function X3(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function K3(e){return e===Ir(e)||!ca(e)?Ug(e):X3(e)}function G3(e){var r=e.getBoundingClientRect(),a=_l(r.width)/e.offsetWidth||1,o=_l(r.height)/e.offsetHeight||1;return a!==1||o!==1}function P3(e,r,a){a===void 0&&(a=!1);var o=ca(r),l=ca(r)&&G3(r),u=To(r),c=Cl(e,l,a),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(o||!o&&!a)&&((Za(r)!=="body"||$g(u))&&(d=K3(r)),ca(r)?(p=Cl(r,!0),p.x+=r.clientLeft,p.y+=r.clientTop):u&&(p.x=qg(u))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function Z3(e){var r=new Map,a=new Set,o=[];e.forEach(function(u){r.set(u.name,u)});function l(u){a.add(u.name);var c=[].concat(u.requires||[],u.requiresIfExists||[]);c.forEach(function(d){if(!a.has(d)){var p=r.get(d);p&&l(p)}}),o.push(u)}return e.forEach(function(u){a.has(u.name)||l(u)}),o}function Q3(e){var r=Z3(e);return l3.reduce(function(a,o){return a.concat(r.filter(function(l){return l.phase===o}))},[])}function F3(e){var r;return function(){return r||(r=new Promise(function(a){Promise.resolve().then(function(){r=void 0,a(e())})})),r}}function W3(e){var r=e.reduce(function(a,o){var l=a[o.name];return a[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,a},{});return Object.keys(r).map(function(a){return r[a]})}var Dx={placement:"bottom",modifiers:[],strategy:"absolute"};function Ax(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function J3(e){e===void 0&&(e={});var r=e,a=r.defaultModifiers,o=a===void 0?[]:a,l=r.defaultOptions,u=l===void 0?Dx:l;return function(d,p,m){m===void 0&&(m=u);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dx,u),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},y=[],x=!1,S={state:b,setOptions:function(z){var V=typeof z=="function"?z(b.options):z;T(),b.options=Object.assign({},u,b.options,V),b.scrollParents={reference:ls(d)?ku(d):d.contextElement?ku(d.contextElement):[],popper:ku(p)};var A=Q3(W3([].concat(o,b.options.modifiers)));return b.orderedModifiers=A.filter(function(N){return N.enabled}),C(),S.update()},forceUpdate:function(){if(!x){var z=b.elements,V=z.reference,A=z.popper;if(Ax(V,A)){b.rects={reference:P3(V,pc(A),b.options.strategy==="fixed"),popper:kg(A)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(fe){return b.modifiersData[fe.name]=Object.assign({},fe.data)});for(var N=0;N<b.orderedModifiers.length;N++){if(b.reset===!0){b.reset=!1,N=-1;continue}var K=b.orderedModifiers[N],L=K.fn,$=K.options,P=$===void 0?{}:$,W=K.name;typeof L=="function"&&(b=L({state:b,options:P,name:W,instance:S})||b)}}}},update:F3(function(){return new Promise(function(B){S.forceUpdate(),B(b)})}),destroy:function(){T(),x=!0}};if(!Ax(d,p))return S;S.setOptions(m).then(function(B){!x&&m.onFirstUpdate&&m.onFirstUpdate(B)});function C(){b.orderedModifiers.forEach(function(B){var z=B.name,V=B.options,A=V===void 0?{}:V,N=B.effect;if(typeof N=="function"){var K=N({state:b,name:z,instance:S,options:A}),L=function(){};y.push(K||L)}})}function T(){y.forEach(function(B){return B()}),y=[]}return S}}var eR=[E3,$3,w3,ZS,U3,z3,I3,v3,H3],tR=J3({defaultModifiers:eR}),nR="tippy-box",rE="tippy-content",rR="tippy-backdrop",aE="tippy-arrow",iE="tippy-svg-arrow",Jo={passive:!0,capture:!0},oE=function(){return document.body};function dm(e,r,a){if(Array.isArray(e)){var o=e[r];return o??(Array.isArray(a)?a[r]:a)}return e}function Vg(e,r){var a={}.toString.call(e);return a.indexOf("[object")===0&&a.indexOf(r+"]")>-1}function sE(e,r){return typeof e=="function"?e.apply(void 0,r):e}function Rx(e,r){if(r===0)return e;var a;return function(o){clearTimeout(a),a=setTimeout(function(){e(o)},r)}}function aR(e){return e.split(/\s+/).filter(Boolean)}function il(e){return[].concat(e)}function jx(e,r){e.indexOf(r)===-1&&e.push(r)}function iR(e){return e.filter(function(r,a){return e.indexOf(r)===a})}function oR(e){return e.split("-")[0]}function xd(e){return[].slice.call(e)}function zx(e){return Object.keys(e).reduce(function(r,a){return e[a]!==void 0&&(r[a]=e[a]),r},{})}function Lu(){return document.createElement("div")}function Gd(e){return["Element","Fragment"].some(function(r){return Vg(e,r)})}function sR(e){return Vg(e,"NodeList")}function lR(e){return Vg(e,"MouseEvent")}function uR(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function cR(e){return Gd(e)?[e]:sR(e)?xd(e):Array.isArray(e)?e:xd(document.querySelectorAll(e))}function hm(e,r){e.forEach(function(a){a&&(a.style.transitionDuration=r+"ms")})}function Bx(e,r){e.forEach(function(a){a&&a.setAttribute("data-state",r)})}function fR(e){var r,a=il(e),o=a[0];return o!=null&&(r=o.ownerDocument)!=null&&r.body?o.ownerDocument:document}function dR(e,r){var a=r.clientX,o=r.clientY;return e.every(function(l){var u=l.popperRect,c=l.popperState,d=l.props,p=d.interactiveBorder,m=oR(c.placement),b=c.modifiersData.offset;if(!b)return!0;var y=m==="bottom"?b.top.y:0,x=m==="top"?b.bottom.y:0,S=m==="right"?b.left.x:0,C=m==="left"?b.right.x:0,T=u.top-o+y>p,B=o-u.bottom-x>p,z=u.left-a+S>p,V=a-u.right-C>p;return T||B||z||V})}function pm(e,r,a){var o=r+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(l){e[o](l,a)})}function Hx(e,r){for(var a=r;a;){var o;if(e.contains(a))return!0;a=a.getRootNode==null||(o=a.getRootNode())==null?void 0:o.host}return!1}var Xa={isTouch:!1},kx=0;function hR(){Xa.isTouch||(Xa.isTouch=!0,window.performance&&document.addEventListener("mousemove",lE))}function lE(){var e=performance.now();e-kx<20&&(Xa.isTouch=!1,document.removeEventListener("mousemove",lE)),kx=e}function pR(){var e=document.activeElement;if(uR(e)){var r=e._tippy;e.blur&&!r.state.isVisible&&e.blur()}}function mR(){document.addEventListener("touchstart",hR,Jo),window.addEventListener("blur",pR)}var gR=typeof window<"u"&&typeof document<"u",vR=gR?!!window.msCrypto:!1,yR={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},bR={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ma=Object.assign({appendTo:oE,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},yR,bR),xR=Object.keys(Ma),wR=function(r){var a=Object.keys(r);a.forEach(function(o){Ma[o]=r[o]})};function uE(e){var r=e.plugins||[],a=r.reduce(function(o,l){var u=l.name,c=l.defaultValue;if(u){var d;o[u]=e[u]!==void 0?e[u]:(d=Ma[u])!=null?d:c}return o},{});return Object.assign({},e,a)}function SR(e,r){var a=r?Object.keys(uE(Object.assign({},Ma,{plugins:r}))):xR,o=a.reduce(function(l,u){var c=(e.getAttribute("data-tippy-"+u)||"").trim();if(!c)return l;if(u==="content")l[u]=c;else try{l[u]=JSON.parse(c)}catch{l[u]=c}return l},{});return o}function Lx(e,r){var a=Object.assign({},r,{content:sE(r.content,[e])},r.ignoreAttributes?{}:SR(e,r.plugins));return a.aria=Object.assign({},Ma.aria,a.aria),a.aria={expanded:a.aria.expanded==="auto"?r.interactive:a.aria.expanded,content:a.aria.content==="auto"?r.interactive?null:"describedby":a.aria.content},a}var ER=function(){return"innerHTML"};function Fm(e,r){e[ER()]=r}function Ux(e){var r=Lu();return e===!0?r.className=aE:(r.className=iE,Gd(e)?r.appendChild(e):Fm(r,e)),r}function qx(e,r){Gd(r.content)?(Fm(e,""),e.appendChild(r.content)):typeof r.content!="function"&&(r.allowHTML?Fm(e,r.content):e.textContent=r.content)}function Wm(e){var r=e.firstElementChild,a=xd(r.children);return{box:r,content:a.find(function(o){return o.classList.contains(rE)}),arrow:a.find(function(o){return o.classList.contains(aE)||o.classList.contains(iE)}),backdrop:a.find(function(o){return o.classList.contains(rR)})}}function cE(e){var r=Lu(),a=Lu();a.className=nR,a.setAttribute("data-state","hidden"),a.setAttribute("tabindex","-1");var o=Lu();o.className=rE,o.setAttribute("data-state","hidden"),qx(o,e.props),r.appendChild(a),a.appendChild(o),l(e.props,e.props);function l(u,c){var d=Wm(r),p=d.box,m=d.content,b=d.arrow;c.theme?p.setAttribute("data-theme",c.theme):p.removeAttribute("data-theme"),typeof c.animation=="string"?p.setAttribute("data-animation",c.animation):p.removeAttribute("data-animation"),c.inertia?p.setAttribute("data-inertia",""):p.removeAttribute("data-inertia"),p.style.maxWidth=typeof c.maxWidth=="number"?c.maxWidth+"px":c.maxWidth,c.role?p.setAttribute("role",c.role):p.removeAttribute("role"),(u.content!==c.content||u.allowHTML!==c.allowHTML)&&qx(m,e.props),c.arrow?b?u.arrow!==c.arrow&&(p.removeChild(b),p.appendChild(Ux(c.arrow))):p.appendChild(Ux(c.arrow)):b&&p.removeChild(b)}return{popper:r,onUpdate:l}}cE.$$tippy=!0;var _R=1,Vf=[],mm=[];function CR(e,r){var a=Lx(e,Object.assign({},Ma,uE(zx(r)))),o,l,u,c=!1,d=!1,p=!1,m=!1,b,y,x,S=[],C=Rx(Xe,a.interactiveDebounce),T,B=_R++,z=null,V=iR(a.plugins),A={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},N={id:B,reference:e,popper:Lu(),popperInstance:z,props:a,state:A,plugins:V,clearDelayTimeouts:Pt,setProps:Xt,setContent:Ht,show:gn,hide:vn,hideWithInteractivity:ln,enable:Vt,disable:Sn,unmount:an,destroy:jn};if(!a.render)return N;var K=a.render(N),L=K.popper,$=K.onUpdate;L.setAttribute("data-tippy-root",""),L.id="tippy-"+N.id,N.popper=L,e._tippy=N,L._tippy=N;var P=V.map(function(_e){return _e.fn(N)}),W=e.hasAttribute("aria-expanded");return Fe(),ne(),M(),I("onCreate",[N]),a.showOnCreate&&At(),L.addEventListener("mouseenter",function(){N.props.interactive&&N.state.isVisible&&N.clearDelayTimeouts()}),L.addEventListener("mouseleave",function(){N.props.interactive&&N.props.trigger.indexOf("mouseenter")>=0&&k().addEventListener("mousemove",C)}),N;function fe(){var _e=N.props.touch;return Array.isArray(_e)?_e:[_e,0]}function J(){return fe()[0]==="hold"}function G(){var _e;return!!((_e=N.props.render)!=null&&_e.$$tippy)}function re(){return T||e}function k(){var _e=re().parentNode;return _e?fR(_e):document}function Y(){return Wm(L)}function D(_e){return N.state.isMounted&&!N.state.isVisible||Xa.isTouch||b&&b.type==="focus"?0:dm(N.props.delay,_e?0:1,Ma.delay)}function M(_e){_e===void 0&&(_e=!1),L.style.pointerEvents=N.props.interactive&&!_e?"":"none",L.style.zIndex=""+N.props.zIndex}function I(_e,qe,Me){if(Me===void 0&&(Me=!0),P.forEach(function(at){at[_e]&&at[_e].apply(at,qe)}),Me){var gt;(gt=N.props)[_e].apply(gt,qe)}}function Q(){var _e=N.props.aria;if(_e.content){var qe="aria-"+_e.content,Me=L.id,gt=il(N.props.triggerTarget||e);gt.forEach(function(at){var Ze=at.getAttribute(qe);if(N.state.isVisible)at.setAttribute(qe,Ze?Ze+" "+Me:Me);else{var je=Ze&&Ze.replace(Me,"").trim();je?at.setAttribute(qe,je):at.removeAttribute(qe)}})}}function ne(){if(!(W||!N.props.aria.expanded)){var _e=il(N.props.triggerTarget||e);_e.forEach(function(qe){N.props.interactive?qe.setAttribute("aria-expanded",N.state.isVisible&&qe===re()?"true":"false"):qe.removeAttribute("aria-expanded")})}}function q(){k().removeEventListener("mousemove",C),Vf=Vf.filter(function(_e){return _e!==C})}function Z(_e){if(!(Xa.isTouch&&(p||_e.type==="mousedown"))){var qe=_e.composedPath&&_e.composedPath()[0]||_e.target;if(!(N.props.interactive&&Hx(L,qe))){if(il(N.props.triggerTarget||e).some(function(Me){return Hx(Me,qe)})){if(Xa.isTouch||N.state.isVisible&&N.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[N,_e]);N.props.hideOnClick===!0&&(N.clearDelayTimeouts(),N.hide(),d=!0,setTimeout(function(){d=!1}),N.state.isMounted||Ce())}}}function ae(){p=!0}function de(){p=!1}function ye(){var _e=k();_e.addEventListener("mousedown",Z,!0),_e.addEventListener("touchend",Z,Jo),_e.addEventListener("touchstart",de,Jo),_e.addEventListener("touchmove",ae,Jo)}function Ce(){var _e=k();_e.removeEventListener("mousedown",Z,!0),_e.removeEventListener("touchend",Z,Jo),_e.removeEventListener("touchstart",de,Jo),_e.removeEventListener("touchmove",ae,Jo)}function Ae(_e,qe){we(_e,function(){!N.state.isVisible&&L.parentNode&&L.parentNode.contains(L)&&qe()})}function Te(_e,qe){we(_e,qe)}function we(_e,qe){var Me=Y().box;function gt(at){at.target===Me&&(pm(Me,"remove",gt),qe())}if(_e===0)return qe();pm(Me,"remove",y),pm(Me,"add",gt),y=gt}function Ge(_e,qe,Me){Me===void 0&&(Me=!1);var gt=il(N.props.triggerTarget||e);gt.forEach(function(at){at.addEventListener(_e,qe,Me),S.push({node:at,eventType:_e,handler:qe,options:Me})})}function Fe(){J()&&(Ge("touchstart",Qe,{passive:!0}),Ge("touchend",st,{passive:!0})),aR(N.props.trigger).forEach(function(_e){if(_e!=="manual")switch(Ge(_e,Qe),_e){case"mouseenter":Ge("mouseleave",st);break;case"focus":Ge(vR?"focusout":"blur",vt);break;case"focusin":Ge("focusout",vt);break}})}function ke(){S.forEach(function(_e){var qe=_e.node,Me=_e.eventType,gt=_e.handler,at=_e.options;qe.removeEventListener(Me,gt,at)}),S=[]}function Qe(_e){var qe,Me=!1;if(!(!N.state.isEnabled||rt(_e)||d)){var gt=((qe=b)==null?void 0:qe.type)==="focus";b=_e,T=_e.currentTarget,ne(),!N.state.isVisible&&lR(_e)&&Vf.forEach(function(at){return at(_e)}),_e.type==="click"&&(N.props.trigger.indexOf("mouseenter")<0||c)&&N.props.hideOnClick!==!1&&N.state.isVisible?Me=!0:At(_e),_e.type==="click"&&(c=!Me),Me&&!gt&&xt(_e)}}function Xe(_e){var qe=_e.target,Me=re().contains(qe)||L.contains(qe);if(!(_e.type==="mousemove"&&Me)){var gt=Dt().concat(L).map(function(at){var Ze,je=at._tippy,Yt=(Ze=je.popperInstance)==null?void 0:Ze.state;return Yt?{popperRect:at.getBoundingClientRect(),popperState:Yt,props:a}:null}).filter(Boolean);dR(gt,_e)&&(q(),xt(_e))}}function st(_e){var qe=rt(_e)||N.props.trigger.indexOf("click")>=0&&c;if(!qe){if(N.props.interactive){N.hideWithInteractivity(_e);return}xt(_e)}}function vt(_e){N.props.trigger.indexOf("focusin")<0&&_e.target!==re()||N.props.interactive&&_e.relatedTarget&&L.contains(_e.relatedTarget)||xt(_e)}function rt(_e){return Xa.isTouch?J()!==_e.type.indexOf("touch")>=0:!1}function St(){qt();var _e=N.props,qe=_e.popperOptions,Me=_e.placement,gt=_e.offset,at=_e.getReferenceClientRect,Ze=_e.moveTransition,je=G()?Wm(L).arrow:null,Yt=at?{getBoundingClientRect:at,contextElement:at.contextElement||re()}:e,wt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ht){var yt=ht.state;if(G()){var Nt=Y(),$t=Nt.box;["placement","reference-hidden","escaped"].forEach(function(mt){mt==="placement"?$t.setAttribute("data-placement",yt.placement):yt.attributes.popper["data-popper-"+mt]?$t.setAttribute("data-"+mt,""):$t.removeAttribute("data-"+mt)}),yt.attributes.popper={}}}},nt=[{name:"offset",options:{offset:gt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ze}},wt];G()&&je&&nt.push({name:"arrow",options:{element:je,padding:3}}),nt.push.apply(nt,qe?.modifiers||[]),N.popperInstance=tR(Yt,L,Object.assign({},qe,{placement:Me,onFirstUpdate:x,modifiers:nt}))}function qt(){N.popperInstance&&(N.popperInstance.destroy(),N.popperInstance=null)}function ft(){var _e=N.props.appendTo,qe,Me=re();N.props.interactive&&_e===oE||_e==="parent"?qe=Me.parentNode:qe=sE(_e,[Me]),qe.contains(L)||qe.appendChild(L),N.state.isMounted=!0,St()}function Dt(){return xd(L.querySelectorAll("[data-tippy-root]"))}function At(_e){N.clearDelayTimeouts(),_e&&I("onTrigger",[N,_e]),ye();var qe=D(!0),Me=fe(),gt=Me[0],at=Me[1];Xa.isTouch&&gt==="hold"&&at&&(qe=at),qe?o=setTimeout(function(){N.show()},qe):N.show()}function xt(_e){if(N.clearDelayTimeouts(),I("onUntrigger",[N,_e]),!N.state.isVisible){Ce();return}if(!(N.props.trigger.indexOf("mouseenter")>=0&&N.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(_e.type)>=0&&c)){var qe=D(!1);qe?l=setTimeout(function(){N.state.isVisible&&N.hide()},qe):u=requestAnimationFrame(function(){N.hide()})}}function Vt(){N.state.isEnabled=!0}function Sn(){N.hide(),N.state.isEnabled=!1}function Pt(){clearTimeout(o),clearTimeout(l),cancelAnimationFrame(u)}function Xt(_e){if(!N.state.isDestroyed){I("onBeforeUpdate",[N,_e]),ke();var qe=N.props,Me=Lx(e,Object.assign({},qe,zx(_e),{ignoreAttributes:!0}));N.props=Me,Fe(),qe.interactiveDebounce!==Me.interactiveDebounce&&(q(),C=Rx(Xe,Me.interactiveDebounce)),qe.triggerTarget&&!Me.triggerTarget?il(qe.triggerTarget).forEach(function(gt){gt.removeAttribute("aria-expanded")}):Me.triggerTarget&&e.removeAttribute("aria-expanded"),ne(),M(),$&&$(qe,Me),N.popperInstance&&(St(),Dt().forEach(function(gt){requestAnimationFrame(gt._tippy.popperInstance.forceUpdate)})),I("onAfterUpdate",[N,_e])}}function Ht(_e){N.setProps({content:_e})}function gn(){var _e=N.state.isVisible,qe=N.state.isDestroyed,Me=!N.state.isEnabled,gt=Xa.isTouch&&!N.props.touch,at=dm(N.props.duration,0,Ma.duration);if(!(_e||qe||Me||gt)&&!re().hasAttribute("disabled")&&(I("onShow",[N],!1),N.props.onShow(N)!==!1)){if(N.state.isVisible=!0,G()&&(L.style.visibility="visible"),M(),ye(),N.state.isMounted||(L.style.transition="none"),G()){var Ze=Y(),je=Ze.box,Yt=Ze.content;hm([je,Yt],0)}x=function(){var nt;if(!(!N.state.isVisible||m)){if(m=!0,L.offsetHeight,L.style.transition=N.props.moveTransition,G()&&N.props.animation){var Ke=Y(),ht=Ke.box,yt=Ke.content;hm([ht,yt],at),Bx([ht,yt],"visible")}Q(),ne(),jx(mm,N),(nt=N.popperInstance)==null||nt.forceUpdate(),I("onMount",[N]),N.props.animation&&G()&&Te(at,function(){N.state.isShown=!0,I("onShown",[N])})}},ft()}}function vn(){var _e=!N.state.isVisible,qe=N.state.isDestroyed,Me=!N.state.isEnabled,gt=dm(N.props.duration,1,Ma.duration);if(!(_e||qe||Me)&&(I("onHide",[N],!1),N.props.onHide(N)!==!1)){if(N.state.isVisible=!1,N.state.isShown=!1,m=!1,c=!1,G()&&(L.style.visibility="hidden"),q(),Ce(),M(!0),G()){var at=Y(),Ze=at.box,je=at.content;N.props.animation&&(hm([Ze,je],gt),Bx([Ze,je],"hidden"))}Q(),ne(),N.props.animation?G()&&Ae(gt,N.unmount):N.unmount()}}function ln(_e){k().addEventListener("mousemove",C),jx(Vf,C),C(_e)}function an(){N.state.isVisible&&N.hide(),N.state.isMounted&&(qt(),Dt().forEach(function(_e){_e._tippy.unmount()}),L.parentNode&&L.parentNode.removeChild(L),mm=mm.filter(function(_e){return _e!==N}),N.state.isMounted=!1,I("onHidden",[N]))}function jn(){N.state.isDestroyed||(N.clearDelayTimeouts(),N.unmount(),ke(),delete e._tippy,N.state.isDestroyed=!0,I("onDestroy",[N]))}}function mc(e,r){r===void 0&&(r={});var a=Ma.plugins.concat(r.plugins||[]);mR();var o=Object.assign({},r,{plugins:a}),l=cR(e),u=l.reduce(function(c,d){var p=d&&CR(d,o);return p&&c.push(p),c},[]);return Gd(e)?u[0]:u}mc.defaultProps=Ma;mc.setDefaultProps=wR;mc.currentInput=Xa;Object.assign({},ZS,{effect:function(r){var a=r.state,o={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(a.elements.popper.style,o.popper),a.styles=o,a.elements.arrow&&Object.assign(a.elements.arrow.style,o.arrow)}});mc.setDefaultProps({render:cE});function fE(e,r){if(e==null)return{};var a={},o=Object.keys(e),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(a[l]=e[l]);return a}var dE=typeof window<"u"&&typeof document<"u";function Jm(e,r){e&&(typeof e=="function"&&e(r),{}.hasOwnProperty.call(e,"current")&&(e.current=r))}function $x(){return dE&&document.createElement("div")}function NR(e){var r={"data-placement":e.placement};return e.referenceHidden&&(r["data-reference-hidden"]=""),e.escaped&&(r["data-escaped"]=""),r}function hE(e,r){if(e===r)return!0;if(typeof e=="object"&&e!=null&&typeof r=="object"&&r!=null){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var a in e)if(r.hasOwnProperty(a)){if(!hE(e[a],r[a]))return!1}else return!1;return!0}else return!1}function TR(e){var r=[];return e.forEach(function(a){r.find(function(o){return hE(a,o)})||r.push(a)}),r}function OR(e,r){var a,o;return Object.assign({},r,{popperOptions:Object.assign({},e.popperOptions,r.popperOptions,{modifiers:TR([].concat(((a=e.popperOptions)==null?void 0:a.modifiers)||[],((o=r.popperOptions)==null?void 0:o.modifiers)||[]))})})}var gm=dE?R.useLayoutEffect:R.useEffect;function MR(e){var r=R.useRef();return r.current||(r.current=typeof e=="function"?e():e),r.current}function Vx(e,r,a){a.split(/\s+/).forEach(function(o){o&&e.classList[r](o)})}var DR={name:"className",defaultValue:"",fn:function(r){var a=r.popper.firstElementChild,o=function(){var d;return!!((d=r.props.render)!=null&&d.$$tippy)};function l(){r.props.className&&!o()||Vx(a,"add",r.props.className)}function u(){o()&&Vx(a,"remove",r.props.className)}return{onCreate:l,onBeforeUpdate:u,onAfterUpdate:l}}};function AR(e){function r(a){var o=a.children,l=a.content,u=a.visible,c=a.singleton,d=a.render,p=a.reference,m=a.disabled,b=m===void 0?!1:m,y=a.ignoreAttributes,x=y===void 0?!0:y;a.__source,a.__self;var S=fE(a,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),C=u!==void 0,T=c!==void 0,B=R.useState(!1),z=B[0],V=B[1],A=R.useState({}),N=A[0],K=A[1],L=R.useState(),$=L[0],P=L[1],W=MR(function(){return{container:$x(),renders:1}}),fe=Object.assign({ignoreAttributes:x},S,{content:W.container});C&&(fe.trigger="manual",fe.hideOnClick=!1),T&&(b=!0);var J=fe,G=fe.plugins||[];d&&(J=Object.assign({},fe,{plugins:T&&c.data!=null?[].concat(G,[{fn:function(){return{onTrigger:function(D,M){var I=c.data.children.find(function(Q){var ne=Q.instance;return ne.reference===M.currentTarget});D.state.$$activeSingletonInstance=I.instance,P(I.content)}}}}]):G,render:function(){return{popper:W.container}}}));var re=[p].concat(o?[o.type]:[]);return gm(function(){var k=p;p&&p.hasOwnProperty("current")&&(k=p.current);var Y=e(k||W.ref||$x(),Object.assign({},J,{plugins:[DR].concat(fe.plugins||[])}));return W.instance=Y,b&&Y.disable(),u&&Y.show(),T&&c.hook({instance:Y,content:l,props:J,setSingletonContent:P}),V(!0),function(){Y.destroy(),c?.cleanup(Y)}},re),gm(function(){var k;if(W.renders===1){W.renders++;return}var Y=W.instance;Y.setProps(OR(Y.props,J)),(k=Y.popperInstance)==null||k.forceUpdate(),b?Y.disable():Y.enable(),C&&(u?Y.show():Y.hide()),T&&c.hook({instance:Y,content:l,props:J,setSingletonContent:P})}),gm(function(){var k;if(d){var Y=W.instance;Y.setProps({popperOptions:Object.assign({},Y.props.popperOptions,{modifiers:[].concat((((k=Y.props.popperOptions)==null?void 0:k.modifiers)||[]).filter(function(D){var M=D.name;return M!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(M){var I,Q=M.state,ne=(I=Q.modifiersData)==null?void 0:I.hide;(N.placement!==Q.placement||N.referenceHidden!==ne?.isReferenceHidden||N.escaped!==ne?.hasPopperEscaped)&&K({placement:Q.placement,referenceHidden:ne?.isReferenceHidden,escaped:ne?.hasPopperEscaped}),Q.attributes.popper={}}}])})})}},[N.placement,N.referenceHidden,N.escaped].concat(re)),He.createElement(He.Fragment,null,o?R.cloneElement(o,{ref:function(Y){W.ref=Y,Jm(o.ref,Y)}}):null,z&&ua.createPortal(d?d(NR(N),$,W.instance):l,W.container))}return r}var RR=(function(e,r){return R.forwardRef(function(o,l){var u=o.children,c=fE(o,["children"]);return He.createElement(e,Object.assign({},r,c),u?R.cloneElement(u,{ref:function(p){Jm(l,p),Jm(u.ref,p)}}):null)})}),Pd=RR(AR(mc));function jR(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}const zR=e=>{switch(e){case"success":return kR;case"info":return UR;case"warning":return LR;case"error":return qR;default:return null}},BR=Array(12).fill(0),HR=({visible:e,className:r})=>He.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},He.createElement("div",{className:"sonner-spinner"},BR.map((a,o)=>He.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),kR=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LR=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UR=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qR=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$R=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},He.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),He.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VR=()=>{const[e,r]=He.useState(document.hidden);return He.useEffect(()=>{const a=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),e};let eg=1;class YR{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const a=this.subscribers.indexOf(r);this.subscribers.splice(a,1)}),this.publish=r=>{this.subscribers.forEach(a=>a(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var a;const{message:o,...l}=r,u=typeof r?.id=="number"||((a=r.id)==null?void 0:a.length)>0?r.id:eg++,c=this.toasts.find(p=>p.id===u),d=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),c?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...r,id:u,title:o}),{...p,...r,id:u,dismissible:d,title:o}):p):this.addToast({title:o,...l,dismissible:d,id:u}),u},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:r,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(o=>o({id:a.id,dismiss:!0}))}),r),this.message=(r,a)=>this.create({...a,message:r}),this.error=(r,a)=>this.create({...a,message:r,type:"error"}),this.success=(r,a)=>this.create({...a,type:"success",message:r}),this.info=(r,a)=>this.create({...a,type:"info",message:r}),this.warning=(r,a)=>this.create({...a,type:"warning",message:r}),this.loading=(r,a)=>this.create({...a,type:"loading",message:r}),this.promise=(r,a)=>{if(!a)return;let o;a.loading!==void 0&&(o=this.create({...a,promise:r,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const l=Promise.resolve(r instanceof Function?r():r);let u=o!==void 0,c;const d=l.then(async m=>{if(c=["resolve",m],He.isValidElement(m))u=!1,this.create({id:o,type:"default",message:m});else if(XR(m)&&!m.ok){u=!1;const y=typeof a.error=="function"?await a.error(`HTTP error! status: ${m.status}`):a.error,x=typeof a.description=="function"?await a.description(`HTTP error! status: ${m.status}`):a.description,C=typeof y=="object"&&!He.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:x,...C})}else if(m instanceof Error){u=!1;const y=typeof a.error=="function"?await a.error(m):a.error,x=typeof a.description=="function"?await a.description(m):a.description,C=typeof y=="object"&&!He.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:x,...C})}else if(a.success!==void 0){u=!1;const y=typeof a.success=="function"?await a.success(m):a.success,x=typeof a.description=="function"?await a.description(m):a.description,C=typeof y=="object"&&!He.isValidElement(y)?y:{message:y};this.create({id:o,type:"success",description:x,...C})}}).catch(async m=>{if(c=["reject",m],a.error!==void 0){u=!1;const b=typeof a.error=="function"?await a.error(m):a.error,y=typeof a.description=="function"?await a.description(m):a.description,S=typeof b=="object"&&!He.isValidElement(b)?b:{message:b};this.create({id:o,type:"error",description:y,...S})}}).finally(()=>{u&&(this.dismiss(o),o=void 0),a.finally==null||a.finally.call(a)}),p=()=>new Promise((m,b)=>d.then(()=>c[0]==="reject"?b(c[1]):m(c[1])).catch(b));return typeof o!="string"&&typeof o!="number"?{unwrap:p}:Object.assign(o,{unwrap:p})},this.custom=(r,a)=>{const o=a?.id||eg++;return this.create({jsx:r(o),id:o,...a}),o},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mr=new YR,IR=(e,r)=>{const a=r?.id||eg++;return Mr.addToast({title:e,...r,id:a}),a},XR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",KR=IR,GR=()=>Mr.toasts,PR=()=>Mr.getActiveToasts(),Cn=Object.assign(KR,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:GR,getToasts:PR});jR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yf(e){return e.label!==void 0}const ZR=3,QR="24px",FR="16px",Yx=4e3,WR=356,JR=14,e5=45,t5=200;function Va(...e){return e.filter(Boolean).join(" ")}function n5(e){const[r,a]=e.split("-"),o=[];return r&&o.push(r),a&&o.push(a),o}const r5=e=>{var r,a,o,l,u,c,d,p,m;const{invert:b,toast:y,unstyled:x,interacting:S,setHeights:C,visibleToasts:T,heights:B,index:z,toasts:V,expanded:A,removeToast:N,defaultRichColors:K,closeButton:L,style:$,cancelButtonStyle:P,actionButtonStyle:W,className:fe="",descriptionClassName:J="",duration:G,position:re,gap:k,expandByDefault:Y,classNames:D,icons:M,closeButtonAriaLabel:I="Close toast"}=e,[Q,ne]=He.useState(null),[q,Z]=He.useState(null),[ae,de]=He.useState(!1),[ye,Ce]=He.useState(!1),[Ae,Te]=He.useState(!1),[we,Ge]=He.useState(!1),[Fe,ke]=He.useState(!1),[Qe,Xe]=He.useState(0),[st,vt]=He.useState(0),rt=He.useRef(y.duration||G||Yx),St=He.useRef(null),qt=He.useRef(null),ft=z===0,Dt=z+1<=T,At=y.type,xt=y.dismissible!==!1,Vt=y.className||"",Sn=y.descriptionClassName||"",Pt=He.useMemo(()=>B.findIndex(Ke=>Ke.toastId===y.id)||0,[B,y.id]),Xt=He.useMemo(()=>{var Ke;return(Ke=y.closeButton)!=null?Ke:L},[y.closeButton,L]),Ht=He.useMemo(()=>y.duration||G||Yx,[y.duration,G]),gn=He.useRef(0),vn=He.useRef(0),ln=He.useRef(0),an=He.useRef(null),[jn,_e]=re.split("-"),qe=He.useMemo(()=>B.reduce((Ke,ht,yt)=>yt>=Pt?Ke:Ke+ht.height,0),[B,Pt]),Me=VR(),gt=y.invert||b,at=At==="loading";vn.current=He.useMemo(()=>Pt*k+qe,[Pt,qe]),He.useEffect(()=>{rt.current=Ht},[Ht]),He.useEffect(()=>{de(!0)},[]),He.useEffect(()=>{const Ke=qt.current;if(Ke){const ht=Ke.getBoundingClientRect().height;return vt(ht),C(yt=>[{toastId:y.id,height:ht,position:y.position},...yt]),()=>C(yt=>yt.filter(Nt=>Nt.toastId!==y.id))}},[C,y.id]),He.useLayoutEffect(()=>{if(!ae)return;const Ke=qt.current,ht=Ke.style.height;Ke.style.height="auto";const yt=Ke.getBoundingClientRect().height;Ke.style.height=ht,vt(yt),C(Nt=>Nt.find(mt=>mt.toastId===y.id)?Nt.map(mt=>mt.toastId===y.id?{...mt,height:yt}:mt):[{toastId:y.id,height:yt,position:y.position},...Nt])},[ae,y.title,y.description,C,y.id,y.jsx,y.action,y.cancel]);const Ze=He.useCallback(()=>{Ce(!0),Xe(vn.current),C(Ke=>Ke.filter(ht=>ht.toastId!==y.id)),setTimeout(()=>{N(y)},t5)},[y,N,C,vn]);He.useEffect(()=>{if(y.promise&&At==="loading"||y.duration===1/0||y.type==="loading")return;let Ke;return A||S||Me?(()=>{if(ln.current<gn.current){const Nt=new Date().getTime()-gn.current;rt.current=rt.current-Nt}ln.current=new Date().getTime()})():(()=>{rt.current!==1/0&&(gn.current=new Date().getTime(),Ke=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Ze()},rt.current))})(),()=>clearTimeout(Ke)},[A,S,y,At,Me,Ze]),He.useEffect(()=>{y.delete&&(Ze(),y.onDismiss==null||y.onDismiss.call(y,y))},[Ze,y.delete]);function je(){var Ke;if(M?.loading){var ht;return He.createElement("div",{className:Va(D?.loader,y==null||(ht=y.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":At==="loading"},M.loading)}return He.createElement(HR,{className:Va(D?.loader,y==null||(Ke=y.classNames)==null?void 0:Ke.loader),visible:At==="loading"})}const Yt=y.icon||M?.[At]||zR(At);var wt,nt;return He.createElement("li",{tabIndex:0,ref:qt,className:Va(fe,Vt,D?.toast,y==null||(r=y.classNames)==null?void 0:r.toast,D?.default,D?.[At],y==null||(a=y.classNames)==null?void 0:a[At]),"data-sonner-toast":"","data-rich-colors":(wt=y.richColors)!=null?wt:K,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":ae,"data-promise":!!y.promise,"data-swiped":Fe,"data-removed":ye,"data-visible":Dt,"data-y-position":jn,"data-x-position":_e,"data-index":z,"data-front":ft,"data-swiping":Ae,"data-dismissible":xt,"data-type":At,"data-invert":gt,"data-swipe-out":we,"data-swipe-direction":q,"data-expanded":!!(A||Y&&ae),"data-testid":y.testId,style:{"--index":z,"--toasts-before":z,"--z-index":V.length-z,"--offset":`${ye?Qe:vn.current}px`,"--initial-height":Y?"auto":`${st}px`,...$,...y.style},onDragEnd:()=>{Te(!1),ne(null),an.current=null},onPointerDown:Ke=>{Ke.button!==2&&(at||!xt||(St.current=new Date,Xe(vn.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(Te(!0),an.current={x:Ke.clientX,y:Ke.clientY})))},onPointerUp:()=>{var Ke,ht,yt;if(we||!xt)return;an.current=null;const Nt=Number(((Ke=qt.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$t=Number(((ht=qt.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mt=new Date().getTime()-((yt=St.current)==null?void 0:yt.getTime()),Tt=Q==="x"?Nt:$t,un=Math.abs(Tt)/mt;if(Math.abs(Tt)>=e5||un>.11){Xe(vn.current),y.onDismiss==null||y.onDismiss.call(y,y),Z(Q==="x"?Nt>0?"right":"left":$t>0?"down":"up"),Ze(),Ge(!0);return}else{var lt,ut;(lt=qt.current)==null||lt.style.setProperty("--swipe-amount-x","0px"),(ut=qt.current)==null||ut.style.setProperty("--swipe-amount-y","0px")}ke(!1),Te(!1),ne(null)},onPointerMove:Ke=>{var ht,yt,Nt;if(!an.current||!xt||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;const mt=Ke.clientY-an.current.y,Tt=Ke.clientX-an.current.x;var un;const lt=(un=e.swipeDirections)!=null?un:n5(re);!Q&&(Math.abs(Tt)>1||Math.abs(mt)>1)&&ne(Math.abs(Tt)>Math.abs(mt)?"x":"y");let ut={x:0,y:0};const zn=Jt=>1/(1.5+Math.abs(Jt)/20);if(Q==="y"){if(lt.includes("top")||lt.includes("bottom"))if(lt.includes("top")&&mt<0||lt.includes("bottom")&&mt>0)ut.y=mt;else{const Jt=mt*zn(mt);ut.y=Math.abs(Jt)<Math.abs(mt)?Jt:mt}}else if(Q==="x"&&(lt.includes("left")||lt.includes("right")))if(lt.includes("left")&&Tt<0||lt.includes("right")&&Tt>0)ut.x=Tt;else{const Jt=Tt*zn(Tt);ut.x=Math.abs(Jt)<Math.abs(Tt)?Jt:Tt}(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&ke(!0),(yt=qt.current)==null||yt.style.setProperty("--swipe-amount-x",`${ut.x}px`),(Nt=qt.current)==null||Nt.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},Xt&&!y.jsx&&At!=="loading"?He.createElement("button",{"aria-label":I,"data-disabled":at,"data-close-button":!0,onClick:at||!xt?()=>{}:()=>{Ze(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Va(D?.closeButton,y==null||(o=y.classNames)==null?void 0:o.closeButton)},(nt=M?.close)!=null?nt:$R):null,(At||y.icon||y.promise)&&y.icon!==null&&(M?.[At]!==null||y.icon)?He.createElement("div",{"data-icon":"",className:Va(D?.icon,y==null||(l=y.classNames)==null?void 0:l.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||je():null,y.type!=="loading"?Yt:null):null,He.createElement("div",{"data-content":"",className:Va(D?.content,y==null||(u=y.classNames)==null?void 0:u.content)},He.createElement("div",{"data-title":"",className:Va(D?.title,y==null||(c=y.classNames)==null?void 0:c.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?He.createElement("div",{"data-description":"",className:Va(J,Sn,D?.description,y==null||(d=y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),He.isValidElement(y.cancel)?y.cancel:y.cancel&&Yf(y.cancel)?He.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||P,onClick:Ke=>{Yf(y.cancel)&&xt&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Ke),Ze())},className:Va(D?.cancelButton,y==null||(p=y.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,He.isValidElement(y.action)?y.action:y.action&&Yf(y.action)?He.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||W,onClick:Ke=>{Yf(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Ke),!Ke.defaultPrevented&&Ze())},className:Va(D?.actionButton,y==null||(m=y.classNames)==null?void 0:m.actionButton)},y.action.label):null)};function Ix(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function a5(e,r){const a={};return[e,r].forEach((o,l)=>{const u=l===1,c=u?"--mobile-offset":"--offset",d=u?FR:QR;function p(m){["top","right","bottom","left"].forEach(b=>{a[`${c}-${b}`]=typeof m=="number"?`${m}px`:m})}typeof o=="number"||typeof o=="string"?p(o):typeof o=="object"?["top","right","bottom","left"].forEach(m=>{o[m]===void 0?a[`${c}-${m}`]=d:a[`${c}-${m}`]=typeof o[m]=="number"?`${o[m]}px`:o[m]}):p(d)}),a}const i5=He.forwardRef(function(r,a){const{id:o,invert:l,position:u="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:p,className:m,offset:b,mobileOffset:y,theme:x="light",richColors:S,duration:C,style:T,visibleToasts:B=ZR,toastOptions:z,dir:V=Ix(),gap:A=JR,icons:N,containerAriaLabel:K="Notifications"}=r,[L,$]=He.useState([]),P=He.useMemo(()=>o?L.filter(ae=>ae.toasterId===o):L.filter(ae=>!ae.toasterId),[L,o]),W=He.useMemo(()=>Array.from(new Set([u].concat(P.filter(ae=>ae.position).map(ae=>ae.position)))),[P,u]),[fe,J]=He.useState([]),[G,re]=He.useState(!1),[k,Y]=He.useState(!1),[D,M]=He.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=He.useRef(null),Q=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=He.useRef(null),q=He.useRef(!1),Z=He.useCallback(ae=>{$(de=>{var ye;return(ye=de.find(Ce=>Ce.id===ae.id))!=null&&ye.delete||Mr.dismiss(ae.id),de.filter(({id:Ce})=>Ce!==ae.id)})},[]);return He.useEffect(()=>Mr.subscribe(ae=>{if(ae.dismiss){requestAnimationFrame(()=>{$(de=>de.map(ye=>ye.id===ae.id?{...ye,delete:!0}:ye))});return}setTimeout(()=>{TM.flushSync(()=>{$(de=>{const ye=de.findIndex(Ce=>Ce.id===ae.id);return ye!==-1?[...de.slice(0,ye),{...de[ye],...ae},...de.slice(ye+1)]:[ae,...de]})})})}),[L]),He.useEffect(()=>{if(x!=="system"){M(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const ae=window.matchMedia("(prefers-color-scheme: dark)");try{ae.addEventListener("change",({matches:de})=>{M(de?"dark":"light")})}catch{ae.addListener(({matches:ye})=>{try{M(ye?"dark":"light")}catch(Ce){console.error(Ce)}})}},[x]),He.useEffect(()=>{L.length<=1&&re(!1)},[L]),He.useEffect(()=>{const ae=de=>{var ye;if(c.every(Te=>de[Te]||de.code===Te)){var Ae;re(!0),(Ae=I.current)==null||Ae.focus()}de.code==="Escape"&&(document.activeElement===I.current||(ye=I.current)!=null&&ye.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[c]),He.useEffect(()=>{if(I.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,q.current=!1)}},[I.current]),He.createElement("section",{ref:a,"aria-label":`${K} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((ae,de)=>{var ye;const[Ce,Ae]=ae.split("-");return P.length?He.createElement("ol",{key:ae,dir:V==="auto"?Ix():V,tabIndex:-1,ref:I,className:m,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":Ce,"data-x-position":Ae,style:{"--front-toast-height":`${((ye=fe[0])==null?void 0:ye.height)||0}px`,"--width":`${WR}px`,"--gap":`${A}px`,...T,...a5(b,y)},onBlur:Te=>{q.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(q.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||q.current||(q.current=!0,ne.current=Te.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{k||re(!1)},onDragEnd:()=>re(!1),onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},P.filter(Te=>!Te.position&&de===0||Te.position===ae).map((Te,we)=>{var Ge,Fe;return He.createElement(r5,{key:Te.id,icons:N,index:we,toast:Te,defaultRichColors:S,duration:(Ge=z?.duration)!=null?Ge:C,className:z?.className,descriptionClassName:z?.descriptionClassName,invert:l,visibleToasts:B,closeButton:(Fe=z?.closeButton)!=null?Fe:p,interacting:k,position:ae,style:z?.style,unstyled:z?.unstyled,classNames:z?.classNames,cancelButtonStyle:z?.cancelButtonStyle,actionButtonStyle:z?.actionButtonStyle,closeButtonAriaLabel:z?.closeButtonAriaLabel,removeToast:Z,toasts:P.filter(ke=>ke.position==Te.position),heights:fe.filter(ke=>ke.position==Te.position),setHeights:J,expandByDefault:d,gap:A,expanded:G,swipeDirections:r.swipeDirections})})):null}))}),pE=e=>!!e&&e[0]==="o",tg=ua.unstable_batchedUpdates,Ju=(e,r)=>e===!0||!!(e&&e[r]),fa=(e,r)=>typeof e=="function"?e(r):e,Zd=(e,r)=>(r&&Object.keys(r).forEach(a=>{const o=e[a],l=r[a];typeof l=="function"&&o?e[a]=(...u)=>{l(...u),o(...u)}:e[a]=l}),e),o5=e=>{if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};const r=e.trim().split(/\s+/,4).map(parseFloat),a=isNaN(r[0])?0:r[0],o=isNaN(r[1])?a:r[1];return{top:a,right:o,bottom:isNaN(r[2])?a:r[2],left:isNaN(r[3])?o:r[3]}},vm=e=>{for(;e;){if(e=e.parentNode,!e||e===document.body||!e.parentNode)return;const{overflow:r,overflowX:a,overflowY:o}=getComputedStyle(e);if(/auto|scroll|overlay|hidden/.test(r+o+a))return e}};function Yg(e,r){return{"aria-disabled":e||void 0,tabIndex:r?0:-1}}function Xx(e,r){for(let a=0;a<e.length;a++)if(e[a]===r)return a;return-1}const us=({block:e,element:r,modifiers:a,className:o})=>R.useMemo(()=>{const l=r?`${e}__${r}`:e;let u=l;a&&Object.keys(a).forEach(d=>{const p=a[d];p&&(u+=` ${l}--${p===!0?d:`${d}-${p}`}`)});let c=typeof o=="function"?o(a):o;return typeof c=="string"&&(c=c.trim(),c&&(u+=` ${c}`)),u},[e,r,a,o]),s5="szh-menu-container",as="szh-menu",l5="arrow",mE="item",u5="header",c5="submenu",gE=R.createContext(),Ig=R.createContext({}),ng=R.createContext({}),vE=R.createContext({}),f5=R.createContext({}),Qd=R.createContext({}),Dr=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Rn=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),ec=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),rg=Object.freeze({FIRST:"first",LAST:"last"}),d5=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Kx="absolute",Xg="none",yE="menuitem",ag={preventScroll:!0},h5=({className:e,containerRef:r,containerProps:a,children:o,isOpen:l,theming:u,transition:c,onClose:d})=>{const p=Ju(c,"item"),m=({key:y})=>{switch(y){case Dr.ESC:fa(d,{key:y,reason:ec.CANCEL});break}},b=y=>{l&&!y.currentTarget.contains(y.relatedTarget)&&fa(d,{reason:ec.BLUR})};return j.jsx("div",{...Zd({onKeyDown:m,onBlur:b},a),className:us({block:s5,modifiers:R.useMemo(()=>({theme:u,itemTransition:p}),[u,p]),className:e}),style:{position:"absolute",...a?.style},ref:r,children:o})},p5=()=>{let e,r=0;return{toggle:a=>{a?r++:r--,r=Math.max(r,0)},on:(a,o,l)=>{r?e||(e=setTimeout(()=>{e=0,o()},a)):l?.()},off:()=>{e&&(clearTimeout(e),e=0)}}},m5=e=>{const[r,a]=R.useState(),l=R.useRef({items:[],hoverIndex:-1,sorted:!1}).current,u=R.useCallback((d,p)=>{const{items:m}=l;if(!d)l.items=[];else if(p)m.push(d);else{const b=m.indexOf(d);b>-1&&(m.splice(b,1),d.contains(document.activeElement)&&(e.current.focus(ag),a()))}l.hoverIndex=-1,l.sorted=!1},[l,e]),c=R.useCallback((d,p,m)=>{const{items:b,hoverIndex:y}=l,x=()=>{if(l.sorted)return;const T=e.current.querySelectorAll(".szh-menu__item");b.sort((B,z)=>Xx(T,B)-Xx(T,z)),l.sorted=!0};let S=-1,C;switch(d){case Rn.RESET:break;case Rn.SET:C=p;break;case Rn.UNSET:C=T=>T===p?void 0:T;break;case Rn.FIRST:x(),S=0,C=b[S];break;case Rn.LAST:x(),S=b.length-1,C=b[S];break;case Rn.SET_INDEX:x(),S=m,C=b[S];break;case Rn.INCREASE:x(),S=y,S<0&&(S=b.indexOf(p)),S++,S>=b.length&&(S=0),C=b[S];break;case Rn.DECREASE:x(),S=y,S<0&&(S=b.indexOf(p)),S--,S<0&&(S=b.length-1),C=b[S];break}C||(S=-1),a(C),l.hoverIndex=S},[e,l]);return{hoverItem:r,dispatch:c,updateItems:u}},Gx=(e,r)=>Math.round(e)===r?e:r,g5=e=>{const r=e.getBoundingClientRect();return r.width=Gx(r.width,e.offsetWidth),r.height=Gx(r.height,e.offsetHeight),r},v5=(e,r,a,o)=>{const l=g5(r),u=e.getBoundingClientRect(),c=a===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:a.getBoundingClientRect(),d=o5(o),p=C=>C+u.left-c.left-d.left,m=C=>C+u.left+l.width-c.right+d.right,b=C=>C+u.top-c.top-d.top,y=C=>C+u.top+l.height-c.bottom+d.bottom;return{menuRect:l,containerRect:u,getLeftOverflow:p,getRightOverflow:m,getTopOverflow:b,getBottomOverflow:y,confineHorizontally:C=>{let T=p(C);if(T<0)C-=T;else{const B=m(C);B>0&&(C-=B,T=p(C),T<0&&(C-=T))}return C},confineVertically:C=>{let T=b(C);if(T<0)C-=T;else{const B=y(C);B>0&&(C-=B,T=b(C),T<0&&(C-=T))}return C}}},y5=({arrowRef:e,menuY:r,anchorRect:a,containerRect:o,menuRect:l})=>{let u=a.top-o.top-r+a.height/2;const c=e.current.offsetHeight*1.25;return u=Math.max(c,u),u=Math.min(u,l.height-c),u},b5=({anchorRect:e,containerRect:r,menuRect:a,placeLeftorRightY:o,placeLeftX:l,placeRightX:u,getLeftOverflow:c,getRightOverflow:d,confineHorizontally:p,confineVertically:m,arrowRef:b,arrow:y,direction:x,position:S})=>{let C=x,T=o;S!=="initial"&&(T=m(T),S==="anchor"&&(T=Math.min(T,e.bottom-r.top),T=Math.max(T,e.top-r.top-a.height)));let B,z,V;return C==="left"?(B=l,S!=="initial"&&(z=c(B),z<0&&(V=d(u),(V<=0||-z>V)&&(B=u,C="right")))):(B=u,S!=="initial"&&(V=d(B),V>0&&(z=c(l),(z>=0||-z<V)&&(B=l,C="left")))),S==="auto"&&(B=p(B)),{arrowY:y?y5({menuY:T,arrowRef:b,anchorRect:e,containerRect:r,menuRect:a}):void 0,x:B,y:T,computedDirection:C}},x5=({arrowRef:e,menuX:r,anchorRect:a,containerRect:o,menuRect:l})=>{let u=a.left-o.left-r+a.width/2;const c=e.current.offsetWidth*1.25;return u=Math.max(c,u),u=Math.min(u,l.width-c),u},w5=({anchorRect:e,containerRect:r,menuRect:a,placeToporBottomX:o,placeTopY:l,placeBottomY:u,getTopOverflow:c,getBottomOverflow:d,confineHorizontally:p,confineVertically:m,arrowRef:b,arrow:y,direction:x,position:S})=>{let C=x==="top"?"top":"bottom",T=o;S!=="initial"&&(T=p(T),S==="anchor"&&(T=Math.min(T,e.right-r.left),T=Math.max(T,e.left-r.left-a.width)));let B,z,V;return C==="top"?(B=l,S!=="initial"&&(z=c(B),z<0&&(V=d(u),(V<=0||-z>V)&&(B=u,C="bottom")))):(B=u,S!=="initial"&&(V=d(B),V>0&&(z=c(l),(z>=0||-z<V)&&(B=l,C="top")))),S==="auto"&&(B=m(B)),{arrowX:y?x5({menuX:T,arrowRef:b,anchorRect:e,containerRect:r,menuRect:a}):void 0,x:T,y:B,computedDirection:C}},S5=({arrow:e,align:r,direction:a,gap:o,shift:l,position:u,anchorRect:c,arrowRef:d,positionHelpers:p})=>{const{menuRect:m,containerRect:b}=p,y=a==="left"||a==="right";let x=y?o:l,S=y?l:o;if(e){const K=d.current;y?x+=K.offsetWidth:S+=K.offsetHeight}const C=c.left-b.left-m.width-x,T=c.right-b.left+x,B=c.top-b.top-m.height-S,z=c.bottom-b.top+S;let V,A;r==="end"?(V=c.right-b.left-m.width,A=c.bottom-b.top-m.height):r==="center"?(V=c.left-b.left-(m.width-c.width)/2,A=c.top-b.top-(m.height-c.height)/2):(V=c.left-b.left,A=c.top-b.top),V+=x,A+=S;const N={...p,anchorRect:c,placeLeftX:C,placeRightX:T,placeLeftorRightY:A,placeTopY:B,placeBottomY:z,placeToporBottomX:V,arrowRef:d,arrow:e,direction:a,position:u};switch(a){case"left":case"right":return b5(N);case"top":case"bottom":default:return w5(N)}},rd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect;function Px(e,r){typeof e=="function"?e(r):e.current=r}const Kg=(e,r)=>R.useMemo(()=>e?r?a=>{Px(e,a),Px(r,a)}:e:r,[e,r]),Zx=-9999,bE=({ariaLabel:e,menuClassName:r,menuStyle:a,arrow:o,arrowProps:l={},anchorPoint:u,anchorRef:c,containerRef:d,containerProps:p,externalRef:m,parentScrollingRef:b,align:y="start",direction:x="bottom",position:S="auto",overflow:C="visible",setDownOverflow:T,repositionFlag:B,captureFocus:z=!0,state:V,endTransition:A,isDisabled:N,menuItemFocus:K,gap:L=0,shift:$=0,children:P,onClose:W,focusProps:fe,...J})=>{const[G,re]=R.useState({x:Zx,y:Zx}),[k,Y]=R.useState({}),[D,M]=R.useState(),[I,Q]=R.useState(x),[ne]=R.useState(p5),[q,Z]=R.useReducer(Ze=>Ze+1,1),{transition:ae,boundingBoxRef:de,boundingBoxPadding:ye,rootMenuRef:Ce,rootAnchorRef:Ae,scrollNodesRef:Te,reposition:we,viewScroll:Ge,submenuCloseDelay:Fe}=R.useContext(Qd),{submenuCtx:ke,reposSubmenu:Qe=B}=R.useContext(ng),Xe=R.useRef(),st=R.useRef(),vt=R.useRef(!1),{hoverItem:rt,dispatch:St,updateItems:qt}=m5(Xe),ft=pE(V),Dt=Ju(ae,"open"),At=Ju(ae,"close"),xt=Te.current,Vt=Ze=>{switch(Ze.key){case Dr.HOME:St(Rn.FIRST);break;case Dr.END:St(Rn.LAST);break;case Dr.UP:St(Rn.DECREASE,rt);break;case Dr.DOWN:St(Rn.INCREASE,rt);break;case Dr.SPACE:Ze.target&&Ze.target.className.indexOf(as)!==-1&&Ze.preventDefault();return;default:return}Ze.preventDefault(),Ze.stopPropagation()},Sn=()=>{V==="closing"&&M(),fa(A)},Pt=Ze=>{Ze.stopPropagation(),ne.on(Fe,()=>{St(Rn.RESET),Xe.current.focus(ag)})},Xt=Ze=>{Ze.target===Ze.currentTarget&&ne.off()},Ht=R.useCallback(Ze=>{const je=Xe.current,Yt=d.current;if(!je||!Yt)return;const wt=c?c.current?.getBoundingClientRect():u?{left:u.x,right:u.x,top:u.y,bottom:u.y,width:0,height:0}:null;if(!wt)return;xt.menu||(xt.menu=(de?de.current:vm(Ce.current))||window);const nt=v5(Yt,je,xt.menu,ye);let{arrowX:Ke,arrowY:ht,x:yt,y:Nt,computedDirection:$t}=S5({arrow:o,align:y,direction:x,gap:L,shift:$,position:S,anchorRect:wt,arrowRef:st,positionHelpers:nt});const{menuRect:mt}=nt,Tt=mt.height;if(!Ze&&C!=="visible"){const{getTopOverflow:un,getBottomOverflow:lt}=nt;let ut,zn;const Jt=lt(Nt);if(Jt>0)ut=Tt-Jt,zn=Jt;else{const yn=un(Nt);yn<0&&(ut=Tt+yn,zn=0-yn,ut>=0&&(Nt-=yn))}ut>=0&&M({height:ut,overflowAmt:zn})}o&&Y({x:Ke,y:ht}),re({x:yt,y:Nt}),Q($t)},[o,y,ye,x,L,$,S,C,u,c,d,de,Ce,xt]);rd(()=>{ft&&(Ht(),vt.current&&Z()),vt.current=ft},[ft,Ht,Qe]),rd(()=>{D&&!T&&(Xe.current.scrollTop=0)},[D,T]),rd(()=>qt,[qt]),R.useEffect(()=>{let{menu:Ze}=xt;if(!ft||!Ze)return;if(Ze=Ze.addEventListener?Ze:window,!xt.anchors){xt.anchors=[];let nt=vm(Ae&&Ae.current);for(;nt&&nt!==Ze;)xt.anchors.push(nt),nt=vm(nt)}let je=Ge;if(xt.anchors.length&&je==="initial"&&(je="auto"),je==="initial")return;const Yt=()=>{je==="auto"?tg(()=>Ht(!0)):fa(W,{reason:ec.SCROLL})},wt=xt.anchors.concat(Ge!=="initial"?Ze:[]);return wt.forEach(nt=>nt.addEventListener("scroll",Yt)),()=>wt.forEach(nt=>nt.removeEventListener("scroll",Yt))},[Ae,xt,ft,W,Ge,Ht]);const gn=!!D&&D.overflowAmt>0;R.useEffect(()=>{if(gn||!ft||!b)return;const Ze=()=>tg(Ht),je=b.current;return je.addEventListener("scroll",Ze),()=>je.removeEventListener("scroll",Ze)},[ft,gn,b,Ht]),R.useEffect(()=>{if(!ft||typeof ResizeObserver!="function"||we==="initial")return;const Ze=[],je=new ResizeObserver(nt=>nt.forEach(({target:Ke})=>{Ze.indexOf(Ke)<0?Ze.push(Ke):ua.flushSync(()=>{Ht(),Z()})})),Yt={box:"border-box"};je.observe(Xe.current,Yt);const wt=c?.current;return wt&&je.observe(wt,Yt),()=>je.disconnect()},[ft,we,c,Ht]),R.useEffect(()=>{if(!ft){St(Rn.RESET),At||M();return}const{position:Ze,alwaysUpdate:je}=K||{},Yt=()=>{Ze===rg.FIRST?St(Rn.FIRST):Ze===rg.LAST?St(Rn.LAST):Ze>=-1&&St(Rn.SET_INDEX,void 0,Ze)};if(je)Yt();else if(z){const wt=setTimeout(()=>{const nt=Xe.current;nt&&!nt.contains(document.activeElement)&&(nt.focus(ag),Yt())},Dt?170:100);return()=>clearTimeout(wt)}},[ft,Dt,At,z,K,St]);const vn=R.useMemo(()=>({isParentOpen:ft,submenuCtx:ne,dispatch:St,updateItems:qt}),[ft,ne,St,qt]);let ln,an;D&&(T?an=D.overflowAmt:ln=D.height);const jn=R.useMemo(()=>({reposSubmenu:q,submenuCtx:ne,overflow:C,overflowAmt:an,parentMenuRef:Xe,parentDir:I}),[q,ne,C,an,I]),_e=ln>=0?{maxHeight:ln,overflow:C}:void 0,qe=R.useMemo(()=>({state:V,align:y,dir:I}),[V,y,I]),Me=R.useMemo(()=>({dir:I}),[I]),gt=us({block:as,element:l5,modifiers:Me,className:l.className}),at=j.jsxs("ul",{role:"menu","aria-label":e,...Yg(N),...Zd({onPointerEnter:ke?.off,onPointerMove:Pt,onPointerLeave:Xt,onKeyDown:Vt,onAnimationEnd:Sn},J),ref:Kg(m,Xe),className:us({block:as,modifiers:qe,className:r}),style:{...a,..._e,margin:0,display:V==="closed"?"none":void 0,position:Kx,left:G.x,top:G.y},children:[o&&j.jsx("li",{"aria-hidden":!0,...l,className:gt,style:{display:"block",position:Kx,left:k.x,top:k.y,...l.style},ref:st}),j.jsx(ng.Provider,{value:jn,children:j.jsx(Ig.Provider,{value:vn,children:j.jsx(gE.Provider,{value:rt,children:fa(P,qe)})})})]});return p?j.jsx(h5,{...p,isOpen:ft,children:at}):at},E5=R.forwardRef(function({"aria-label":r,className:a,containerProps:o,initialMounted:l,unmountOnClose:u,transition:c,transitionTimeout:d,boundingBoxRef:p,boundingBoxPadding:m,reposition:b="auto",submenuOpenDelay:y=300,submenuCloseDelay:x=150,viewScroll:S="initial",portal:C,theming:T,onItemClick:B,...z},V){const A=R.useRef(null),N=R.useRef({}),{anchorRef:K,state:L,onClose:$}=z,P=R.useMemo(()=>({initialMounted:l,unmountOnClose:u,transition:c,transitionTimeout:d,boundingBoxRef:p,boundingBoxPadding:m,rootMenuRef:A,rootAnchorRef:K,scrollNodesRef:N,reposition:b,viewScroll:S,submenuOpenDelay:y,submenuCloseDelay:x}),[l,u,c,d,K,p,m,b,S,y,x]),W=R.useMemo(()=>({handleClick(J,G){J.stopPropagation||fa(B,J);let re=J.keepOpen;re===void 0&&(re=G&&J.key===Dr.SPACE),re||fa($,{value:J.value,key:J.key,reason:ec.CLICK})},handleClose(J){fa($,{key:J,reason:ec.CLICK})}}),[B,$]);if(!L)return null;const fe=j.jsx(Qd.Provider,{value:P,children:j.jsx(vE.Provider,{value:W,children:j.jsx(bE,{...z,ariaLabel:r||"Menu",externalRef:V,containerRef:A,containerProps:{className:a,containerRef:A,containerProps:o,theming:T,transition:c,onClose:$}})})});return C===!0&&typeof document<"u"?ua.createPortal(fe,document.body):C?C.target?ua.createPortal(fe,C.target):C.stablePosition?null:fe:fe}),ig=0,og=1,wd=2,Sd=3,Ed=4,_5=5,xE=6,C5=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],wE=e=>({_s:e,status:C5[e],isEnter:e<Sd,isMounted:e!==xE,isResolved:e===wd||e>Ed}),sg=e=>e?xE:_5,N5=(e,r)=>{switch(e){case og:case ig:return wd;case Ed:case Sd:return sg(r)}},T5=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],O5=(e,r)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(r+1)},0),Qx=(e,r,a,o,l)=>{clearTimeout(o.current);const u=wE(e);r(u),a.current=u,l&&l({current:u})},M5=({enter:e=!0,exit:r=!0,preEnter:a,preExit:o,timeout:l,initialEntered:u,mountOnEnter:c,unmountOnExit:d,onStateChange:p}={})=>{const[m,b]=R.useState(()=>wE(u?wd:sg(c))),y=R.useRef(m),x=R.useRef(),[S,C]=T5(l),T=R.useCallback(()=>{const z=N5(y.current._s,d);z&&Qx(z,b,y,x,p)},[p,d]),B=R.useCallback(z=>{const V=N=>{switch(Qx(N,b,y,x,p),N){case og:S>=0&&(x.current=setTimeout(T,S));break;case Ed:C>=0&&(x.current=setTimeout(T,C));break;case ig:case Sd:x.current=O5(V,N);break}},A=y.current.isEnter;typeof z!="boolean"&&(z=!A),z?!A&&V(e?a?ig:og:wd):A&&V(r?o?Sd:Ed:sg(d))},[T,p,e,r,a,o,S,C,d]);return[m,B,T]},SE=({initialOpen:e,initialMounted:r,unmountOnClose:a,transition:o,transitionTimeout:l=500,onMenuChange:u}={})=>{const c=Ju(o,"open"),d=Ju(o,"close"),[{status:p},m,b]=M5({initialEntered:e,mountOnEnter:!r,unmountOnExit:a,timeout:l,enter:c,exit:d,onStateChange:R.useCallback(({current:{isEnter:y,isResolved:x}})=>{!u||y&&c&&x||!y&&d&&x||u({open:y})},[u,c,d])});return[{state:d5[p],endTransition:b},m]},D5=e=>{const[r,a]=SE(e),[o,l]=R.useState(),u=(c,d)=>{l({position:c,alwaysUpdate:d}),a(!0)};return[{menuItemFocus:o,...r},a,u]},EE=(e,r)=>{const a=R.memo(r),o=R.forwardRef((l,u)=>{const c=R.useRef(null);return j.jsx(a,{...l,itemRef:c,externalRef:u,isHovering:R.useContext(gE)===c.current})});return o.displayName=`WithHovering(${e})`,o},_E=e=>{const[r,a]=R.useState(!1);return R.useEffect(()=>{!e&&a(!1)},[e]),[r,()=>!r&&a(!0),()=>a(!1)]},CE=(e,r,a)=>{rd(()=>{if(e)return;const o=r.current;return a(o,!0),()=>{a(o)}},[e,r,a])},_d=EE("SubMenu",function({"aria-label":r,className:a,disabled:o,direction:l,label:u,openTrigger:c,onMenuChange:d,isHovering:p,instanceRef:m,itemRef:b,captureFocus:y,repositionFlag:x,itemProps:S={},portal:C=!1,...T}){const B=R.useContext(Qd),{rootMenuRef:z,submenuOpenDelay:V,submenuCloseDelay:A}=B,{parentMenuRef:N,parentDir:K,overflow:L}=R.useContext(ng),{isParentOpen:$,submenuCtx:P,dispatch:W,updateItems:fe}=R.useContext(Ig),J=C||L!=="visible",[G,re,k]=D5({...B,onMenuChange:d}),[Y,D,M]=_E(p),{state:I}=G,Q=!!o,ne=pE(I),q=R.useRef(null),[Z]=R.useState({v:0}),ae=()=>{P.off(),Z.v&&(clearTimeout(Z.v),Z.v=0)},de=(...rt)=>{ae(),ye(),!Q&&k(...rt)},ye=()=>!p&&!Q&&W(Rn.SET,b.current),Ce=rt=>{ye(),c||(Z.v=setTimeout(()=>tg(de),Math.max(rt,0)))},Ae=rt=>{Q||(rt.stopPropagation(),D(),!(Z.v||ne)&&P.on(A,()=>Ce(V-A),()=>Ce(V)))},Te=()=>{M(),ae(),ne||W(Rn.UNSET,b.current)},we=rt=>{if(p)switch(rt.key){case Dr.ENTER:rt.preventDefault();case Dr.SPACE:case Dr.RIGHT:c!=="none"&&de(rg.FIRST)}},Ge=rt=>{let St=!1;switch(rt.key){case Dr.LEFT:ne&&(b.current.focus(),re(!1),St=!0);break;case Dr.RIGHT:ne||(St=!0);break}St&&(rt.preventDefault(),rt.stopPropagation())};CE(Q,b,fe),R.useEffect(()=>P.toggle(ne),[P,ne]),R.useEffect(()=>()=>{clearTimeout(Z.v),P.toggle(!1)},[Z,P]),R.useEffect(()=>{p&&$?b.current.focus():re(!1)},[p,$,re,b]),R.useImperativeHandle(m,()=>({openMenu:(...rt)=>{$&&de(...rt)},closeMenu:()=>{ne&&(b.current.focus(),re(!1))}}));const Fe=R.useMemo(()=>({open:ne,hover:Y||p,disabled:Q,submenu:!0}),[ne,p,Q,Y]),{ref:ke,className:Qe,...Xe}=S,st=Zd({onPointerEnter:P.off,onPointerMove:Ae,onPointerLeave:Te,onKeyDown:we,onClick:()=>c!=="none"&&de()},Xe),vt=()=>{const rt=j.jsx(bE,{...T,...G,ariaLabel:r||(typeof u=="string"?u:"Submenu"),anchorRef:b,containerRef:J?z:q,direction:l||(K==="right"||K==="left"?K:"right"),parentScrollingRef:J&&N,isDisabled:Q}),St=z.current;return J&&St?ua.createPortal(rt,St):rt};return j.jsxs("li",{className:us({block:as,element:c5,className:a}),style:{position:"relative"},role:Xg,ref:q,onKeyDown:Ge,children:[j.jsx("div",{role:yE,"aria-haspopup":!0,"aria-expanded":ne,...Yg(Q,p),...st,ref:Kg(ke,b),className:us({block:as,element:mE,modifiers:Fe,className:Qe}),children:R.useMemo(()=>fa(u,Fe),[u,Fe])}),I&&vt()]})}),A5=(e,r,a,o)=>{const[l,u,c]=_E(a),{submenuCloseDelay:d}=R.useContext(Qd),{isParentOpen:p,submenuCtx:m,dispatch:b,updateItems:y}=R.useContext(Ig),x=()=>{!a&&!o&&b(Rn.SET,e.current)},S=()=>{!o&&b(Rn.UNSET,e.current)},C=z=>{a&&!z.currentTarget.contains(z.relatedTarget)&&S()},T=z=>{o||(z.stopPropagation(),u(),m.on(d,x,x))},B=(z,V)=>{c(),m.off(),!V&&S()};return CE(o,e,y),R.useEffect(()=>{a&&p&&r.current&&r.current.focus()},[r,a,p]),{mouseOver:l,setHover:x,onBlur:C,onPointerMove:T,onPointerLeave:B}},Da=EE("MenuItem",function({className:r,value:a,href:o,type:l,checked:u,disabled:c,children:d,onClick:p,isHovering:m,itemRef:b,externalRef:y,...x}){const S=!!c,{mouseOver:C,setHover:T,...B}=A5(b,b,m,S),z=R.useContext(vE),V=R.useContext(f5),A=l==="radio",N=l==="checkbox",K=!!o&&!S&&!A&&!N,L=A?V.value===a:N?!!u:!1,$=G=>{if(S){G.stopPropagation(),G.preventDefault();return}const re={value:a,syntheticEvent:G};G.key!==void 0&&(re.key=G.key),N&&(re.checked=!L),A&&(re.name=V.name),fa(p,re),A&&fa(V.onRadioChange,re),z.handleClick(re,N||A)},P=G=>{if(m)switch(G.key){case Dr.ENTER:G.preventDefault();case Dr.SPACE:K?b.current.click():$(G)}},W=R.useMemo(()=>({type:l,disabled:S,hover:C||m,checked:L,anchor:K}),[l,S,C,m,L,K]),fe=Zd({...B,onPointerDown:T,onKeyDown:P,onClick:$},x),J={role:A?"menuitemradio":N?"menuitemcheckbox":yE,"aria-checked":A||N?L:void 0,...Yg(S,m),...fe,ref:Kg(y,b),className:us({block:as,element:mE,modifiers:W,className:r}),children:R.useMemo(()=>fa(d,W),[d,W])};return K?j.jsx("li",{role:Xg,children:j.jsx("a",{href:o,...J})}):j.jsx("li",{...J})}),Gg=R.memo(R.forwardRef(function({className:r,...a},o){return j.jsx("li",{role:Xg,...a,ref:o,className:us({block:as,element:u5,className:r})})})),Pg=({handleMenuOpenRef:e,elementContextMenuRef:r,children:a,...o})=>{const[l,u]=SE({transition:!0}),[c,d]=R.useState({x:0,y:0}),p=(m,b)=>{d({x:m,y:b}),u(!0)};return e&&(e.current=p),r?.current&&(r.current.oncontextmenu=m=>{m.preventDefault(),p(m.clientX,m.clientY)}),j.jsx(E5,{...l,anchorPoint:c,onClose:()=>u(!1),direction:"top",position:"auto",align:"center",gap:15,viewScroll:"close",arrow:!0,menuStyle:{zIndex:1e4},...o,children:a})},Zg=R.createContext({watched:[],setWatched:()=>{}}),R5=({nodeId:e,type:r})=>{const{getNode:a,setNodes:o,addNodes:l}=No(),{watched:u,setWatched:c}=R.useContext(Zg),d=R.useCallback(()=>c(y=>[...y,e]),[e,c]),p=R.useCallback(()=>c(y=>y.filter(x=>x!==e)),[e,c]),m=R.useCallback(()=>{const y=a(e);if(!y)throw new Error("Could not find node by id to duplicate");const x={x:y.position.x+50,y:y.position.y+50};l({...y,selected:!1,dragging:!1,id:Sl(),position:x})},[e,a,l]),b=R.useCallback(()=>o(y=>y.filter(x=>x.id!==e)),[e,o]);return j.jsxs(j.Fragment,{children:[j.jsx(Gg,{children:r}),j.jsx(Da,{onClick:u.includes(e)?p:d,children:u.includes(e)?"Unwatch":"Watch Output"}),j.jsx(Da,{onClick:m,children:"Duplicate"}),j.jsx(Da,{onClick:b,children:"Delete"}),j.jsx(_d,{label:"Node Id",children:j.jsx(Da,{children:e})})]})};var NE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fx=He.createContext&&He.createContext(NE),j5=["attr","size","title"];function z5(e,r){if(e==null)return{};var a=B5(e,r),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function B5(e,r){if(e==null)return{};var a={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(r.indexOf(o)>=0)continue;a[o]=e[o]}return a}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},Cd.apply(this,arguments)}function Wx(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,o)}return a}function Nd(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Wx(Object(a),!0).forEach(function(o){H5(e,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wx(Object(a)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))})}return e}function H5(e,r,a){return r=k5(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function k5(e){var r=L5(e,"string");return typeof r=="symbol"?r:r+""}function L5(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var o=a.call(e,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function TE(e){return e&&e.map((r,a)=>He.createElement(r.tag,Nd({key:a},r.attr),TE(r.child)))}function Nn(e){return r=>He.createElement(U5,Cd({attr:Nd({},e.attr)},r),TE(e.child))}function U5(e){var r=a=>{var{attr:o,size:l,title:u}=e,c=z5(e,j5),d=l||a.size||"1em",p;return a.className&&(p=a.className),e.className&&(p=(p?p+" ":"")+e.className),He.createElement("svg",Cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,o,c,{className:p,style:Nd(Nd({color:e.color||a.color},a.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&He.createElement("title",null,u),e.children)};return Fx!==void 0?He.createElement(Fx.Consumer,null,a=>r(a)):r(NE)}function q5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"6",r:"1"},child:[]},{tag:"line",attr:{x1:"5",x2:"19",y1:"12",y2:"12"},child:[]},{tag:"circle",attr:{cx:"12",cy:"18",r:"1"},child:[]}]})(e)}function $5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(e)}function Jx(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"},child:[]},{tag:"path",attr:{d:"m15 5 3 3"},child:[]}]})(e)}function V5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(e)}function Y5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"},child:[]},{tag:"path",attr:{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"},child:[]},{tag:"path",attr:{d:"M7 3v4a1 1 0 0 0 1 1h7"},child:[]}]})(e)}function OE(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(e)}const ll=({title:e,setTitle:r,fallback:a,showEditIndicator:o,animateWidth:l,reverse:u,buttonMargin:c,requireButton:d})=>{const[p,m]=R.useState(!1),b=R.useRef(null),y=R.useRef(null),x=R.useRef(null),[S,C]=R.useState(0),[T,B]=R.useState(0),z=c??"10px";return R.useLayoutEffect(()=>{if(y.current){const V=y.current.offsetWidth;C(e===""?p?l??100:0:V)}},[e,p,l]),R.useEffect(()=>{x.current&&B(x.current.offsetWidth)},[]),R.useEffect(()=>{p&&b.current&&b.current.focus()},[p]),R.useEffect(()=>{!p&&a&&!e&&r(a)},[a,p,r,e]),u?j.jsxs("div",{className:"title-editor",style:{position:"relative",display:"inline-block",marginLeft:`calc(${T}px + ${z})`},children:[j.jsx("span",{ref:y,style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",fontSize:"inherit",fontWeight:"inherit"},children:e}),j.jsx("input",{ref:b,style:{width:S,opacity:S>0?1:0,transition:p&&e===""?"width 0.4s ease, opacity 0.4s ease":"none",background:"transparent",border:"none",padding:"0",borderBottom:p?"0.11rem solid #ccc":"none",outline:"none",textAlign:"right",fontSize:"inherit",fontWeight:"inherit",position:"relative",right:0,pointerEvents:p||!d?"auto":"none"},value:e,onChange:V=>r(V.target.value),onFocus:()=>m(!0),onBlur:()=>m(!1)}),j.jsx("div",{style:{position:"absolute",marginRight:e?z:0,display:"flex",right:S,top:0,transition:"right 0.4s ease, opacity 0.4s ease",height:"100%",opacity:p?0:1},children:j.jsx("button",{ref:x,style:{cursor:"pointer",padding:"5px",pointerEvents:p?"none":"auto",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>m(!0),children:j.jsx(Jx,{})})})]}):j.jsxs("div",{className:"title-editor",style:{position:"relative",display:"inline-block",marginRight:`calc(${T}px + ${z})`},children:[j.jsx("span",{ref:y,style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",fontSize:"inherit",fontWeight:"inherit"},children:e}),j.jsx("input",{ref:b,style:{width:S,opacity:S>0?1:0,transition:p&&e===""?"width 0.4s ease, opacity 0.4s ease":"none",background:"transparent",border:"none",padding:"0",borderBottom:p?"0.11rem solid #ccc":"none",outline:"none",textAlign:"left",fontSize:"inherit",fontWeight:"inherit",position:"relative",left:0,pointerEvents:p||!d?"auto":"none"},value:e,onChange:V=>r(V.target.value),onFocus:()=>m(!0),onBlur:()=>m(!1)}),o&&"*",j.jsx("div",{style:{position:"absolute",marginLeft:e?z:0,display:"flex",left:S,top:0,transition:"left 0.4s ease, opacity 0.4s ease",height:"100%",opacity:p?0:1},children:j.jsx("button",{ref:x,style:{cursor:"pointer",padding:"5px",pointerEvents:p?"none":"auto",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>m(!0),children:j.jsx(Jx,{})})})]})},I5=({name:e,label:r,onChange:a})=>{const[o,l]=R.useState(r||e),u=c=>{l(c),a(c)};return console.log("render",r,o),R.useEffect(()=>{console.log("cccc",r,o),r||(console.log("set n",r,o),l(e)),r&&r!==o&&(console.log("changing label",r,o),l(r))},[r]),j.jsx(ll,{title:o,setTitle:u,fallback:e,requireButton:!0})};function X5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 8v-2a2 2 0 0 1 2 -2h2"},child:[]},{tag:"path",attr:{d:"M4 16v2a2 2 0 0 0 2 2h2"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M16 20h2a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12l6 0"},child:[]},{tag:"path",attr:{d:"M12 9l0 6"},child:[]}]})(e)}function K5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"},child:[]},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"},child:[]},{tag:"path",attr:{d:"M16 5l3 3"},child:[]}]})(e)}function G5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4v16"},child:[]},{tag:"path",attr:{d:"M9 10l2 2l-2 2"},child:[]}]})(e)}function P5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4v16"},child:[]},{tag:"path",attr:{d:"M10 10l-2 2l2 2"},child:[]}]})(e)}function Z5(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 15l6 -6"},child:[]},{tag:"path",attr:{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"},child:[]},{tag:"path",attr:{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"},child:[]}]})(e)}function ME(e){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7h16"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]},{tag:"path",attr:{d:"M10 12l4 4m0 -4l-4 4"},child:[]}]})(e)}const Q5=({nodeId:e,handleGroupId:r,initialHandles:a,onHandlesChange:o,getHandleElement:l,generateHandleId:u})=>{const{masterEdges:c}=R.useContext(ds),d=VS(),[p,m]=R.useState(a);return R.useEffect(()=>{m(b=>{const y=b.flatMap((x,S)=>{const C=S===b.length-1;return tc(c,e,x).length?C?[x,u(r)]:x:C?x:[]});return JSON.stringify(b)===JSON.stringify(y)?b:y}),d(e)},[c]),R.useEffect(()=>o(p),[p]),p.map((b,y)=>l(b,` ${y}`))};class pa{static bus=new EventTarget;static dispatch(r){this.bus.dispatchEvent(new Event(r))}static listen(r,a,o){return this.bus.addEventListener(r,a,o),()=>this.bus.removeEventListener(r,a,o)}}var Xr=(e=>(e.UpdateNodeTypes="update-node-types",e.UpdateGraphList="update-graph-list",e.NodesChange="nodes-change",e.UpdateWatchList="update-watchlist",e))(Xr||{});let Mu=0;const If=2e3,ym=1e4;class Yn extends R.Component{static contextType=ds;id;saveableState={};variadicHandleDefaults={};nodeInstanceRegistry;isVirtualInstance=!1;isInSubGraph=!1;virtualEdges=[];actionButtonText="Run";static isBangable=!1;hideIsActiveHandle=!1;ref=R.createRef();constructor(r){super(r),this.id=r.id,this.isVirtualInstance=r.data.isVirtual??!1,this.isInSubGraph=r.data.isInSubGraph,this.nodeInstanceRegistry=r.data.nodeInstanceRegistry,this.isVirtualInstance&&this.nodeInstanceRegistry.set(this.id,this),this.initState(r.data.graphSnapshot),console.log(`loading node ${this.name}
            id: ${this.id}

stateId:`,this.saveableState?.initialGraphState)}get name(){return this.constructor.defNodeName}get _isBangable(){return this.constructor.isBangable}initState(r){this.setDefaults(),this.state={...this.state,handles:{...this.state?.handles,[lr]:!0}},r&&(this.state={...this.state,...r.react},this.saveableState={...this.saveableState,...r.other},this.virtualEdges=r.edges);const a=this.getVariadicIds();a.length&&this.initVariadicHandlesState(a)}initVariadicHandlesState(r){this.saveableState.variadicHandles||(this.saveableState.variadicHandles={}),r.forEach(a=>{const o=this.saveableState.variadicHandles;if(!o[a]){o[a]={idTracker:0,handleIds:[]};const l=this.generateVariadicId(a);o[a].handleIds.push(l),this.state={...this.state,handles:{...this.state.handles,[l]:this.variadicHandleDefaults[a]}}}})}onTargetConnected(r,a,o){this.isBangOutputHandle(r)||this.executeTargetCallback(r,a,o)}getHandleType(r){if(r===lr)return tt.Boolean;if(r===_a||r===Gn)return tt.Bang;const a=this.parseVariadicId(r)?.handleGroupId,o=this.handleDefs[a??r];if(o===void 0)throw new Error("Could not find handle id defined for class");return o.dataType}isHandleConnected(r){return(this.isVirtualInstance?this.virtualEdges:this.context.masterEdges).some(o=>o.source===this.id&&o.sourceHandle===r||o.target===this.id&&o.targetHandle===r)}parseVariadicId(r){if(!r.startsWith(Oi))return null;const a=r.match(/^(.+?)(-?\d+)$/);return a?{handleGroupId:a[1],index:parseInt(a[2],10)}:null}onTitleChange(r){const a=r.trim();a?(console.log("titit",a),a===this.name?this.saveableState.label=void 0:this.saveableState.label=a):this.saveableState.label=void 0}async onOutputChange(r,a){}handleDefToId(r){return Object.entries(this.handleDefs).find(([a,o])=>o===r)?.[0]}getInputIds(){return Object.keys(this.handleDefs).filter(r=>!r.startsWith(Di)&&r!==Mt)}getVariadicIds(){return Object.keys(this.handleDefs).filter(r=>r.startsWith(Oi))}getExtraOutIds(){return Object.keys(this.handleDefs).filter(r=>r.startsWith(Di))}getExtraBangoutIds(){return Object.entries(this.handleDefs).filter(([r,a])=>r.startsWith(Di)&&a.dataType===tt.Bang).map(r=>r[0])}isBangOutputHandle(r){return r===_a||this.getExtraBangoutIds().includes(r)}setDefaults(){this.state={handles:{}}}async exeTargetCallbacks(r){await this.executeTargetCallbacks(r)}async exeTargetCallbacksWithEdges(r,a){await this.executeTargetCallbacks(r,a)}forceRender(){this.setState(r=>({...r}))}async transformInput(r){const a=this.transformSafe(r??null);a!==null&&await this.setOutput(a)}generateVariadicId(r){const a=this.saveableState.variadicHandles[r];return`${r}${a.idTracker++}`}transformSafe(r){return Mu||setTimeout(()=>{Mu>=If?Cn.error(`${If} calls occurred in within ${ym/1e3}s period. Graph likely contains an inifinite loop.`):Mu>=If*.35&&Cn.warning(`${If*.35} calls occurred within ${ym/1e3}s. Graph may contain an inifinite loop.`),Mu=0},ym),Mu++,this.transform(r)}setStateAsync(r){return this.isVirtualInstance?Promise.resolve().then(()=>{const a=typeof r=="function"?r(this.state,this.props):r;a&&(this.state={...this.state,...a})}):new Promise(a=>{setTimeout(()=>this.setState(r,a),0)})}async setInput(r,a){await this.setStateAsync(o=>({handles:{...o.handles,[r]:a??0}})),!(r===lr||!this.state.handles[lr])&&await this.transformInput(r)}async setOutput(r){const a=this.state.handles[Mt];await this.setStateAsync(o=>({handles:{...o.handles,[Mt]:r}})),await this.executeTargetCallbacks(Mt),await this.onOutputChange(a,r),this.isVirtualInstance||pa.dispatch(Xr.UpdateWatchList)}async executeTargetCallbacks(r,a){const o=a??(this.isVirtualInstance?this.virtualEdges:this.context.masterEdges),l=Td(o,this.id,r);n1(this.id,r);for(const u of l){if(!u.handleId)throw new Error("The connected target did not have an identifiable handle");t4(u.edgeId),n1(u.nodeId,u.handleId),await this.executeTargetCallback(r,u.nodeId,u.handleId)}}async executeTargetCallback(r,a,o){if(a===la)return;const l=this.nodeInstanceRegistry.get(a);if(!l)throw new Error("The connected target node could not be found in the registry");this.getHandleType(r)===tt.Bang?await l.bang(o):await l.setInput(o,this.state.handles[r])}async bang(r){if(!this.state.handles[lr])return;const a=this.transformSafe(r);console.log(`${this.id}: banged with `,a,r),a!==null&&r===Gn&&(await this.setOutput(a),await this.executeTargetCallbacks(_a))}getHandleElement(r,a){const o=this.parseVariadicId(r)?.handleGroupId,l=r===Gn||r===_a?{dataType:"bang"}:r===lr?{label:"Active",dataType:"boolean"}:this.handleDefs[o??r],u=this.getExtraOutIds().includes(r),c=r===Mt||r===_a||u,d=()=>{const p=!this.state.handles[lr]&&r!==lr;let m=!1;if(l.dataType!==tt.Bang){const b=tc(this.context.masterEdges,this.id,r);m=b.length>0&&b[0].nodeId!==la}return p||m};return j.jsxs("div",{style:{display:"flex",flexDirection:c?"row":"row-reverse",height:"3em",gap:"5px",alignItems:"center",alignSelf:c?"flex-end":"flex-start"},children:[!c&&r!==Gn&&j.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[j.jsx(QA,{dataType:l.dataType,value:this.state.handles[r],label:l.label,setValue:l.dataType===tt.Bang?()=>this.bang(r):p=>r===lr?this.setInput(lr,p):this.setInput(r,p),disabled:d()}),l.label&&l.dataType!==tt.Bang&&j.jsx("div",{children:a?`${l.label}${a}`:l.label})]}),u&&l.dataType!==tt.Bang&&j.jsx("div",{className:"output-box",style:{padding:"0 8px",fontSize:"20px",borderRadius:"4px"},children:j.jsx("div",{children:this.state.handles[r]!==void 0?String(this.state.handles[r]):!1})}),j.jsx(Pd,{className:r===_a||r===Gn||r===Mt||l.label?"":"hidden",content:r===Gn?`${this.actionButtonText} on signal`:r===_a?"Send signal":r===Mt?"Output":l.label,placement:"top",arrow:!1,animation:"fade",duration:[400,250],children:j.jsx(So,{className:`${l.dataType} ${this.props.data.highlightedHandles?.includes(r)?gg:""} ${this.isHandleConnected(r)?"connected":""}`,type:c?"source":"target",position:c?Je.Right:Je.Left,id:r,style:{position:"relative",display:"flex",flexDirection:c?"row":"row-reverse",alignSelf:"baseline",height:"10px",width:"10px"},onMouseOver:()=>this.highlightConnectedTohandle(r),onMouseOut:()=>ug(this.context),onConnect:p=>{if(p.source===la)return;if(p.sourceHandle===null||p.sourceHandle===void 0)throw new Error("Connecting source handle id did not exist");if(p.targetHandle===null||p.targetHandle===void 0)throw new Error("Connecting target handle id did not exist");const m=this.nodeInstanceRegistry.get(p.source);if(!m)throw new Error("Could not find source node in the node registry");m.onTargetConnected(p.sourceHandle,p.target,p.targetHandle)}})})]},r)}renderContent(){const r=this.state.handles[Mt];return j.jsx("div",{children:r!==void 0?String(r):!1})}renderExtra(){}render(){const r=this.getInputIds().map(c=>{if(c.startsWith(Oi)){const d=c,{handleIds:p}=this.saveableState.variadicHandles[d],m=y=>{(async()=>(this.saveableState.variadicHandles[d].handleIds=y,await this.setStateAsync(x=>{const S=Object.entries(x.handles).filter(([C])=>!C.startsWith(Oi)||y.includes(C));return{handles:Object.fromEntries(S)}}),this.transformInput()))()},b=y=>{const x=this.generateVariadicId(y);return this.setInput(x,this.variadicHandleDefaults[y]),x};return j.jsx(Q5,{nodeId:this.id,handleGroupId:c,initialHandles:p,onHandlesChange:m,generateHandleId:b,getHandleElement:(y,x)=>this.getHandleElement(y,x)},c)}return this.getHandleElement(c)}),a=[];Mt in this.handleDefs&&a.push(this.getHandleElement(Mt));const o=this._isBangable&&this.getHandleElement(Gn),l=this._isBangable&&this.getHandleElement(_a),u=this.getExtraOutIds().map(c=>this.getHandleElement(c));return j.jsxs("div",{className:this.state.handles[lr]?"":"disabled",style:{width:"100%"},ref:this.ref,children:[j.jsxs("div",{className:"header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",fontSize:"20px",borderTopLeftRadius:6,borderTopRightRadius:6},children:[j.jsx(I5,{name:this.name,label:this.saveableState.label,onChange:c=>{this.onTitleChange(c),pa.dispatch(Xr.UpdateWatchList)}}),j.jsx("div",{onMouseOver:()=>this.highlightAllConnected(),onMouseOut:()=>ug(this.context),style:{height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",transform:"translateX(10px)",cursor:"auto"},children:j.jsx(Z5,{})})]}),j.jsx("div",{style:{padding:"10px 0"},children:j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px"},children:[j.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px",alignItems:"flex-start"},children:j.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",paddingRight:"5px"},children:r})}),this.handleDefs[Mt]?j.jsx("div",{className:"output-box",style:{alignContent:"center",fontSize:"36px",flex:"auto",padding:"15px",borderRadius:"5px",minWidth:"76px",minHeight:"54px",maxWidth:"76px",maxHeight:"54px"},children:this.renderContent()}):this.renderContent(),j.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:j.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly"},children:a.concat(u)})})]})}),j.jsxs("div",{style:{display:"flex",alignItems:"end",justifyContent:"space-between"},children:[!this.hideIsActiveHandle&&j.jsx("div",{children:this.getHandleElement(lr)}),j.jsx("div",{style:{margin:"5px 10px"},children:this.renderExtra()})]}),this._isBangable&&j.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[j.jsx("div",{style:{position:"absolute"},children:o}),j.jsx("button",{className:"action",disabled:!this.state.handles[lr],style:{width:"100%",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:6,borderBottomRightRadius:6},onClick:()=>this.bang(Gn),children:this.actionButtonText}),j.jsx("div",{style:{position:"absolute",right:0},children:l})]}),j.jsx(Pg,{elementContextMenuRef:this.ref,arrow:void 0,direction:"right",portal:!0,children:j.jsx(R5,{nodeId:this.id,type:this.name})})]})}componentDidMount(){ma.set(this.id,this),setTimeout(()=>{this.context.setMasterNodes(r=>r.map(a=>{if(a.id!==this.id)return a;const o=a.position.x-(a.measured?.width??0)/2,l=a.position.y-10;return{...a,position:{x:o,y:l},style:{visibility:"visible",opacity:1}}}))},1)}componentWillUnmount(){ma.delete(this.id)}getConnectionsToHandle(r){const a=r===Mt||r===_a||this.getExtraOutIds().includes(r),o=F5(this.context.masterEdges,this.id,r).map(u=>u.id);return{handles:a?Td(this.context.masterEdges,this.id,r):tc(this.context.masterEdges,this.id,r),edges:o}}highlightConnectedTohandle(r){const{handles:a,edges:o}=this.getConnectionsToHandle(r);o.length&&(a.push({nodeId:this.id,handleId:r}),lg(this.context,a,o))}highlightAllConnected(){const r=Object.keys({[lr]:0,...this.handleDefs,...this._isBangable?{[Gn]:0,[_a]:0}:{}}),{handles:a,edges:o}=r.reduce((l,u)=>{const{handles:c,edges:d}=this.getConnectionsToHandle(u),p=[...l.handles];return c.forEach(m=>{p.some(b=>b.nodeId===m.nodeId&&b.handleId===u)||p.push(m)}),d.length&&p.push({nodeId:this.id,handleId:u}),{handles:p,edges:[...l.edges,...d]}},{handles:[],edges:[]});o.length&&lg(this.context,a,o)}}class _o extends Yn{static defNodeName="";get handleDefs(){return this._handleDefs??{}}internalEdges=[];internalNodeInstanceRegistry;constructor(r){super(r),this.load()}transform(r){return r===null||(Fa(r)?(async()=>(await this.exeTargetCallbacksWithEdges(Gn,this.internalEdges),await this.exeTargetCallbacks(_a)))():this.getExtraOutIds().includes(r)?this.exeTargetCallbacks(r):this.exeTargetCallbacksWithEdges(r,this.internalEdges)),null}load(){const{graphId:r,handleDefs:a,actionLabel:o}=pn.cache.userNodes[this.name];this._handleDefs=a,o&&(this.actionButtonText=o);const{edges:l,nodeInstanceRegistry:u}=this.instantiateVirtualNodes(r);this.internalEdges=l,this.internalNodeInstanceRegistry=u,u.set(this.id,this),this.mergeNodeInstanceRegistries(u),this.isInSubGraph||this.initProxyState()}initProxyState(){const r=Object.entries(this._handleDefs).filter(([l,u])=>l.startsWith(id)&&u.dataType!==tt.Bang).map(([l])=>l),a=Object.keys(this._handleDefs).filter(l=>l.startsWith(Di)),o={};r.forEach(l=>{const{nodeId:u,handleId:c}=Td(this.internalEdges,this.id,l)[0],d=this.nodeInstanceRegistry.get(u);console.log(`proxy: ${this.constructor.name} got state: ${JSON.stringify(d.state.handles[c])} for target ${d.constructor.name} ${d.id}`),o[l]=d.state.handles[c]}),a.forEach(l=>{const{nodeId:u,handleId:c}=tc(this.internalEdges,this.id,l)[0],d=this.nodeInstanceRegistry.get(u);o[l]=d.state.handles[c]}),this.state={...this.state,handles:{...this.state.handles,...o}}}mergeNodeInstanceRegistries(r){const a=this.nodeInstanceRegistry;this.nodeInstanceRegistry=new Proxy(new Map,{get(o,l){return l==="get"?u=>r.get(u)??a.get(u):l==="has"?u=>r.has(u)||a.has(u):l==="keys"?function(){const u=new Set,c=[];for(const d of[r,a])for(const p of d.keys())u.has(p)||(u.add(p),c.push(p));return c[Symbol.iterator]()}:l==="entries"?function(){const u=new Set,c=[];for(const d of[r,a])for(const[p,m]of d.entries())u.has(p)||(u.add(p),c.push([p,m]));return c[Symbol.iterator]()}:Reflect.get(new Map,l)}})}instantiateVirtualNodes(r){const{nodes:a,edges:o,nodeInstanceRegistry:l}=DE(!0,r,!1,this.id,this.saveableState.initialGraphState);return a.forEach(([u,c])=>{const d=Object.entries(Co).find(([p])=>p===u)?.[1];if(!d)throw new Error("Could not find the node class to instantiate when loading saved graph. Was its defNodeName changed?");new d(c)}),{nodeInstanceRegistry:l,edges:o}}saveSubGraphState(){const r=[...this.internalNodeInstanceRegistry.values()].filter(a=>a.id!==this.id).map(a=>{a instanceof _o&&a.saveSubGraphState();const o={react:structuredClone(a.state),other:structuredClone(a.saveableState)};return[a.id,o]});this.saveableState.initialGraphState=Object.fromEntries(r)}static registerUserNodeType(r,a){class o extends _o{static defNodeName=r;static isBangable=a}return In(o,!0),o}}function Fa(e){return e===Gn}function F5(e,r,a){return e.filter(o=>o.source===r&&o.sourceHandle===a||o.target===r&&o.targetHandle===a)}function Td(e,r,a){return e.filter(o=>o.source===r&&o.sourceHandle===a).map(o=>({nodeId:o.target,handleId:o.targetHandle,edgeId:o.id}))}function tc(e,r,a){return e.filter(o=>o.target===r&&o.targetHandle===a).map(o=>({nodeId:o.source,handleId:o.sourceHandle,edgeId:o.id}))}function W5(e,r){const a=new Set,o=new Map;for(const c of r)o.has(c.source)||o.set(c.source,new Set),o.has(c.target)||o.set(c.target,new Set),o.get(c.source).add(c.target),o.get(c.target).add(c.source);const l=[];function u(c,d){a.add(c);const p=e.find(m=>m.id===c);p&&d.push(p);for(const m of o.get(c)??[])a.has(m)||u(m,d)}for(const c of e)if(!a.has(c.id)){const d=[];u(c.id,d),l.push(d)}return l}function e1(e,r,a){return W5(r,a).find(o=>o.some(l=>l.id===e))??[]}function dl(e,r){const a=ma.get(e);if(!a)throw new Error("Could not find node in the registry to get handle type");return a.getHandleType(r)}function J5(e,r){const{source:a,sourceHandle:o,target:l,targetHandle:u}=e;if(a===l)return!1;if(o==null)throw new Error("Source node had no hanlde id to connect to");if(u==null)throw new Error("Target node had no hanlde id to connect to");return a===la?o===Gn?dl(l,u)===tt.Bang:!0:l===la?!0:dl(a,o)===dl(l,u)}async function e4(){await pn.syncCache(),Object.entries(pn.cache.userNodes).forEach(([e,r])=>{_o.registerUserNodeType(e,r.isBangable)})}function DE(e,r,a,o,l){const u=pn.cache.graphs[r];if(!u)throw new Error(`Graph ${r} was not found in the database cache`);const c=e?new Map:ma,d=(b,y,x)=>{x.target===b&&(x.target=y),x.source===b&&(x.source=y)},p=u.edges.map(b=>{const y={...b};return a&&(y.id=Sl()),o&&d(la,o,y),y}),m=Object.entries(u.nodes).map(([b,y])=>{const x=a?Sl():b,S=l&&l[b];a&&p.forEach(B=>d(b,x,B));const C={...structuredClone(S??y.initState),edges:p},T={id:x,data:{nodeInstanceRegistry:c,graphSnapshot:C,isVirtual:e,isInSubGraph:!0}};return e||(T.position=y.position),[y.defNodeName,T]});return{nodeInstanceRegistry:c,edges:p,nodes:m}}function AE(e){const r=Object.entries(pn.cache.graphs).filter(([c,d])=>Object.values(d.nodes).some(p=>p.defNodeName===e)).map(([c])=>c),a=Object.entries(pn.cache.userNodes).filter(([c,d])=>r.includes(d.graphId)),o=a.map(([c])=>c),l=[],u=[];return r.forEach(c=>(a.some(([d,p])=>p.graphId===c),u.push(c))),{allGraphsWithDep:r,nodeGraphsWithDep:u,nonNodeGraphsWithDep:l,nodesWithDep:o}}function Qg(e,r){const a=pn.cache.userNodes[e];if(!a)return!1;const o=pn.cache.graphs[a.graphId],l=Object.values(o.nodes).map(u=>u.defNodeName);return l.includes(r)||l.some(u=>Qg(u,r))}async function t1(e,r,a){const o=pn.cache.graphs[e];Object.values(o.nodes).forEach(l=>{l.defNodeName===r&&(l.defNodeName=a)}),await pn.putGraph(e,o)}function lg(e,r,a){const o=l=>(l??"").split(" ").concat([gg]).join(" ");document.querySelector(`.${ul}`)?.classList.add(iw),e.setMasterNodes(l=>l.map(u=>{const c=r.filter(m=>m.nodeId===u.id);if(!c.length)return u;const d={...u},p=[];return c.forEach(m=>p.push(m.handleId)),d.className=o(u.className),d.data={...u.data,highlightedHandles:p},d})),e.setMasterEdges(l=>l.map(u=>a.some(c=>c===u.id)?{...u,className:o(u.className)}:u))}function ug(e){document.querySelector(`.${ul}`)?.classList.remove(iw);const r=a=>(a??"").split(" ").filter(o=>!o.includes(gg)).join(" ");e.setMasterNodes(a=>a.map(o=>{const l={...o};return l.className=r(o.className),delete l.data.highlightedHandles,l})),e.setMasterEdges(a=>a.map(o=>({...o,className:r(o.className)})))}function n1(e,r){document.querySelectorAll(`.react-flow__handle[data-handleid="${r}"][data-nodeid="${e}"]`).forEach(o=>{o.classList.add(od),o.addEventListener("animationend",()=>o.classList.remove(od),{once:!0})})}function t4(e){document.querySelectorAll(`.react-flow__edge[data-id="${e}"]`).forEach(a=>{a.classList.add(od),a.addEventListener("animationend",()=>a.classList.remove(od),{once:!0})})}class n4{inputs=[];outputs=[];nextInput=0;nextOutput=0;constructor(r){r?(this.useInitial(r,!1),this.useInitial(r,!0)):(this.inputs=[{id:this.generateHandleId()}],this.outputs=[{id:this.generateHandleId(!0)}])}useInitial(r,a){const o=a?"outputs":"inputs",l=a?Di:id,u=Object.entries(r).filter(([b])=>b.startsWith(l));if(!u.length)return this[o]=[{id:this.generateHandleId(a)}];const c=a?"nextOutput":"nextInput",d=b=>Number(b.replace(l,"")),p=u.sort(([b],[y])=>d(b)-d(y));this[o]=p.map(([b,y])=>({id:b,...y}));const m=u.at(-1)?.[0];this[c]=m?d(m)+1:0}setInputs(r){return this.inputs=r,r}setOutputs(r){return this.outputs=r,r}generateHandleId(r){return`${r?Di:id}${r?this.nextOutput++:this.nextInput++}`}}const r4=e=>{const r=R.useMemo(()=>new n4(e),[]),[a,o]=R.useState(r.inputs),[l,u]=R.useState(r.outputs);return{inputs:a,outputs:l,setInputs:b=>o(y=>r.setInputs(b(y))),setOutputs:b=>u(y=>r.setOutputs(b(y))),generateHandleId:b=>r.generateHandleId(b),getDataType:b=>"dataType"in b?b.dataType:"ghost"}};var wo=(e=>(e[e.None=0]="None",e[e.Creating=1]="Creating",e[e.Editing=2]="Editing",e))(wo||{});const gc=R.createContext({nodeCreatorStatus:0,setNodeCreatorStatus:()=>{},isNodeCreatorOpen:!1,editingNodeType:null,setEditingNodeType:()=>{}}),Fg=R.createContext({createNode:()=>{},editNode:e=>{}}),Fd=R.createContext({showModal:()=>{}}),bm={position:"relative",height:"15px",width:"15px"},a4=({id:e,data:r})=>{const a=r.initialState?.name,{masterEdges:o,masterNodes:l}=R.useContext(ds),{nodeCreatorStatus:u,setNodeCreatorStatus:c,setEditingNodeType:d}=R.useContext(gc),{showModal:p}=R.useContext(Fd),{setNodes:m,fitView:b}=No(),{inputs:y,outputs:x,setInputs:S,setOutputs:C,generateHandleId:T,getDataType:B}=r4(r.initialState?.handles),[z,V]=R.useState(!1),[A,N]=R.useState(a??""),[K,L]=R.useState([]),[$,P]=R.useState(r.initialState?.actionLabel??"Action"),W=VS(),fe=u===wo.Editing,J=R.useCallback(D=>o.some(M=>M.source===e&&M.sourceHandle===D||M.target===e&&M.targetHandle===D),[o,e]);R.useEffect(()=>(c(r.editing?wo.Editing:wo.Creating),d(r.editing?r.initialState?.name??"":null),()=>{c(wo.None),d(null)}),[r.editing,r.initialState?.name,d,c]),R.useEffect(()=>{if(fe){const D=e1(e,l,o);if(!D.length)throw new Error("Could not find island of node network");L(D.map(M=>M.id))}},[u]),R.useEffect(()=>V(J(Gn)),[J]),R.useEffect(()=>{const D=(M,I)=>M.flatMap((Q,ne)=>{const q=ne===M.length-1,ae=(I?tc:Td)(o,e,Q.id);if(!ae.length)return q?Q:[];const de=dl(ae[0].nodeId,ae[0].handleId);return Q.dataType=de,q?[Q,{id:T(I)}]:Q});S(M=>D(M,!1)),C(M=>D(M,!0)),W(e)},[o]);const G=()=>m(D=>D.filter(M=>fe?!K.includes(M.id):M.id!==e)),re=()=>{const D=A.trim();return x.length<=1&&y.length<=1?(Cn.info("Created node requires some connections."),!1):D?D in RE&&!(fe&&D===a)?(Cn.info(`Node with name "${D}" already exists. Please use a unique name.`),!1):!0:(Cn.info("Created node requires a name."),!1)},k=()=>{const D=A.trim(),M=fe?pn.cache.userNodes[a??""]?.graphId:Sl();if(!M)throw new Error(`Could not find existing use node ${a} in the cache`);const I=Object.fromEntries([...y,...x].filter(ye=>"dataType"in ye).map(({id:ye,...Ce})=>[ye,Ce])),Q=e1(e,l,o);if(!Q.length)throw new Error("Could not find island of node network to create");const ne=$w(Q,o),q=Q.filter(ye=>ye.id!==e).map(ye=>{const Ce=ma.get(ye.id);if(!Ce)throw new Error("Could not find node instance in registry to save it state");Ce instanceof _o&&Ce.saveSubGraphState();const Ae={react:Ce.state,other:Ce.saveableState};return[ye.id,{defNodeName:Ce.name,initState:Ae,position:ye.position}]}),Z={graphId:M,isBangable:z,handleDefs:I,actionLabel:$},ae={edges:ne,nodes:Object.fromEntries(q)};if(fe){f4(D,Z,ae,a!==D?a:void 0),m(ye=>ye.filter(Ce=>!K.includes(Ce.id)));return}const de=c4(D,Z,ae);m(ye=>[...ye.filter(Ae=>!Q.includes(Ae)),jE(de)]),setTimeout(()=>b({maxZoom:2,padding:.3,duration:500,ease:ye=>ye*(2-ye),interpolate:"smooth"}),100)},Y=()=>re()&&p(D=>j.jsx(i4,{name:a,newName:A.trim(),close:D,onConfirm:k}));return j.jsxs("div",{className:"node-creator",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[j.jsxs("div",{className:"header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 15px",background:"#1d1d20",fontSize:"1.5rem",borderTopLeftRadius:8,borderTopRightRadius:8},children:[j.jsx(ll,{title:A,showEditIndicator:fe&&A.trim()!==a,setTitle:N}),j.jsxs("div",{style:{display:"flex",height:"100%",gap:"5px"},children:[u===wo.Editing&&j.jsxs("div",{children:["Editing ",a]}),j.jsx("button",{onClick:fe?Y:()=>re()&&k(),style:{background:"transparent",padding:0,display:"flex",alignItems:"center",width:"35px",justifyContent:"center"},children:j.jsx(Y5,{})}),j.jsx("button",{onClick:G,style:{background:"transparent",padding:0,display:"flex",alignItems:"center",width:"35px",justifyContent:"center"},children:j.jsx(OE,{})})]})]}),j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"20px",flex:"1",flexDirection:"row",alignItems:"flex-start"},children:[j.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:y.map(D=>j.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[j.jsx(So,{className:`${B(D)} ${J(D.id)?"connected":""}`,id:D.id,type:"source",position:Je.Right,style:bm}),j.jsx("div",{style:{paddingLeft:"5px",display:"flex"},children:j.jsx(ll,{animateWidth:50,buttonMargin:"0",title:D.label??"",setTitle:M=>S(I=>I.map(Q=>Q.id===D.id?{...Q,label:M}:Q))},D.id)})]},D.id))}),j.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:x.map(D=>j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[j.jsx(So,{className:`${B(D)} ${J(D.id)?"connected":""}`,id:D.id,type:"target",position:Je.Left,style:bm}),j.jsx("div",{style:{paddingRight:"5px",display:"flex"},children:j.jsx(ll,{animateWidth:50,buttonMargin:"0",reverse:!0,title:D.label??"",setTitle:M=>C(I=>I.map(Q=>Q.id===D.id?{...Q,label:M}:Q))},D.id)})]},D.id))})]}),j.jsxs("div",{className:`action ${z?"connected":""}`,style:{display:"flex",alignItems:"center",height:"3.2em",borderBottomLeftRadius:8,borderBottomRightRadius:8},children:[j.jsx("div",{children:j.jsx(So,{className:`${tt.Bang} ${z?"connected":""}`,id:Gn,type:"source",position:Je.Right,style:{...bm,zIndex:"10"}})}),j.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",right:"0",left:"0",fontSize:"1rem",padding:"5px 15px"},children:j.jsx(ll,{title:$,setTitle:P})})]})]})},i4=({name:e,newName:r,onConfirm:a,close:o})=>{const{nonNodeGraphsWithDep:l,nodesWithDep:u}=AE(e),c=u.length+l.length,d=u.length&&l.length,p=u.map(m=>`"${m}"`).join(", ");return j.jsxs("div",{children:[j.jsxs("header",{children:["Update ",e]}),j.jsx("p",{children:`Are you sure you want to update this node? ${e!==r?`"${e}" will be renamed to "${r}".`:""}
                ${c?`${p} ${d?"and":""}${l.length?`${l.length} graphs `:""}depend${c===1?"s":""} on this, and these changes will likely cause ${c===1?"it":"them"} to break.`:""}`}),j.jsxs("div",{className:"modal-buttons",children:[j.jsx("button",{onClick:()=>{a(),o()},children:"Confirm"}),j.jsx("button",{onClick:o,children:"Cancel"})]})]})};var br=(e=>(e.All="All Nodes",e.Action="Action",e.NotAction="Non Action",e.Operation="Operation",e.User="User Created",e))(br||{});const o4=Object.values(br),Co={},s4={[Zf]:a4},RE=l4(Co,s4),ma=new Map;window.reg2=ma;window.nodes=Co;function l4(...e){return new Proxy({},{get(r,a){for(const o of e)if(typeof a=="string"&&a in o)return o[a]},has(r,a){return e.some(o=>a in o)},ownKeys(){return[...new Set(e.flatMap(Object.keys))]},getOwnPropertyDescriptor(r,a){for(const o of e){const l=Object.getOwnPropertyDescriptor(o,a);if(l)return l}}})}function In(e,r){if(typeof e.defNodeName!="string")throw new Error(`Missing static defNodeName on node class '${e.name}'`);if(Co[e.defNodeName])throw new Error(`Duplicate identifier '${e.defNodeName}' found in node type map`);Co[e.defNodeName]=e,e.tags||(e.tags=[]),e.tags.push(br.All),e.isBangable?e.tags.push(br.Action):e.tags.push(br.NotAction),r&&e.tags.push(br.User),pa.dispatch(Xr.UpdateNodeTypes)}function jE(e,r){const a=Object.entries(Co).find(([c,d])=>d===e);if(!a)throw new Error("Could not find class instance in node types");const[o,l]=a;return{id:Sl(),position:r??{x:0,y:0},data:{nodeInstanceRegistry:ma,isVirtual:!1,isInSubGraph:!1},type:o,style:{visibility:"hidden",opacity:0}}}async function u4(e){delete Co[e],pa.dispatch(Xr.UpdateNodeTypes),await pn.removeUserNode(e)}function c4(e,r,a,o){return Promise.all([pn.putUserNode(e,r),pn.putGraph(r.graphId,a)]).then(()=>{Cn.success(`Node "${e}" saved to the database.`)}).catch(u=>{Cn.error(`Node "${e}" failed to be saved to the databased.
${u}}`)}),_o.registerUserNodeType(e,r.isBangable)}async function f4(e,r,a,o){if(o){let u=!1;const{nonNodeGraphsWithDep:c,nodesWithDep:d}=AE(o);d.forEach(p=>{if(u)return;const m=pn.cache.userNodes[p].graphId;try{t1(m,o,e)}catch{u=!0,Cn.error(`Failed to apply name changes to internal graph of node "${p}". Database may be corrupted`)}}),c.forEach(p=>{if(!u)try{t1(p,o,e)}catch{u=!0,Cn.error(`Failed to apply name changes to saved graph "${p}". Database may be corrupted`)}}),u&&Cn.error(`Node updates for "${o}" -> "${e} were not saved to the database due to rename failure.}`),await u4(o)}const l=Promise.all([pn.putUserNode(e,r),pn.putGraph(r.graphId,a)]);try{await l,Cn.success(`Node "${o??e}" updated ${o?`and renamed to "${e}" `:""}in the database.`)}catch(u){Cn.error(`Node "${e}" failed to be updated in the databased.
${u}}`)}o&&(_o.registerUserNodeType(e,r.isBangable),pa.dispatch(Xr.UpdateNodeTypes))}function d4(e){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 80L0 229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7L48 32C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"},child:[]}]})(e)}function r1(e){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function a1(e){return Nn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(e)}const h4=()=>j.jsx(V5,{viewBox:"0 0 24 25",strokeWidth:"3"}),p4=()=>j.jsx($5,{viewBox:"-0.5 0 25 25",strokeWidth:"3.5"}),m4=()=>j.jsx(OE,{viewBox:"0 -1 24 26",strokeWidth:"3"}),g4=()=>j.jsx(q5,{strokeWidth:"2.5"}),v4=()=>j.jsxs("div",{style:{display:"flex",height:"1em",width:"1.5em",gap:"2px"},children:[j.jsx(a1,{viewBox:"5 5 11.5 10.5",strokeWidth:".3"}),j.jsx(a1,{viewBox:"4 5 11.5 10.5",strokeWidth:".3"})]}),y4=()=>j.jsxs("div",{style:{display:"flex",height:"1em",width:"1.5em",gap:"2px"},children:[j.jsx(r1,{viewBox:"5 5 11.5 10.5",strokeWidth:".3"}),j.jsx(r1,{viewBox:"4 5 11.5 10.5",strokeWidth:".3"})]});var Pn=(e=>(e.Or="|",e.And="&",e.Add="+",e.Subtract="-",e.Multiply="*",e.Divide="/",e.Increment="++",e.Decrement="--",e.Equal="==",e.NotEqual="!=",e.Greater=">",e.Less="<",e.GreaterEqual=">=",e.LessEqual="<=",e.Mod="%",e))(Pn||{});const cs={"|":{name:"Or",icon:"|",operation:(...e)=>e.some(Boolean)},"&":{name:"And",icon:"&",operation:(...e)=>e.every(Boolean)},"+":{name:"Add",icon:j.jsx(h4,{}),operation:(...e)=>e.reduce((r,a)=>r+a,0)},"-":{name:"Subtract",icon:j.jsx(p4,{}),operation:(...e)=>e.length===0?0:e.reduce((r,a)=>r-a)},"*":{name:"Multiply",icon:j.jsx(m4,{}),operation:(...e)=>e.reduce((r,a)=>r*a,1)},"/":{name:"Divide",icon:j.jsx(g4,{}),operation:(...e)=>e.length===0?0:e.reduce((r,a)=>a===0?NaN:r/a)},"++":{name:"Increment",icon:j.jsx(v4,{}),operation:(e,r)=>e+r},"--":{name:"Decrement",icon:j.jsx(y4,{}),operation:(e,r)=>e-r},"==":{name:"Equal",icon:"==",operation:(e,r)=>e==r?1:0},"!=":{name:"Not Equal",icon:"!=",operation:(e,r)=>e!=r?1:0},">":{name:"Greater Than",icon:">",operation:(e,r)=>e>r?1:0},"<":{name:"Less Than",icon:"<",operation:(e,r)=>e<r?1:0},">=":{name:"Greater Than or Equal",icon:">=",operation:(e,r)=>e>=r?1:0},"<=":{name:"Less Than or Equal",icon:"<=",operation:(e,r)=>e<=r?1:0},"%":{name:"Modulus",icon:"%",operation:(e,r)=>e%r}};function Wd({operators:e,selected:r,onChange:a}){const[o,l]=R.useState(!1),[u,c]=R.useState(r??e[0]),d=R.useRef(null),p=m=>{const b=m.relatedTarget;(!b||!d.current?.contains(b))&&l(!1)};return j.jsxs("div",{ref:d,style:{position:"relative"},children:[j.jsx(i1,{op:u,isMenuButton:!0,hideTooltip:o,onClick:()=>l(m=>!m),onBlurCapture:p}),o&&j.jsx("div",{style:{position:"absolute",bottom:"calc(100% + 5px)",right:0,display:"flex",gap:"2px",padding:0,margin:0,zIndex:1e3},children:e.map(m=>j.jsx(i1,{op:m,onClick:()=>{c(m),l(!1),a(m)}},m))})]})}const i1=({op:e,hideTooltip:r,isMenuButton:a,...o})=>{const l=cs[e];return j.jsx(Pd,{className:r?"hidden":"",content:a?"Select Operation":cs[e].name,placement:"top",arrow:!1,animation:"fade",duration:[400,250],children:j.jsx("button",{style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},...o,children:l.icon})})};var o1;const zE=`${Di}signalTrue`,cg=`${Oi}operand`,b4={[cg]:{dataType:tt.Boolean},invert:{dataType:tt.Boolean,label:"Invert"},[Mt]:{dataType:tt.Boolean},[zE]:{dataType:tt.Bang,label:"Signal if true"}};In(o1=class extends Yn{static defNodeName="Boolean";static tags=[br.Operation];get handleDefs(){return b4}setDefaults(){this.state={handles:{invert:!1}},this.variadicHandleDefaults={[cg]:!1},this.saveableState={operator:Pn.And}}async onOutputChange(r,a){a&&await this.exeTargetCallbacks(zE)}transform(){const r=Object.entries(this.state.handles).filter(([l])=>l.startsWith(cg)).map(([l,u])=>u),a=this.state.handles.invert,o=cs[this.saveableState.operator].operation(...r);return a?!o:o}renderExtra(){const r=a=>{this.saveableState.operator=a,this.transformInput()};return j.jsx(Wd,{operators:[Pn.And,Pn.Or],selected:this.saveableState.operator,onChange:r})}});var s1;const x4={percent:{dataType:tt.Number,label:"% Chance"},[Mt]:{dataType:tt.Boolean}};In(s1=class extends Yn{static defNodeName="Chance Percent";static isBangable=!0;get handleDefs(){return x4}actionButtonText="Try";setDefaults(){this.state={handles:{percent:50}}}transform(r){if(Fa(r)){const l=this.state.handles.percent;return l===void 0?void 0:Math.floor(Math.random()*100)+1<l}}});var l1;const w4={max:{dataType:tt.Number,label:"Max"},min:{dataType:tt.Number,label:"Min"},pass:{dataType:tt.Number,label:"Pass"},[Mt]:{dataType:tt.Boolean}};In(l1=class extends Yn{static defNodeName="Chance Threshold";static isBangable=!0;get handleDefs(){return w4}actionButtonText="Try";setDefaults(){this.state={handles:{min:1,max:10,pass:5}}}transform(r){if(Fa(r)){const a=this.state.handles.max,o=this.state.handles.min,l=this.state.handles.pass;return o===void 0||a===void 0||l===void 0?void 0:Math.floor(Math.random()*(a-o+1))+o>=l}}});var u1;const BE=`${Di}pulse`,S4={interval:{dataType:tt.Number,label:"Interval Sec"},[BE]:{dataType:tt.Bang,label:"Pulsed Signal"}};In(u1=class extends Yn{static defNodeName="Clock Pulse";static isBangable=!0;get handleDefs(){return S4}running=!1;actionButtonText="Start";intervalId=0;stop(){clearInterval(this.intervalId),this.running=!1,this.actionButtonText="Start"}start(){const r=this.state.handles.interval;r&&r>0&&(this.actionButtonText="Stop",this.intervalId=setInterval(()=>this.state.handles[lr]&&this.exeTargetCallbacks(BE),r*1e3),this.running=!0)}transform(r){if(!Fa(r))return this.running&&(this.stop(),this.state.handles[lr]&&this.start(),this.running||this.forceRender()),null;this.running?this.stop():this.start()}});var c1;const E4={p1:{dataType:tt.Number},p2:{dataType:tt.Number},[Mt]:{dataType:tt.Boolean}};In(c1=class extends Yn{static defNodeName="Comparison";static tags=[br.Operation];get handleDefs(){return E4}setDefaults(){this.state={handles:{p1:0,p2:1,[Mt]:!1}},this.saveableState={operator:Pn.Equal}}transform(){const r=this.state.handles.p1,a=this.state.handles.p2;if(!(r===void 0||a===void 0))return!!cs[this.saveableState.operator].operation(r,a)}renderExtra(){const r=a=>{this.saveableState.operator=a,this.transformInput()};return j.jsx(Wd,{operators:[Pn.Equal,Pn.NotEqual,Pn.Greater,Pn.Less,Pn.GreaterEqual,Pn.LessEqual],selected:this.saveableState.operator,onChange:r})}});var f1;const _4={step:{dataType:tt.Number,label:"Step"},[Mt]:{dataType:tt.Number}};In(f1=class extends Yn{static defNodeName="Counter";static isBangable=!0;static tags=[br.Operation];get handleDefs(){return _4}setDefaults(){this.state={handles:{step:1,[Mt]:0}},this.saveableState={operator:Pn.Increment}}transform(r){if(Fa(r)){const a=this.state.handles.step,o=this.state.handles[Mt];return a===void 0||o===void 0?void 0:cs[this.saveableState.operator].operation(o,a)}return null}renderExtra(){return j.jsx(Wd,{operators:[Pn.Increment,Pn.Decrement],selected:this.saveableState.operator,onChange:r=>this.saveableState.operator=r})}});var d1;const HE=`${Oi}operand`,C4={[HE]:{dataType:tt.Boolean},[Mt]:{dataType:tt.Boolean}};In(d1=class extends Yn{static defNodeName="Last Set Boolean";get handleDefs(){return C4}setDefaults(){this.variadicHandleDefaults={[HE]:!1}}transform(r){return r===null?null:this.state.handles[r]}});var h1;const kE=`${Oi}operand`,N4={[kE]:{dataType:tt.Number},[Mt]:{dataType:tt.Number}};In(h1=class extends Yn{static defNodeName="Last Set Number";get handleDefs(){return N4}setDefaults(){this.variadicHandleDefaults={[kE]:0}}transform(r){return r===null?null:this.state.handles[r]}});var p1;const fg=`${Oi}operand`,T4={[fg]:{dataType:tt.Number},[Mt]:{dataType:tt.Number}};In(p1=class extends Yn{static defNodeName="Math";static tags=[br.Operation];get handleDefs(){return T4}setDefaults(){this.state={handles:{[Mt]:0}},this.variadicHandleDefaults={[fg]:0},this.saveableState={operator:Pn.Add}}transform(){const r=Object.entries(this.state.handles).filter(([a])=>a.startsWith(fg)).map(([a,o])=>o);return cs[this.saveableState.operator].operation(...r)}renderExtra(){const r=a=>{this.saveableState.operator=a,this.transformInput()};return j.jsx(Wd,{operators:[Pn.Add,Pn.Subtract,Pn.Multiply,Pn.Divide],selected:this.saveableState.operator,onChange:r})}});var m1;const O4={p1:{dataType:tt.Number},p2:{dataType:tt.Number},offset:{dataType:tt.Number,label:"Offset"},[Mt]:{dataType:tt.Number}};In(m1=class extends Yn{static defNodeName="Modulus";static tags=[br.Operation];get handleDefs(){return O4}setDefaults(){this.state={handles:{p1:1,p2:1,offset:0,[Mt]:0}}}transform(){if(this.state.handles.p1===void 0||this.state.handles.p2===void 0)return;const r=cs["%"].operation(this.state.handles.p1,this.state.handles.p2);return isNaN(r)?void 0:r+(this.state.handles.offset??0)}});var g1;const M4={in:{dataType:tt.Number},[Mt]:{dataType:tt.Number}};In(g1=class extends Yn{static defNodeName="Number";get handleDefs(){return M4}setDefaults(){this.state={handles:{in:0,[Mt]:0}}}transform(){return this.state.handles.in}});var v1;const D4={max:{dataType:tt.Number,label:"Max"},min:{dataType:tt.Number,label:"Min"},[Mt]:{dataType:tt.Number}};In(v1=class extends Yn{static defNodeName="RNG";static isBangable=!0;get handleDefs(){return D4}actionButtonText="Generate";setDefaults(){this.state={handles:{min:1,max:10}}}transform(r){if(Fa(r)){const a=this.state.handles.max,o=this.state.handles.min;return o===void 0||a===void 0?void 0:Math.floor(Math.random()*(a-o+1))+o}return null}});var y1;const A4={in:{dataType:tt.Boolean},[Mt]:{dataType:tt.Boolean}};In(y1=class extends Yn{static defNodeName="Set Boolean";static isBangable=!0;get handleDefs(){return A4}actionButtonText="Set";setDefaults(){this.state={handles:{in:!1,[Mt]:!1}}}transform(r){return Fa(r)?this.state.handles.in:null}});var b1;const R4={in:{dataType:tt.Number},[Mt]:{dataType:tt.Number}};In(b1=class extends Yn{static defNodeName="Set Number";static isBangable=!0;get handleDefs(){return R4}actionButtonText="Set";setDefaults(){this.state={handles:{in:0,[Mt]:0}}}transform(r){return Fa(r)?this.state.handles.in:null}});var x1;const LE=`${Di}delay`,j4={delaySec:{dataType:tt.Number,label:"Delay Sec"},[LE]:{dataType:tt.Bang,label:"Delayed Signal"}};In(x1=class extends Yn{static defNodeName="Signal";static isBangable=!0;get handleDefs(){return j4}actionButtonText="Send";timeoutId=0;transform(r){if(!Fa(r))return null;const a=this.state.handles.delaySec??0;a>=0&&(this.timeoutId=setTimeout(()=>this.state.handles[lr]&&this.exeTargetCallbacks(LE),a*1e3))}});var w1;const z4={input:{dataType:tt.Number},[Mt]:{dataType:tt.Boolean}};In(w1=class extends Yn{static defNodeName="To Boolean";get handleDefs(){return z4}setDefaults(){this.state={handles:{input:0}}}transform(){return!!this.state.handles.input}});var S1;const B4={input:{dataType:tt.Boolean},[Mt]:{dataType:tt.Number}};In(S1=class extends Yn{static defNodeName="To Number";get handleDefs(){return B4}setDefaults(){this.state={handles:{input:!1}}}transform(){return Number(this.state.handles.input)}});var E1;const H4={[Mt]:{dataType:tt.Boolean}};In(E1=class extends Yn{static defNodeName="Toggle";static isBangable=!0;get handleDefs(){return H4}actionButtonText="Toggle";setDefaults(){this.state={handles:{[Mt]:!1}}}transform(r){if(Fa(r))return!this.state.handles[Mt]}});var _1;const dg=`${Oi}input`,k4={[dg]:{dataType:tt.Boolean},[Mt]:{dataType:tt.Number}};In(_1=class extends Yn{static defNodeName="True Count";get handleDefs(){return k4}setDefaults(){this.state={handles:{[Mt]:0}},this.variadicHandleDefaults={[dg]:!1}}transform(){return Object.entries(this.state.handles).filter(([a])=>a.startsWith(dg)).map(([a,o])=>o).reduce((a,o)=>o===!0?a+1:a,0)}});var xm={exports:{}},Du={},wm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function L4(){return C1||(C1=1,(function(e){function r(D,M){var I=D.length;D.push(M);e:for(;0<I;){var Q=I-1>>>1,ne=D[Q];if(0<l(ne,M))D[Q]=M,D[I]=ne,I=Q;else break e}}function a(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var M=D[0],I=D.pop();if(I!==M){D[0]=I;e:for(var Q=0,ne=D.length,q=ne>>>1;Q<q;){var Z=2*(Q+1)-1,ae=D[Z],de=Z+1,ye=D[de];if(0>l(ae,I))de<ne&&0>l(ye,ae)?(D[Q]=ye,D[de]=I,Q=de):(D[Q]=ae,D[Z]=I,Q=Z);else if(de<ne&&0>l(ye,I))D[Q]=ye,D[de]=I,Q=de;else break e}}return M}function l(D,M){var I=D.sortIndex-M.sortIndex;return I!==0?I:D.id-M.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],m=[],b=1,y=null,x=3,S=!1,C=!1,T=!1,B=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function N(D){for(var M=a(m);M!==null;){if(M.callback===null)o(m);else if(M.startTime<=D)o(m),M.sortIndex=M.expirationTime,r(p,M);else break;M=a(m)}}function K(D){if(T=!1,N(D),!C)if(a(p)!==null)C=!0,L||(L=!0,G());else{var M=a(m);M!==null&&Y(K,M.startTime-D)}}var L=!1,$=-1,P=5,W=-1;function fe(){return B?!0:!(e.unstable_now()-W<P)}function J(){if(B=!1,L){var D=e.unstable_now();W=D;var M=!0;try{e:{C=!1,T&&(T=!1,V($),$=-1),S=!0;var I=x;try{t:{for(N(D),y=a(p);y!==null&&!(y.expirationTime>D&&fe());){var Q=y.callback;if(typeof Q=="function"){y.callback=null,x=y.priorityLevel;var ne=Q(y.expirationTime<=D);if(D=e.unstable_now(),typeof ne=="function"){y.callback=ne,N(D),M=!0;break t}y===a(p)&&o(p),N(D)}else o(p);y=a(p)}if(y!==null)M=!0;else{var q=a(m);q!==null&&Y(K,q.startTime-D),M=!1}}break e}finally{y=null,x=I,S=!1}M=void 0}}finally{M?G():L=!1}}}var G;if(typeof A=="function")G=function(){A(J)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,k=re.port2;re.port1.onmessage=J,G=function(){k.postMessage(null)}}else G=function(){z(J,0)};function Y(D,M){$=z(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(D){switch(x){case 1:case 2:case 3:var M=3;break;default:M=x}var I=x;x=M;try{return D()}finally{x=I}},e.unstable_requestPaint=function(){B=!0},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var I=x;x=D;try{return M()}finally{x=I}},e.unstable_scheduleCallback=function(D,M,I){var Q=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Q+I:Q):I=Q,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=I+ne,D={id:b++,callback:M,priorityLevel:D,startTime:I,expirationTime:ne,sortIndex:-1},I>Q?(D.sortIndex=I,r(m,D),a(p)===null&&D===a(m)&&(T?(V($),$=-1):T=!0,Y(K,I-Q))):(D.sortIndex=ne,r(p,D),C||S||(C=!0,L||(L=!0,G()))),D},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(D){var M=x;return function(){var I=x;x=M;try{return D.apply(this,arguments)}finally{x=I}}}})(Sm)),Sm}var N1;function U4(){return N1||(N1=1,wm.exports=L4()),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function q4(){if(T1)return Du;T1=1;var e=U4(),r=fs(),a=Rg();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function c(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(o(188))}function m(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(o(188));return n!==t?null:t}for(var i=t,s=n;;){var h=i.return;if(h===null)break;var v=h.alternate;if(v===null){if(s=h.return,s!==null){i=s;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===i)return p(h),t;if(v===s)return p(h),n;v=v.sibling}throw Error(o(188))}if(i.return!==s.return)i=h,s=v;else{for(var _=!1,U=h.child;U;){if(U===i){_=!0,i=h,s=v;break}if(U===s){_=!0,s=h,i=v;break}U=U.sibling}if(!_){for(U=v.child;U;){if(U===i){_=!0,i=v,s=h;break}if(U===s){_=!0,s=v,i=h;break}U=U.sibling}if(!_)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var re=Symbol.for("react.client.reference");function k(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===re?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case z:return"Profiler";case B:return"StrictMode";case K:return"Suspense";case L:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case A:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case N:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return n=t.displayName||null,n!==null?n:k(t.type)||"Memo";case P:n=t._payload,t=t._init;try{return k(t(n))}catch{}}return null}var Y=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},Q=[],ne=-1;function q(t){return{current:t}}function Z(t){0>ne||(t.current=Q[ne],Q[ne]=null,ne--)}function ae(t,n){ne++,Q[ne]=t.current,t.current=n}var de=q(null),ye=q(null),Ce=q(null),Ae=q(null);function Te(t,n){switch(ae(Ce,n),ae(ye,t),ae(de,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?A0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=A0(n),t=R0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(de),ae(de,t)}function we(){Z(de),Z(ye),Z(Ce)}function Ge(t){t.memoizedState!==null&&ae(Ae,t);var n=de.current,i=R0(n,t.type);n!==i&&(ae(ye,t),ae(de,i))}function Fe(t){ye.current===t&&(Z(de),Z(ye)),Ae.current===t&&(Z(Ae),wu._currentValue=I)}var ke,Qe;function Xe(t){if(ke===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ke=n&&n[1]||"",Qe=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+t+Qe}var st=!1;function vt(t,n){if(!t||st)return"";st=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Ne){var Ee=Ne}Reflect.construct(t,[],Be)}else{try{Be.call()}catch(Ne){Ee=Ne}t.call(Be.prototype)}}else{try{throw Error()}catch(Ne){Ee=Ne}(Be=t())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Ne){if(Ne&&Ee&&typeof Ne.stack=="string")return[Ne.stack,Ee.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=s.DetermineComponentFrameRoot(),_=v[0],U=v[1];if(_&&U){var ee=_.split(`
`),xe=U.split(`
`);for(h=s=0;s<ee.length&&!ee[s].includes("DetermineComponentFrameRoot");)s++;for(;h<xe.length&&!xe[h].includes("DetermineComponentFrameRoot");)h++;if(s===ee.length||h===xe.length)for(s=ee.length-1,h=xe.length-1;1<=s&&0<=h&&ee[s]!==xe[h];)h--;for(;1<=s&&0<=h;s--,h--)if(ee[s]!==xe[h]){if(s!==1||h!==1)do if(s--,h--,0>h||ee[s]!==xe[h]){var De=`
`+ee[s].replace(" at new "," at ");return t.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",t.displayName)),De}while(1<=s&&0<=h);break}}}finally{st=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Xe(i):""}function rt(t,n){switch(t.tag){case 26:case 27:case 5:return Xe(t.type);case 16:return Xe("Lazy");case 13:return t.child!==n&&n!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return vt(t.type,!1);case 11:return vt(t.type.render,!1);case 1:return vt(t.type,!0);case 31:return Xe("Activity");default:return""}}function St(t){try{var n="",i=null;do n+=rt(t,i),i=t,t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var qt=Object.prototype.hasOwnProperty,ft=e.unstable_scheduleCallback,Dt=e.unstable_cancelCallback,At=e.unstable_shouldYield,xt=e.unstable_requestPaint,Vt=e.unstable_now,Sn=e.unstable_getCurrentPriorityLevel,Pt=e.unstable_ImmediatePriority,Xt=e.unstable_UserBlockingPriority,Ht=e.unstable_NormalPriority,gn=e.unstable_LowPriority,vn=e.unstable_IdlePriority,ln=e.log,an=e.unstable_setDisableYieldValue,jn=null,_e=null;function qe(t){if(typeof ln=="function"&&an(t),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(jn,t)}catch{}}var Me=Math.clz32?Math.clz32:Ze,gt=Math.log,at=Math.LN2;function Ze(t){return t>>>=0,t===0?32:31-(gt(t)/at|0)|0}var je=256,Yt=262144,wt=4194304;function nt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ke(t,n,i){var s=t.pendingLanes;if(s===0)return 0;var h=0,v=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var U=s&134217727;return U!==0?(s=U&~v,s!==0?h=nt(s):(_&=U,_!==0?h=nt(_):i||(i=U&~t,i!==0&&(h=nt(i))))):(U=s&~v,U!==0?h=nt(U):_!==0?h=nt(_):i||(i=s&~t,i!==0&&(h=nt(i)))),h===0?0:n!==0&&n!==h&&(n&v)===0&&(v=h&-h,i=n&-n,v>=i||v===32&&(i&4194048)!==0)?n:h}function ht(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function yt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nt(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function $t(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function mt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tt(t,n,i,s,h,v){var _=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var U=t.entanglements,ee=t.expirationTimes,xe=t.hiddenUpdates;for(i=_&~i;0<i;){var De=31-Me(i),Be=1<<De;U[De]=0,ee[De]=-1;var Ee=xe[De];if(Ee!==null)for(xe[De]=null,De=0;De<Ee.length;De++){var Ne=Ee[De];Ne!==null&&(Ne.lane&=-536870913)}i&=~Be}s!==0&&un(t,s,0),v!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=v&~(_&~n))}function un(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var s=31-Me(n);t.entangledLanes|=n,t.entanglements[s]=t.entanglements[s]|1073741824|i&261930}function lt(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var s=31-Me(i),h=1<<s;h&n|t[s]&n&&(t[s]|=n),i&=~h}}function ut(t,n){var i=n&-n;return i=(i&42)!==0?1:zn(i),(i&(t.suspendedLanes|n))!==0?0:i}function zn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yn(){var t=M.p;return t!==0?t:(t=window.event,t===void 0?32:tb(t.type))}function pr(t,n){var i=M.p;try{return M.p=t,n()}finally{M.p=i}}var ur=Math.random().toString(36).slice(2),en="__reactFiber$"+ur,En="__reactProps$"+ur,Qn="__reactContainer$"+ur,ga="__reactEvents$"+ur,hs="__reactListeners$"+ur,Kr="__reactHandles$"+ur,Oo="__reactResources$"+ur,mr="__reactMarker$"+ur;function Bi(t){delete t[en],delete t[En],delete t[ga],delete t[hs],delete t[Kr]}function Gr(t){var n=t[en];if(n)return n;for(var i=t.parentNode;i;){if(n=i[Qn]||i[en]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=U0(t);t!==null;){if(i=t[en])return i;t=U0(t)}return n}t=i,i=t.parentNode}return null}function Qt(t){if(t=t[en]||t[Qn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function Fn(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _n(t){t[mr]=!0}var va=new Set,Wa={};function zr(t,n){Pr(t,n),Pr(t+"Capture",n)}function Pr(t,n){for(Wa[t]=n,t=0;t<n.length;t++)va.add(n[t])}var ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hi={},Ja={};function ps(t){return qt.call(Ja,t)?!0:qt.call(Hi,t)?!1:ya.test(t)?Ja[t]=!0:(Hi[t]=!0,!1)}function Et(t,n,i){if(ps(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function ei(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function wr(t,n,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+s)}}function Xn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ja(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ms(t,n,i){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,v=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){i=""+_,v.call(this,_)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(_){i=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ti(t){if(!t._valueTracker){var n=ja(t)?"checked":"value";t._valueTracker=ms(t,n,""+t[n])}}function Mo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return t&&(s=ja(t)?t.checked?"true":"false":t.value),t=s,t!==i?(n.setValue(t),!0):!1}function It(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ni=/[\n"\\]/g;function Tn(t){return t.replace(ni,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zr(t,n,i,s,h,v,_,U){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xn(n)):t.value!==""+Xn(n)&&(t.value=""+Xn(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?za(t,_,Xn(n)):i!=null?za(t,_,Xn(i)):s!=null&&t.removeAttribute("value"),h==null&&v!=null&&(t.defaultChecked=!!v),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?t.name=""+Xn(U):t.removeAttribute("name")}function ki(t,n,i,s,h,v,_,U){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),n!=null||i!=null){if(!(v!=="submit"&&v!=="reset"||n!=null)){ti(t);return}i=i!=null?""+Xn(i):"",n=n!=null?""+Xn(n):i,U||n===t.value||(t.value=n),t.defaultValue=n}s=s??h,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=U?t.checked:!!s,t.defaultChecked=!!s,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ti(t)}function za(t,n,i){n==="number"&&It(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ba(t,n,i,s){if(t=t.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=n.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&s&&(t[i].defaultSelected=!0)}else{for(i=""+Xn(i),n=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,s&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ml(t,n,i){if(n!=null&&(n=""+Xn(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+Xn(i):""}function Do(t,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(o(92));if(Y(s)){if(1<s.length)throw Error(o(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Xn(n),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s),ti(t)}function ri(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(t,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":s?t.setProperty(n,i):typeof i!="number"||i===0||ah.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function Dl(t,n,i){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var h in n)s=n[h],n.hasOwnProperty(h)&&i[h]!==s&&kt(t,h,s)}else for(var v in n)n.hasOwnProperty(v)&&kt(t,v,n[v])}function Al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return gr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sr(){}var Qr=null;function gs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ai=null,cn=null;function Br(t){var n=Qt(t);if(n&&(t=n.stateNode)){var i=t[En]||null;e:switch(t=n.stateNode,n.type){case"input":if(Zr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==t&&s.form===t.form){var h=s[En]||null;if(!h)throw Error(o(90));Zr(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===t.form&&Mo(s)}break e;case"textarea":Ml(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ba(t,!!i.multiple,n,!1)}}}var ii=!1;function Li(t,n,i){if(ii)return t(n,i);ii=!0;try{var s=t(n);return s}finally{if(ii=!1,(ai!==null||cn!==null)&&(cf(),ai&&(n=ai,t=cn,cn=ai=null,Br(n),t)))for(n=0;n<t.length;n++)Br(t[n])}}function oi(t,n){var i=t.stateNode;if(i===null)return null;var s=i[En]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=!1;if(Wn)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Rl=!1}var Fr=null,vs=null,Ui=null;function qi(){if(Ui)return Ui;var t,n=vs,i=n.length,s,h="value"in Fr?Fr.value:Fr.textContent,v=h.length;for(t=0;t<i&&n[t]===h[t];t++);var _=i-t;for(s=1;s<=_&&n[i-s]===h[v-s];s++);return Ui=h.slice(t,1<s?1-s:void 0)}function $i(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ao(){return!0}function wc(){return!1}function Bn(t){function n(i,s,h,v,_){this._reactName=i,this._targetInst=h,this.type=s,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var U in t)t.hasOwnProperty(U)&&(i=t[U],this[U]=i?i(v):v[U]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ao:wc,this.isPropagationStopped=wc,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),n}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Bn(si),Ba=y({},si,{view:0,detail:0}),bs=Bn(Ba),Ro,jl,jo,xs=y({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(Ro=t.screenX-jo.screenX,jl=t.screenY-jo.screenY):jl=Ro=0,jo=t),Ro)},movementY:function(t){return"movementY"in t?t.movementY:jl}}),ws=Bn(xs),zl=y({},xs,{dataTransfer:0}),Sc=Bn(zl),Ss=y({},Ba,{relatedTarget:0}),Vi=Bn(Ss),Es=y({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=Bn(Es),oh=y({},si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yi=Bn(oh),Bl=y({},si,{data:0}),_s=Bn(Bl),Hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jn[t])?!!n[t]:!1}function li(){return zo}var _c=y({},Ba,{key:function(t){if(t.key){var n=Hl[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(t){return t.type==="keypress"?$i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cs=Bn(_c),Cc=y({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=Bn(Cc),Ns=y({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),Ul=Bn(Ns),ui=y({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),ql=Bn(ui),$l=y({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ts=Bn($l),Vl=y({},si,{newState:0,oldState:0}),Nc=Bn(Vl),sh=[9,13,27,32],Bo=Wn&&"CompositionEvent"in window,Ha=null;Wn&&"documentMode"in document&&(Ha=document.documentMode);var lh=Wn&&"TextEvent"in window&&!Ha,Os=Wn&&(!Bo||Ha&&8<Ha&&11>=Ha),Ms=" ",Tc=!1;function Yl(t,n){switch(t){case"keyup":return sh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ci=!1;function Mc(t,n){switch(t){case"compositionend":return Oc(n);case"keypress":return n.which!==32?null:(Tc=!0,Ms);case"textInput":return t=n.data,t===Ms&&Tc?null:t;default:return null}}function uh(t,n){if(ci)return t==="compositionend"||!Bo&&Yl(t,n)?(t=qi(),Ui=vs=Fr=null,ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Os&&n.locale!=="ko"?null:n.data;default:return null}}var Dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ds(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Dc[t.type]:n==="textarea"}function Il(t,n,i,s){ai?cn?cn.push(s):cn=[s]:ai=s,n=vf(n,"onChange"),0<n.length&&(i=new ys("onChange","change",null,i,s),t.push({event:i,listeners:n}))}var Ii=null,Ho=null;function ch(t){C0(t,0)}function As(t){var n=cr(t);if(Mo(n))return t}function ko(t,n){if(t==="change")return n}var Wr=!1;if(Wn){var fn;if(Wn){var Xi="oninput"in document;if(!Xi){var vr=document.createElement("div");vr.setAttribute("oninput","return;"),Xi=typeof vr.oninput=="function"}fn=Xi}else fn=!1;Wr=fn&&(!document.documentMode||9<document.documentMode)}function Ac(){Ii&&(Ii.detachEvent("onpropertychange",Rs),Ho=Ii=null)}function Rs(t){if(t.propertyName==="value"&&As(Ho)){var n=[];Il(n,Ho,t,gs(t)),Li(ch,n)}}function Rc(t,n,i){t==="focusin"?(Ac(),Ii=n,Ho=i,Ii.attachEvent("onpropertychange",Rs)):t==="focusout"&&Ac()}function fi(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return As(Ho)}function Xl(t,n){if(t==="click")return As(n)}function Ki(t,n){if(t==="input"||t==="change")return As(n)}function ka(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dr=typeof Object.is=="function"?Object.is:ka;function f(t,n){if(dr(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var h=i[s];if(!qt.call(n,h)||!dr(t[h],n[h]))return!1}return!0}function g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w(t,n){var i=g(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=n&&s>=n)return{node:i,offset:n-t};t=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=g(i)}}function E(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?E(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function O(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=It(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=It(t.document)}return n}function H(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var X=Wn&&"documentMode"in document&&11>=document.documentMode,F=null,ie=null,oe=null,he=!1;function te(t,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;he||F==null||F!==It(s)||(s=F,"selectionStart"in s&&H(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),oe&&f(oe,s)||(oe=s,s=vf(ie,"onSelect"),0<s.length&&(n=new ys("onSelect","select",null,n,i),t.push({event:n,listeners:s}),n.target=F)))}function me(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var se={animationend:me("Animation","AnimationEnd"),animationiteration:me("Animation","AnimationIteration"),animationstart:me("Animation","AnimationStart"),transitionrun:me("Transition","TransitionRun"),transitionstart:me("Transition","TransitionStart"),transitioncancel:me("Transition","TransitionCancel"),transitionend:me("Transition","TransitionEnd")},ue={},ce={};Wn&&(ce=document.createElement("div").style,"AnimationEvent"in window||(delete se.animationend.animation,delete se.animationiteration.animation,delete se.animationstart.animation),"TransitionEvent"in window||delete se.transitionend.transition);function pe(t){if(ue[t])return ue[t];if(!se[t])return t;var n=se[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in ce)return ue[t]=n[i];return t}var ve=pe("animationend"),Se=pe("animationiteration"),Oe=pe("animationstart"),ze=pe("transitionrun"),$e=pe("transitionstart"),Ie=pe("transitioncancel"),Le=pe("transitionend"),Ve=new Map,Ye="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ye.push("scrollEnd");function Ue(t,n){Ve.set(t,n),zr(n,[t])}var Pe=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},it=[],pt=0,_t=0;function er(){for(var t=pt,n=_t=pt=0;n<t;){var i=it[n];it[n++]=null;var s=it[n];it[n++]=null;var h=it[n];it[n++]=null;var v=it[n];if(it[n++]=null,s!==null&&h!==null){var _=s.pending;_===null?h.next=h:(h.next=_.next,_.next=h),s.pending=h}v!==0&&Lo(i,h,v)}}function dt(t,n,i,s){it[pt++]=t,it[pt++]=n,it[pt++]=i,it[pt++]=s,_t|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Hn(t,n,i,s){return dt(t,n,i,s),kn(t)}function bn(t,n){return dt(t,null,null,n),kn(t)}function Lo(t,n,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var h=!1,v=t.return;v!==null;)v.childLanes|=i,s=v.alternate,s!==null&&(s.childLanes|=i),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(h=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,h&&n!==null&&(h=31-Me(i),t=v.hiddenUpdates,s=t[h],s===null?t[h]=[n]:s.push(n),n.lane=i|536870912),v):null}function kn(t){if(50<pu)throw pu=0,bp=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Er={};function Kl(t,n,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,n,i,s){return new Kl(t,n,i,s)}function fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var i=t.alternate;return i===null?(i=Hr(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function sv(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jc(t,n,i,s,h,v){var _=0;if(s=t,typeof t=="function")fh(t)&&(_=1);else if(typeof t=="string")_=x_(t,i,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Hr(31,i,n,h),t.elementType=W,t.lanes=v,t;case T:return Uo(i.children,h,v,n);case B:_=8,h|=24;break;case z:return t=Hr(12,i,n,h|2),t.elementType=z,t.lanes=v,t;case K:return t=Hr(13,i,n,h),t.elementType=K,t.lanes=v,t;case L:return t=Hr(19,i,n,h),t.elementType=L,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:_=10;break e;case V:_=9;break e;case N:_=11;break e;case $:_=14;break e;case P:_=16,s=null;break e}_=29,i=Error(o(130,t===null?"null":typeof t,"")),s=null}return n=Hr(_,i,n,h),n.elementType=t,n.type=s,n.lanes=v,n}function Uo(t,n,i,s){return t=Hr(7,t,s,n),t.lanes=i,t}function dh(t,n,i){return t=Hr(6,t,null,n),t.lanes=i,t}function lv(t){var n=Hr(18,null,null,0);return n.stateNode=t,n}function hh(t,n,i){return n=Hr(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var uv=new WeakMap;function Jr(t,n){if(typeof t=="object"&&t!==null){var i=uv.get(t);return i!==void 0?i:(n={value:t,source:n,stack:St(n)},uv.set(t,n),n)}return{value:t,source:n,stack:St(n)}}var js=[],zs=0,zc=null,Gl=0,ea=[],ta=0,Gi=null,La=1,Ua="";function hi(t,n){js[zs++]=Gl,js[zs++]=zc,zc=t,Gl=n}function cv(t,n,i){ea[ta++]=La,ea[ta++]=Ua,ea[ta++]=Gi,Gi=t;var s=La;t=Ua;var h=32-Me(s)-1;s&=~(1<<h),i+=1;var v=32-Me(n)+h;if(30<v){var _=h-h%5;v=(s&(1<<_)-1).toString(32),s>>=_,h-=_,La=1<<32-Me(n)+h|i<<h|s,Ua=v+t}else La=1<<v|i<<h|s,Ua=t}function ph(t){t.return!==null&&(hi(t,1),cv(t,1,0))}function mh(t){for(;t===zc;)zc=js[--zs],js[zs]=null,Gl=js[--zs],js[zs]=null;for(;t===Gi;)Gi=ea[--ta],ea[ta]=null,Ua=ea[--ta],ea[ta]=null,La=ea[--ta],ea[ta]=null}function fv(t,n){ea[ta++]=La,ea[ta++]=Ua,ea[ta++]=Gi,La=n.id,Ua=n.overflow,Gi=t}var rr=null,dn=null,Lt=!1,Pi=null,na=!1,gh=Error(o(519));function Zi(t){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Jr(n,t)),gh}function dv(t){var n=t.stateNode,i=t.type,s=t.memoizedProps;switch(n[en]=t,n[En]=s,i){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(i=0;i<gu.length;i++)jt(gu[i],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),ki(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),Do(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||M0(n.textContent,i)?(s.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),s.onScroll!=null&&jt("scroll",n),s.onScrollEnd!=null&&jt("scrollend",n),s.onClick!=null&&(n.onclick=Sr),n=!0):n=!1,n||Zi(t,!0)}function hv(t){for(rr=t.return;rr;)switch(rr.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:rr=rr.return}}function Bs(t){if(t!==rr)return!1;if(!Lt)return hv(t),Lt=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||zp(t.type,t.memoizedProps)),i=!i),i&&dn&&Zi(t),hv(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));dn=L0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));dn=L0(t)}else n===27?(n=dn,uo(t.type)?(t=Up,Up=null,dn=t):dn=n):dn=rr?aa(t.stateNode.nextSibling):null;return!0}function qo(){dn=rr=null,Lt=!1}function vh(){var t=Pi;return t!==null&&(Tr===null?Tr=t:Tr.push.apply(Tr,t),Pi=null),t}function Pl(t){Pi===null?Pi=[t]:Pi.push(t)}var yh=q(null),$o=null,pi=null;function Qi(t,n,i){ae(yh,n._currentValue),n._currentValue=i}function mi(t){t._currentValue=yh.current,Z(yh)}function bh(t,n,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),t===i)break;t=t.return}}function xh(t,n,i,s){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){var _=h.child;v=v.firstContext;e:for(;v!==null;){var U=v;v=h;for(var ee=0;ee<n.length;ee++)if(U.context===n[ee]){v.lanes|=i,U=v.alternate,U!==null&&(U.lanes|=i),bh(v.return,i,t),s||(_=null);break e}v=U.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(o(341));_.lanes|=i,v=_.alternate,v!==null&&(v.lanes|=i),bh(_,i,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Hs(t,n,i,s){t=null;for(var h=n,v=!1;h!==null;){if(!v){if((h.flags&524288)!==0)v=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(o(387));if(_=_.memoizedProps,_!==null){var U=h.type;dr(h.pendingProps.value,_.value)||(t!==null?t.push(U):t=[U])}}else if(h===Ae.current){if(_=h.alternate,_===null)throw Error(o(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wu):t=[wu])}h=h.return}t!==null&&xh(n,t,i,s),n.flags|=262144}function Bc(t){for(t=t.firstContext;t!==null;){if(!dr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vo(t){$o=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ar(t){return pv($o,t)}function Hc(t,n){return $o===null&&Vo(t),pv(t,n)}function pv(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},pi===null){if(t===null)throw Error(o(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return i}var g2=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},v2=e.unstable_scheduleCallback,y2=e.unstable_NormalPriority,Ln={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new g2,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&v2(y2,function(){t.controller.abort()})}var Ql=null,Sh=0,ks=0,Ls=null;function b2(t,n){if(Ql===null){var i=Ql=[];Sh=0,ks=Cp(),Ls={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Sh++,n.then(mv,mv),n}function mv(){if(--Sh===0&&Ql!==null){Ls!==null&&(Ls.status="fulfilled");var t=Ql;Ql=null,ks=0,Ls=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function x2(t,n){var i=[],s={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){s.status="fulfilled",s.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(s.status="rejected",s.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),s}var gv=D.S;D.S=function(t,n){Jy=Vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&b2(t,n),gv!==null&&gv(t,n)};var Yo=q(null);function Eh(){var t=Yo.current;return t!==null?t:on.pooledCache}function kc(t,n){n===null?ae(Yo,Yo.current):ae(Yo,n.pool)}function vv(){var t=Eh();return t===null?null:{parent:Ln._currentValue,pool:t}}var Us=Error(o(460)),_h=Error(o(474)),Lc=Error(o(542)),Uc={then:function(){}};function yv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bv(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(Sr,Sr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wv(t),t;default:if(typeof n.status=="string")n.then(Sr,Sr);else{if(t=on,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(s){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=s}},function(s){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wv(t),t}throw Xo=n,Us}}function Io(t){try{var n=t._init;return n(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Xo=i,Us):i}}var Xo=null;function xv(){if(Xo===null)throw Error(o(459));var t=Xo;return Xo=null,t}function wv(t){if(t===Us||t===Lc)throw Error(o(483))}var qs=null,Fl=0;function qc(t){var n=Fl;return Fl+=1,qs===null&&(qs=[]),bv(qs,t,n)}function Wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $c(t,n){throw n.$$typeof===x?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Sv(t){function n(ge,le){if(t){var be=ge.deletions;be===null?(ge.deletions=[le],ge.flags|=16):be.push(le)}}function i(ge,le){if(!t)return null;for(;le!==null;)n(ge,le),le=le.sibling;return null}function s(ge){for(var le=new Map;ge!==null;)ge.key!==null?le.set(ge.key,ge):le.set(ge.index,ge),ge=ge.sibling;return le}function h(ge,le){return ge=di(ge,le),ge.index=0,ge.sibling=null,ge}function v(ge,le,be){return ge.index=be,t?(be=ge.alternate,be!==null?(be=be.index,be<le?(ge.flags|=67108866,le):be):(ge.flags|=67108866,le)):(ge.flags|=1048576,le)}function _(ge){return t&&ge.alternate===null&&(ge.flags|=67108866),ge}function U(ge,le,be,Re){return le===null||le.tag!==6?(le=dh(be,ge.mode,Re),le.return=ge,le):(le=h(le,be),le.return=ge,le)}function ee(ge,le,be,Re){var ot=be.type;return ot===T?De(ge,le,be.props.children,Re,be.key):le!==null&&(le.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===P&&Io(ot)===le.type)?(le=h(le,be.props),Wl(le,be),le.return=ge,le):(le=jc(be.type,be.key,be.props,null,ge.mode,Re),Wl(le,be),le.return=ge,le)}function xe(ge,le,be,Re){return le===null||le.tag!==4||le.stateNode.containerInfo!==be.containerInfo||le.stateNode.implementation!==be.implementation?(le=hh(be,ge.mode,Re),le.return=ge,le):(le=h(le,be.children||[]),le.return=ge,le)}function De(ge,le,be,Re,ot){return le===null||le.tag!==7?(le=Uo(be,ge.mode,Re,ot),le.return=ge,le):(le=h(le,be),le.return=ge,le)}function Be(ge,le,be){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=dh(""+le,ge.mode,be),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return be=jc(le.type,le.key,le.props,null,ge.mode,be),Wl(be,le),be.return=ge,be;case C:return le=hh(le,ge.mode,be),le.return=ge,le;case P:return le=Io(le),Be(ge,le,be)}if(Y(le)||G(le))return le=Uo(le,ge.mode,be,null),le.return=ge,le;if(typeof le.then=="function")return Be(ge,qc(le),be);if(le.$$typeof===A)return Be(ge,Hc(ge,le),be);$c(ge,le)}return null}function Ee(ge,le,be,Re){var ot=le!==null?le.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ot!==null?null:U(ge,le,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case S:return be.key===ot?ee(ge,le,be,Re):null;case C:return be.key===ot?xe(ge,le,be,Re):null;case P:return be=Io(be),Ee(ge,le,be,Re)}if(Y(be)||G(be))return ot!==null?null:De(ge,le,be,Re,null);if(typeof be.then=="function")return Ee(ge,le,qc(be),Re);if(be.$$typeof===A)return Ee(ge,le,Hc(ge,be),Re);$c(ge,be)}return null}function Ne(ge,le,be,Re,ot){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return ge=ge.get(be)||null,U(le,ge,""+Re,ot);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case S:return ge=ge.get(Re.key===null?be:Re.key)||null,ee(le,ge,Re,ot);case C:return ge=ge.get(Re.key===null?be:Re.key)||null,xe(le,ge,Re,ot);case P:return Re=Io(Re),Ne(ge,le,be,Re,ot)}if(Y(Re)||G(Re))return ge=ge.get(be)||null,De(le,ge,Re,ot,null);if(typeof Re.then=="function")return Ne(ge,le,be,qc(Re),ot);if(Re.$$typeof===A)return Ne(ge,le,be,Hc(le,Re),ot);$c(le,Re)}return null}function We(ge,le,be,Re){for(var ot=null,Kt=null,et=le,Ot=le=0,Bt=null;et!==null&&Ot<be.length;Ot++){et.index>Ot?(Bt=et,et=null):Bt=et.sibling;var Gt=Ee(ge,et,be[Ot],Re);if(Gt===null){et===null&&(et=Bt);break}t&&et&&Gt.alternate===null&&n(ge,et),le=v(Gt,le,Ot),Kt===null?ot=Gt:Kt.sibling=Gt,Kt=Gt,et=Bt}if(Ot===be.length)return i(ge,et),Lt&&hi(ge,Ot),ot;if(et===null){for(;Ot<be.length;Ot++)et=Be(ge,be[Ot],Re),et!==null&&(le=v(et,le,Ot),Kt===null?ot=et:Kt.sibling=et,Kt=et);return Lt&&hi(ge,Ot),ot}for(et=s(et);Ot<be.length;Ot++)Bt=Ne(et,ge,Ot,be[Ot],Re),Bt!==null&&(t&&Bt.alternate!==null&&et.delete(Bt.key===null?Ot:Bt.key),le=v(Bt,le,Ot),Kt===null?ot=Bt:Kt.sibling=Bt,Kt=Bt);return t&&et.forEach(function(mo){return n(ge,mo)}),Lt&&hi(ge,Ot),ot}function ct(ge,le,be,Re){if(be==null)throw Error(o(151));for(var ot=null,Kt=null,et=le,Ot=le=0,Bt=null,Gt=be.next();et!==null&&!Gt.done;Ot++,Gt=be.next()){et.index>Ot?(Bt=et,et=null):Bt=et.sibling;var mo=Ee(ge,et,Gt.value,Re);if(mo===null){et===null&&(et=Bt);break}t&&et&&mo.alternate===null&&n(ge,et),le=v(mo,le,Ot),Kt===null?ot=mo:Kt.sibling=mo,Kt=mo,et=Bt}if(Gt.done)return i(ge,et),Lt&&hi(ge,Ot),ot;if(et===null){for(;!Gt.done;Ot++,Gt=be.next())Gt=Be(ge,Gt.value,Re),Gt!==null&&(le=v(Gt,le,Ot),Kt===null?ot=Gt:Kt.sibling=Gt,Kt=Gt);return Lt&&hi(ge,Ot),ot}for(et=s(et);!Gt.done;Ot++,Gt=be.next())Gt=Ne(et,ge,Ot,Gt.value,Re),Gt!==null&&(t&&Gt.alternate!==null&&et.delete(Gt.key===null?Ot:Gt.key),le=v(Gt,le,Ot),Kt===null?ot=Gt:Kt.sibling=Gt,Kt=Gt);return t&&et.forEach(function(A_){return n(ge,A_)}),Lt&&hi(ge,Ot),ot}function rn(ge,le,be,Re){if(typeof be=="object"&&be!==null&&be.type===T&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case S:e:{for(var ot=be.key;le!==null;){if(le.key===ot){if(ot=be.type,ot===T){if(le.tag===7){i(ge,le.sibling),Re=h(le,be.props.children),Re.return=ge,ge=Re;break e}}else if(le.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===P&&Io(ot)===le.type){i(ge,le.sibling),Re=h(le,be.props),Wl(Re,be),Re.return=ge,ge=Re;break e}i(ge,le);break}else n(ge,le);le=le.sibling}be.type===T?(Re=Uo(be.props.children,ge.mode,Re,be.key),Re.return=ge,ge=Re):(Re=jc(be.type,be.key,be.props,null,ge.mode,Re),Wl(Re,be),Re.return=ge,ge=Re)}return _(ge);case C:e:{for(ot=be.key;le!==null;){if(le.key===ot)if(le.tag===4&&le.stateNode.containerInfo===be.containerInfo&&le.stateNode.implementation===be.implementation){i(ge,le.sibling),Re=h(le,be.children||[]),Re.return=ge,ge=Re;break e}else{i(ge,le);break}else n(ge,le);le=le.sibling}Re=hh(be,ge.mode,Re),Re.return=ge,ge=Re}return _(ge);case P:return be=Io(be),rn(ge,le,be,Re)}if(Y(be))return We(ge,le,be,Re);if(G(be)){if(ot=G(be),typeof ot!="function")throw Error(o(150));return be=ot.call(be),ct(ge,le,be,Re)}if(typeof be.then=="function")return rn(ge,le,qc(be),Re);if(be.$$typeof===A)return rn(ge,le,Hc(ge,be),Re);$c(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,le!==null&&le.tag===6?(i(ge,le.sibling),Re=h(le,be),Re.return=ge,ge=Re):(i(ge,le),Re=dh(be,ge.mode,Re),Re.return=ge,ge=Re),_(ge)):i(ge,le)}return function(ge,le,be,Re){try{Fl=0;var ot=rn(ge,le,be,Re);return qs=null,ot}catch(et){if(et===Us||et===Lc)throw et;var Kt=Hr(29,et,null,ge.mode);return Kt.lanes=Re,Kt.return=ge,Kt}finally{}}}var Ko=Sv(!0),Ev=Sv(!1),Fi=!1;function Ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,n,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Zt&2)!==0){var h=s.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),s.pending=n,n=kn(t),Lo(t,null,i),n}return dt(t,s,n,i),kn(t)}function Jl(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=t.pendingLanes,i|=s,n.lanes=i,lt(t,i)}}function Th(t,n){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var h=null,v=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};v===null?h=v=_:v=v.next=_,i=i.next}while(i!==null);v===null?h=v=n:v=v.next=n}else h=v=n;i={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var Oh=!1;function eu(){if(Oh){var t=Ls;if(t!==null)throw t}}function tu(t,n,i,s){Oh=!1;var h=t.updateQueue;Fi=!1;var v=h.firstBaseUpdate,_=h.lastBaseUpdate,U=h.shared.pending;if(U!==null){h.shared.pending=null;var ee=U,xe=ee.next;ee.next=null,_===null?v=xe:_.next=xe,_=ee;var De=t.alternate;De!==null&&(De=De.updateQueue,U=De.lastBaseUpdate,U!==_&&(U===null?De.firstBaseUpdate=xe:U.next=xe,De.lastBaseUpdate=ee))}if(v!==null){var Be=h.baseState;_=0,De=xe=ee=null,U=v;do{var Ee=U.lane&-536870913,Ne=Ee!==U.lane;if(Ne?(zt&Ee)===Ee:(s&Ee)===Ee){Ee!==0&&Ee===ks&&(Oh=!0),De!==null&&(De=De.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var We=t,ct=U;Ee=n;var rn=i;switch(ct.tag){case 1:if(We=ct.payload,typeof We=="function"){Be=We.call(rn,Be,Ee);break e}Be=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=ct.payload,Ee=typeof We=="function"?We.call(rn,Be,Ee):We,Ee==null)break e;Be=y({},Be,Ee);break e;case 2:Fi=!0}}Ee=U.callback,Ee!==null&&(t.flags|=64,Ne&&(t.flags|=8192),Ne=h.callbacks,Ne===null?h.callbacks=[Ee]:Ne.push(Ee))}else Ne={lane:Ee,tag:U.tag,payload:U.payload,callback:U.callback,next:null},De===null?(xe=De=Ne,ee=Be):De=De.next=Ne,_|=Ee;if(U=U.next,U===null){if(U=h.shared.pending,U===null)break;Ne=U,U=Ne.next,Ne.next=null,h.lastBaseUpdate=Ne,h.shared.pending=null}}while(!0);De===null&&(ee=Be),h.baseState=ee,h.firstBaseUpdate=xe,h.lastBaseUpdate=De,v===null&&(h.shared.lanes=0),ao|=_,t.lanes=_,t.memoizedState=Be}}function _v(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function Cv(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)_v(i[t],n)}var $s=q(null),Vc=q(0);function Nv(t,n){t=_i,ae(Vc,t),ae($s,n),_i=t|n.baseLanes}function Mh(){ae(Vc,_i),ae($s,$s.current)}function Dh(){_i=Vc.current,Z($s),Z(Vc)}var kr=q(null),ra=null;function eo(t){var n=t.alternate;ae(Dn,Dn.current&1),ae(kr,t),ra===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(ra=t)}function Ah(t){ae(Dn,Dn.current),ae(kr,t),ra===null&&(ra=t)}function Tv(t){t.tag===22?(ae(Dn,Dn.current),ae(kr,t),ra===null&&(ra=t)):to()}function to(){ae(Dn,Dn.current),ae(kr,kr.current)}function Lr(t){Z(kr),ra===t&&(ra=null),Z(Dn)}var Dn=q(0);function Yc(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||kp(i)||Lp(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gi=0,Ct=null,tn=null,Un=null,Ic=!1,Vs=!1,Go=!1,Xc=0,nu=0,Ys=null,w2=0;function On(){throw Error(o(321))}function Rh(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!dr(t[i],n[i]))return!1;return!0}function jh(t,n,i,s,h,v){return gi=v,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=t===null||t.memoizedState===null?cy:Ph,Go=!1,v=i(s,h),Go=!1,Vs&&(v=Mv(n,i,s,h)),Ov(t),v}function Ov(t){D.H=iu;var n=tn!==null&&tn.next!==null;if(gi=0,Un=tn=Ct=null,Ic=!1,nu=0,Ys=null,n)throw Error(o(300));t===null||qn||(t=t.dependencies,t!==null&&Bc(t)&&(qn=!0))}function Mv(t,n,i,s){Ct=t;var h=0;do{if(Vs&&(Ys=null),nu=0,Vs=!1,25<=h)throw Error(o(301));if(h+=1,Un=tn=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}D.H=fy,v=n(i,s)}while(Vs);return v}function S2(){var t=D.H,n=t.useState()[0];return n=typeof n.then=="function"?ru(n):n,t=t.useState()[0],(tn!==null?tn.memoizedState:null)!==t&&(Ct.flags|=1024),n}function zh(){var t=Xc!==0;return Xc=0,t}function Bh(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function Hh(t){if(Ic){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ic=!1}gi=0,Un=tn=Ct=null,Vs=!1,nu=Xc=0,Ys=null}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Ct.memoizedState=Un=t:Un=Un.next=t,Un}function An(){if(tn===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var n=Un===null?Ct.memoizedState:Un.next;if(n!==null)Un=n,tn=t;else{if(t===null)throw Ct.alternate===null?Error(o(467)):Error(o(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},Un===null?Ct.memoizedState=Un=t:Un=Un.next=t}return Un}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(t){var n=nu;return nu+=1,Ys===null&&(Ys=[]),t=bv(Ys,t,n),n=Ct,(Un===null?n.memoizedState:Un.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?cy:Ph),t}function Gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ru(t);if(t.$$typeof===A)return ar(t)}throw Error(o(438,String(t)))}function kh(t){var n=null,i=Ct.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=Ct.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Kc(),Ct.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),s=0;s<t;s++)i[s]=fe;return n.index++,i}function vi(t,n){return typeof n=="function"?n(t):n}function Pc(t){var n=An();return Lh(n,tn,t)}function Lh(t,n,i){var s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=i;var h=t.baseQueue,v=s.pending;if(v!==null){if(h!==null){var _=h.next;h.next=v.next,v.next=_}n.baseQueue=h=v,s.pending=null}if(v=t.baseState,h===null)t.memoizedState=v;else{n=h.next;var U=_=null,ee=null,xe=n,De=!1;do{var Be=xe.lane&-536870913;if(Be!==xe.lane?(zt&Be)===Be:(gi&Be)===Be){var Ee=xe.revertLane;if(Ee===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Be===ks&&(De=!0);else if((gi&Ee)===Ee){xe=xe.next,Ee===ks&&(De=!0);continue}else Be={lane:0,revertLane:xe.revertLane,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ee===null?(U=ee=Be,_=v):ee=ee.next=Be,Ct.lanes|=Ee,ao|=Ee;Be=xe.action,Go&&i(v,Be),v=xe.hasEagerState?xe.eagerState:i(v,Be)}else Ee={lane:Be,revertLane:xe.revertLane,gesture:xe.gesture,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ee===null?(U=ee=Ee,_=v):ee=ee.next=Ee,Ct.lanes|=Be,ao|=Be;xe=xe.next}while(xe!==null&&xe!==n);if(ee===null?_=v:ee.next=U,!dr(v,t.memoizedState)&&(qn=!0,De&&(i=Ls,i!==null)))throw i;t.memoizedState=v,t.baseState=_,t.baseQueue=ee,s.lastRenderedState=v}return h===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Uh(t){var n=An(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var s=i.dispatch,h=i.pending,v=n.memoizedState;if(h!==null){i.pending=null;var _=h=h.next;do v=t(v,_.action),_=_.next;while(_!==h);dr(v,n.memoizedState)||(qn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),i.lastRenderedState=v}return[v,s]}function Dv(t,n,i){var s=Ct,h=An(),v=Lt;if(v){if(i===void 0)throw Error(o(407));i=i()}else i=n();var _=!dr((tn||h).memoizedState,i);if(_&&(h.memoizedState=i,qn=!0),h=h.queue,Vh(jv.bind(null,s,h,t),[t]),h.getSnapshot!==n||_||Un!==null&&Un.memoizedState.tag&1){if(s.flags|=2048,Is(9,{destroy:void 0},Rv.bind(null,s,h,i,n),null),on===null)throw Error(o(349));v||(gi&127)!==0||Av(s,n,i)}return i}function Av(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Ct.updateQueue,n===null?(n=Kc(),Ct.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Rv(t,n,i,s){n.value=i,n.getSnapshot=s,zv(n)&&Bv(t)}function jv(t,n,i){return i(function(){zv(n)&&Bv(t)})}function zv(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!dr(t,i)}catch{return!0}}function Bv(t){var n=bn(t,2);n!==null&&Or(n,t,2)}function qh(t){var n=yr();if(typeof t=="function"){var i=t;if(t=i(),Go){qe(!0);try{i()}finally{qe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function Hv(t,n,i,s){return t.baseState=i,Lh(t,tn,typeof s=="function"?s:vi)}function E2(t,n,i,s,h){if(Fc(t))throw Error(o(485));if(t=n.action,t!==null){var v={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};D.T!==null?i(!0):v.isTransition=!1,s(v),i=n.pending,i===null?(v.next=n.pending=v,kv(n,v)):(v.next=i.next,n.pending=i.next=v)}}function kv(t,n){var i=n.action,s=n.payload,h=t.state;if(n.isTransition){var v=D.T,_={};D.T=_;try{var U=i(h,s),ee=D.S;ee!==null&&ee(_,U),Lv(t,n,U)}catch(xe){$h(t,n,xe)}finally{v!==null&&_.types!==null&&(v.types=_.types),D.T=v}}else try{v=i(h,s),Lv(t,n,v)}catch(xe){$h(t,n,xe)}}function Lv(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Uv(t,n,s)},function(s){return $h(t,n,s)}):Uv(t,n,i)}function Uv(t,n,i){n.status="fulfilled",n.value=i,qv(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,kv(t,i)))}function $h(t,n,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,qv(n),n=n.next;while(n!==s)}t.action=null}function qv(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $v(t,n){return n}function Vv(t,n){if(Lt){var i=on.formState;if(i!==null){e:{var s=Ct;if(Lt){if(dn){t:{for(var h=dn,v=na;h.nodeType!==8;){if(!v){h=null;break t}if(h=aa(h.nextSibling),h===null){h=null;break t}}v=h.data,h=v==="F!"||v==="F"?h:null}if(h){dn=aa(h.nextSibling),s=h.data==="F!";break e}}Zi(s)}s=!1}s&&(n=i[0])}}return i=yr(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:n},i.queue=s,i=sy.bind(null,Ct,s),s.dispatch=i,s=qh(!1),v=Gh.bind(null,Ct,!1,s.queue),s=yr(),h={state:n,dispatch:null,action:t,pending:null},s.queue=h,i=E2.bind(null,Ct,h,v,i),h.dispatch=i,s.memoizedState=t,[n,i,!1]}function Yv(t){var n=An();return Iv(n,tn,t)}function Iv(t,n,i){if(n=Lh(t,n,$v)[0],t=Pc(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=ru(n)}catch(_){throw _===Us?Lc:_}else s=n;n=An();var h=n.queue,v=h.dispatch;return i!==n.memoizedState&&(Ct.flags|=2048,Is(9,{destroy:void 0},_2.bind(null,h,i),null)),[s,v,t]}function _2(t,n){t.action=n}function Xv(t){var n=An(),i=tn;if(i!==null)return Iv(n,i,t);An(),n=n.memoizedState,i=An();var s=i.queue.dispatch;return i.memoizedState=t,[n,s,!1]}function Is(t,n,i,s){return t={tag:t,create:i,deps:s,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Kc(),Ct.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,n.lastEffect=t),t}function Kv(){return An().memoizedState}function Zc(t,n,i,s){var h=yr();Ct.flags|=t,h.memoizedState=Is(1|n,{destroy:void 0},i,s===void 0?null:s)}function Qc(t,n,i,s){var h=An();s=s===void 0?null:s;var v=h.memoizedState.inst;tn!==null&&s!==null&&Rh(s,tn.memoizedState.deps)?h.memoizedState=Is(n,v,i,s):(Ct.flags|=t,h.memoizedState=Is(1|n,v,i,s))}function Gv(t,n){Zc(8390656,8,t,n)}function Vh(t,n){Qc(2048,8,t,n)}function C2(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Kc(),Ct.updateQueue=n,n.events=[t];else{var i=n.events;i===null?n.events=[t]:i.push(t)}}function Pv(t){var n=An().memoizedState;return C2({ref:n,nextImpl:t}),function(){if((Zt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Zv(t,n){return Qc(4,2,t,n)}function Qv(t,n){return Qc(4,4,t,n)}function Fv(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wv(t,n,i){i=i!=null?i.concat([t]):null,Qc(4,4,Fv.bind(null,n,t),i)}function Yh(){}function Jv(t,n){var i=An();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&Rh(n,s[1])?s[0]:(i.memoizedState=[t,n],t)}function ey(t,n){var i=An();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&Rh(n,s[1]))return s[0];if(s=t(),Go){qe(!0);try{t()}finally{qe(!1)}}return i.memoizedState=[s,n],s}function Ih(t,n,i){return i===void 0||(gi&1073741824)!==0&&(zt&261930)===0?t.memoizedState=n:(t.memoizedState=i,t=t0(),Ct.lanes|=t,ao|=t,i)}function ty(t,n,i,s){return dr(i,n)?i:$s.current!==null?(t=Ih(t,i,s),dr(t,n)||(qn=!0),t):(gi&42)===0||(gi&1073741824)!==0&&(zt&261930)===0?(qn=!0,t.memoizedState=i):(t=t0(),Ct.lanes|=t,ao|=t,n)}function ny(t,n,i,s,h){var v=M.p;M.p=v!==0&&8>v?v:8;var _=D.T,U={};D.T=U,Gh(t,!1,n,i);try{var ee=h(),xe=D.S;if(xe!==null&&xe(U,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var De=x2(ee,s);au(t,n,De,$r(t))}else au(t,n,s,$r(t))}catch(Be){au(t,n,{then:function(){},status:"rejected",reason:Be},$r())}finally{M.p=v,_!==null&&U.types!==null&&(_.types=U.types),D.T=_}}function N2(){}function Xh(t,n,i,s){if(t.tag!==5)throw Error(o(476));var h=ry(t).queue;ny(t,h,n,I,i===null?N2:function(){return ay(t),i(s)})}function ry(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:I},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ay(t){var n=ry(t);n.next===null&&(n=t.alternate.memoizedState),au(t,n.next.queue,{},$r())}function Kh(){return ar(wu)}function iy(){return An().memoizedState}function oy(){return An().memoizedState}function T2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=$r();t=Wi(i);var s=Ji(n,t,i);s!==null&&(Or(s,n,i),Jl(s,n,i)),n={cache:wh()},t.payload=n;return}n=n.return}}function O2(t,n,i){var s=$r();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fc(t)?ly(n,i):(i=Hn(t,n,i,s),i!==null&&(Or(i,t,s),uy(i,n,s)))}function sy(t,n,i){var s=$r();au(t,n,i,s)}function au(t,n,i,s){var h={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))ly(n,h);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var _=n.lastRenderedState,U=v(_,i);if(h.hasEagerState=!0,h.eagerState=U,dr(U,_))return dt(t,n,h,0),on===null&&er(),!1}catch{}finally{}if(i=Hn(t,n,h,s),i!==null)return Or(i,t,s),uy(i,n,s),!0}return!1}function Gh(t,n,i,s){if(s={lane:2,revertLane:Cp(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(n)throw Error(o(479))}else n=Hn(t,i,s,2),n!==null&&Or(n,t,2)}function Fc(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function ly(t,n){Vs=Ic=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function uy(t,n,i){if((i&4194048)!==0){var s=n.lanes;s&=t.pendingLanes,i|=s,n.lanes=i,lt(t,i)}}var iu={readContext:ar,use:Gc,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};iu.useEffectEvent=On;var cy={readContext:ar,use:Gc,useCallback:function(t,n){return yr().memoizedState=[t,n===void 0?null:n],t},useContext:ar,useEffect:Gv,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,Zc(4194308,4,Fv.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Zc(4194308,4,t,n)},useInsertionEffect:function(t,n){Zc(4,2,t,n)},useMemo:function(t,n){var i=yr();n=n===void 0?null:n;var s=t();if(Go){qe(!0);try{t()}finally{qe(!1)}}return i.memoizedState=[s,n],s},useReducer:function(t,n,i){var s=yr();if(i!==void 0){var h=i(n);if(Go){qe(!0);try{i(n)}finally{qe(!1)}}}else h=n;return s.memoizedState=s.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},s.queue=t,t=t.dispatch=O2.bind(null,Ct,t),[s.memoizedState,t]},useRef:function(t){var n=yr();return t={current:t},n.memoizedState=t},useState:function(t){t=qh(t);var n=t.queue,i=sy.bind(null,Ct,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:Yh,useDeferredValue:function(t,n){var i=yr();return Ih(i,t,n)},useTransition:function(){var t=qh(!1);return t=ny.bind(null,Ct,t.queue,!0,!1),yr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var s=Ct,h=yr();if(Lt){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),on===null)throw Error(o(349));(zt&127)!==0||Av(s,n,i)}h.memoizedState=i;var v={value:i,getSnapshot:n};return h.queue=v,Gv(jv.bind(null,s,v,t),[t]),s.flags|=2048,Is(9,{destroy:void 0},Rv.bind(null,s,v,i,n),null),i},useId:function(){var t=yr(),n=on.identifierPrefix;if(Lt){var i=Ua,s=La;i=(s&~(1<<32-Me(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Xc++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=w2++,n="_"+n+"r_"+i.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Kh,useFormState:Vv,useActionState:Vv,useOptimistic:function(t){var n=yr();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Gh.bind(null,Ct,!0,i),i.dispatch=n,[t,n]},useMemoCache:kh,useCacheRefresh:function(){return yr().memoizedState=T2.bind(null,Ct)},useEffectEvent:function(t){var n=yr(),i={impl:t};return n.memoizedState=i,function(){if((Zt&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}},Ph={readContext:ar,use:Gc,useCallback:Jv,useContext:ar,useEffect:Vh,useImperativeHandle:Wv,useInsertionEffect:Zv,useLayoutEffect:Qv,useMemo:ey,useReducer:Pc,useRef:Kv,useState:function(){return Pc(vi)},useDebugValue:Yh,useDeferredValue:function(t,n){var i=An();return ty(i,tn.memoizedState,t,n)},useTransition:function(){var t=Pc(vi)[0],n=An().memoizedState;return[typeof t=="boolean"?t:ru(t),n]},useSyncExternalStore:Dv,useId:iy,useHostTransitionStatus:Kh,useFormState:Yv,useActionState:Yv,useOptimistic:function(t,n){var i=An();return Hv(i,tn,t,n)},useMemoCache:kh,useCacheRefresh:oy};Ph.useEffectEvent=Pv;var fy={readContext:ar,use:Gc,useCallback:Jv,useContext:ar,useEffect:Vh,useImperativeHandle:Wv,useInsertionEffect:Zv,useLayoutEffect:Qv,useMemo:ey,useReducer:Uh,useRef:Kv,useState:function(){return Uh(vi)},useDebugValue:Yh,useDeferredValue:function(t,n){var i=An();return tn===null?Ih(i,t,n):ty(i,tn.memoizedState,t,n)},useTransition:function(){var t=Uh(vi)[0],n=An().memoizedState;return[typeof t=="boolean"?t:ru(t),n]},useSyncExternalStore:Dv,useId:iy,useHostTransitionStatus:Kh,useFormState:Xv,useActionState:Xv,useOptimistic:function(t,n){var i=An();return tn!==null?Hv(i,tn,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:kh,useCacheRefresh:oy};fy.useEffectEvent=Pv;function Zh(t,n,i,s){n=t.memoizedState,i=i(s,n),i=i==null?n:y({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Qh={enqueueSetState:function(t,n,i){t=t._reactInternals;var s=$r(),h=Wi(s);h.payload=n,i!=null&&(h.callback=i),n=Ji(t,h,s),n!==null&&(Or(n,t,s),Jl(n,t,s))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var s=$r(),h=Wi(s);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Ji(t,h,s),n!==null&&(Or(n,t,s),Jl(n,t,s))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=$r(),s=Wi(i);s.tag=2,n!=null&&(s.callback=n),n=Ji(t,s,i),n!==null&&(Or(n,t,i),Jl(n,t,i))}};function dy(t,n,i,s,h,v,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,v,_):n.prototype&&n.prototype.isPureReactComponent?!f(i,s)||!f(h,v):!0}function hy(t,n,i,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==t&&Qh.enqueueReplaceState(n,n.state,null)}function Po(t,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(t=t.defaultProps){i===n&&(i=y({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function py(t){Pe(t)}function my(t){console.error(t)}function gy(t){Pe(t)}function Wc(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function vy(t,n,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fh(t,n,i){return i=Wi(i),i.tag=3,i.payload={element:null},i.callback=function(){Wc(t,n)},i}function yy(t){return t=Wi(t),t.tag=3,t}function by(t,n,i,s){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var v=s.value;t.payload=function(){return h(v)},t.callback=function(){vy(n,i,s)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){vy(n,i,s),typeof h!="function"&&(io===null?io=new Set([this]):io.add(this));var U=s.stack;this.componentDidCatch(s.value,{componentStack:U!==null?U:""})})}function M2(t,n,i,s,h){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&Hs(n,i,h,!0),i=kr.current,i!==null){switch(i.tag){case 31:case 13:return ra===null?ff():i.alternate===null&&Mn===0&&(Mn=3),i.flags&=-257,i.flags|=65536,i.lanes=h,s===Uc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Sp(t,s,h)),!1;case 22:return i.flags|=65536,s===Uc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Sp(t,s,h)),!1}throw Error(o(435,i.tag))}return Sp(t,s,h),ff(),!1}if(Lt)return n=kr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,s!==gh&&(t=Error(o(422),{cause:s}),Pl(Jr(t,i)))):(s!==gh&&(n=Error(o(423),{cause:s}),Pl(Jr(n,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,s=Jr(s,i),h=Fh(t.stateNode,s,h),Th(t,h),Mn!==4&&(Mn=2)),!1;var v=Error(o(520),{cause:s});if(v=Jr(v,i),hu===null?hu=[v]:hu.push(v),Mn!==4&&(Mn=2),n===null)return!0;s=Jr(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Fh(i.stateNode,s,t),Th(i,t),!1;case 1:if(n=i.type,v=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(io===null||!io.has(v))))return i.flags|=65536,h&=-h,i.lanes|=h,h=yy(h),by(h,t,i,s),Th(i,h),!1}i=i.return}while(i!==null);return!1}var Wh=Error(o(461)),qn=!1;function ir(t,n,i,s){n.child=t===null?Ev(n,null,i,s):Ko(n,t.child,i,s)}function xy(t,n,i,s,h){i=i.render;var v=n.ref;if("ref"in s){var _={};for(var U in s)U!=="ref"&&(_[U]=s[U])}else _=s;return Vo(n),s=jh(t,n,i,_,v,h),U=zh(),t!==null&&!qn?(Bh(t,n,h),yi(t,n,h)):(Lt&&U&&ph(n),n.flags|=1,ir(t,n,s,h),n.child)}function wy(t,n,i,s,h){if(t===null){var v=i.type;return typeof v=="function"&&!fh(v)&&v.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=v,Sy(t,n,v,s,h)):(t=jc(i.type,null,s,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(v=t.child,!op(t,h)){var _=v.memoizedProps;if(i=i.compare,i=i!==null?i:f,i(_,s)&&t.ref===n.ref)return yi(t,n,h)}return n.flags|=1,t=di(v,s),t.ref=n.ref,t.return=n,n.child=t}function Sy(t,n,i,s,h){if(t!==null){var v=t.memoizedProps;if(f(v,s)&&t.ref===n.ref)if(qn=!1,n.pendingProps=s=v,op(t,h))(t.flags&131072)!==0&&(qn=!0);else return n.lanes=t.lanes,yi(t,n,h)}return Jh(t,n,i,s,h)}function Ey(t,n,i,s){var h=s.children,v=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(v=v!==null?v.baseLanes|i:i,t!==null){for(s=n.child=t.child,h=0;s!==null;)h=h|s.lanes|s.childLanes,s=s.sibling;s=h&~v}else s=0,n.child=null;return _y(t,n,v,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&kc(n,v!==null?v.cachePool:null),v!==null?Nv(n,v):Mh(),Tv(n);else return s=n.lanes=536870912,_y(t,n,v!==null?v.baseLanes|i:i,i,s)}else v!==null?(kc(n,v.cachePool),Nv(n,v),to(),n.memoizedState=null):(t!==null&&kc(n,null),Mh(),to());return ir(t,n,h,i),n.child}function ou(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _y(t,n,i,s,h){var v=Eh();return v=v===null?null:{parent:Ln._currentValue,pool:v},n.memoizedState={baseLanes:i,cachePool:v},t!==null&&kc(n,null),Mh(),Tv(n),t!==null&&Hs(t,n,s,!0),n.childLanes=h,null}function Jc(t,n){return n=tf({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Cy(t,n,i){return Ko(n,t.child,null,i),t=Jc(n,n.pendingProps),t.flags|=2,Lr(n),n.memoizedState=null,t}function D2(t,n,i){var s=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Lt){if(s.mode==="hidden")return t=Jc(n,s),n.lanes=536870912,ou(null,t);if(Ah(n),(t=dn)?(t=k0(t,na),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gi!==null?{id:La,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},i=lv(t),i.return=n,n.child=i,rr=n,dn=null)):t=null,t===null)throw Zi(n);return n.lanes=536870912,null}return Jc(n,s)}var v=t.memoizedState;if(v!==null){var _=v.dehydrated;if(Ah(n),h)if(n.flags&256)n.flags&=-257,n=Cy(t,n,i);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(o(558));else if(qn||Hs(t,n,i,!1),h=(i&t.childLanes)!==0,qn||h){if(s=on,s!==null&&(_=ut(s,i),_!==0&&_!==v.retryLane))throw v.retryLane=_,bn(t,_),Or(s,t,_),Wh;ff(),n=Cy(t,n,i)}else t=v.treeContext,dn=aa(_.nextSibling),rr=n,Lt=!0,Pi=null,na=!1,t!==null&&fv(n,t),n=Jc(n,s),n.flags|=4096;return n}return t=di(t.child,{mode:s.mode,children:s.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ef(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(o(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function Jh(t,n,i,s,h){return Vo(n),i=jh(t,n,i,s,void 0,h),s=zh(),t!==null&&!qn?(Bh(t,n,h),yi(t,n,h)):(Lt&&s&&ph(n),n.flags|=1,ir(t,n,i,h),n.child)}function Ny(t,n,i,s,h,v){return Vo(n),n.updateQueue=null,i=Mv(n,s,i,h),Ov(t),s=zh(),t!==null&&!qn?(Bh(t,n,v),yi(t,n,v)):(Lt&&s&&ph(n),n.flags|=1,ir(t,n,i,v),n.child)}function Ty(t,n,i,s,h){if(Vo(n),n.stateNode===null){var v=Er,_=i.contextType;typeof _=="object"&&_!==null&&(v=ar(_)),v=new i(s,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qh,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=s,v.state=n.memoizedState,v.refs={},Ch(n),_=i.contextType,v.context=typeof _=="object"&&_!==null?ar(_):Er,v.state=n.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(Zh(n,i,_,s),v.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&Qh.enqueueReplaceState(v,v.state,null),tu(n,s,v,h),eu(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(t===null){v=n.stateNode;var U=n.memoizedProps,ee=Po(i,U);v.props=ee;var xe=v.context,De=i.contextType;_=Er,typeof De=="object"&&De!==null&&(_=ar(De));var Be=i.getDerivedStateFromProps;De=typeof Be=="function"||typeof v.getSnapshotBeforeUpdate=="function",U=n.pendingProps!==U,De||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(U||xe!==_)&&hy(n,v,s,_),Fi=!1;var Ee=n.memoizedState;v.state=Ee,tu(n,s,v,h),eu(),xe=n.memoizedState,U||Ee!==xe||Fi?(typeof Be=="function"&&(Zh(n,i,Be,s),xe=n.memoizedState),(ee=Fi||dy(n,i,ee,s,Ee,xe,_))?(De||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=xe),v.props=s,v.state=xe,v.context=_,s=ee):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{v=n.stateNode,Nh(t,n),_=n.memoizedProps,De=Po(i,_),v.props=De,Be=n.pendingProps,Ee=v.context,xe=i.contextType,ee=Er,typeof xe=="object"&&xe!==null&&(ee=ar(xe)),U=i.getDerivedStateFromProps,(xe=typeof U=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==Be||Ee!==ee)&&hy(n,v,s,ee),Fi=!1,Ee=n.memoizedState,v.state=Ee,tu(n,s,v,h),eu();var Ne=n.memoizedState;_!==Be||Ee!==Ne||Fi||t!==null&&t.dependencies!==null&&Bc(t.dependencies)?(typeof U=="function"&&(Zh(n,i,U,s),Ne=n.memoizedState),(De=Fi||dy(n,i,De,s,Ee,Ne,ee)||t!==null&&t.dependencies!==null&&Bc(t.dependencies))?(xe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(s,Ne,ee),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(s,Ne,ee)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===t.memoizedProps&&Ee===t.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Ee===t.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=Ne),v.props=s,v.state=Ne,v.context=ee,s=De):(typeof v.componentDidUpdate!="function"||_===t.memoizedProps&&Ee===t.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Ee===t.memoizedState||(n.flags|=1024),s=!1)}return v=s,ef(t,n),s=(n.flags&128)!==0,v||s?(v=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,t!==null&&s?(n.child=Ko(n,t.child,null,h),n.child=Ko(n,null,i,h)):ir(t,n,i,h),n.memoizedState=v.state,t=n.child):t=yi(t,n,h),t}function Oy(t,n,i,s){return qo(),n.flags|=256,ir(t,n,i,s),n.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(t){return{baseLanes:t,cachePool:vv()}}function np(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=qr),t}function My(t,n,i){var s=n.pendingProps,h=!1,v=(n.flags&128)!==0,_;if((_=v)||(_=t!==null&&t.memoizedState===null?!1:(Dn.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(h?eo(n):to(),(t=dn)?(t=k0(t,na),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gi!==null?{id:La,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},i=lv(t),i.return=n,n.child=i,rr=n,dn=null)):t=null,t===null)throw Zi(n);return Lp(t)?n.lanes=32:n.lanes=536870912,null}var U=s.children;return s=s.fallback,h?(to(),h=n.mode,U=tf({mode:"hidden",children:U},h),s=Uo(s,h,i,null),U.return=n,s.return=n,U.sibling=s,n.child=U,s=n.child,s.memoizedState=tp(i),s.childLanes=np(t,_,i),n.memoizedState=ep,ou(null,s)):(eo(n),rp(n,U))}var ee=t.memoizedState;if(ee!==null&&(U=ee.dehydrated,U!==null)){if(v)n.flags&256?(eo(n),n.flags&=-257,n=ap(t,n,i)):n.memoizedState!==null?(to(),n.child=t.child,n.flags|=128,n=null):(to(),U=s.fallback,h=n.mode,s=tf({mode:"visible",children:s.children},h),U=Uo(U,h,i,null),U.flags|=2,s.return=n,U.return=n,s.sibling=U,n.child=s,Ko(n,t.child,null,i),s=n.child,s.memoizedState=tp(i),s.childLanes=np(t,_,i),n.memoizedState=ep,n=ou(null,s));else if(eo(n),Lp(U)){if(_=U.nextSibling&&U.nextSibling.dataset,_)var xe=_.dgst;_=xe,s=Error(o(419)),s.stack="",s.digest=_,Pl({value:s,source:null,stack:null}),n=ap(t,n,i)}else if(qn||Hs(t,n,i,!1),_=(i&t.childLanes)!==0,qn||_){if(_=on,_!==null&&(s=ut(_,i),s!==0&&s!==ee.retryLane))throw ee.retryLane=s,bn(t,s),Or(_,t,s),Wh;kp(U)||ff(),n=ap(t,n,i)}else kp(U)?(n.flags|=192,n.child=t.child,n=null):(t=ee.treeContext,dn=aa(U.nextSibling),rr=n,Lt=!0,Pi=null,na=!1,t!==null&&fv(n,t),n=rp(n,s.children),n.flags|=4096);return n}return h?(to(),U=s.fallback,h=n.mode,ee=t.child,xe=ee.sibling,s=di(ee,{mode:"hidden",children:s.children}),s.subtreeFlags=ee.subtreeFlags&65011712,xe!==null?U=di(xe,U):(U=Uo(U,h,i,null),U.flags|=2),U.return=n,s.return=n,s.sibling=U,n.child=s,ou(null,s),s=n.child,U=t.child.memoizedState,U===null?U=tp(i):(h=U.cachePool,h!==null?(ee=Ln._currentValue,h=h.parent!==ee?{parent:ee,pool:ee}:h):h=vv(),U={baseLanes:U.baseLanes|i,cachePool:h}),s.memoizedState=U,s.childLanes=np(t,_,i),n.memoizedState=ep,ou(t.child,s)):(eo(n),i=t.child,t=i.sibling,i=di(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=i,n.memoizedState=null,i)}function rp(t,n){return n=tf({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tf(t,n){return t=Hr(22,t,null,n),t.lanes=0,t}function ap(t,n,i){return Ko(n,t.child,null,i),t=rp(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dy(t,n,i){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n),bh(t.return,n,i)}function ip(t,n,i,s,h,v){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:h,treeForkCount:v}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=s,_.tail=i,_.tailMode=h,_.treeForkCount=v)}function Ay(t,n,i){var s=n.pendingProps,h=s.revealOrder,v=s.tail;s=s.children;var _=Dn.current,U=(_&2)!==0;if(U?(_=_&1|2,n.flags|=128):_&=1,ae(Dn,_),ir(t,n,s,i),s=Lt?Gl:0,!U&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,i,n);else if(t.tag===19)Dy(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=n.child,h=null;i!==null;)t=i.alternate,t!==null&&Yc(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),ip(n,!1,h,i,v,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yc(t)===null){n.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}ip(n,!0,i,null,v,s);break;case"together":ip(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function yi(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ao|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(Hs(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,i=di(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=di(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function op(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bc(t)))}function A2(t,n,i){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Qi(n,Ln,t.memoizedState.cache),qo();break;case 27:case 5:Ge(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ah(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(eo(n),n.flags|=128,null):(i&n.child.childLanes)!==0?My(t,n,i):(eo(n),t=yi(t,n,i),t!==null?t.sibling:null);eo(n);break;case 19:var h=(t.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(Hs(t,n,i,!1),s=(i&n.childLanes)!==0),h){if(s)return Ay(t,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Dn,Dn.current),s)break;return null;case 22:return n.lanes=0,Ey(t,n,i,n.pendingProps);case 24:Qi(n,Ln,t.memoizedState.cache)}return yi(t,n,i)}function Ry(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)qn=!0;else{if(!op(t,i)&&(n.flags&128)===0)return qn=!1,A2(t,n,i);qn=(t.flags&131072)!==0}else qn=!1,Lt&&(n.flags&1048576)!==0&&cv(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(t=Io(n.elementType),n.type=t,typeof t=="function")fh(t)?(s=Po(t,s),n.tag=1,n=Ty(null,n,t,s,i)):(n.tag=0,n=Jh(null,n,t,s,i));else{if(t!=null){var h=t.$$typeof;if(h===N){n.tag=11,n=xy(null,n,t,s,i);break e}else if(h===$){n.tag=14,n=wy(null,n,t,s,i);break e}}throw n=k(t)||t,Error(o(306,n,""))}}return n;case 0:return Jh(t,n,n.type,n.pendingProps,i);case 1:return s=n.type,h=Po(s,n.pendingProps),Ty(t,n,s,h,i);case 3:e:{if(Te(n,n.stateNode.containerInfo),t===null)throw Error(o(387));s=n.pendingProps;var v=n.memoizedState;h=v.element,Nh(t,n),tu(n,s,null,i);var _=n.memoizedState;if(s=_.cache,Qi(n,Ln,s),s!==v.cache&&xh(n,[Ln],i,!0),eu(),s=_.element,v.isDehydrated)if(v={element:s,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=Oy(t,n,s,i);break e}else if(s!==h){h=Jr(Error(o(424)),n),Pl(h),n=Oy(t,n,s,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dn=aa(t.firstChild),rr=n,Lt=!0,Pi=null,na=!0,i=Ev(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(qo(),s===h){n=yi(t,n,i);break e}ir(t,n,s,i)}n=n.child}return n;case 26:return ef(t,n),t===null?(i=Y0(n.type,null,n.pendingProps,null))?n.memoizedState=i:Lt||(i=n.type,t=n.pendingProps,s=yf(Ce.current).createElement(i),s[en]=n,s[En]=t,or(s,i,t),_n(s),n.stateNode=s):n.memoizedState=Y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ge(n),t===null&&Lt&&(s=n.stateNode=q0(n.type,n.pendingProps,Ce.current),rr=n,na=!0,h=dn,uo(n.type)?(Up=h,dn=aa(s.firstChild)):dn=h),ir(t,n,n.pendingProps.children,i),ef(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((h=s=dn)&&(s=s_(s,n.type,n.pendingProps,na),s!==null?(n.stateNode=s,rr=n,dn=aa(s.firstChild),na=!1,h=!0):h=!1),h||Zi(n)),Ge(n),h=n.type,v=n.pendingProps,_=t!==null?t.memoizedProps:null,s=v.children,zp(h,v)?s=null:_!==null&&zp(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=jh(t,n,S2,null,null,i),wu._currentValue=h),ef(t,n),ir(t,n,s,i),n.child;case 6:return t===null&&Lt&&((t=i=dn)&&(i=l_(i,n.pendingProps,na),i!==null?(n.stateNode=i,rr=n,dn=null,t=!0):t=!1),t||Zi(n)),null;case 13:return My(t,n,i);case 4:return Te(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=Ko(n,null,s,i):ir(t,n,s,i),n.child;case 11:return xy(t,n,n.type,n.pendingProps,i);case 7:return ir(t,n,n.pendingProps,i),n.child;case 8:return ir(t,n,n.pendingProps.children,i),n.child;case 12:return ir(t,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,Qi(n,n.type,s.value),ir(t,n,s.children,i),n.child;case 9:return h=n.type._context,s=n.pendingProps.children,Vo(n),h=ar(h),s=s(h),n.flags|=1,ir(t,n,s,i),n.child;case 14:return wy(t,n,n.type,n.pendingProps,i);case 15:return Sy(t,n,n.type,n.pendingProps,i);case 19:return Ay(t,n,i);case 31:return D2(t,n,i);case 22:return Ey(t,n,i,n.pendingProps);case 24:return Vo(n),s=ar(Ln),t===null?(h=Eh(),h===null&&(h=on,v=wh(),h.pooledCache=v,v.refCount++,v!==null&&(h.pooledCacheLanes|=i),h=v),n.memoizedState={parent:s,cache:h},Ch(n),Qi(n,Ln,h)):((t.lanes&i)!==0&&(Nh(t,n),tu(n,null,null,i),eu()),h=t.memoizedState,v=n.memoizedState,h.parent!==s?(h={parent:s,cache:s},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qi(n,Ln,s)):(s=v.cache,Qi(n,Ln,s),s!==h.cache&&xh(n,[Ln],i,!0))),ir(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function bi(t){t.flags|=4}function sp(t,n,i,s,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i0())t.flags|=8192;else throw Xo=Uc,_h}else t.flags&=-16777217}function jy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P0(n))if(i0())t.flags|=8192;else throw Xo=Uc,_h}function nf(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nt():536870912,t.lanes|=n,Ps|=n)}function su(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function hn(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(n)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,s|=h.subtreeFlags&65011712,s|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=s,t.childLanes=i,n}function R2(t,n,i){var s=n.pendingProps;switch(mh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(n),null;case 1:return hn(n),null;case 3:return i=n.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),mi(Ln),we(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Bs(n)?bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vh())),hn(n),null;case 26:var h=n.type,v=n.memoizedState;return t===null?(bi(n),v!==null?(hn(n),jy(n,v)):(hn(n),sp(n,h,null,s,i))):v?v!==t.memoizedState?(bi(n),hn(n),jy(n,v)):(hn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==s&&bi(n),hn(n),sp(n,h,t,s,i)),null;case 27:if(Fe(n),i=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&bi(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return hn(n),null}t=de.current,Bs(n)?dv(n):(t=q0(h,s,i),n.stateNode=t,bi(n))}return hn(n),null;case 5:if(Fe(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&bi(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return hn(n),null}if(v=de.current,Bs(n))dv(n);else{var _=yf(Ce.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof s.is=="string"?_.createElement("select",{is:s.is}):_.createElement("select"),s.multiple?v.multiple=!0:s.size&&(v.size=s.size);break;default:v=typeof s.is=="string"?_.createElement(h,{is:s.is}):_.createElement(h)}}v[en]=n,v[En]=s;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=v;e:switch(or(v,h,s),h){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&bi(n)}}return hn(n),sp(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,i),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==s&&bi(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(t=Ce.current,Bs(n)){if(t=n.stateNode,i=n.memoizedProps,s=null,h=rr,h!==null)switch(h.tag){case 27:case 5:s=h.memoizedProps}t[en]=n,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||M0(t.nodeValue,i)),t||Zi(n,!0)}else t=yf(t).createTextNode(s),t[en]=n,n.stateNode=t}return hn(n),null;case 31:if(i=n.memoizedState,t===null||t.memoizedState!==null){if(s=Bs(n),i!==null){if(t===null){if(!s)throw Error(o(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[en]=n}else qo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;hn(n),t=!1}else i=vh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return n.flags&256?(Lr(n),n):(Lr(n),null);if((n.flags&128)!==0)throw Error(o(558))}return hn(n),null;case 13:if(s=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Bs(n),s!==null&&s.dehydrated!==null){if(t===null){if(!h)throw Error(o(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[en]=n}else qo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;hn(n),h=!1}else h=vh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Lr(n),n):(Lr(n),null)}return Lr(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,t=t!==null&&t.memoizedState!==null,i&&(s=n.child,h=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(h=s.alternate.memoizedState.cachePool.pool),v=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),v!==h&&(s.flags|=2048)),i!==t&&i&&(n.child.flags|=8192),nf(n,n.updateQueue),hn(n),null);case 4:return we(),t===null&&Mp(n.stateNode.containerInfo),hn(n),null;case 10:return mi(n.type),hn(n),null;case 19:if(Z(Dn),s=n.memoizedState,s===null)return hn(n),null;if(h=(n.flags&128)!==0,v=s.rendering,v===null)if(h)su(s,!1);else{if(Mn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(v=Yc(t),v!==null){for(n.flags|=128,su(s,!1),t=v.updateQueue,n.updateQueue=t,nf(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)sv(i,t),i=i.sibling;return ae(Dn,Dn.current&1|2),Lt&&hi(n,s.treeForkCount),n.child}t=t.sibling}s.tail!==null&&Vt()>lf&&(n.flags|=128,h=!0,su(s,!1),n.lanes=4194304)}else{if(!h)if(t=Yc(v),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nf(n,t),su(s,!0),s.tail===null&&s.tailMode==="hidden"&&!v.alternate&&!Lt)return hn(n),null}else 2*Vt()-s.renderingStartTime>lf&&i!==536870912&&(n.flags|=128,h=!0,su(s,!1),n.lanes=4194304);s.isBackwards?(v.sibling=n.child,n.child=v):(t=s.last,t!==null?t.sibling=v:n.child=v,s.last=v)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Vt(),t.sibling=null,i=Dn.current,ae(Dn,h?i&1|2:i&1),Lt&&hi(n,s.treeForkCount),t):(hn(n),null);case 22:case 23:return Lr(n),Dh(),s=n.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(hn(n),n.subtreeFlags&6&&(n.flags|=8192)):hn(n),i=n.updateQueue,i!==null&&nf(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),t!==null&&Z(Yo),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),mi(Ln),hn(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function j2(t,n){switch(mh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return mi(Ln),we(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 31:if(n.memoizedState!==null){if(Lr(n),n.alternate===null)throw Error(o(340));qo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Lr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));qo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(Dn),null;case 4:return we(),null;case 10:return mi(n.type),null;case 22:case 23:return Lr(n),Dh(),t!==null&&Z(Yo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return mi(Ln),null;case 25:return null;default:return null}}function zy(t,n){switch(mh(n),n.tag){case 3:mi(Ln),we();break;case 26:case 27:case 5:Fe(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Lr(n);break;case 13:Lr(n);break;case 19:Z(Dn);break;case 10:mi(n.type);break;case 22:case 23:Lr(n),Dh(),t!==null&&Z(Yo);break;case 24:mi(Ln)}}function lu(t,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var h=s.next;i=h;do{if((i.tag&t)===t){s=void 0;var v=i.create,_=i.inst;s=v(),_.destroy=s}i=i.next}while(i!==h)}}catch(U){Wt(n,n.return,U)}}function no(t,n,i){try{var s=n.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var v=h.next;s=v;do{if((s.tag&t)===t){var _=s.inst,U=_.destroy;if(U!==void 0){_.destroy=void 0,h=n;var ee=i,xe=U;try{xe()}catch(De){Wt(h,ee,De)}}}s=s.next}while(s!==v)}}catch(De){Wt(n,n.return,De)}}function By(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{Cv(n,i)}catch(s){Wt(t,t.return,s)}}}function Hy(t,n,i){i.props=Po(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Wt(t,n,s)}}function uu(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(h){Wt(t,n,h)}}function qa(t,n){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(h){Wt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Wt(t,n,h)}else i.current=null}function ky(t){var n=t.type,i=t.memoizedProps,s=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(h){Wt(t,t.return,h)}}function lp(t,n,i){try{var s=t.stateNode;t_(s,t.type,i,n),s[En]=n}catch(h){Wt(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&uo(t.type)||t.tag===4}function up(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&uo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,n,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Sr));else if(s!==4&&(s===27&&uo(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(cp(t,n,i),t=t.sibling;t!==null;)cp(t,n,i),t=t.sibling}function rf(t,n,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(s!==4&&(s===27&&uo(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(rf(t,n,i),t=t.sibling;t!==null;)rf(t,n,i),t=t.sibling}function Uy(t){var n=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);or(n,s,i),n[en]=t,n[En]=i}catch(v){Wt(t,t.return,v)}}var xi=!1,$n=!1,fp=!1,qy=typeof WeakSet=="function"?WeakSet:Set,tr=null;function z2(t,n){if(t=t.containerInfo,Rp=Cf,t=O(t),H(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var h=s.anchorOffset,v=s.focusNode;s=s.focusOffset;try{i.nodeType,v.nodeType}catch{i=null;break e}var _=0,U=-1,ee=-1,xe=0,De=0,Be=t,Ee=null;t:for(;;){for(var Ne;Be!==i||h!==0&&Be.nodeType!==3||(U=_+h),Be!==v||s!==0&&Be.nodeType!==3||(ee=_+s),Be.nodeType===3&&(_+=Be.nodeValue.length),(Ne=Be.firstChild)!==null;)Ee=Be,Be=Ne;for(;;){if(Be===t)break t;if(Ee===i&&++xe===h&&(U=_),Ee===v&&++De===s&&(ee=_),(Ne=Be.nextSibling)!==null)break;Be=Ee,Ee=Be.parentNode}Be=Ne}i=U===-1||ee===-1?null:{start:U,end:ee}}else i=null}i=i||{start:0,end:0}}else i=null;for(jp={focusedElem:t,selectionRange:i},Cf=!1,tr=n;tr!==null;)if(n=tr,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tr=t;else for(;tr!==null;){switch(n=tr,v=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,i=n,h=v.memoizedProps,v=v.memoizedState,s=i.stateNode;try{var We=Po(i.type,h);t=s.getSnapshotBeforeUpdate(We,v),s.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Wt(i,i.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)Hp(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,tr=t;break}tr=n.return}}function $y(t,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Si(t,i),s&4&&lu(5,i);break;case 1:if(Si(t,i),s&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(_){Wt(i,i.return,_)}else{var h=Po(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(i,i.return,_)}}s&64&&By(i),s&512&&uu(i,i.return);break;case 3:if(Si(t,i),s&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Cv(t,n)}catch(_){Wt(i,i.return,_)}}break;case 27:n===null&&s&4&&Uy(i);case 26:case 5:Si(t,i),n===null&&s&4&&ky(i),s&512&&uu(i,i.return);break;case 12:Si(t,i);break;case 31:Si(t,i),s&4&&Iy(t,i);break;case 13:Si(t,i),s&4&&Xy(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Y2.bind(null,i),u_(t,i))));break;case 22:if(s=i.memoizedState!==null||xi,!s){n=n!==null&&n.memoizedState!==null||$n,h=xi;var v=$n;xi=s,($n=n)&&!v?Ei(t,i,(i.subtreeFlags&8772)!==0):Si(t,i),xi=h,$n=v}break;case 30:break;default:Si(t,i)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xn=null,_r=!1;function wi(t,n,i){for(i=i.child;i!==null;)Yy(t,n,i),i=i.sibling}function Yy(t,n,i){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(jn,i)}catch{}switch(i.tag){case 26:$n||qa(i,n),wi(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:$n||qa(i,n);var s=xn,h=_r;uo(i.type)&&(xn=i.stateNode,_r=!1),wi(t,n,i),yu(i.stateNode),xn=s,_r=h;break;case 5:$n||qa(i,n);case 6:if(s=xn,h=_r,xn=null,wi(t,n,i),xn=s,_r=h,xn!==null)if(_r)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(i.stateNode)}catch(v){Wt(i,n,v)}else try{xn.removeChild(i.stateNode)}catch(v){Wt(i,n,v)}break;case 18:xn!==null&&(_r?(t=xn,B0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),nl(t)):B0(xn,i.stateNode));break;case 4:s=xn,h=_r,xn=i.stateNode.containerInfo,_r=!0,wi(t,n,i),xn=s,_r=h;break;case 0:case 11:case 14:case 15:no(2,i,n),$n||no(4,i,n),wi(t,n,i);break;case 1:$n||(qa(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Hy(i,n,s)),wi(t,n,i);break;case 21:wi(t,n,i);break;case 22:$n=(s=$n)||i.memoizedState!==null,wi(t,n,i),$n=s;break;default:wi(t,n,i)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(i){Wt(n,n.return,i)}}}function Xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(i){Wt(n,n.return,i)}}function B2(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qy),n;default:throw Error(o(435,t.tag))}}function af(t,n){var i=B2(t);n.forEach(function(s){if(!i.has(s)){i.add(s);var h=I2.bind(null,t,s);s.then(h,h)}})}function Cr(t,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var h=i[s],v=t,_=n,U=_;e:for(;U!==null;){switch(U.tag){case 27:if(uo(U.type)){xn=U.stateNode,_r=!1;break e}break;case 5:xn=U.stateNode,_r=!1;break e;case 3:case 4:xn=U.stateNode.containerInfo,_r=!0;break e}U=U.return}if(xn===null)throw Error(o(160));Yy(v,_,h),xn=null,_r=!1,v=h.alternate,v!==null&&(v.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ky(n,t),n=n.sibling}var wa=null;function Ky(t,n){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cr(n,t),Nr(t),s&4&&(no(3,t,t.return),lu(3,t),no(5,t,t.return));break;case 1:Cr(n,t),Nr(t),s&512&&($n||i===null||qa(i,i.return)),s&64&&xi&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var h=wa;if(Cr(n,t),Nr(t),s&512&&($n||i===null||qa(i,i.return)),s&4){var v=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){e:{s=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(s){case"title":v=h.getElementsByTagName("title")[0],(!v||v[mr]||v[en]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=h.createElement(s),h.head.insertBefore(v,h.querySelector("head > title"))),or(v,s,i),v[en]=t,_n(v),s=v;break e;case"link":var _=K0("link","href",h).get(s+(i.href||""));if(_){for(var U=0;U<_.length;U++)if(v=_[U],v.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&v.getAttribute("rel")===(i.rel==null?null:i.rel)&&v.getAttribute("title")===(i.title==null?null:i.title)&&v.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(U,1);break t}}v=h.createElement(s),or(v,s,i),h.head.appendChild(v);break;case"meta":if(_=K0("meta","content",h).get(s+(i.content||""))){for(U=0;U<_.length;U++)if(v=_[U],v.getAttribute("content")===(i.content==null?null:""+i.content)&&v.getAttribute("name")===(i.name==null?null:i.name)&&v.getAttribute("property")===(i.property==null?null:i.property)&&v.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&v.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(U,1);break t}}v=h.createElement(s),or(v,s,i),h.head.appendChild(v);break;default:throw Error(o(468,s))}v[en]=t,_n(v),s=v}t.stateNode=s}else G0(h,t.type,t.stateNode);else t.stateNode=X0(h,s,t.memoizedProps);else v!==s?(v===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):v.count--,s===null?G0(h,t.type,t.stateNode):X0(h,s,t.memoizedProps)):s===null&&t.stateNode!==null&&lp(t,t.memoizedProps,i.memoizedProps)}break;case 27:Cr(n,t),Nr(t),s&512&&($n||i===null||qa(i,i.return)),i!==null&&s&4&&lp(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Cr(n,t),Nr(t),s&512&&($n||i===null||qa(i,i.return)),t.flags&32){h=t.stateNode;try{ri(h,"")}catch(We){Wt(t,t.return,We)}}s&4&&t.stateNode!=null&&(h=t.memoizedProps,lp(t,h,i!==null?i.memoizedProps:h)),s&1024&&(fp=!0);break;case 6:if(Cr(n,t),Nr(t),s&4){if(t.stateNode===null)throw Error(o(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(We){Wt(t,t.return,We)}}break;case 3:if(wf=null,h=wa,wa=bf(n.containerInfo),Cr(n,t),wa=h,Nr(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(We){Wt(t,t.return,We)}fp&&(fp=!1,Gy(t));break;case 4:s=wa,wa=bf(t.stateNode.containerInfo),Cr(n,t),Nr(t),wa=s;break;case 12:Cr(n,t),Nr(t);break;case 31:Cr(n,t),Nr(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,af(t,s)));break;case 13:Cr(n,t),Nr(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(sf=Vt()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,af(t,s)));break;case 22:h=t.memoizedState!==null;var ee=i!==null&&i.memoizedState!==null,xe=xi,De=$n;if(xi=xe||h,$n=De||ee,Cr(n,t),$n=De,xi=xe,Nr(t),s&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||ee||xi||$n||Zo(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){ee=i=n;try{if(v=ee.stateNode,h)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{U=ee.stateNode;var Be=ee.memoizedProps.style,Ee=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;U.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(We){Wt(ee,ee.return,We)}}}else if(n.tag===6){if(i===null){ee=n;try{ee.stateNode.nodeValue=h?"":ee.memoizedProps}catch(We){Wt(ee,ee.return,We)}}}else if(n.tag===18){if(i===null){ee=n;try{var Ne=ee.stateNode;h?H0(Ne,!0):H0(ee.stateNode,!1)}catch(We){Wt(ee,ee.return,We)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,af(t,i))));break;case 19:Cr(n,t),Nr(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,af(t,s)));break;case 30:break;case 21:break;default:Cr(n,t),Nr(t)}}function Nr(t){var n=t.flags;if(n&2){try{for(var i,s=t.return;s!==null;){if(Ly(s)){i=s;break}s=s.return}if(i==null)throw Error(o(160));switch(i.tag){case 27:var h=i.stateNode,v=up(t);rf(t,v,h);break;case 5:var _=i.stateNode;i.flags&32&&(ri(_,""),i.flags&=-33);var U=up(t);rf(t,U,_);break;case 3:case 4:var ee=i.stateNode.containerInfo,xe=up(t);cp(t,xe,ee);break;default:throw Error(o(161))}}catch(De){Wt(t,t.return,De)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$y(t,n.alternate,n),n=n.sibling}function Zo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:no(4,n,n.return),Zo(n);break;case 1:qa(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Hy(n,n.return,i),Zo(n);break;case 27:yu(n.stateNode);case 26:case 5:qa(n,n.return),Zo(n);break;case 22:n.memoizedState===null&&Zo(n);break;case 30:Zo(n);break;default:Zo(n)}t=t.sibling}}function Ei(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,h=t,v=n,_=v.flags;switch(v.tag){case 0:case 11:case 15:Ei(h,v,i),lu(4,v);break;case 1:if(Ei(h,v,i),s=v,h=s.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(xe){Wt(s,s.return,xe)}if(s=v,h=s.updateQueue,h!==null){var U=s.stateNode;try{var ee=h.shared.hiddenCallbacks;if(ee!==null)for(h.shared.hiddenCallbacks=null,h=0;h<ee.length;h++)_v(ee[h],U)}catch(xe){Wt(s,s.return,xe)}}i&&_&64&&By(v),uu(v,v.return);break;case 27:Uy(v);case 26:case 5:Ei(h,v,i),i&&s===null&&_&4&&ky(v),uu(v,v.return);break;case 12:Ei(h,v,i);break;case 31:Ei(h,v,i),i&&_&4&&Iy(h,v);break;case 13:Ei(h,v,i),i&&_&4&&Xy(h,v);break;case 22:v.memoizedState===null&&Ei(h,v,i),uu(v,v.return);break;case 30:break;default:Ei(h,v,i)}n=n.sibling}}function dp(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Zl(i))}function hp(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function Sa(t,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(t,n,i,s),n=n.sibling}function Py(t,n,i,s){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Sa(t,n,i,s),h&2048&&lu(9,n);break;case 1:Sa(t,n,i,s);break;case 3:Sa(t,n,i,s),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){Sa(t,n,i,s),t=n.stateNode;try{var v=n.memoizedProps,_=v.id,U=v.onPostCommit;typeof U=="function"&&U(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(ee){Wt(n,n.return,ee)}}else Sa(t,n,i,s);break;case 31:Sa(t,n,i,s);break;case 13:Sa(t,n,i,s);break;case 23:break;case 22:v=n.stateNode,_=n.alternate,n.memoizedState!==null?v._visibility&2?Sa(t,n,i,s):cu(t,n):v._visibility&2?Sa(t,n,i,s):(v._visibility|=2,Xs(t,n,i,s,(n.subtreeFlags&10256)!==0||!1)),h&2048&&dp(_,n);break;case 24:Sa(t,n,i,s),h&2048&&hp(n.alternate,n);break;default:Sa(t,n,i,s)}}function Xs(t,n,i,s,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var v=t,_=n,U=i,ee=s,xe=_.flags;switch(_.tag){case 0:case 11:case 15:Xs(v,_,U,ee,h),lu(8,_);break;case 23:break;case 22:var De=_.stateNode;_.memoizedState!==null?De._visibility&2?Xs(v,_,U,ee,h):cu(v,_):(De._visibility|=2,Xs(v,_,U,ee,h)),h&&xe&2048&&dp(_.alternate,_);break;case 24:Xs(v,_,U,ee,h),h&&xe&2048&&hp(_.alternate,_);break;default:Xs(v,_,U,ee,h)}n=n.sibling}}function cu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,s=n,h=s.flags;switch(s.tag){case 22:cu(i,s),h&2048&&dp(s.alternate,s);break;case 24:cu(i,s),h&2048&&hp(s.alternate,s);break;default:cu(i,s)}n=n.sibling}}var fu=8192;function Ks(t,n,i){if(t.subtreeFlags&fu)for(t=t.child;t!==null;)Zy(t,n,i),t=t.sibling}function Zy(t,n,i){switch(t.tag){case 26:Ks(t,n,i),t.flags&fu&&t.memoizedState!==null&&w_(i,wa,t.memoizedState,t.memoizedProps);break;case 5:Ks(t,n,i);break;case 3:case 4:var s=wa;wa=bf(t.stateNode.containerInfo),Ks(t,n,i),wa=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=fu,fu=16777216,Ks(t,n,i),fu=s):Ks(t,n,i));break;default:Ks(t,n,i)}}function Qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];tr=s,Wy(s,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 0:case 11:case 15:du(t),t.flags&2048&&no(9,t,t.return);break;case 3:du(t);break;case 12:du(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,of(t)):du(t);break;default:du(t)}}function of(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];tr=s,Wy(s,t)}Qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:no(8,n,n.return),of(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,of(n));break;default:of(n)}t=t.sibling}}function Wy(t,n){for(;tr!==null;){var i=tr;switch(i.tag){case 0:case 11:case 15:no(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Zl(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,tr=s;else e:for(i=t;tr!==null;){s=tr;var h=s.sibling,v=s.return;if(Vy(s),s===i){tr=null;break e}if(h!==null){h.return=v,tr=h;break e}tr=v}}}var H2={getCacheForType:function(t){var n=ar(Ln),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i},cacheSignal:function(){return ar(Ln).controller.signal}},k2=typeof WeakMap=="function"?WeakMap:Map,Zt=0,on=null,Rt=null,zt=0,Ft=0,Ur=null,ro=!1,Gs=!1,pp=!1,_i=0,Mn=0,ao=0,Qo=0,mp=0,qr=0,Ps=0,hu=null,Tr=null,gp=!1,sf=0,Jy=0,lf=1/0,uf=null,io=null,Kn=0,oo=null,Zs=null,Ci=0,vp=0,yp=null,e0=null,pu=0,bp=null;function $r(){return(Zt&2)!==0&&zt!==0?zt&-zt:D.T!==null?Cp():yn()}function t0(){if(qr===0)if((zt&536870912)===0||Lt){var t=Yt;Yt<<=1,(Yt&3932160)===0&&(Yt=262144),qr=t}else qr=536870912;return t=kr.current,t!==null&&(t.flags|=32),qr}function Or(t,n,i){(t===on&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(Qs(t,0),so(t,zt,qr,!1)),mt(t,i),((Zt&2)===0||t!==on)&&(t===on&&((Zt&2)===0&&(Qo|=i),Mn===4&&so(t,zt,qr,!1)),$a(t))}function n0(t,n,i){if((Zt&6)!==0)throw Error(o(327));var s=!i&&(n&127)===0&&(n&t.expiredLanes)===0||ht(t,n),h=s?q2(t,n):wp(t,n,!0),v=s;do{if(h===0){Gs&&!s&&so(t,n,0,!1);break}else{if(i=t.current.alternate,v&&!L2(i)){h=wp(t,n,!1),v=!1;continue}if(h===2){if(v=n,t.errorRecoveryDisabledLanes&v)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var U=t;h=hu;var ee=U.current.memoizedState.isDehydrated;if(ee&&(Qs(U,_).flags|=256),_=wp(U,_,!1),_!==2){if(pp&&!ee){U.errorRecoveryDisabledLanes|=v,Qo|=v,h=4;break e}v=Tr,Tr=h,v!==null&&(Tr===null?Tr=v:Tr.push.apply(Tr,v))}h=_}if(v=!1,h!==2)continue}}if(h===1){Qs(t,0),so(t,n,0,!0);break}e:{switch(s=t,v=h,v){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:so(s,n,qr,!ro);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(h=sf+300-Vt(),10<h)){if(so(s,n,qr,!ro),Ke(s,0,!0)!==0)break e;Ci=n,s.timeoutHandle=j0(r0.bind(null,s,i,Tr,uf,gp,n,qr,Qo,Ps,ro,v,"Throttled",-0,0),h);break e}r0(s,i,Tr,uf,gp,n,qr,Qo,Ps,ro,v,null,-0,0)}}break}while(!0);$a(t)}function r0(t,n,i,s,h,v,_,U,ee,xe,De,Be,Ee,Ne){if(t.timeoutHandle=-1,Be=n.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},Zy(n,v,Be);var We=(v&62914560)===v?sf-Vt():(v&4194048)===v?Jy-Vt():0;if(We=S_(Be,We),We!==null){Ci=v,t.cancelPendingCommit=We(f0.bind(null,t,n,v,i,s,h,_,U,ee,De,Be,null,Ee,Ne)),so(t,v,_,!xe);return}}f0(t,n,v,i,s,h,_,U,ee)}function L2(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var h=i[s],v=h.getSnapshot;h=h.value;try{if(!dr(v(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function so(t,n,i,s){n&=~mp,n&=~Qo,t.suspendedLanes|=n,t.pingedLanes&=~n,s&&(t.warmLanes|=n),s=t.expirationTimes;for(var h=n;0<h;){var v=31-Me(h),_=1<<v;s[v]=-1,h&=~_}i!==0&&un(t,i,n)}function cf(){return(Zt&6)===0?(mu(0),!1):!0}function xp(){if(Rt!==null){if(Ft===0)var t=Rt.return;else t=Rt,pi=$o=null,Hh(t),qs=null,Fl=0,t=Rt;for(;t!==null;)zy(t.alternate,t),t=t.return;Rt=null}}function Qs(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,a_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ci=0,xp(),on=t,Rt=i=di(t.current,null),zt=n,Ft=0,Ur=null,ro=!1,Gs=ht(t,n),pp=!1,Ps=qr=mp=Qo=ao=Mn=0,Tr=hu=null,gp=!1,(n&8)!==0&&(n|=n&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=n;0<s;){var h=31-Me(s),v=1<<h;n|=t[h],s&=~v}return _i=n,er(),i}function a0(t,n){Ct=null,D.H=iu,n===Us||n===Lc?(n=xv(),Ft=3):n===_h?(n=xv(),Ft=4):Ft=n===Wh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ur=n,Rt===null&&(Mn=1,Wc(t,Jr(n,t.current)))}function i0(){var t=kr.current;return t===null?!0:(zt&4194048)===zt?ra===null:(zt&62914560)===zt||(zt&536870912)!==0?t===ra:!1}function o0(){var t=D.H;return D.H=iu,t===null?iu:t}function s0(){var t=D.A;return D.A=H2,t}function ff(){Mn=4,ro||(zt&4194048)!==zt&&kr.current!==null||(Gs=!0),(ao&134217727)===0&&(Qo&134217727)===0||on===null||so(on,zt,qr,!1)}function wp(t,n,i){var s=Zt;Zt|=2;var h=o0(),v=s0();(on!==t||zt!==n)&&(uf=null,Qs(t,n)),n=!1;var _=Mn;e:do try{if(Ft!==0&&Rt!==null){var U=Rt,ee=Ur;switch(Ft){case 8:xp(),_=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(n=!0);var xe=Ft;if(Ft=0,Ur=null,Fs(t,U,ee,xe),i&&Gs){_=0;break e}break;default:xe=Ft,Ft=0,Ur=null,Fs(t,U,ee,xe)}}U2(),_=Mn;break}catch(De){a0(t,De)}while(!0);return n&&t.shellSuspendCounter++,pi=$o=null,Zt=s,D.H=h,D.A=v,Rt===null&&(on=null,zt=0,er()),_}function U2(){for(;Rt!==null;)l0(Rt)}function q2(t,n){var i=Zt;Zt|=2;var s=o0(),h=s0();on!==t||zt!==n?(uf=null,lf=Vt()+500,Qs(t,n)):Gs=ht(t,n);e:do try{if(Ft!==0&&Rt!==null){n=Rt;var v=Ur;t:switch(Ft){case 1:Ft=0,Ur=null,Fs(t,n,v,1);break;case 2:case 9:if(yv(v)){Ft=0,Ur=null,u0(n);break}n=function(){Ft!==2&&Ft!==9||on!==t||(Ft=7),$a(t)},v.then(n,n);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:yv(v)?(Ft=0,Ur=null,u0(n)):(Ft=0,Ur=null,Fs(t,n,v,7));break;case 5:var _=null;switch(Rt.tag){case 26:_=Rt.memoizedState;case 5:case 27:var U=Rt;if(_?P0(_):U.stateNode.complete){Ft=0,Ur=null;var ee=U.sibling;if(ee!==null)Rt=ee;else{var xe=U.return;xe!==null?(Rt=xe,df(xe)):Rt=null}break t}}Ft=0,Ur=null,Fs(t,n,v,5);break;case 6:Ft=0,Ur=null,Fs(t,n,v,6);break;case 8:xp(),Mn=6;break e;default:throw Error(o(462))}}$2();break}catch(De){a0(t,De)}while(!0);return pi=$o=null,D.H=s,D.A=h,Zt=i,Rt!==null?0:(on=null,zt=0,er(),Mn)}function $2(){for(;Rt!==null&&!At();)l0(Rt)}function l0(t){var n=Ry(t.alternate,t,_i);t.memoizedProps=t.pendingProps,n===null?df(t):Rt=n}function u0(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=Ny(i,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Ny(i,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Hh(n);default:zy(i,n),n=Rt=sv(n,_i),n=Ry(i,n,_i)}t.memoizedProps=t.pendingProps,n===null?df(t):Rt=n}function Fs(t,n,i,s){pi=$o=null,Hh(n),qs=null,Fl=0;var h=n.return;try{if(M2(t,h,n,i,zt)){Mn=1,Wc(t,Jr(i,t.current)),Rt=null;return}}catch(v){if(h!==null)throw Rt=h,v;Mn=1,Wc(t,Jr(i,t.current)),Rt=null;return}n.flags&32768?(Lt||s===1?t=!0:Gs||(zt&536870912)!==0?t=!1:(ro=t=!0,(s===2||s===9||s===3||s===6)&&(s=kr.current,s!==null&&s.tag===13&&(s.flags|=16384))),c0(n,t)):df(n)}function df(t){var n=t;do{if((n.flags&32768)!==0){c0(n,ro);return}t=n.return;var i=R2(n.alternate,n,_i);if(i!==null){Rt=i;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);Mn===0&&(Mn=5)}function c0(t,n){do{var i=j2(t.alternate,t);if(i!==null){i.flags&=32767,Rt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=i}while(t!==null);Mn=6,Rt=null}function f0(t,n,i,s,h,v,_,U,ee){t.cancelPendingCommit=null;do hf();while(Kn!==0);if((Zt&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(v=n.lanes|n.childLanes,v|=_t,Tt(t,i,v,_,U,ee),t===on&&(Rt=on=null,zt=0),Zs=n,oo=t,Ci=i,vp=v,yp=h,e0=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X2(Ht,function(){return g0(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,h=M.p,M.p=2,_=Zt,Zt|=4;try{z2(t,n,i)}finally{Zt=_,M.p=h,D.T=s}}Kn=1,d0(),h0(),p0()}}function d0(){if(Kn===1){Kn=0;var t=oo,n=Zs,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var s=M.p;M.p=2;var h=Zt;Zt|=4;try{Ky(n,t);var v=jp,_=O(t.containerInfo),U=v.focusedElem,ee=v.selectionRange;if(_!==U&&U&&U.ownerDocument&&E(U.ownerDocument.documentElement,U)){if(ee!==null&&H(U)){var xe=ee.start,De=ee.end;if(De===void 0&&(De=xe),"selectionStart"in U)U.selectionStart=xe,U.selectionEnd=Math.min(De,U.value.length);else{var Be=U.ownerDocument||document,Ee=Be&&Be.defaultView||window;if(Ee.getSelection){var Ne=Ee.getSelection(),We=U.textContent.length,ct=Math.min(ee.start,We),rn=ee.end===void 0?ct:Math.min(ee.end,We);!Ne.extend&&ct>rn&&(_=rn,rn=ct,ct=_);var ge=w(U,ct),le=w(U,rn);if(ge&&le&&(Ne.rangeCount!==1||Ne.anchorNode!==ge.node||Ne.anchorOffset!==ge.offset||Ne.focusNode!==le.node||Ne.focusOffset!==le.offset)){var be=Be.createRange();be.setStart(ge.node,ge.offset),Ne.removeAllRanges(),ct>rn?(Ne.addRange(be),Ne.extend(le.node,le.offset)):(be.setEnd(le.node,le.offset),Ne.addRange(be))}}}}for(Be=[],Ne=U;Ne=Ne.parentNode;)Ne.nodeType===1&&Be.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Be.length;U++){var Re=Be[U];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Cf=!!Rp,jp=Rp=null}finally{Zt=h,M.p=s,D.T=i}}t.current=n,Kn=2}}function h0(){if(Kn===2){Kn=0;var t=oo,n=Zs,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var s=M.p;M.p=2;var h=Zt;Zt|=4;try{$y(t,n.alternate,n)}finally{Zt=h,M.p=s,D.T=i}}Kn=3}}function p0(){if(Kn===4||Kn===3){Kn=0,xt();var t=oo,n=Zs,i=Ci,s=e0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kn=5:(Kn=0,Zs=oo=null,m0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(io=null),Jt(i),n=n.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=D.T,h=M.p,M.p=2,D.T=null;try{for(var v=t.onRecoverableError,_=0;_<s.length;_++){var U=s[_];v(U.value,{componentStack:U.stack})}}finally{D.T=n,M.p=h}}(Ci&3)!==0&&hf(),$a(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===bp?pu++:(pu=0,bp=t):pu=0,mu(0)}}function m0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function hf(){return d0(),h0(),p0(),g0()}function g0(){if(Kn!==5)return!1;var t=oo,n=vp;vp=0;var i=Jt(Ci),s=D.T,h=M.p;try{M.p=32>i?32:i,D.T=null,i=yp,yp=null;var v=oo,_=Ci;if(Kn=0,Zs=oo=null,Ci=0,(Zt&6)!==0)throw Error(o(331));var U=Zt;if(Zt|=4,Fy(v.current),Py(v,v.current,_,i),Zt=U,mu(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(jn,v)}catch{}return!0}finally{M.p=h,D.T=s,m0(t,n)}}function v0(t,n,i){n=Jr(i,n),n=Fh(t.stateNode,n,2),t=Ji(t,n,2),t!==null&&(mt(t,2),$a(t))}function Wt(t,n,i){if(t.tag===3)v0(t,t,i);else for(;n!==null;){if(n.tag===3){v0(n,t,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(io===null||!io.has(s))){t=Jr(i,t),i=yy(2),s=Ji(n,i,2),s!==null&&(by(i,s,n,t),mt(s,2),$a(s));break}}n=n.return}}function Sp(t,n,i){var s=t.pingCache;if(s===null){s=t.pingCache=new k2;var h=new Set;s.set(n,h)}else h=s.get(n),h===void 0&&(h=new Set,s.set(n,h));h.has(i)||(pp=!0,h.add(i),t=V2.bind(null,t,n,i),n.then(t,t))}function V2(t,n,i){var s=t.pingCache;s!==null&&s.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,on===t&&(zt&i)===i&&(Mn===4||Mn===3&&(zt&62914560)===zt&&300>Vt()-sf?(Zt&2)===0&&Qs(t,0):mp|=i,Ps===zt&&(Ps=0)),$a(t)}function y0(t,n){n===0&&(n=Nt()),t=bn(t,n),t!==null&&(mt(t,n),$a(t))}function Y2(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),y0(t,i)}function I2(t,n){var i=0;switch(t.tag){case 31:case 13:var s=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(n),y0(t,i)}function X2(t,n){return ft(t,n)}var pf=null,Ws=null,Ep=!1,mf=!1,_p=!1,lo=0;function $a(t){t!==Ws&&t.next===null&&(Ws===null?pf=Ws=t:Ws=Ws.next=t),mf=!0,Ep||(Ep=!0,G2())}function mu(t,n){if(!_p&&mf){_p=!0;do for(var i=!1,s=pf;s!==null;){if(t!==0){var h=s.pendingLanes;if(h===0)var v=0;else{var _=s.suspendedLanes,U=s.pingedLanes;v=(1<<31-Me(42|t)+1)-1,v&=h&~(_&~U),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(i=!0,S0(s,v))}else v=zt,v=Ke(s,s===on?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(v&3)===0||ht(s,v)||(i=!0,S0(s,v));s=s.next}while(i);_p=!1}}function K2(){b0()}function b0(){mf=Ep=!1;var t=0;lo!==0&&r_()&&(t=lo);for(var n=Vt(),i=null,s=pf;s!==null;){var h=s.next,v=x0(s,n);v===0?(s.next=null,i===null?pf=h:i.next=h,h===null&&(Ws=i)):(i=s,(t!==0||(v&3)!==0)&&(mf=!0)),s=h}Kn!==0&&Kn!==5||mu(t),lo!==0&&(lo=0)}function x0(t,n){for(var i=t.suspendedLanes,s=t.pingedLanes,h=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var _=31-Me(v),U=1<<_,ee=h[_];ee===-1?((U&i)===0||(U&s)!==0)&&(h[_]=yt(U,n)):ee<=n&&(t.expiredLanes|=U),v&=~U}if(n=on,i=zt,i=Ke(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Dt(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||ht(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(s!==null&&Dt(s),Jt(i)){case 2:case 8:i=Xt;break;case 32:i=Ht;break;case 268435456:i=vn;break;default:i=Ht}return s=w0.bind(null,t),i=ft(i,s),t.callbackPriority=n,t.callbackNode=i,n}return s!==null&&s!==null&&Dt(s),t.callbackPriority=2,t.callbackNode=null,2}function w0(t,n){if(Kn!==0&&Kn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(hf()&&t.callbackNode!==i)return null;var s=zt;return s=Ke(t,t===on?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(n0(t,s,n),x0(t,Vt()),t.callbackNode!=null&&t.callbackNode===i?w0.bind(null,t):null)}function S0(t,n){if(hf())return null;n0(t,n,!0)}function G2(){i_(function(){(Zt&6)!==0?ft(Pt,K2):b0()})}function Cp(){if(lo===0){var t=ks;t===0&&(t=je,je<<=1,(je&261888)===0&&(je=256)),lo=t}return lo}function E0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function _0(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function P2(t,n,i,s,h){if(n==="submit"&&i&&i.stateNode===h){var v=E0((h[En]||null).action),_=s.submitter;_&&(n=(n=_[En]||null)?E0(n.formAction):_.getAttribute("formAction"),n!==null&&(v=n,_=null));var U=new ys("action","action",null,s,h);t.push({event:U,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(lo!==0){var ee=_?_0(h,_):new FormData(h);Xh(i,{pending:!0,data:ee,method:h.method,action:v},null,ee)}}else typeof v=="function"&&(U.preventDefault(),ee=_?_0(h,_):new FormData(h),Xh(i,{pending:!0,data:ee,method:h.method,action:v},v,ee))},currentTarget:h}]})}}for(var Np=0;Np<Ye.length;Np++){var Tp=Ye[Np],Z2=Tp.toLowerCase(),Q2=Tp[0].toUpperCase()+Tp.slice(1);Ue(Z2,"on"+Q2)}Ue(ve,"onAnimationEnd"),Ue(Se,"onAnimationIteration"),Ue(Oe,"onAnimationStart"),Ue("dblclick","onDoubleClick"),Ue("focusin","onFocus"),Ue("focusout","onBlur"),Ue(ze,"onTransitionRun"),Ue($e,"onTransitionStart"),Ue(Ie,"onTransitionCancel"),Ue(Le,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function C0(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],h=s.event;s=s.listeners;e:{var v=void 0;if(n)for(var _=s.length-1;0<=_;_--){var U=s[_],ee=U.instance,xe=U.currentTarget;if(U=U.listener,ee!==v&&h.isPropagationStopped())break e;v=U,h.currentTarget=xe;try{v(h)}catch(De){Pe(De)}h.currentTarget=null,v=ee}else for(_=0;_<s.length;_++){if(U=s[_],ee=U.instance,xe=U.currentTarget,U=U.listener,ee!==v&&h.isPropagationStopped())break e;v=U,h.currentTarget=xe;try{v(h)}catch(De){Pe(De)}h.currentTarget=null,v=ee}}}}function jt(t,n){var i=n[ga];i===void 0&&(i=n[ga]=new Set);var s=t+"__bubble";i.has(s)||(N0(n,t,2,!1),i.add(s))}function Op(t,n,i){var s=0;n&&(s|=4),N0(i,t,s,n)}var gf="_reactListening"+Math.random().toString(36).slice(2);function Mp(t){if(!t[gf]){t[gf]=!0,va.forEach(function(i){i!=="selectionchange"&&(F2.has(i)||Op(i,!1,t),Op(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gf]||(n[gf]=!0,Op("selectionchange",!1,n))}}function N0(t,n,i,s){switch(tb(n)){case 2:var h=C_;break;case 8:h=N_;break;default:h=Ip}i=h.bind(null,n,i,t),h=void 0,!Rl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),s?h!==void 0?t.addEventListener(n,i,{capture:!0,passive:h}):t.addEventListener(n,i,!0):h!==void 0?t.addEventListener(n,i,{passive:h}):t.addEventListener(n,i,!1)}function Dp(t,n,i,s,h){var v=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var _=s.tag;if(_===3||_===4){var U=s.stateNode.containerInfo;if(U===h)break;if(_===4)for(_=s.return;_!==null;){var ee=_.tag;if((ee===3||ee===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;U!==null;){if(_=Gr(U),_===null)return;if(ee=_.tag,ee===5||ee===6||ee===26||ee===27){s=v=_;continue e}U=U.parentNode}}s=s.return}Li(function(){var xe=v,De=gs(i),Be=[];e:{var Ee=Ve.get(t);if(Ee!==void 0){var Ne=ys,We=t;switch(t){case"keypress":if($i(i)===0)break e;case"keydown":case"keyup":Ne=Cs;break;case"focusin":We="focus",Ne=Vi;break;case"focusout":We="blur",Ne=Vi;break;case"beforeblur":case"afterblur":Ne=Vi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Ul;break;case ve:case Se:case Oe:Ne=Ec;break;case Le:Ne=ql;break;case"scroll":case"scrollend":Ne=bs;break;case"wheel":Ne=Ts;break;case"copy":case"cut":case"paste":Ne=Yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Ll;break;case"toggle":case"beforetoggle":Ne=Nc}var ct=(n&4)!==0,rn=!ct&&(t==="scroll"||t==="scrollend"),ge=ct?Ee!==null?Ee+"Capture":null:Ee;ct=[];for(var le=xe,be;le!==null;){var Re=le;if(be=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||be===null||ge===null||(Re=oi(le,ge),Re!=null&&ct.push(vu(le,Re,be))),rn)break;le=le.return}0<ct.length&&(Ee=new Ne(Ee,We,null,i,De),Be.push({event:Ee,listeners:ct}))}}if((n&7)===0){e:{if(Ee=t==="mouseover"||t==="pointerover",Ne=t==="mouseout"||t==="pointerout",Ee&&i!==Qr&&(We=i.relatedTarget||i.fromElement)&&(Gr(We)||We[Qn]))break e;if((Ne||Ee)&&(Ee=De.window===De?De:(Ee=De.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Ne?(We=i.relatedTarget||i.toElement,Ne=xe,We=We?Gr(We):null,We!==null&&(rn=u(We),ct=We.tag,We!==rn||ct!==5&&ct!==27&&ct!==6)&&(We=null)):(Ne=null,We=xe),Ne!==We)){if(ct=ws,Re="onMouseLeave",ge="onMouseEnter",le="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Ll,Re="onPointerLeave",ge="onPointerEnter",le="pointer"),rn=Ne==null?Ee:cr(Ne),be=We==null?Ee:cr(We),Ee=new ct(Re,le+"leave",Ne,i,De),Ee.target=rn,Ee.relatedTarget=be,Re=null,Gr(De)===xe&&(ct=new ct(ge,le+"enter",We,i,De),ct.target=be,ct.relatedTarget=rn,Re=ct),rn=Re,Ne&&We)t:{for(ct=W2,ge=Ne,le=We,be=0,Re=ge;Re;Re=ct(Re))be++;Re=0;for(var ot=le;ot;ot=ct(ot))Re++;for(;0<be-Re;)ge=ct(ge),be--;for(;0<Re-be;)le=ct(le),Re--;for(;be--;){if(ge===le||le!==null&&ge===le.alternate){ct=ge;break t}ge=ct(ge),le=ct(le)}ct=null}else ct=null;Ne!==null&&T0(Be,Ee,Ne,ct,!1),We!==null&&rn!==null&&T0(Be,rn,We,ct,!0)}}e:{if(Ee=xe?cr(xe):window,Ne=Ee.nodeName&&Ee.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&Ee.type==="file")var Kt=ko;else if(Ds(Ee))if(Wr)Kt=Ki;else{Kt=fi;var et=Rc}else Ne=Ee.nodeName,!Ne||Ne.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?xe&&Al(xe.elementType)&&(Kt=ko):Kt=Xl;if(Kt&&(Kt=Kt(t,xe))){Il(Be,Kt,i,De);break e}et&&et(t,Ee,xe),t==="focusout"&&xe&&Ee.type==="number"&&xe.memoizedProps.value!=null&&za(Ee,"number",Ee.value)}switch(et=xe?cr(xe):window,t){case"focusin":(Ds(et)||et.contentEditable==="true")&&(F=et,ie=xe,oe=null);break;case"focusout":oe=ie=F=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,te(Be,i,De);break;case"selectionchange":if(X)break;case"keydown":case"keyup":te(Be,i,De)}var Ot;if(Bo)e:{switch(t){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ci?Yl(t,i)&&(Bt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Bt="onCompositionStart");Bt&&(Os&&i.locale!=="ko"&&(ci||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ci&&(Ot=qi()):(Fr=De,vs="value"in Fr?Fr.value:Fr.textContent,ci=!0)),et=vf(xe,Bt),0<et.length&&(Bt=new _s(Bt,t,null,i,De),Be.push({event:Bt,listeners:et}),Ot?Bt.data=Ot:(Ot=Oc(i),Ot!==null&&(Bt.data=Ot)))),(Ot=lh?Mc(t,i):uh(t,i))&&(Bt=vf(xe,"onBeforeInput"),0<Bt.length&&(et=new _s("onBeforeInput","beforeinput",null,i,De),Be.push({event:et,listeners:Bt}),et.data=Ot)),P2(Be,t,xe,i,De)}C0(Be,n)})}function vu(t,n,i){return{instance:t,listener:n,currentTarget:i}}function vf(t,n){for(var i=n+"Capture",s=[];t!==null;){var h=t,v=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||v===null||(h=oi(t,i),h!=null&&s.unshift(vu(t,h,v)),h=oi(t,n),h!=null&&s.push(vu(t,h,v))),t.tag===3)return s;t=t.return}return[]}function W2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T0(t,n,i,s,h){for(var v=n._reactName,_=[];i!==null&&i!==s;){var U=i,ee=U.alternate,xe=U.stateNode;if(U=U.tag,ee!==null&&ee===s)break;U!==5&&U!==26&&U!==27||xe===null||(ee=xe,h?(xe=oi(i,v),xe!=null&&_.unshift(vu(i,xe,ee))):h||(xe=oi(i,v),xe!=null&&_.push(vu(i,xe,ee)))),i=i.return}_.length!==0&&t.push({event:n,listeners:_})}var J2=/\r\n?/g,e_=/\u0000|\uFFFD/g;function O0(t){return(typeof t=="string"?t:""+t).replace(J2,`
`).replace(e_,"")}function M0(t,n){return n=O0(n),O0(t)===n}function nn(t,n,i,s,h,v){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||ri(t,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&ri(t,""+s);break;case"className":ei(t,"class",s);break;case"tabIndex":ei(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,i,s);break;case"style":Dl(t,s,v);break;case"data":if(n!=="object"){ei(t,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=xa(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(i==="formAction"?(n!=="input"&&nn(t,n,"name",h.name,h,null),nn(t,n,"formEncType",h.formEncType,h,null),nn(t,n,"formMethod",h.formMethod,h,null),nn(t,n,"formTarget",h.formTarget,h,null)):(nn(t,n,"encType",h.encType,h,null),nn(t,n,"method",h.method,h,null),nn(t,n,"target",h.target,h,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=xa(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=Sr);break;case"onScroll":s!=null&&jt("scroll",t);break;case"onScrollEnd":s!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(i=s.__html,i!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=xa(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":jt("beforetoggle",t),jt("toggle",t),Et(t,"popover",s);break;case"xlinkActuate":wr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":wr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":wr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":wr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":wr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":wr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":wr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":wr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":wr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Et(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ih.get(i)||i,Et(t,i,s))}}function Ap(t,n,i,s,h,v){switch(i){case"style":Dl(t,s,v);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(i=s.__html,i!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=i}}break;case"children":typeof s=="string"?ri(t,s):(typeof s=="number"||typeof s=="bigint")&&ri(t,""+s);break;case"onScroll":s!=null&&jt("scroll",t);break;case"onScrollEnd":s!=null&&jt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wa.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),v=t[En]||null,v=v!=null?v[i]:null,typeof v=="function"&&t.removeEventListener(n,v,h),typeof s=="function")){typeof v!="function"&&v!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,s,h);break e}i in t?t[i]=s:s===!0?t.setAttribute(i,""):Et(t,i,s)}}}function or(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var s=!1,h=!1,v;for(v in i)if(i.hasOwnProperty(v)){var _=i[v];if(_!=null)switch(v){case"src":s=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:nn(t,n,v,_,i,null)}}h&&nn(t,n,"srcSet",i.srcSet,i,null),s&&nn(t,n,"src",i.src,i,null);return;case"input":jt("invalid",t);var U=v=_=h=null,ee=null,xe=null;for(s in i)if(i.hasOwnProperty(s)){var De=i[s];if(De!=null)switch(s){case"name":h=De;break;case"type":_=De;break;case"checked":ee=De;break;case"defaultChecked":xe=De;break;case"value":v=De;break;case"defaultValue":U=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(o(137,n));break;default:nn(t,n,s,De,i,null)}}ki(t,v,U,ee,xe,_,h,!1);return;case"select":jt("invalid",t),s=_=v=null;for(h in i)if(i.hasOwnProperty(h)&&(U=i[h],U!=null))switch(h){case"value":v=U;break;case"defaultValue":_=U;break;case"multiple":s=U;default:nn(t,n,h,U,i,null)}n=v,i=_,t.multiple=!!s,n!=null?ba(t,!!s,n,!1):i!=null&&ba(t,!!s,i,!0);return;case"textarea":jt("invalid",t),v=h=s=null;for(_ in i)if(i.hasOwnProperty(_)&&(U=i[_],U!=null))switch(_){case"value":s=U;break;case"defaultValue":h=U;break;case"children":v=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(91));break;default:nn(t,n,_,U,i,null)}Do(t,s,h,v);return;case"option":for(ee in i)if(i.hasOwnProperty(ee)&&(s=i[ee],s!=null))switch(ee){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:nn(t,n,ee,s,i,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(s=0;s<gu.length;s++)jt(gu[s],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in i)if(i.hasOwnProperty(xe)&&(s=i[xe],s!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:nn(t,n,xe,s,i,null)}return;default:if(Al(n)){for(De in i)i.hasOwnProperty(De)&&(s=i[De],s!==void 0&&Ap(t,n,De,s,i,void 0));return}}for(U in i)i.hasOwnProperty(U)&&(s=i[U],s!=null&&nn(t,n,U,s,i,null))}function t_(t,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,v=null,_=null,U=null,ee=null,xe=null,De=null;for(Ne in i){var Be=i[Ne];if(i.hasOwnProperty(Ne)&&Be!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":ee=Be;default:s.hasOwnProperty(Ne)||nn(t,n,Ne,null,s,Be)}}for(var Ee in s){var Ne=s[Ee];if(Be=i[Ee],s.hasOwnProperty(Ee)&&(Ne!=null||Be!=null))switch(Ee){case"type":v=Ne;break;case"name":h=Ne;break;case"checked":xe=Ne;break;case"defaultChecked":De=Ne;break;case"value":_=Ne;break;case"defaultValue":U=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(o(137,n));break;default:Ne!==Be&&nn(t,n,Ee,Ne,s,Be)}}Zr(t,_,U,ee,xe,De,v,h);return;case"select":Ne=_=U=Ee=null;for(v in i)if(ee=i[v],i.hasOwnProperty(v)&&ee!=null)switch(v){case"value":break;case"multiple":Ne=ee;default:s.hasOwnProperty(v)||nn(t,n,v,null,s,ee)}for(h in s)if(v=s[h],ee=i[h],s.hasOwnProperty(h)&&(v!=null||ee!=null))switch(h){case"value":Ee=v;break;case"defaultValue":U=v;break;case"multiple":_=v;default:v!==ee&&nn(t,n,h,v,s,ee)}n=U,i=_,s=Ne,Ee!=null?ba(t,!!i,Ee,!1):!!s!=!!i&&(n!=null?ba(t,!!i,n,!0):ba(t,!!i,i?[]:"",!1));return;case"textarea":Ne=Ee=null;for(U in i)if(h=i[U],i.hasOwnProperty(U)&&h!=null&&!s.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:nn(t,n,U,null,s,h)}for(_ in s)if(h=s[_],v=i[_],s.hasOwnProperty(_)&&(h!=null||v!=null))switch(_){case"value":Ee=h;break;case"defaultValue":Ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==v&&nn(t,n,_,h,s,v)}Ml(t,Ee,Ne);return;case"option":for(var We in i)if(Ee=i[We],i.hasOwnProperty(We)&&Ee!=null&&!s.hasOwnProperty(We))switch(We){case"selected":t.selected=!1;break;default:nn(t,n,We,null,s,Ee)}for(ee in s)if(Ee=s[ee],Ne=i[ee],s.hasOwnProperty(ee)&&Ee!==Ne&&(Ee!=null||Ne!=null))switch(ee){case"selected":t.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:nn(t,n,ee,Ee,s,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in i)Ee=i[ct],i.hasOwnProperty(ct)&&Ee!=null&&!s.hasOwnProperty(ct)&&nn(t,n,ct,null,s,Ee);for(xe in s)if(Ee=s[xe],Ne=i[xe],s.hasOwnProperty(xe)&&Ee!==Ne&&(Ee!=null||Ne!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(o(137,n));break;default:nn(t,n,xe,Ee,s,Ne)}return;default:if(Al(n)){for(var rn in i)Ee=i[rn],i.hasOwnProperty(rn)&&Ee!==void 0&&!s.hasOwnProperty(rn)&&Ap(t,n,rn,void 0,s,Ee);for(De in s)Ee=s[De],Ne=i[De],!s.hasOwnProperty(De)||Ee===Ne||Ee===void 0&&Ne===void 0||Ap(t,n,De,Ee,s,Ne);return}}for(var ge in i)Ee=i[ge],i.hasOwnProperty(ge)&&Ee!=null&&!s.hasOwnProperty(ge)&&nn(t,n,ge,null,s,Ee);for(Be in s)Ee=s[Be],Ne=i[Be],!s.hasOwnProperty(Be)||Ee===Ne||Ee==null&&Ne==null||nn(t,n,Be,Ee,s,Ne)}function D0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var h=i[s],v=h.transferSize,_=h.initiatorType,U=h.duration;if(v&&U&&D0(_)){for(_=0,U=h.responseEnd,s+=1;s<i.length;s++){var ee=i[s],xe=ee.startTime;if(xe>U)break;var De=ee.transferSize,Be=ee.initiatorType;De&&D0(Be)&&(ee=ee.responseEnd,_+=De*(ee<U?1:(U-xe)/(ee-xe)))}if(--s,n+=8*(v+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rp=null,jp=null;function yf(t){return t.nodeType===9?t:t.ownerDocument}function A0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function zp(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bp=null;function r_(){var t=window.event;return t&&t.type==="popstate"?t===Bp?!1:(Bp=t,!0):(Bp=null,!1)}var j0=typeof setTimeout=="function"?setTimeout:void 0,a_=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,i_=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(t){return z0.resolve(null).then(t).catch(o_)}:j0;function o_(t){setTimeout(function(){throw t})}function uo(t){return t==="head"}function B0(t,n){var i=n,s=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(s===0){t.removeChild(h),nl(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")yu(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,yu(i);for(var v=i.firstChild;v;){var _=v.nextSibling,U=v.nodeName;v[mr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&v.rel.toLowerCase()==="stylesheet"||i.removeChild(v),v=_}}else i==="body"&&yu(t.ownerDocument.body);i=h}while(i);nl(n)}function H0(t,n){var i=t;t=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=s}while(i)}function Hp(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Hp(i),Bi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function s_(t,n,i,s){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var v=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=aa(t.nextSibling),t===null)break}return null}function l_(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=aa(t.nextSibling),t===null))return null;return t}function k0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=aa(t.nextSibling),t===null))return null;return t}function kp(t){return t.data==="$?"||t.data==="$~"}function Lp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function u_(t,n){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function aa(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Up=null;function L0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(n===0)return aa(t.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}t=t.nextSibling}return null}function U0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return t;n--}else i!=="/$"&&i!=="/&"||n++}t=t.previousSibling}return null}function q0(t,n,i){switch(n=yf(i),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function yu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var ia=new Map,$0=new Set;function bf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=M.d;M.d={f:c_,r:f_,D:d_,C:h_,L:p_,m:m_,X:v_,S:g_,M:y_};function c_(){var t=Ni.f(),n=cf();return t||n}function f_(t){var n=Qt(t);n!==null&&n.tag===5&&n.type==="form"?ay(n):Ni.r(t)}var Js=typeof document>"u"?null:document;function V0(t,n,i){var s=Js;if(s&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),$0.has(h)||($0.add(h),t={rel:t,crossOrigin:i,href:n},s.querySelector(h)===null&&(n=s.createElement("link"),or(n,"link",t),_n(n),s.head.appendChild(n)))}}function d_(t){Ni.D(t),V0("dns-prefetch",t,null)}function h_(t,n){Ni.C(t,n),V0("preconnect",t,n)}function p_(t,n,i){Ni.L(t,n,i);var s=Js;if(s&&t&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+Tn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+Tn(i.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var v=h;switch(n){case"style":v=el(t);break;case"script":v=tl(t)}ia.has(v)||(t=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),ia.set(v,t),s.querySelector(h)!==null||n==="style"&&s.querySelector(bu(v))||n==="script"&&s.querySelector(xu(v))||(n=s.createElement("link"),or(n,"link",t),_n(n),s.head.appendChild(n)))}}function m_(t,n){Ni.m(t,n);var i=Js;if(i&&t){var s=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(s)+'"][href="'+Tn(t)+'"]',v=h;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=tl(t)}if(!ia.has(v)&&(t=y({rel:"modulepreload",href:t},n),ia.set(v,t),i.querySelector(h)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(xu(v)))return}s=i.createElement("link"),or(s,"link",t),_n(s),i.head.appendChild(s)}}}function g_(t,n,i){Ni.S(t,n,i);var s=Js;if(s&&t){var h=Fn(s).hoistableStyles,v=el(t);n=n||"default";var _=h.get(v);if(!_){var U={loading:0,preload:null};if(_=s.querySelector(bu(v)))U.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},i),(i=ia.get(v))&&qp(t,i);var ee=_=s.createElement("link");_n(ee),or(ee,"link",t),ee._p=new Promise(function(xe,De){ee.onload=xe,ee.onerror=De}),ee.addEventListener("load",function(){U.loading|=1}),ee.addEventListener("error",function(){U.loading|=2}),U.loading|=4,xf(_,n,s)}_={type:"stylesheet",instance:_,count:1,state:U},h.set(v,_)}}}function v_(t,n){Ni.X(t,n);var i=Js;if(i&&t){var s=Fn(i).hoistableScripts,h=tl(t),v=s.get(h);v||(v=i.querySelector(xu(h)),v||(t=y({src:t,async:!0},n),(n=ia.get(h))&&$p(t,n),v=i.createElement("script"),_n(v),or(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},s.set(h,v))}}function y_(t,n){Ni.M(t,n);var i=Js;if(i&&t){var s=Fn(i).hoistableScripts,h=tl(t),v=s.get(h);v||(v=i.querySelector(xu(h)),v||(t=y({src:t,async:!0,type:"module"},n),(n=ia.get(h))&&$p(t,n),v=i.createElement("script"),_n(v),or(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},s.set(h,v))}}function Y0(t,n,i,s){var h=(h=Ce.current)?bf(h):null;if(!h)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=el(i.href),i=Fn(h).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=el(i.href);var v=Fn(h).hoistableStyles,_=v.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,_),(v=h.querySelector(bu(t)))&&!v._p&&(_.instance=v,_.state.loading=5),ia.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ia.set(t,i),v||b_(h,t,i,_.state))),n&&s===null)throw Error(o(528,""));return _}if(n&&s!==null)throw Error(o(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=tl(i),i=Fn(h).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function el(t){return'href="'+Tn(t)+'"'}function bu(t){return'link[rel="stylesheet"]['+t+"]"}function I0(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function b_(t,n,i,s){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=t.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),or(n,"link",i),_n(n),t.head.appendChild(n))}function tl(t){return'[src="'+Tn(t)+'"]'}function xu(t){return"script[async]"+t}function X0(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=t.querySelector('style[data-href~="'+Tn(i.href)+'"]');if(s)return n.instance=s,_n(s),s;var h=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),_n(s),or(s,"style",h),xf(s,i.precedence,t),n.instance=s;case"stylesheet":h=el(i.href);var v=t.querySelector(bu(h));if(v)return n.state.loading|=4,n.instance=v,_n(v),v;s=I0(i),(h=ia.get(h))&&qp(s,h),v=(t.ownerDocument||t).createElement("link"),_n(v);var _=v;return _._p=new Promise(function(U,ee){_.onload=U,_.onerror=ee}),or(v,"link",s),n.state.loading|=4,xf(v,i.precedence,t),n.instance=v;case"script":return v=tl(i.src),(h=t.querySelector(xu(v)))?(n.instance=h,_n(h),h):(s=i,(h=ia.get(v))&&(s=y({},i),$p(s,h)),t=t.ownerDocument||t,h=t.createElement("script"),_n(h),or(h,"link",s),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,xf(s,i.precedence,t));return n.instance}function xf(t,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=s.length?s[s.length-1]:null,v=h,_=0;_<s.length;_++){var U=s[_];if(U.dataset.precedence===n)v=U;else if(v!==h)break}v?v.parentNode.insertBefore(t,v.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function qp(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $p(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wf=null;function K0(t,n,i){if(wf===null){var s=new Map,h=wf=new Map;h.set(i,s)}else h=wf,s=h.get(i),s||(s=new Map,h.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var v=i[h];if(!(v[mr]||v[en]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(n)||"";_=t+_;var U=s.get(_);U?U.push(v):s.set(_,[v])}}return s}function G0(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function x_(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function w_(t,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=el(s.href),v=n.querySelector(bu(h));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sf.bind(t),n.then(t,t)),i.state.loading|=4,i.instance=v,_n(v);return}v=n.ownerDocument||n,s=I0(s),(h=ia.get(h))&&qp(s,h),v=v.createElement("link"),_n(v);var _=v;_._p=new Promise(function(U,ee){_.onload=U,_.onerror=ee}),or(v,"link",s),i.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Sf.bind(t),n.addEventListener("load",i),n.addEventListener("error",i))}}var Vp=0;function S_(t,n){return t.stylesheets&&t.count===0&&_f(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var s=setTimeout(function(){if(t.stylesheets&&_f(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+n);0<t.imgBytes&&Vp===0&&(Vp=62500*n_());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_f(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>Vp?50:800)+n);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(h)}}:null}function Sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ef=null;function _f(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ef=new Map,n.forEach(E_,t),Ef=null,Sf.call(t))}function E_(t,n){if(!(n.state.loading&4)){var i=Ef.get(t);if(i)var s=i.get(null);else{i=new Map,Ef.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<h.length;v++){var _=h[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),s=_)}s&&i.set(null,s)}h=n.instance,_=h.getAttribute("data-precedence"),v=i.get(_)||s,v===s&&i.set(null,h),i.set(_,h),this.count++,s=Sf.bind(this),h.addEventListener("load",s),h.addEventListener("error",s),v?v.parentNode.insertBefore(h,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wu={$$typeof:A,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function __(t,n,i,s,h,v,_,U,ee){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=s,this.onUncaughtError=h,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function Z0(t,n,i,s,h,v,_,U,ee,xe,De,Be){return t=new __(t,n,i,_,ee,xe,De,Be,U),n=1,v===!0&&(n|=24),v=Hr(3,null,null,n),t.current=v,v.stateNode=t,n=wh(),n.refCount++,t.pooledCache=n,n.refCount++,v.memoizedState={element:s,isDehydrated:i,cache:n},Ch(v),t}function Q0(t){return t?(t=Er,t):Er}function F0(t,n,i,s,h,v){h=Q0(h),s.context===null?s.context=h:s.pendingContext=h,s=Wi(n),s.payload={element:i},v=v===void 0?null:v,v!==null&&(s.callback=v),i=Ji(t,s,n),i!==null&&(Or(i,t,n),Jl(i,t,n))}function W0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function Yp(t,n){W0(t,n),(t=t.alternate)&&W0(t,n)}function J0(t){if(t.tag===13||t.tag===31){var n=bn(t,67108864);n!==null&&Or(n,t,67108864),Yp(t,67108864)}}function eb(t){if(t.tag===13||t.tag===31){var n=$r();n=zn(n);var i=bn(t,n);i!==null&&Or(i,t,n),Yp(t,n)}}var Cf=!0;function C_(t,n,i,s){var h=D.T;D.T=null;var v=M.p;try{M.p=2,Ip(t,n,i,s)}finally{M.p=v,D.T=h}}function N_(t,n,i,s){var h=D.T;D.T=null;var v=M.p;try{M.p=8,Ip(t,n,i,s)}finally{M.p=v,D.T=h}}function Ip(t,n,i,s){if(Cf){var h=Xp(s);if(h===null)Dp(t,n,s,Nf,i),nb(t,s);else if(O_(h,t,n,i,s))s.stopPropagation();else if(nb(t,s),n&4&&-1<T_.indexOf(t)){for(;h!==null;){var v=Qt(h);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=nt(v.pendingLanes);if(_!==0){var U=v;for(U.pendingLanes|=2,U.entangledLanes|=2;_;){var ee=1<<31-Me(_);U.entanglements[1]|=ee,_&=~ee}$a(v),(Zt&6)===0&&(lf=Vt()+500,mu(0))}}break;case 31:case 13:U=bn(v,2),U!==null&&Or(U,v,2),cf(),Yp(v,2)}if(v=Xp(s),v===null&&Dp(t,n,s,Nf,i),v===h)break;h=v}h!==null&&s.stopPropagation()}else Dp(t,n,s,null,i)}}function Xp(t){return t=gs(t),Kp(t)}var Nf=null;function Kp(t){if(Nf=null,t=Gr(t),t!==null){var n=u(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=c(n),t!==null)return t;t=null}else if(i===31){if(t=d(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nf=t,null}function tb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Pt:return 2;case Xt:return 8;case Ht:case gn:return 32;case vn:return 268435456;default:return 32}default:return 32}}var Gp=!1,co=null,fo=null,ho=null,Su=new Map,Eu=new Map,po=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nb(t,n){switch(t){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Su.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(n.pointerId)}}function _u(t,n,i,s,h,v){return t===null||t.nativeEvent!==v?(t={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:v,targetContainers:[h]},n!==null&&(n=Qt(n),n!==null&&J0(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function O_(t,n,i,s,h){switch(n){case"focusin":return co=_u(co,t,n,i,s,h),!0;case"dragenter":return fo=_u(fo,t,n,i,s,h),!0;case"mouseover":return ho=_u(ho,t,n,i,s,h),!0;case"pointerover":var v=h.pointerId;return Su.set(v,_u(Su.get(v)||null,t,n,i,s,h)),!0;case"gotpointercapture":return v=h.pointerId,Eu.set(v,_u(Eu.get(v)||null,t,n,i,s,h)),!0}return!1}function rb(t){var n=Gr(t.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=c(i),n!==null){t.blockedOn=n,pr(t.priority,function(){eb(i)});return}}else if(n===31){if(n=d(i),n!==null){t.blockedOn=n,pr(t.priority,function(){eb(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=Xp(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);Qr=s,i.target.dispatchEvent(s),Qr=null}else return n=Qt(i),n!==null&&J0(n),t.blockedOn=i,!1;n.shift()}return!0}function ab(t,n,i){Tf(t)&&i.delete(n)}function M_(){Gp=!1,co!==null&&Tf(co)&&(co=null),fo!==null&&Tf(fo)&&(fo=null),ho!==null&&Tf(ho)&&(ho=null),Su.forEach(ab),Eu.forEach(ab)}function Of(t,n){t.blockedOn===n&&(t.blockedOn=null,Gp||(Gp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,M_)))}var Mf=null;function ib(t){Mf!==t&&(Mf=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mf===t&&(Mf=null);for(var n=0;n<t.length;n+=3){var i=t[n],s=t[n+1],h=t[n+2];if(typeof s!="function"){if(Kp(s||i)===null)continue;break}var v=Qt(i);v!==null&&(t.splice(n,3),n-=3,Xh(v,{pending:!0,data:h,method:i.method,action:s},s,h))}}))}function nl(t){function n(ee){return Of(ee,t)}co!==null&&Of(co,t),fo!==null&&Of(fo,t),ho!==null&&Of(ho,t),Su.forEach(n),Eu.forEach(n);for(var i=0;i<po.length;i++){var s=po[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<po.length&&(i=po[0],i.blockedOn===null);)rb(i),i.blockedOn===null&&po.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var h=i[s],v=i[s+1],_=h[En]||null;if(typeof v=="function")_||ib(i);else if(_){var U=null;if(v&&v.hasAttribute("formAction")){if(h=v,_=v[En]||null)U=_.formAction;else if(Kp(h)!==null)continue}else U=_.action;typeof U=="function"?i[s+1]=U:(i.splice(s,3),s-=3),ib(i)}}}function ob(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pp(t){this._internalRoot=t}Df.prototype.render=Pp.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var i=n.current,s=$r();F0(i,s,t,n,null,null)},Df.prototype.unmount=Pp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;F0(t.current,2,null,t,null,null),cf(),n[Qn]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var n=yn();t={blockedOn:null,target:t,priority:n};for(var i=0;i<po.length&&n!==0&&n<po[i].priority;i++);po.splice(i,0,t),i===0&&rb(t)}};var sb=r.version;if(sb!=="19.2.0")throw Error(o(527,sb,"19.2.0"));M.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=m(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var D_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{jn=Af.inject(D_),_e=Af}catch{}}return Du.createRoot=function(t,n){if(!l(t))throw Error(o(299));var i=!1,s="",h=py,v=my,_=gy;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Z0(t,1,!1,null,null,i,s,null,h,v,_,ob),t[Qn]=n.current,Mp(t),new Pp(n)},Du.hydrateRoot=function(t,n,i){if(!l(t))throw Error(o(299));var s=!1,h="",v=py,_=my,U=gy,ee=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(U=i.onRecoverableError),i.formState!==void 0&&(ee=i.formState)),n=Z0(t,1,!0,n,i??null,s,h,ee,v,_,U,ob),n.context=Q0(null),i=n.current,s=$r(),s=zn(s),h=Wi(s),h.callback=null,Ji(i,h,s),i=s,n.current.lanes=i,mt(n,i),$a(n),t[Qn]=n.current,Mp(t),new Df(n)},Du.version="19.2.0",Du}var O1;function $4(){if(O1)return xm.exports;O1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),xm.exports=q4(),xm.exports}var V4=$4();const Y4=({children:e})=>{const[r,a]=R.useState([]),[o,l]=R.useState([]);return j.jsx(ds.Provider,{value:{masterNodes:r,masterEdges:o,setMasterNodes:a,setMasterEdges:l},children:j.jsx(zg,{children:e})})},I4=({id:e,sourceX:r,sourceY:a,targetX:o,targetY:l,data:u})=>{const[c]=$d({sourceX:r,sourceY:a,sourcePosition:Je.Right,targetX:o,targetY:l,targetPosition:Je.Left});return j.jsx(j.Fragment,{children:j.jsx(dc,{className:u?.dataType??"",id:e,path:c})})},X4={[Rm]:I4};function K4(e){return Nn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H8c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM8 16V4h12l.002 12H8z"},child:[]},{tag:"path",attr:{d:"M4 8H2v12c0 1.103.897 2 2 2h12v-2H4V8zm11-2h-2v3h-3v2h3v3h2v-3h3V9h-3z"},child:[]}]})(e)}const Wg=R.createContext({nodeList:[],tag:br.All,setTag:()=>{}});function G4(e){return Nn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function P4(e){return Nn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"},child:[]}]})(e)}const Jd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tl(e){const r=Object.prototype.toString.call(e);return r==="[object Window]"||r==="[object global]"}function Jg(e){return"nodeType"in e}function xr(e){var r,a;return e?Tl(e)?e:Jg(e)&&(r=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?r:window:window}function ev(e){const{Document:r}=xr(e);return e instanceof r}function vc(e){return Tl(e)?!1:e instanceof xr(e).HTMLElement}function UE(e){return e instanceof xr(e).SVGElement}function Ol(e){return e?Tl(e)?e.document:Jg(e)?ev(e)?e:vc(e)||UE(e)?e.ownerDocument:document:document:document}const ji=Jd?R.useLayoutEffect:R.useEffect;function eh(e){const r=R.useRef(e);return ji(()=>{r.current=e}),R.useCallback(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r.current==null?void 0:r.current(...o)},[])}function Z4(){const e=R.useRef(null),r=R.useCallback((o,l)=>{e.current=setInterval(o,l)},[]),a=R.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[r,a]}function nc(e,r){r===void 0&&(r=[e]);const a=R.useRef(e);return ji(()=>{a.current!==e&&(a.current=e)},r),a}function yc(e,r){const a=R.useRef();return R.useMemo(()=>{const o=e(a.current);return a.current=o,o},[...r])}function Od(e){const r=eh(e),a=R.useRef(null),o=R.useCallback(l=>{l!==a.current&&r?.(l,a.current),a.current=l},[]);return[a,o]}function Md(e){const r=R.useRef();return R.useEffect(()=>{r.current=e},[e]),r.current}let Em={};function th(e,r){return R.useMemo(()=>{if(r)return r;const a=Em[e]==null?0:Em[e]+1;return Em[e]=a,e+"-"+a},[e,r])}function qE(e){return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return o.reduce((u,c)=>{const d=Object.entries(c);for(const[p,m]of d){const b=u[p];b!=null&&(u[p]=b+e*m)}return u},{...r})}}const hl=qE(1),Dd=qE(-1);function Q4(e){return"clientX"in e&&"clientY"in e}function tv(e){if(!e)return!1;const{KeyboardEvent:r}=xr(e.target);return r&&e instanceof r}function F4(e){if(!e)return!1;const{TouchEvent:r}=xr(e.target);return r&&e instanceof r}function Ad(e){if(F4(e)){if(e.touches&&e.touches.length){const{clientX:r,clientY:a}=e.touches[0];return{x:r,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:r,clientY:a}=e.changedTouches[0];return{x:r,y:a}}}return Q4(e)?{x:e.clientX,y:e.clientY}:null}const rc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:r,y:a}=e;return"translate3d("+(r?Math.round(r):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:r,scaleY:a}=e;return"scaleX("+r+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[rc.Translate.toString(e),rc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:r,duration:a,easing:o}=e;return r+" "+a+"ms "+o}}}),M1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function W4(e){return e.matches(M1)?e:e.querySelector(M1)}const J4={display:"none"};function ej(e){let{id:r,value:a}=e;return He.createElement("div",{id:r,style:J4},a)}function tj(e){let{id:r,announcement:a,ariaLiveType:o="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return He.createElement("div",{id:r,style:l,role:"status","aria-live":o,"aria-atomic":!0},a)}function nj(){const[e,r]=R.useState("");return{announce:R.useCallback(o=>{o!=null&&r(o)},[]),announcement:e}}const $E=R.createContext(null);function VE(e){const r=R.useContext($E);R.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(e)},[e,r])}function rj(){const[e]=R.useState(()=>new Set),r=R.useCallback(o=>(e.add(o),()=>e.delete(o)),[e]);return[R.useCallback(o=>{let{type:l,event:u}=o;e.forEach(c=>{var d;return(d=c[l])==null?void 0:d.call(c,u)})},[e]),r]}const aj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ij={onDragStart(e){let{active:r}=e;return"Picked up draggable item "+r.id+"."},onDragOver(e){let{active:r,over:a}=e;return a?"Draggable item "+r.id+" was moved over droppable area "+a.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(e){let{active:r,over:a}=e;return a?"Draggable item "+r.id+" was dropped over droppable area "+a.id:"Draggable item "+r.id+" was dropped."},onDragCancel(e){let{active:r}=e;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function oj(e){let{announcements:r=ij,container:a,hiddenTextDescribedById:o,screenReaderInstructions:l=aj}=e;const{announce:u,announcement:c}=nj(),d=th("DndLiveRegion"),[p,m]=R.useState(!1);if(R.useEffect(()=>{m(!0)},[]),VE(R.useMemo(()=>({onDragStart(y){let{active:x}=y;u(r.onDragStart({active:x}))},onDragMove(y){let{active:x,over:S}=y;r.onDragMove&&u(r.onDragMove({active:x,over:S}))},onDragOver(y){let{active:x,over:S}=y;u(r.onDragOver({active:x,over:S}))},onDragEnd(y){let{active:x,over:S}=y;u(r.onDragEnd({active:x,over:S}))},onDragCancel(y){let{active:x,over:S}=y;u(r.onDragCancel({active:x,over:S}))}}),[u,r])),!p)return null;const b=He.createElement(He.Fragment,null,He.createElement(ej,{id:o,value:l.draggable}),He.createElement(tj,{id:d,announcement:c}));return a?ua.createPortal(b,a):b}var Zn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Zn||(Zn={}));function Rd(){}const Aa=Object.freeze({x:0,y:0});function sj(e,r){const a=Ad(e);if(!a)return"0 0";const o={x:(a.x-r.left)/r.width*100,y:(a.y-r.top)/r.height*100};return o.x+"% "+o.y+"%"}function lj(e,r){let{data:{value:a}}=e,{data:{value:o}}=r;return o-a}function uj(e,r){if(!e||e.length===0)return null;const[a]=e;return a[r]}function cj(e,r){const a=Math.max(r.top,e.top),o=Math.max(r.left,e.left),l=Math.min(r.left+r.width,e.left+e.width),u=Math.min(r.top+r.height,e.top+e.height),c=l-o,d=u-a;if(o<l&&a<u){const p=r.width*r.height,m=e.width*e.height,b=c*d,y=b/(p+m-b);return Number(y.toFixed(4))}return 0}const fj=e=>{let{collisionRect:r,droppableRects:a,droppableContainers:o}=e;const l=[];for(const u of o){const{id:c}=u,d=a.get(c);if(d){const p=cj(d,r);p>0&&l.push({id:c,data:{droppableContainer:u,value:p}})}}return l.sort(lj)};function dj(e,r,a){return{...e,scaleX:r&&a?r.width/a.width:1,scaleY:r&&a?r.height/a.height:1}}function YE(e,r){return e&&r?{x:e.left-r.left,y:e.top-r.top}:Aa}function hj(e){return function(a){for(var o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];return l.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...a})}}const pj=hj(1);function IE(e){if(e.startsWith("matrix3d(")){const r=e.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(e.startsWith("matrix(")){const r=e.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function mj(e,r,a){const o=IE(r);if(!o)return e;const{scaleX:l,scaleY:u,x:c,y:d}=o,p=e.left-c-(1-l)*parseFloat(a),m=e.top-d-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),b=l?e.width/l:e.width,y=u?e.height/u:e.height;return{width:b,height:y,top:m,right:p+b,bottom:m+y,left:p}}const gj={ignoreTransform:!1};function bc(e,r){r===void 0&&(r=gj);let a=e.getBoundingClientRect();if(r.ignoreTransform){const{transform:m,transformOrigin:b}=xr(e).getComputedStyle(e);m&&(a=mj(a,m,b))}const{top:o,left:l,width:u,height:c,bottom:d,right:p}=a;return{top:o,left:l,width:u,height:c,bottom:d,right:p}}function D1(e){return bc(e,{ignoreTransform:!0})}function vj(e){const r=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:r,bottom:a,width:r,height:a}}function yj(e,r){return r===void 0&&(r=xr(e).getComputedStyle(e)),r.position==="fixed"}function bj(e,r){r===void 0&&(r=xr(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=r[l];return typeof u=="string"?a.test(u):!1})}function nv(e,r){const a=[];function o(l){if(r!=null&&a.length>=r||!l)return a;if(ev(l)&&l.scrollingElement!=null&&!a.includes(l.scrollingElement))return a.push(l.scrollingElement),a;if(!vc(l)||UE(l)||a.includes(l))return a;const u=xr(e).getComputedStyle(l);return l!==e&&bj(l,u)&&a.push(l),yj(l,u)?a:o(l.parentNode)}return e?o(e):a}function XE(e){const[r]=nv(e,1);return r??null}function _m(e){return!Jd||!e?null:Tl(e)?e:Jg(e)?ev(e)||e===Ol(e).scrollingElement?window:vc(e)?e:null:null}function KE(e){return Tl(e)?e.scrollX:e.scrollLeft}function GE(e){return Tl(e)?e.scrollY:e.scrollTop}function hg(e){return{x:KE(e),y:GE(e)}}var nr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(nr||(nr={}));function PE(e){return!Jd||!e?!1:e===document.scrollingElement}function ZE(e){const r={x:0,y:0},a=PE(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},l=e.scrollTop<=r.y,u=e.scrollLeft<=r.x,c=e.scrollTop>=o.y,d=e.scrollLeft>=o.x;return{isTop:l,isLeft:u,isBottom:c,isRight:d,maxScroll:o,minScroll:r}}const xj={x:.2,y:.2};function wj(e,r,a,o,l){let{top:u,left:c,right:d,bottom:p}=a;o===void 0&&(o=10),l===void 0&&(l=xj);const{isTop:m,isBottom:b,isLeft:y,isRight:x}=ZE(e),S={x:0,y:0},C={x:0,y:0},T={height:r.height*l.y,width:r.width*l.x};return!m&&u<=r.top+T.height?(S.y=nr.Backward,C.y=o*Math.abs((r.top+T.height-u)/T.height)):!b&&p>=r.bottom-T.height&&(S.y=nr.Forward,C.y=o*Math.abs((r.bottom-T.height-p)/T.height)),!x&&d>=r.right-T.width?(S.x=nr.Forward,C.x=o*Math.abs((r.right-T.width-d)/T.width)):!y&&c<=r.left+T.width&&(S.x=nr.Backward,C.x=o*Math.abs((r.left+T.width-c)/T.width)),{direction:S,speed:C}}function Sj(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:r,left:a,right:o,bottom:l}=e.getBoundingClientRect();return{top:r,left:a,right:o,bottom:l,width:e.clientWidth,height:e.clientHeight}}function QE(e){return e.reduce((r,a)=>hl(r,hg(a)),Aa)}function Ej(e){return e.reduce((r,a)=>r+KE(a),0)}function _j(e){return e.reduce((r,a)=>r+GE(a),0)}function FE(e,r){if(r===void 0&&(r=bc),!e)return;const{top:a,left:o,bottom:l,right:u}=r(e);XE(e)&&(l<=0||u<=0||a>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Cj=[["x",["left","right"],Ej],["y",["top","bottom"],_j]];class rv{constructor(r,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=nv(a),l=QE(o);this.rect={...r},this.width=r.width,this.height=r.height;for(const[u,c,d]of Cj)for(const p of c)Object.defineProperty(this,p,{get:()=>{const m=d(o),b=l[u]-m;return this.rect[p]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Uu{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...a)})},this.target=r}add(r,a,o){var l;(l=this.target)==null||l.addEventListener(r,a,o),this.listeners.push([r,a,o])}}function Nj(e){const{EventTarget:r}=xr(e);return e instanceof r?e:Ol(e)}function Cm(e,r){const a=Math.abs(e.x),o=Math.abs(e.y);return typeof r=="number"?Math.sqrt(a**2+o**2)>r:"x"in r&&"y"in r?a>r.x&&o>r.y:"x"in r?a>r.x:"y"in r?o>r.y:!1}var sa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(sa||(sa={}));function A1(e){e.preventDefault()}function Tj(e){e.stopPropagation()}var sn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(sn||(sn={}));const WE={start:[sn.Space,sn.Enter],cancel:[sn.Esc],end:[sn.Space,sn.Enter,sn.Tab]},Oj=(e,r)=>{let{currentCoordinates:a}=r;switch(e.code){case sn.Right:return{...a,x:a.x+25};case sn.Left:return{...a,x:a.x-25};case sn.Down:return{...a,y:a.y+25};case sn.Up:return{...a,y:a.y-25}}};class JE{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:a}}=r;this.props=r,this.listeners=new Uu(Ol(a)),this.windowListeners=new Uu(xr(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(sa.Resize,this.handleCancel),this.windowListeners.add(sa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(sa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:a}=this.props,o=r.node.current;o&&FE(o),a(Aa)}handleKeyDown(r){if(tv(r)){const{active:a,context:o,options:l}=this.props,{keyboardCodes:u=WE,coordinateGetter:c=Oj,scrollBehavior:d="smooth"}=l,{code:p}=r;if(u.end.includes(p)){this.handleEnd(r);return}if(u.cancel.includes(p)){this.handleCancel(r);return}const{collisionRect:m}=o.current,b=m?{x:m.left,y:m.top}:Aa;this.referenceCoordinates||(this.referenceCoordinates=b);const y=c(r,{active:a,context:o.current,currentCoordinates:b});if(y){const x=Dd(y,b),S={x:0,y:0},{scrollableAncestors:C}=o.current;for(const T of C){const B=r.code,{isTop:z,isRight:V,isLeft:A,isBottom:N,maxScroll:K,minScroll:L}=ZE(T),$=Sj(T),P={x:Math.min(B===sn.Right?$.right-$.width/2:$.right,Math.max(B===sn.Right?$.left:$.left+$.width/2,y.x)),y:Math.min(B===sn.Down?$.bottom-$.height/2:$.bottom,Math.max(B===sn.Down?$.top:$.top+$.height/2,y.y))},W=B===sn.Right&&!V||B===sn.Left&&!A,fe=B===sn.Down&&!N||B===sn.Up&&!z;if(W&&P.x!==y.x){const J=T.scrollLeft+x.x,G=B===sn.Right&&J<=K.x||B===sn.Left&&J>=L.x;if(G&&!x.y){T.scrollTo({left:J,behavior:d});return}G?S.x=T.scrollLeft-J:S.x=B===sn.Right?T.scrollLeft-K.x:T.scrollLeft-L.x,S.x&&T.scrollBy({left:-S.x,behavior:d});break}else if(fe&&P.y!==y.y){const J=T.scrollTop+x.y,G=B===sn.Down&&J<=K.y||B===sn.Up&&J>=L.y;if(G&&!x.x){T.scrollTo({top:J,behavior:d});return}G?S.y=T.scrollTop-J:S.y=B===sn.Down?T.scrollTop-K.y:T.scrollTop-L.y,S.y&&T.scrollBy({top:-S.y,behavior:d});break}}this.handleMove(r,hl(Dd(y,this.referenceCoordinates),S))}}}handleMove(r,a){const{onMove:o}=this.props;r.preventDefault(),o(a)}handleEnd(r){const{onEnd:a}=this.props;r.preventDefault(),this.detach(),a()}handleCancel(r){const{onCancel:a}=this.props;r.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}JE.activators=[{eventName:"onKeyDown",handler:(e,r,a)=>{let{keyboardCodes:o=WE,onActivation:l}=r,{active:u}=a;const{code:c}=e.nativeEvent;if(o.start.includes(c)){const d=u.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function R1(e){return!!(e&&"distance"in e)}function j1(e){return!!(e&&"delay"in e)}class av{constructor(r,a,o){var l;o===void 0&&(o=Nj(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=a;const{event:u}=r,{target:c}=u;this.props=r,this.events=a,this.document=Ol(c),this.documentListeners=new Uu(this.document),this.listeners=new Uu(o),this.windowListeners=new Uu(xr(c)),this.initialCoordinates=(l=Ad(u))!=null?l:Aa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:a,bypassActivationConstraint:o}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(sa.Resize,this.handleCancel),this.windowListeners.add(sa.DragStart,A1),this.windowListeners.add(sa.VisibilityChange,this.handleCancel),this.windowListeners.add(sa.ContextMenu,A1),this.documentListeners.add(sa.Keydown,this.handleKeydown),a){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(j1(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(R1(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,a){const{active:o,onPending:l}=this.props;l(o,r,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:r}=this,{onStart:a}=this.props;r&&(this.activated=!0,this.documentListeners.add(sa.Click,Tj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(sa.SelectionChange,this.removeTextSelection),a(r))}handleMove(r){var a;const{activated:o,initialCoordinates:l,props:u}=this,{onMove:c,options:{activationConstraint:d}}=u;if(!l)return;const p=(a=Ad(r))!=null?a:Aa,m=Dd(l,p);if(!o&&d){if(R1(d)){if(d.tolerance!=null&&Cm(m,d.tolerance))return this.handleCancel();if(Cm(m,d.distance))return this.handleStart()}if(j1(d)&&Cm(m,d.tolerance))return this.handleCancel();this.handlePending(d,m);return}r.cancelable&&r.preventDefault(),c(p)}handleEnd(){const{onAbort:r,onEnd:a}=this.props;this.detach(),this.activated||r(this.props.active),a()}handleCancel(){const{onAbort:r,onCancel:a}=this.props;this.detach(),this.activated||r(this.props.active),a()}handleKeydown(r){r.code===sn.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const Mj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class e2 extends av{constructor(r){const{event:a}=r,o=Ol(a.target);super(r,Mj,o)}}e2.activators=[{eventName:"onPointerDown",handler:(e,r)=>{let{nativeEvent:a}=e,{onActivation:o}=r;return!a.isPrimary||a.button!==0?!1:(o?.({event:a}),!0)}}];const Dj={move:{name:"mousemove"},end:{name:"mouseup"}};var pg;(function(e){e[e.RightClick=2]="RightClick"})(pg||(pg={}));class Aj extends av{constructor(r){super(r,Dj,Ol(r.event.target))}}Aj.activators=[{eventName:"onMouseDown",handler:(e,r)=>{let{nativeEvent:a}=e,{onActivation:o}=r;return a.button===pg.RightClick?!1:(o?.({event:a}),!0)}}];const Nm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Rj extends av{constructor(r){super(r,Nm)}static setup(){return window.addEventListener(Nm.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(Nm.move.name,r)};function r(){}}}Rj.activators=[{eventName:"onTouchStart",handler:(e,r)=>{let{nativeEvent:a}=e,{onActivation:o}=r;const{touches:l}=a;return l.length>1?!1:(o?.({event:a}),!0)}}];var qu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(qu||(qu={}));var jd;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(jd||(jd={}));function jj(e){let{acceleration:r,activator:a=qu.Pointer,canScroll:o,draggingRect:l,enabled:u,interval:c=5,order:d=jd.TreeOrder,pointerCoordinates:p,scrollableAncestors:m,scrollableAncestorRects:b,delta:y,threshold:x}=e;const S=Bj({delta:y,disabled:!u}),[C,T]=Z4(),B=R.useRef({x:0,y:0}),z=R.useRef({x:0,y:0}),V=R.useMemo(()=>{switch(a){case qu.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case qu.DraggableRect:return l}},[a,l,p]),A=R.useRef(null),N=R.useCallback(()=>{const L=A.current;if(!L)return;const $=B.current.x*z.current.x,P=B.current.y*z.current.y;L.scrollBy($,P)},[]),K=R.useMemo(()=>d===jd.TreeOrder?[...m].reverse():m,[d,m]);R.useEffect(()=>{if(!u||!m.length||!V){T();return}for(const L of K){if(o?.(L)===!1)continue;const $=m.indexOf(L),P=b[$];if(!P)continue;const{direction:W,speed:fe}=wj(L,P,V,r,x);for(const J of["x","y"])S[J][W[J]]||(fe[J]=0,W[J]=0);if(fe.x>0||fe.y>0){T(),A.current=L,C(N,c),B.current=fe,z.current=W;return}}B.current={x:0,y:0},z.current={x:0,y:0},T()},[r,N,o,T,u,c,JSON.stringify(V),JSON.stringify(S),C,m,K,b,JSON.stringify(x)])}const zj={x:{[nr.Backward]:!1,[nr.Forward]:!1},y:{[nr.Backward]:!1,[nr.Forward]:!1}};function Bj(e){let{delta:r,disabled:a}=e;const o=Md(r);return yc(l=>{if(a||!o||!l)return zj;const u={x:Math.sign(r.x-o.x),y:Math.sign(r.y-o.y)};return{x:{[nr.Backward]:l.x[nr.Backward]||u.x===-1,[nr.Forward]:l.x[nr.Forward]||u.x===1},y:{[nr.Backward]:l.y[nr.Backward]||u.y===-1,[nr.Forward]:l.y[nr.Forward]||u.y===1}}},[a,r,o])}function Hj(e,r){const a=r!=null?e.get(r):void 0,o=a?a.node.current:null;return yc(l=>{var u;return r==null?null:(u=o??l)!=null?u:null},[o,r])}function kj(e,r){return R.useMemo(()=>e.reduce((a,o)=>{const{sensor:l}=o,u=l.activators.map(c=>({eventName:c.eventName,handler:r(c.handler,o)}));return[...a,...u]},[]),[e,r])}var ac;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ac||(ac={}));var mg;(function(e){e.Optimized="optimized"})(mg||(mg={}));const z1=new Map;function Lj(e,r){let{dragging:a,dependencies:o,config:l}=r;const[u,c]=R.useState(null),{frequency:d,measure:p,strategy:m}=l,b=R.useRef(e),y=B(),x=nc(y),S=R.useCallback(function(z){z===void 0&&(z=[]),!x.current&&c(V=>V===null?z:V.concat(z.filter(A=>!V.includes(A))))},[x]),C=R.useRef(null),T=yc(z=>{if(y&&!a)return z1;if(!z||z===z1||b.current!==e||u!=null){const V=new Map;for(let A of e){if(!A)continue;if(u&&u.length>0&&!u.includes(A.id)&&A.rect.current){V.set(A.id,A.rect.current);continue}const N=A.node.current,K=N?new rv(p(N),N):null;A.rect.current=K,K&&V.set(A.id,K)}return V}return z},[e,u,a,y,p]);return R.useEffect(()=>{b.current=e},[e]),R.useEffect(()=>{y||S()},[a,y]),R.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),R.useEffect(()=>{y||typeof d!="number"||C.current!==null||(C.current=setTimeout(()=>{S(),C.current=null},d))},[d,y,S,...o]),{droppableRects:T,measureDroppableContainers:S,measuringScheduled:u!=null};function B(){switch(m){case ac.Always:return!1;case ac.BeforeDragging:return a;default:return!a}}}function iv(e,r){return yc(a=>e?a||(typeof r=="function"?r(e):e):null,[r,e])}function Uj(e,r){return iv(e,r)}function qj(e){let{callback:r,disabled:a}=e;const o=eh(r),l=R.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(o)},[o,a]);return R.useEffect(()=>()=>l?.disconnect(),[l]),l}function nh(e){let{callback:r,disabled:a}=e;const o=eh(r),l=R.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(o)},[a]);return R.useEffect(()=>()=>l?.disconnect(),[l]),l}function $j(e){return new rv(bc(e),e)}function B1(e,r,a){r===void 0&&(r=$j);const[o,l]=R.useState(null);function u(){l(p=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=p??a)!=null?m:null}const b=r(e);return JSON.stringify(p)===JSON.stringify(b)?p:b})}const c=qj({callback(p){if(e)for(const m of p){const{type:b,target:y}=m;if(b==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),d=nh({callback:u});return ji(()=>{u(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),o}function Vj(e){const r=iv(e);return YE(e,r)}const H1=[];function Yj(e){const r=R.useRef(e),a=yc(o=>e?o&&o!==H1&&e&&r.current&&e.parentNode===r.current.parentNode?o:nv(e):H1,[e]);return R.useEffect(()=>{r.current=e},[e]),a}function Ij(e){const[r,a]=R.useState(null),o=R.useRef(e),l=R.useCallback(u=>{const c=_m(u.target);c&&a(d=>d?(d.set(c,hg(c)),new Map(d)):null)},[]);return R.useEffect(()=>{const u=o.current;if(e!==u){c(u);const d=e.map(p=>{const m=_m(p);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,hg(m)]):null}).filter(p=>p!=null);a(d.length?new Map(d):null),o.current=e}return()=>{c(e),c(u)};function c(d){d.forEach(p=>{const m=_m(p);m?.removeEventListener("scroll",l)})}},[l,e]),R.useMemo(()=>e.length?r?Array.from(r.values()).reduce((u,c)=>hl(u,c),Aa):QE(e):Aa,[e,r])}function k1(e,r){r===void 0&&(r=[]);const a=R.useRef(null);return R.useEffect(()=>{a.current=null},r),R.useEffect(()=>{const o=e!==Aa;o&&!a.current&&(a.current=e),!o&&a.current&&(a.current=null)},[e]),a.current?Dd(e,a.current):Aa}function Xj(e){R.useEffect(()=>{if(!Jd)return;const r=e.map(a=>{let{sensor:o}=a;return o.setup==null?void 0:o.setup()});return()=>{for(const a of r)a?.()}},e.map(r=>{let{sensor:a}=r;return a}))}function Kj(e,r){return R.useMemo(()=>e.reduce((a,o)=>{let{eventName:l,handler:u}=o;return a[l]=c=>{u(c,r)},a},{}),[e,r])}function t2(e){return R.useMemo(()=>e?vj(e):null,[e])}const L1=[];function Gj(e,r){r===void 0&&(r=bc);const[a]=e,o=t2(a?xr(a):null),[l,u]=R.useState(L1);function c(){u(()=>e.length?e.map(p=>PE(p)?o:new rv(r(p),p)):L1)}const d=nh({callback:c});return ji(()=>{d?.disconnect(),c(),e.forEach(p=>d?.observe(p))},[e]),l}function n2(e){if(!e)return null;if(e.children.length>1)return e;const r=e.children[0];return vc(r)?r:e}function Pj(e){let{measure:r}=e;const[a,o]=R.useState(null),l=R.useCallback(m=>{for(const{target:b}of m)if(vc(b)){o(y=>{const x=r(b);return y?{...y,width:x.width,height:x.height}:x});break}},[r]),u=nh({callback:l}),c=R.useCallback(m=>{const b=n2(m);u?.disconnect(),b&&u?.observe(b),o(b?r(b):null)},[r,u]),[d,p]=Od(c);return R.useMemo(()=>({nodeRef:d,rect:a,setRef:p}),[a,d,p])}const Zj=[{sensor:e2,options:{}},{sensor:JE,options:{}}],Qj={current:{}},ad={draggable:{measure:D1},droppable:{measure:D1,strategy:ac.WhileDragging,frequency:mg.Optimized},dragOverlay:{measure:bc}};class $u extends Map{get(r){var a;return r!=null&&(a=super.get(r))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:a}=r;return!a})}getNodeFor(r){var a,o;return(a=(o=this.get(r))==null?void 0:o.node.current)!=null?a:void 0}}const Fj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $u,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Rd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ad,measureDroppableContainers:Rd,windowRect:null,measuringScheduled:!1},r2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Rd,draggableNodes:new Map,over:null,measureDroppableContainers:Rd},xc=R.createContext(r2),a2=R.createContext(Fj);function Wj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $u}}}function Jj(e,r){switch(r.type){case Zn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case Zn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:r.coordinates.x-e.draggable.initialCoordinates.x,y:r.coordinates.y-e.draggable.initialCoordinates.y}}};case Zn.DragEnd:case Zn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Zn.RegisterDroppable:{const{element:a}=r,{id:o}=a,l=new $u(e.droppable.containers);return l.set(o,a),{...e,droppable:{...e.droppable,containers:l}}}case Zn.SetDroppableDisabled:{const{id:a,key:o,disabled:l}=r,u=e.droppable.containers.get(a);if(!u||o!==u.key)return e;const c=new $u(e.droppable.containers);return c.set(a,{...u,disabled:l}),{...e,droppable:{...e.droppable,containers:c}}}case Zn.UnregisterDroppable:{const{id:a,key:o}=r,l=e.droppable.containers.get(a);if(!l||o!==l.key)return e;const u=new $u(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function ez(e){let{disabled:r}=e;const{active:a,activatorEvent:o,draggableNodes:l}=R.useContext(xc),u=Md(o),c=Md(a?.id);return R.useEffect(()=>{if(!r&&!o&&u&&c!=null){if(!tv(u)||document.activeElement===u.target)return;const d=l.get(c);if(!d)return;const{activatorNode:p,node:m}=d;if(!p.current&&!m.current)return;requestAnimationFrame(()=>{for(const b of[p.current,m.current]){if(!b)continue;const y=W4(b);if(y){y.focus();break}}})}},[o,r,l,c,u]),null}function i2(e,r){let{transform:a,...o}=r;return e!=null&&e.length?e.reduce((l,u)=>u({transform:l,...o}),a):a}function tz(e){return R.useMemo(()=>({draggable:{...ad.draggable,...e?.draggable},droppable:{...ad.droppable,...e?.droppable},dragOverlay:{...ad.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function nz(e){let{activeNode:r,measure:a,initialRect:o,config:l=!0}=e;const u=R.useRef(!1),{x:c,y:d}=typeof l=="boolean"?{x:l,y:l}:l;ji(()=>{if(!c&&!d||!r){u.current=!1;return}if(u.current||!o)return;const m=r?.node.current;if(!m||m.isConnected===!1)return;const b=a(m),y=YE(b,o);if(c||(y.x=0),d||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const x=XE(m);x&&x.scrollBy({top:y.y,left:y.x})}},[r,c,d,o,a])}const rh=R.createContext({...Aa,scaleX:1,scaleY:1});var bo;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(bo||(bo={}));const rz=R.memo(function(r){var a,o,l,u;let{id:c,accessibility:d,autoScroll:p=!0,children:m,sensors:b=Zj,collisionDetection:y=fj,measuring:x,modifiers:S,...C}=r;const T=R.useReducer(Jj,void 0,Wj),[B,z]=T,[V,A]=rj(),[N,K]=R.useState(bo.Uninitialized),L=N===bo.Initialized,{draggable:{active:$,nodes:P,translate:W},droppable:{containers:fe}}=B,J=$!=null?P.get($):null,G=R.useRef({initial:null,translated:null}),re=R.useMemo(()=>{var wt;return $!=null?{id:$,data:(wt=J?.data)!=null?wt:Qj,rect:G}:null},[$,J]),k=R.useRef(null),[Y,D]=R.useState(null),[M,I]=R.useState(null),Q=nc(C,Object.values(C)),ne=th("DndDescribedBy",c),q=R.useMemo(()=>fe.getEnabled(),[fe]),Z=tz(x),{droppableRects:ae,measureDroppableContainers:de,measuringScheduled:ye}=Lj(q,{dragging:L,dependencies:[W.x,W.y],config:Z.droppable}),Ce=Hj(P,$),Ae=R.useMemo(()=>M?Ad(M):null,[M]),Te=Yt(),we=Uj(Ce,Z.draggable.measure);nz({activeNode:$!=null?P.get($):null,config:Te.layoutShiftCompensation,initialRect:we,measure:Z.draggable.measure});const Ge=B1(Ce,Z.draggable.measure,we),Fe=B1(Ce?Ce.parentElement:null),ke=R.useRef({activatorEvent:null,active:null,activeNode:Ce,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:fe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Qe=fe.getNodeFor((a=ke.current.over)==null?void 0:a.id),Xe=Pj({measure:Z.dragOverlay.measure}),st=(o=Xe.nodeRef.current)!=null?o:Ce,vt=L?(l=Xe.rect)!=null?l:Ge:null,rt=!!(Xe.nodeRef.current&&Xe.rect),St=Vj(rt?null:Ge),qt=t2(st?xr(st):null),ft=Yj(L?Qe??Ce:null),Dt=Gj(ft),At=i2(S,{transform:{x:W.x-St.x,y:W.y-St.y,scaleX:1,scaleY:1},activatorEvent:M,active:re,activeNodeRect:Ge,containerNodeRect:Fe,draggingNodeRect:vt,over:ke.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:ft,scrollableAncestorRects:Dt,windowRect:qt}),xt=Ae?hl(Ae,W):null,Vt=Ij(ft),Sn=k1(Vt),Pt=k1(Vt,[Ge]),Xt=hl(At,Sn),Ht=vt?pj(vt,At):null,gn=re&&Ht?y({active:re,collisionRect:Ht,droppableRects:ae,droppableContainers:q,pointerCoordinates:xt}):null,vn=uj(gn,"id"),[ln,an]=R.useState(null),jn=rt?At:hl(At,Pt),_e=dj(jn,(u=ln?.rect)!=null?u:null,Ge),qe=R.useRef(null),Me=R.useCallback((wt,nt)=>{let{sensor:Ke,options:ht}=nt;if(k.current==null)return;const yt=P.get(k.current);if(!yt)return;const Nt=wt.nativeEvent,$t=new Ke({active:k.current,activeNode:yt,event:Nt,options:ht,context:ke,onAbort(Tt){if(!P.get(Tt))return;const{onDragAbort:lt}=Q.current,ut={id:Tt};lt?.(ut),V({type:"onDragAbort",event:ut})},onPending(Tt,un,lt,ut){if(!P.get(Tt))return;const{onDragPending:Jt}=Q.current,yn={id:Tt,constraint:un,initialCoordinates:lt,offset:ut};Jt?.(yn),V({type:"onDragPending",event:yn})},onStart(Tt){const un=k.current;if(un==null)return;const lt=P.get(un);if(!lt)return;const{onDragStart:ut}=Q.current,zn={activatorEvent:Nt,active:{id:un,data:lt.data,rect:G}};ua.unstable_batchedUpdates(()=>{ut?.(zn),K(bo.Initializing),z({type:Zn.DragStart,initialCoordinates:Tt,active:un}),V({type:"onDragStart",event:zn}),D(qe.current),I(Nt)})},onMove(Tt){z({type:Zn.DragMove,coordinates:Tt})},onEnd:mt(Zn.DragEnd),onCancel:mt(Zn.DragCancel)});qe.current=$t;function mt(Tt){return async function(){const{active:lt,collisions:ut,over:zn,scrollAdjustedTranslate:Jt}=ke.current;let yn=null;if(lt&&Jt){const{cancelDrop:pr}=Q.current;yn={activatorEvent:Nt,active:lt,collisions:ut,delta:Jt,over:zn},Tt===Zn.DragEnd&&typeof pr=="function"&&await Promise.resolve(pr(yn))&&(Tt=Zn.DragCancel)}k.current=null,ua.unstable_batchedUpdates(()=>{z({type:Tt}),K(bo.Uninitialized),an(null),D(null),I(null),qe.current=null;const pr=Tt===Zn.DragEnd?"onDragEnd":"onDragCancel";if(yn){const ur=Q.current[pr];ur?.(yn),V({type:pr,event:yn})}})}}},[P]),gt=R.useCallback((wt,nt)=>(Ke,ht)=>{const yt=Ke.nativeEvent,Nt=P.get(ht);if(k.current!==null||!Nt||yt.dndKit||yt.defaultPrevented)return;const $t={active:Nt};wt(Ke,nt.options,$t)===!0&&(yt.dndKit={capturedBy:nt.sensor},k.current=ht,Me(Ke,nt))},[P,Me]),at=kj(b,gt);Xj(b),ji(()=>{Ge&&N===bo.Initializing&&K(bo.Initialized)},[Ge,N]),R.useEffect(()=>{const{onDragMove:wt}=Q.current,{active:nt,activatorEvent:Ke,collisions:ht,over:yt}=ke.current;if(!nt||!Ke)return;const Nt={active:nt,activatorEvent:Ke,collisions:ht,delta:{x:Xt.x,y:Xt.y},over:yt};ua.unstable_batchedUpdates(()=>{wt?.(Nt),V({type:"onDragMove",event:Nt})})},[Xt.x,Xt.y]),R.useEffect(()=>{const{active:wt,activatorEvent:nt,collisions:Ke,droppableContainers:ht,scrollAdjustedTranslate:yt}=ke.current;if(!wt||k.current==null||!nt||!yt)return;const{onDragOver:Nt}=Q.current,$t=ht.get(vn),mt=$t&&$t.rect.current?{id:$t.id,rect:$t.rect.current,data:$t.data,disabled:$t.disabled}:null,Tt={active:wt,activatorEvent:nt,collisions:Ke,delta:{x:yt.x,y:yt.y},over:mt};ua.unstable_batchedUpdates(()=>{an(mt),Nt?.(Tt),V({type:"onDragOver",event:Tt})})},[vn]),ji(()=>{ke.current={activatorEvent:M,active:re,activeNode:Ce,collisionRect:Ht,collisions:gn,droppableRects:ae,draggableNodes:P,draggingNode:st,draggingNodeRect:vt,droppableContainers:fe,over:ln,scrollableAncestors:ft,scrollAdjustedTranslate:Xt},G.current={initial:vt,translated:Ht}},[re,Ce,gn,Ht,P,st,vt,ae,fe,ln,ft,Xt]),jj({...Te,delta:W,draggingRect:Ht,pointerCoordinates:xt,scrollableAncestors:ft,scrollableAncestorRects:Dt});const Ze=R.useMemo(()=>({active:re,activeNode:Ce,activeNodeRect:Ge,activatorEvent:M,collisions:gn,containerNodeRect:Fe,dragOverlay:Xe,draggableNodes:P,droppableContainers:fe,droppableRects:ae,over:ln,measureDroppableContainers:de,scrollableAncestors:ft,scrollableAncestorRects:Dt,measuringConfiguration:Z,measuringScheduled:ye,windowRect:qt}),[re,Ce,Ge,M,gn,Fe,Xe,P,fe,ae,ln,de,ft,Dt,Z,ye,qt]),je=R.useMemo(()=>({activatorEvent:M,activators:at,active:re,activeNodeRect:Ge,ariaDescribedById:{draggable:ne},dispatch:z,draggableNodes:P,over:ln,measureDroppableContainers:de}),[M,at,re,Ge,z,ne,P,ln,de]);return He.createElement($E.Provider,{value:A},He.createElement(xc.Provider,{value:je},He.createElement(a2.Provider,{value:Ze},He.createElement(rh.Provider,{value:_e},m)),He.createElement(ez,{disabled:d?.restoreFocus===!1})),He.createElement(oj,{...d,hiddenTextDescribedById:ne}));function Yt(){const wt=Y?.autoScrollEnabled===!1,nt=typeof p=="object"?p.enabled===!1:p===!1,Ke=L&&!wt&&!nt;return typeof p=="object"?{...p,enabled:Ke}:{enabled:Ke}}}),az=R.createContext(null),U1="button",iz="Draggable";function oz(e){let{id:r,data:a,disabled:o=!1,attributes:l}=e;const u=th(iz),{activators:c,activatorEvent:d,active:p,activeNodeRect:m,ariaDescribedById:b,draggableNodes:y,over:x}=R.useContext(xc),{role:S=U1,roleDescription:C="draggable",tabIndex:T=0}=l??{},B=p?.id===r,z=R.useContext(B?rh:az),[V,A]=Od(),[N,K]=Od(),L=Kj(c,r),$=nc(a);ji(()=>(y.set(r,{id:r,key:u,node:V,activatorNode:N,data:$}),()=>{const W=y.get(r);W&&W.key===u&&y.delete(r)}),[y,r]);const P=R.useMemo(()=>({role:S,tabIndex:T,"aria-disabled":o,"aria-pressed":B&&S===U1?!0:void 0,"aria-roledescription":C,"aria-describedby":b.draggable}),[o,S,T,B,C,b.draggable]);return{active:p,activatorEvent:d,activeNodeRect:m,attributes:P,isDragging:B,listeners:o?void 0:L,node:V,over:x,setNodeRef:A,setActivatorNodeRef:K,transform:z}}function sz(){return R.useContext(a2)}const lz="Droppable",uz={timeout:25};function cz(e){let{data:r,disabled:a=!1,id:o,resizeObserverConfig:l}=e;const u=th(lz),{active:c,dispatch:d,over:p,measureDroppableContainers:m}=R.useContext(xc),b=R.useRef({disabled:a}),y=R.useRef(!1),x=R.useRef(null),S=R.useRef(null),{disabled:C,updateMeasurementsFor:T,timeout:B}={...uz,...l},z=nc(T??o),V=R.useCallback(()=>{if(!y.current){y.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{m(Array.isArray(z.current)?z.current:[z.current]),S.current=null},B)},[B]),A=nh({callback:V,disabled:C||!c}),N=R.useCallback((P,W)=>{A&&(W&&(A.unobserve(W),y.current=!1),P&&A.observe(P))},[A]),[K,L]=Od(N),$=nc(r);return R.useEffect(()=>{!A||!K.current||(A.disconnect(),y.current=!1,A.observe(K.current))},[K,A]),R.useEffect(()=>(d({type:Zn.RegisterDroppable,element:{id:o,key:u,disabled:a,node:K,rect:x,data:$}}),()=>d({type:Zn.UnregisterDroppable,key:u,id:o})),[o]),R.useEffect(()=>{a!==b.current.disabled&&(d({type:Zn.SetDroppableDisabled,id:o,key:u,disabled:a}),b.current.disabled=a)},[o,u,a,d]),{active:c,rect:x,isOver:p?.id===o,node:K,over:p,setNodeRef:L}}function fz(e){let{animation:r,children:a}=e;const[o,l]=R.useState(null),[u,c]=R.useState(null),d=Md(a);return!a&&!o&&d&&l(d),ji(()=>{if(!u)return;const p=o?.key,m=o?.props.id;if(p==null||m==null){l(null);return}Promise.resolve(r(m,u)).then(()=>{l(null)})},[r,o,u]),He.createElement(He.Fragment,null,a,o?R.cloneElement(o,{ref:c}):null)}const dz={x:0,y:0,scaleX:1,scaleY:1};function hz(e){let{children:r}=e;return He.createElement(xc.Provider,{value:r2},He.createElement(rh.Provider,{value:dz},r))}const pz={position:"fixed",touchAction:"none"},mz=e=>tv(e)?"transform 250ms ease":void 0,gz=R.forwardRef((e,r)=>{let{as:a,activatorEvent:o,adjustScale:l,children:u,className:c,rect:d,style:p,transform:m,transition:b=mz}=e;if(!d)return null;const y=l?m:{...m,scaleX:1,scaleY:1},x={...pz,width:d.width,height:d.height,top:d.top,left:d.left,transform:rc.Transform.toString(y),transformOrigin:l&&o?sj(o,d):void 0,transition:typeof b=="function"?b(o):b,...p};return He.createElement(a,{className:c,style:x,ref:r},u)}),vz=e=>r=>{let{active:a,dragOverlay:o}=r;const l={},{styles:u,className:c}=e;if(u!=null&&u.active)for(const[d,p]of Object.entries(u.active))p!==void 0&&(l[d]=a.node.style.getPropertyValue(d),a.node.style.setProperty(d,p));if(u!=null&&u.dragOverlay)for(const[d,p]of Object.entries(u.dragOverlay))p!==void 0&&o.node.style.setProperty(d,p);return c!=null&&c.active&&a.node.classList.add(c.active),c!=null&&c.dragOverlay&&o.node.classList.add(c.dragOverlay),function(){for(const[p,m]of Object.entries(l))a.node.style.setProperty(p,m);c!=null&&c.active&&a.node.classList.remove(c.active)}},yz=e=>{let{transform:{initial:r,final:a}}=e;return[{transform:rc.Transform.toString(r)},{transform:rc.Transform.toString(a)}]},bz={duration:250,easing:"ease",keyframes:yz,sideEffects:vz({styles:{active:{opacity:"0"}}})};function xz(e){let{config:r,draggableNodes:a,droppableContainers:o,measuringConfiguration:l}=e;return eh((u,c)=>{if(r===null)return;const d=a.get(u);if(!d)return;const p=d.node.current;if(!p)return;const m=n2(c);if(!m)return;const{transform:b}=xr(c).getComputedStyle(c),y=IE(b);if(!y)return;const x=typeof r=="function"?r:wz(r);return FE(p,l.draggable.measure),x({active:{id:u,data:d.data,node:p,rect:l.draggable.measure(p)},draggableNodes:a,dragOverlay:{node:c,rect:l.dragOverlay.measure(m)},droppableContainers:o,measuringConfiguration:l,transform:y})})}function wz(e){const{duration:r,easing:a,sideEffects:o,keyframes:l}={...bz,...e};return u=>{let{active:c,dragOverlay:d,transform:p,...m}=u;if(!r)return;const b={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},y={scaleX:p.scaleX!==1?c.rect.width*p.scaleX/d.rect.width:1,scaleY:p.scaleY!==1?c.rect.height*p.scaleY/d.rect.height:1},x={x:p.x-b.x,y:p.y-b.y,...y},S=l({...m,active:c,dragOverlay:d,transform:{initial:p,final:x}}),[C]=S,T=S[S.length-1];if(JSON.stringify(C)===JSON.stringify(T))return;const B=o?.({active:c,dragOverlay:d,...m}),z=d.node.animate(S,{duration:r,easing:a,fill:"forwards"});return new Promise(V=>{z.onfinish=()=>{B?.(),V()}})}}let q1=0;function Sz(e){return R.useMemo(()=>{if(e!=null)return q1++,q1},[e])}const Ez=He.memo(e=>{let{adjustScale:r=!1,children:a,dropAnimation:o,style:l,transition:u,modifiers:c,wrapperElement:d="div",className:p,zIndex:m=999}=e;const{activatorEvent:b,active:y,activeNodeRect:x,containerNodeRect:S,draggableNodes:C,droppableContainers:T,dragOverlay:B,over:z,measuringConfiguration:V,scrollableAncestors:A,scrollableAncestorRects:N,windowRect:K}=sz(),L=R.useContext(rh),$=Sz(y?.id),P=i2(c,{activatorEvent:b,active:y,activeNodeRect:x,containerNodeRect:S,draggingNodeRect:B.rect,over:z,overlayNodeRect:B.rect,scrollableAncestors:A,scrollableAncestorRects:N,transform:L,windowRect:K}),W=iv(x),fe=xz({config:o,draggableNodes:C,droppableContainers:T,measuringConfiguration:V}),J=W?B.setRef:void 0;return He.createElement(hz,null,He.createElement(fz,{animation:fe},y&&$?He.createElement(gz,{key:$,id:y.id,ref:J,as:d,activatorEvent:b,adjustScale:r,className:p,transition:u,rect:W,style:{zIndex:m,...l},transform:P},a):null))}),o2=R.forwardRef(({nodeClass:e,className:r,...a},o)=>j.jsxs("div",{ref:o,className:`node-list-node-preview ${r??""}`,...a,children:[e.defNodeName,j.jsx(G4,{})]},e.defNodeName)),_z=({nodeClass:e,...r})=>{const{editNode:a}=R.useContext(Fg),o=R.useRef(null),l=e.tags.includes(br.User),{attributes:u,listeners:c,setNodeRef:d}=oz({id:e.defNodeName,data:{nodeClass:e}});return j.jsxs(j.Fragment,{children:[j.jsx(o2,{ref:p=>{d(p),o.current=p},nodeClass:e,...u,...c,...r}),j.jsxs(Pg,{elementContextMenuRef:o,children:[j.jsx(Gg,{children:e.defNodeName}),l&&j.jsxs(j.Fragment,{children:[j.jsxs(Da,{onClick:()=>a(e.defNodeName),style:{justifyContent:"space-between"},children:["Edit",j.jsx(K5,{})]}),j.jsxs(Da,{onClick:()=>console.log("Delete",e.defNodeName),style:{justifyContent:"space-between"},children:["Delete",j.jsx(ME,{})]}),j.jsx(_d,{label:"Graph Id",children:j.jsx(Da,{children:pn.cache.userNodes[e.defNodeName]?.graphId})})]}),j.jsx(_d,{label:"Tags",children:e.tags.filter(p=>p!==br.All).map(p=>j.jsx(Da,{children:p},p))})]})]})},Cz=()=>{const{nodeList:e}=R.useContext(Wg);return j.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(r=>j.jsx(_z,{nodeClass:r},r.defNodeName))})},Nz=()=>{const{createNode:e}=R.useContext(Fg);return j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[j.jsx("div",{style:{flex:"1"},children:j.jsx(Tz,{})}),j.jsx(Pd,{content:"Create Node",placement:"top",arrow:!1,animation:"fade",duration:[400,250],children:j.jsx("button",{className:"main",onClick:e,children:j.jsx(K4,{style:{transform:"translateY(-1px)"}})})})]})},Tz=()=>{const e=o4,{tag:r,setTag:a}=R.useContext(Wg),[o,l]=R.useState(!1),u=R.useRef(null),c=d=>{const p=d.relatedTarget;(!p||!u.current?.contains(p))&&l(!1)};return j.jsxs("div",{className:"dropdown",ref:u,style:{position:"relative"},children:[j.jsx("div",{style:{display:"flex"},children:j.jsxs("button",{className:"trigger",style:{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1",padding:"0 10px",height:"30px",background:"#1d1d20",zIndex:"1001"},onClick:()=>l(d=>!d),onBlurCapture:c,children:[r,j.jsx(d4,{})]})}),o&&j.jsx("div",{style:{position:"absolute",top:"calc(100% + 5px)",display:"flex",flexDirection:"column",padding:0,margin:0,zIndex:1e3,boxShadow:"#02021d 2px 2px 15px 0px",width:"100%",background:"#1b191c",overflow:"hidden",borderRadius:"8px"},children:e.map(d=>j.jsx("div",{className:`option ${r===d?"selected":""}`,style:{padding:"3px 10px"},onMouseDown:()=>{a(d),l(!1)},children:d},d))})]})};function Oz(e){return Nn({attr:{t:"1569683635191",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"path",attr:{d:"M843.5 737.4c-12.4-75.2-79.2-129.1-155.3-125.4S550.9 676 546 752c-153.5-4.8-208-40.7-199.1-113.7 3.3-27.3 19.8-41.9 50.1-49 18.4-4.3 38.8-4.9 57.3-3.2 1.7 0.2 3.5 0.3 5.2 0.5 11.3 2.7 22.8 5 34.3 6.8 34.1 5.6 68.8 8.4 101.8 6.6 92.8-5 156-45.9 159.2-132.7 3.1-84.1-54.7-143.7-147.9-183.6-29.9-12.8-61.6-22.7-93.3-30.2-14.3-3.4-26.3-5.7-35.2-7.2-7.9-75.9-71.5-133.8-147.8-134.4-76.3-0.6-140.9 56.1-150.1 131.9s40 146.3 114.2 163.9c74.2 17.6 149.9-23.3 175.7-95.1 9.4 1.7 18.7 3.6 28 5.8 28.2 6.6 56.4 15.4 82.4 26.6 70.7 30.2 109.3 70.1 107.5 119.9-1.6 44.6-33.6 65.2-96.2 68.6-27.5 1.5-57.6-0.9-87.3-5.8-8.3-1.4-15.9-2.8-22.6-4.3-3.9-0.8-6.6-1.5-7.8-1.8l-3.1-0.6c-2.2-0.3-5.9-0.8-10.7-1.3-25-2.3-52.1-1.5-78.5 4.6-55.2 12.9-93.9 47.2-101.1 105.8-15.7 126.2 78.6 184.7 276 188.9 29.1 70.4 106.4 107.9 179.6 87 73.3-20.9 119.3-93.4 106.9-168.6zM329.1 345.2c-46 0-83.3-37.3-83.3-83.3s37.3-83.3 83.3-83.3 83.3 37.3 83.3 83.3-37.3 83.3-83.3 83.3zM695.6 845c-46 0-83.3-37.3-83.3-83.3s37.3-83.3 83.3-83.3 83.3 37.3 83.3 83.3-37.3 83.3-83.3 83.3z"},child:[]}]})(e)}function $1(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function V1(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}function Mz(e){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 105c-101.8 0-188.4 62.4-224 151 35.6 88.6 122.2 151 224 151s188.4-62.4 224-151c-35.6-88.6-122.2-151-224-151zm0 251.7c-56 0-101.8-45.3-101.8-100.7S200 155.3 256 155.3 357.8 200.6 357.8 256 312 356.7 256 356.7zm0-161.1c-33.6 0-61.1 27.2-61.1 60.4s27.5 60.4 61.1 60.4 61.1-27.2 61.1-60.4-27.5-60.4-61.1-60.4z"},child:[]}]})(e)}const Dz=({tabBarStartExtraElt:e,tabBarEndExtraElt:r,tabs:a})=>{const[o,l]=R.useState(a[0].id),u=R.useRef(null),c=a.findIndex(d=>d.id===o);return j.jsxs("div",{className:"tabs",style:{display:"flex",flexDirection:"column",height:"100%"},children:[j.jsxs("div",{style:{display:"flex"},children:[e&&j.jsx("div",{style:{display:"flex",alignItems:"end",paddingLeft:"4px"},children:e}),j.jsx("div",{style:{display:"flex",gap:"8px",padding:"0 4px",overflow:"clip",flex:"1"},children:a.map(d=>j.jsx("button",{className:`tab-button ${o===d.id?"active-tab":""}`,onClick:()=>l(d.id),style:{position:"relative",bottom:"-8px",padding:"5px 8px",flex:"1",display:"flex",justifyContent:"center"},children:d.icon},d.id))}),r&&j.jsx("div",{style:{display:"flex",alignItems:"end",paddingRight:"4px"},children:r})]}),j.jsx("div",{ref:u,style:{height:"100%",width:"100%",overflow:"hidden"},children:j.jsx("div",{style:{display:"flex",transform:`translateX(-${c*100/a.length}%)`,transition:"transform 0.3s ease",width:`${a.length*100}%`,height:"100%"},children:a.map(d=>j.jsxs("div",{style:{width:`${100/a.length}%`,flexShrink:0,display:"flex",flexDirection:"column"},children:[j.jsxs("div",{className:"header",style:{padding:"5px 10px 10px"},children:[j.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:d.label}),d.header]}),j.jsx("div",{style:{overflowY:"auto",flex:"1",padding:"10px"},children:d.content})]},d.id))})})]})};function Az(e){return Nn({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M160,112h48a16,16,0,0,0,16-16V48a16,16,0,0,0-16-16H160a16,16,0,0,0-16,16V64H128a24,24,0,0,0-24,24v32H72v-8A16,16,0,0,0,56,96H24A16,16,0,0,0,8,112v32a16,16,0,0,0,16,16H56a16,16,0,0,0,16-16v-8h32v32a24,24,0,0,0,24,24h16v16a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V160a16,16,0,0,0-16-16H160a16,16,0,0,0-16,16v16H128a8,8,0,0,1-8-8V88a8,8,0,0,1,8-8h16V96A16,16,0,0,0,160,112ZM56,144H24V112H56v32Zm104,16h48v48H160Zm0-112h48V96H160Z"},child:[]}]})(e)}const s2=()=>{const{addNodes:e,addEdges:r,fitView:a}=No(),{x:o,y:l,zoom:u}=YS();return R.useCallback((c,d)=>{const{nodes:p,edges:m}=DE(!1,c,d?.randomizeIds),b=Math.min(...p.map(([fe,J])=>J.position.x)),y=Math.min(...p.map(([fe,J])=>J.position.y)),x=Math.max(...p.map(([fe,J])=>J.position.x)),S=Math.max(...p.map(([fe,J])=>J.position.y)),C=document.querySelector(`.${ul}`),T=x-b,B=S-y,z=b+T/2,V=y+B/2,A=-o/u+C.clientWidth/(2*u),N=-l/u+C.clientHeight/(2*u),K=(Math.random()-.5)*100,L=(Math.random()-.5)*100,$=A+K-z,P=N+L-V,W=p.map(([fe,J])=>{const{position:G,...re}=J;return{type:fe,position:{x:G.x+$,y:G.y+P},...re,style:{visibility:"hidden"}}});d?.insertNodes&&W.splice(W.length,0,...d.insertNodes),e(W),r(m),setTimeout(()=>a({maxZoom:1.1,minZoom:.5,padding:.3,duration:500,ease:fe=>fe*(2-fe),interpolate:"smooth"}),300)},[r,e,a,o,l,u])},Rz=()=>{const e=R.useRef(null),[r,a]=R.useState(null),[o,l]=R.useState(0),[u,c]=R.useState(1),[d,p]=R.useState(1);R.useEffect(()=>pa.listen(Xr.UpdateGraphList,()=>l(S=>S+1)),[]);const m=Object.entries(pn.cache.graphs).filter(([S,C])=>C.name).map(([S,{name:C,timestamp:T}])=>({graphId:S,name:C,date:T})),b=S=>{u===S?p(d===0?1:0):(c(S),p(S===1?1:0))},y=[...m].sort((S,C)=>{const T=u===0?S.name.toLowerCase():S.date??0,B=u===0?C.name.toLowerCase():C.date??0;return T<B?d===0?-1:1:T>B?d===0?1:-1:0}),x=(S,C)=>{C.preventDefault(),a(S),e.current?.(C.clientX,C.clientY)};return j.jsxs("div",{className:"graph-manager",style:{width:"100%",display:"flex",flexDirection:"column",gap:"2px"},children:[j.jsxs("div",{style:{display:"flex"},children:[j.jsxs("div",{className:"sort-header",style:{flex:"1"},onClick:()=>b(0),children:[j.jsx("div",{children:"Name"}),u===0?d===0?j.jsx(V1,{}):j.jsx($1,{}):""]}),j.jsxs("div",{className:"sort-header",style:{width:"40px",paddingRight:"5px"},onClick:()=>b(1),children:["Date",u===1?d===0?j.jsx(V1,{}):j.jsx($1,{}):""]})]}),!y.length&&j.jsx("div",{style:{textAlign:"center",fontSize:"11px",fontStyle:"italic",marginTop:"10px"},children:"No saved graphs"}),y.map(S=>j.jsxs("div",{onContextMenu:C=>x(S,C),className:"list-row",style:{},children:[j.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"5px"},children:S.name}),j.jsx("div",{className:"alt-text",style:{fontSize:"10px",width:"60px",textAlign:"right"},children:S.date&&new Date(S.date).toLocaleDateString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit"})})]},S.graphId)),r&&j.jsx(Hz,{handleMenuRef:e,item:r})]})},jz=()=>{const{isNodeCreatorOpen:e}=R.useContext(gc),{showModal:r}=R.useContext(Fd),[a,o]=R.useState(0),l=()=>r(u=>j.jsx(zz,{close:u}));return R.useEffect(()=>pa.listen(Xr.NodesChange,()=>o(u=>u+1)),[]),j.jsx(Pd,{content:"Save Graph",placement:"top",arrow:!1,animation:"fade",duration:[400,250],children:j.jsx("button",{className:"main",style:{width:"100%"},onClick:l,disabled:!ma.size||e,children:j.jsx(P4,{style:{transform:"translateY(-2px)"}})})})},zz=({close:e})=>{const{masterEdges:r,masterNodes:a}=R.useContext(ds),[o,l]=R.useState(""),u=Object.entries(pn.cache.graphs).find(([d,p])=>p.name===o.trim()),c=()=>{const d=u?.[0]??Sl(),p=a.map(y=>{const x=ma.get(y.id);if(!x)throw new Error("Could not find node instance in registry to save it state");x instanceof _o&&x.saveSubGraphState();const S={react:x.state,other:x.saveableState};return[y.id,{defNodeName:x.name,initState:S,position:y.position}]}),m={name:o.trim(),edges:r,nodes:Object.fromEntries(p)};pn.putGraph(d,m).then(()=>{Cn.success(`Graph "${o.trim()}" saved to the database.`)}).catch(y=>{Cn.error(`Graph "${o.trim()}" failed to be saved to the databased.
${y}}`)}),pa.dispatch(Xr.UpdateGraphList),e()};return j.jsxs("div",{style:{width:"400px",transition:"height 1s"},children:[j.jsx("header",{children:"Save Graph"}),j.jsxs("div",{style:{margin:"5px 0 20px"},children:[j.jsx("div",{className:"destructive-text",style:{minHeight:"20px",paddingBottom:"10px"},children:u?`Graph "${o}" already exists. Are you sure you want to overwrite it?`:""}),j.jsx("input",{style:{width:"100%",fontSize:"20px"},placeholder:"Name",autoFocus:!0,value:o,onChange:d=>l(d.target.value)})]}),j.jsxs("div",{className:"modal-buttons",children:[j.jsx("button",{className:u?"destructive":"",onClick:c,children:u?"Overwrite*":"Save As"}),j.jsx("button",{onClick:e,children:"Cancel"})]})]})},Bz=({graphId:e,close:r})=>{const a=pn.cache.graphs[e].name,o=async()=>{try{await pn.removeGraph(e),Cn.info(`Graph "${a}" deleted from the database.`)}catch(l){Cn.error(`Graph "${a}" failed to be deleted from the database.
${l}`)}pa.dispatch(Xr.UpdateGraphList)};return j.jsxs("div",{children:[j.jsxs("header",{children:["Delete ",a]}),j.jsx("p",{children:"Are you sure you want to delete this graph? This cannot be undone."}),j.jsxs("div",{className:"modal-buttons",children:[j.jsx("button",{className:"destructive",onClick:()=>{o(),r()},children:"Delete"}),j.jsx("button",{onClick:r,children:"Cancel"})]})]})},Hz=({item:e,handleMenuRef:r})=>{const{showModal:a}=R.useContext(Fd),o=s2(),l=u=>a(c=>j.jsx(Bz,{graphId:u,close:c}));return j.jsxs(Pg,{handleMenuOpenRef:r,children:[j.jsx(Gg,{children:e.name}),j.jsxs(Da,{onClick:()=>o(e.graphId,{randomizeIds:!0}),style:{justifyContent:"space-between"},children:["Instantiate",j.jsx(X5,{})]}),j.jsxs(Da,{onClick:()=>l(e.graphId),style:{justifyContent:"space-between"},children:["Delete",j.jsx(ME,{})]}),j.jsx(_d,{label:"Graph Id",children:j.jsx(Da,{children:e.graphId})})]})},kz=()=>{const{watched:e,setWatched:r}=R.useContext(Zg),a=R.useContext(ds),{masterNodes:o,setMasterNodes:l}=a,[u,c]=R.useState(0);R.useEffect(()=>pa.listen(Xr.UpdateWatchList,()=>c(p=>p+1)),[]),R.useEffect(()=>{const p=e.filter(m=>!o.some(b=>b.id===m));p.length&&r(m=>m.filter(b=>!p.includes(b)))},[o]);const d=p=>lg(a,[{nodeId:p,handleId:""}],[]);return e.map(p=>{const m=ma.get(p);if(!m)throw new Error("Could not find node instance in the registry");const b=String(m.state.handles[Mt]);return j.jsxs("div",{className:"sidebar-highlightable",style:{fontSize:"18px",padding:"3px 6px",borderRadius:"4px"},onMouseOver:()=>d(p),onMouseOut:()=>ug(a),children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[j.jsx("div",{style:{overflow:"hidden"},children:j.jsx(ll,{title:m.saveableState.label??"",setTitle:y=>{console.log("set",y),m.onTitleChange(y),c(x=>x+1),m.forceUpdate()}})}),j.jsx("div",{className:"alt-text",style:{fontSize:"13px",textTransform:"uppercase",fontStyle:"italic",textAlign:"right"},children:m.name})]}),j.jsx("div",{style:{textAlign:"right"},children:b})]},p)})},Lz=()=>{const[e,r]=R.useState(240),[a,o]=R.useState(!1),[l,u]=R.useState(!1),[c,d]=R.useState(!1),p=R.useRef(e),m=R.useRef(null),b=R.useRef(null),y=200,x=600,S="ease-in-out",C=".5s",T=[{id:"node-list",label:"Nodes",icon:j.jsx(Oz,{}),content:j.jsx(Cz,{}),header:j.jsx(Nz,{})},{id:"watchlist",label:"Watchlist",icon:j.jsx(Mz,{}),content:j.jsx(kz,{}),header:j.jsx("div",{})},{id:"graph",label:"Graph Manager",icon:j.jsx(Az,{}),content:j.jsx(Rz,{}),header:j.jsx(jz,{})}],B=V=>{const A=V.clientX,N=p.current,K=$=>{u(!0);const P=A-$.clientX,W=Math.min(Math.max(y,N+P),x);p.current=W,m.current&&(m.current.style.width=`${W}px`),b.current&&(b.current.style.width=`${W}px`)},L=()=>{r(p.current),u(!1),document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",L)};R.useEffect(()=>{const V=N=>{N.target instanceof HTMLDivElement&&N.target.classList.contains("sidebar-open-button")||d(!0)},A=()=>d(!1);return window.addEventListener("mousedown",V,!0),window.addEventListener("mouseup",A,!0),()=>{window.removeEventListener("mousedown",V,!0),window.removeEventListener("mouseup",A,!0)}},[]);const z=()=>o(V=>(m.current&&(m.current.style.width=`${V?e:0}px`),!V));return j.jsxs("div",{ref:m,style:{position:"relative",width:`${e}px`,minWidth:0,maxWidth:x,transitionProperty:l?"none":"width",transitionTimingFunction:S,transitionDuration:C},children:[j.jsx("div",{className:`sidebar-hover-zone ${a?"active":"inactive"} ${c?"":"mouse-up"}`,children:j.jsx("div",{onClick:z,className:"sidebar-open-button",children:j.jsx(P5,{size:"1.8em"})})}),j.jsx("div",{className:"sidebar-resizer",onMouseDown:B,style:{pointerEvents:a?"none":"all"}}),j.jsx("aside",{ref:b,style:{position:"absolute",width:`${e}px`,minWidth:y,maxWidth:x,height:"100%",overflow:"hidden",right:a?-e:0,transitionProperty:"right",transitionTimingFunction:S,transitionDuration:C},children:j.jsx(Dz,{tabs:T,tabBarStartExtraElt:j.jsx("div",{className:"sidebar-close-button",onClick:z,style:{display:"flex",cursor:"pointer",paddingBottom:"2px"},children:j.jsx(G5,{size:"2em"})})})})]})},Uz=({fromNode:e,fromHandle:r,fromX:a,fromY:o,toX:l,toY:u})=>{const c=r.type==="source",[d]=$d(c?{sourceX:a,sourceY:o,sourcePosition:Je.Right,targetX:l,targetY:u,targetPosition:Je.Left}:{sourceX:l,sourceY:u,sourcePosition:Je.Right,targetX:a,targetY:o,targetPosition:Je.Left}),p=e.id===la&&r.id===Gn?tt.Bang:ma.get(e.id)?.getHandleType(r.id);return j.jsx("g",{children:j.jsx("path",{fill:"none",stroke:"white",strokeWidth:2,className:`animated ${p??"no-color"}`,d})})},qz=()=>{const{addNodes:e,screenToFlowPosition:r}=No(),{editingNodeType:a}=R.useContext(gc),[o,l]=R.useState(null),u=R.useRef({x:0,y:0}),c=R.useCallback(b=>{u.current={x:b.clientX,y:b.clientY}},[]),d=R.useCallback((b,y)=>{const S=document.querySelector(".react-flow")?.getBoundingClientRect(),C=S&&y.x>=S.left&&y.x<=S.right&&y.y>=S.top&&y.y<=S.bottom,T=r(y),B=jE(b,T);C&&e(B)},[e,r]);return VE({onDragStart:b=>{if(b.active.data?.current?.nodeClass){const y=b.active.data.current.nodeClass;l({nodeClass:y})}},onDragEnd:b=>{l(null),o&&b.over&&(o.nodeClass.defNodeName===a?Cn.warning("Cannot instance node while it is being edited."):a&&Qg(o.nodeClass.defNodeName,a)?Cn.warning(`Cannot instance "${o.nodeClass.defNodeName}" because the node being edited is a dependency in its graph`):d(o.nodeClass,u.current))}}),j.jsx("div",{onMouseMove:c,children:j.jsx(Ez,{dropAnimation:null,children:o?j.jsx(o2,{...o,className:"ghost"}):null})})},$z=()=>{const{masterNodes:e,masterEdges:r,setMasterNodes:a,setMasterEdges:o}=R.useContext(ds),{isNodeCreatorOpen:l}=R.useContext(gc),{fitView:u}=No(),c=YS(),d=s2(),p=R.useRef(null),m=R.useRef(!0),{setNodeRef:b}=cz({id:"xyflow"}),y=R.useCallback(L=>{const $=L.filter(P=>P.type==="remove").map(P=>P.id);$.length>0&&o(P=>P.filter(W=>!$.includes(W.source)&&!$.includes(W.target))),a(P=>gS(L,P)),setTimeout(()=>pa.dispatch(Xr.NodesChange),1)},[o,a]),x=R.useCallback(L=>{console.log("edges changes",L),o($=>vS(L,$))},[o]),S=R.useCallback(L=>{o($=>{const{source:P,sourceHandle:W,target:fe,targetHandle:J}=L;if($.some(M=>M.source===P&&M.sourceHandle===W&&M.target===fe&&M.targetHandle===J))return $;const k=dl(...P===la?[fe,J]:[P,W]),Y={...L,type:Rm,selectable:!1,data:{dataType:k}},D=$.filter(M=>!(M.source===la&&M.sourceHandle===W&&W!==Gn)).filter(M=>!(M.target===fe&&M.targetHandle===J&&J!==Gn));return Vm(Y,D)})},[o]),C=R.useCallback(()=>{m.current=!1},[]),T=R.useCallback((L,$)=>{m.current=!0,o(P=>{const{source:W,sourceHandle:fe,target:J,targetHandle:G}=$;if(P.some(I=>I.source===W&&I.sourceHandle===fe&&I.target===J&&I.targetHandle===G))return P;const Y=dl(...W===la?[J,G]:[W,fe]),D={...$,type:Rm,selectable:!1,data:{dataType:Y}},M=P.filter(I=>!(I===L||I.source===la&&I.sourceHandle===fe&&fe!==Gn)).filter(I=>!(I.target===J&&I.targetHandle===G&&G!==Gn));return Vm(D,M)})},[o]),B=R.useCallback((L,$)=>{m.current||o(P=>P.filter(W=>W.id!==$.id)),m.current=!0},[o]),z=L=>{const $=p.current.getBoundingClientRect(),P=15,W=$.width-P*2,fe=$.height-P*2,J=(P-L.x)/L.zoom,G=(P-L.y)/L.zoom;return{id:la,type:Zf,position:{x:J,y:G},draggable:!1,selectable:!1,focusable:!1,style:{zIndex:"-1000",transform:`scale(${1/L.zoom})`,left:J,top:G,height:`${fe}px`,width:`${W}px`,cursor:"grab"},data:{}}},V=R.useCallback((L,$)=>{const P=z(L);a(W=>{if($&&!l)return[...W,P];const fe=W.find(J=>J.type===Zf);return fe?(P.data={...fe.data},[...W.filter(J=>J.type!==Zf),P]):W})},[l,a]);R.useEffect(()=>{if(!p.current)return;const L=new ResizeObserver(()=>V(c));return L.observe(p.current),()=>L.disconnect()},[c,V]);const A=R.useCallback(L=>J5(L),[r]),N=R.useCallback(()=>{if(l)return Cn.warning("Node creator is already open");u({maxZoom:1.1,minZoom:.5,padding:.3,duration:500,ease:L=>L*(2-L),interpolate:"smooth"}),setTimeout(()=>V(c,!0),100)},[u,l,V,c]),K=R.useCallback(L=>{if(l)return Cn.warning("Node creator is already open");const $=[...new Set(e.map(k=>ma.get(k.id).name))],P=$.includes(L),W=$.filter(k=>Qg(k,L));if(P){W.length?Cn.warning(`Cannot edit "${L}" because the graph contains instances of it and nodes that depend on it. Please remove
                    "${L}", ${W.map(k=>`"${k}"`).join(", ")} first.`):Cn.warning(`Cannot edit "${L}" while it is instanced in a grpah. Please remove it first.`);return}if(W.length){Cn.warning(`Cannot edit "${L}" because the graph contains nodes that depend on it. Please remove
                ${W.map(k=>`"${k}"`).join(", ")} first.`);return}const{graphId:fe,handleDefs:J,actionLabel:G}=pn.cache.userNodes[L],re=z(c);re.data={editing:!0,initialState:{name:L,handles:J,actionLabel:G}},d(fe,{insertNodes:[re]})},[l,d,e,c]);return j.jsxs("div",{className:"dndflow",children:[j.jsx("div",{ref:b,className:ul,children:j.jsx(fA,{ref:p,nodeTypes:RE,edgeTypes:X4,nodes:e,edges:r,connectionLineComponent:Uz,onNodesChange:y,onEdgesChange:x,onConnect:S,onConnectStart:()=>document.querySelector(`.${ul}`)?.classList.add(db),onConnectEnd:()=>document.querySelector(`.${ul}`)?.classList.remove(db),onReconnectStart:C,onReconnect:T,onReconnectEnd:B,reconnectRadius:20,nodesFocusable:!1,edgesFocusable:!1,panOnDrag:[1],selectionMode:vl.Partial,selectionOnDrag:!0,connectOnClick:!1,proOptions:{hideAttribution:!0},edgesReconnectable:!0,onViewportChange:V,isValidConnection:A,minZoom:l?.5:.3,maxZoom:l?1.1:5,autoPanOnConnect:!l,autoPanOnNodeDrag:!0,children:j.jsx(vA,{})})}),j.jsx(Fg.Provider,{value:{createNode:N,editNode:K},children:j.jsx(Lz,{})}),j.jsx(qz,{})]})},Vz=({children:e})=>{const[r,a]=R.useState([]);return console.log("wwatched",r),j.jsx(Zg.Provider,{value:{watched:r,setWatched:a},children:e})},Yz=({children:e})=>{const[r,a]=R.useState(wo.None),[o,l]=R.useState(null),u=r!==wo.None;return j.jsx(gc.Provider,{value:{nodeCreatorStatus:r,setNodeCreatorStatus:a,isNodeCreatorOpen:u,editingNodeType:o,setEditingNodeType:l},children:e})},Iz=({children:e})=>{const r=br.All,a=m=>Object.values(Co).filter(b=>b.tags.includes(m)),[o,l]=R.useState(0),[u,c]=R.useState(a(r)),[d,p]=R.useState(r);return R.useEffect(()=>pa.listen(Xr.UpdateNodeTypes,()=>l(m=>m+1)),[]),R.useEffect(()=>c(a(d)),[d,o]),j.jsx(Wg.Provider,{value:{nodeList:u,tag:d,setTag:p},children:e})};var Xf={exports:{}},yo={},Tm={exports:{}},Om,Y1;function Xz(){if(Y1)return Om;Y1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Om=e,Om}var Mm,I1;function Kz(){if(I1)return Mm;I1=1;var e=Xz();function r(){}function a(){}return a.resetWarningCache=r,Mm=function(){function o(c,d,p,m,b,y){if(y!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:a,resetWarningCache:r};return u.PropTypes=u,u},Mm}var X1;function l2(){return X1||(X1=1,Tm.exports=Kz()()),Tm.exports}var Kf={exports:{}},oa={},Gf={exports:{}},K1;function u2(){return K1||(K1=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=b;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var a="none",o="contents",l=/^(input|select|textarea|button|object|iframe)$/;function u(y,x){return x.getPropertyValue("overflow")!=="visible"||y.scrollWidth<=0&&y.scrollHeight<=0}function c(y){var x=y.offsetWidth<=0&&y.offsetHeight<=0;if(x&&!y.innerHTML)return!0;try{var S=window.getComputedStyle(y),C=S.getPropertyValue("display");return x?C!==o&&u(y,S):C===a}catch{return console.warn("Failed to inspect element style"),!1}}function d(y){for(var x=y,S=y.getRootNode&&y.getRootNode();x&&x!==document.body;){if(S&&x===S&&(x=S.host.parentNode),c(x))return!1;x=x.parentNode}return!0}function p(y,x){var S=y.nodeName.toLowerCase(),C=l.test(S)&&!y.disabled||S==="a"&&y.href||x;return C&&d(y)}function m(y){var x=y.getAttribute("tabindex");x===null&&(x=void 0);var S=isNaN(x);return(S||x>=0)&&p(y,!S)}function b(y){var x=[].slice.call(y.querySelectorAll("*"),0).reduce(function(S,C){return S.concat(C.shadowRoot?b(C.shadowRoot):[C])},[]);return x.filter(m)}e.exports=r.default})(Gf,Gf.exports)),Gf.exports}var G1;function Gz(){if(G1)return oa;G1=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.resetState=c,oa.log=d,oa.handleBlur=p,oa.handleFocus=m,oa.markForFocusLater=b,oa.returnFocus=y,oa.popWithoutFocus=x,oa.setupScopedFocus=S,oa.teardownScopedFocus=C;var e=u2(),r=a(e);function a(T){return T&&T.__esModule?T:{default:T}}var o=[],l=null,u=!1;function c(){o=[]}function d(){}function p(){u=!0}function m(){if(u){if(u=!1,!l)return;setTimeout(function(){if(!l.contains(document.activeElement)){var T=(0,r.default)(l)[0]||l;T.focus()}},0)}}function b(){o.push(document.activeElement)}function y(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,B=null;try{o.length!==0&&(B=o.pop(),B.focus({preventScroll:T}));return}catch{console.warn(["You tried to return focus to",B,"but it is not in the DOM anymore"].join(" "))}}function x(){o.length>0&&o.pop()}function S(T){l=T,window.addEventListener?(window.addEventListener("blur",p,!1),document.addEventListener("focus",m,!0)):(window.attachEvent("onBlur",p),document.attachEvent("onFocus",m))}function C(){l=null,window.addEventListener?(window.removeEventListener("blur",p),document.removeEventListener("focus",m)):(window.detachEvent("onBlur",p),document.detachEvent("onFocus",m))}return oa}var Pf={exports:{}},P1;function Pz(){return P1||(P1=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var a=u2(),o=l(a);function l(d){return d&&d.__esModule?d:{default:d}}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?u(d.activeElement.shadowRoot):d.activeElement}function c(d,p){var m=(0,o.default)(d);if(!m.length){p.preventDefault();return}var b=void 0,y=p.shiftKey,x=m[0],S=m[m.length-1],C=u();if(d===C){if(!y)return;b=S}if(S===C&&!y&&(b=x),x===C&&y&&(b=S),b){p.preventDefault(),b.focus();return}var T=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),B=T!=null&&T[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(B){var z=m.indexOf(C);if(z>-1&&(z+=y?-1:1),b=m[z],typeof b>"u"){p.preventDefault(),b=y?S:x,b.focus();return}p.preventDefault(),b.focus()}}e.exports=r.default})(Pf,Pf.exports)),Pf.exports}var Ea={},Dm,Z1;function Zz(){if(Z1)return Dm;Z1=1;var e=function(){};return Dm=e,Dm}var Ya={},Am={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var Q1;function Qz(){return Q1||(Q1=1,(function(e){(function(){var r=!!(typeof window<"u"&&window.document&&window.document.createElement),a={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen};e.exports?e.exports=a:window.ExecutionEnvironment=a})()})(Am)),Am.exports}var F1;function ov(){if(F1)return Ya;F1=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.canUseDOM=Ya.SafeNodeList=Ya.SafeHTMLCollection=void 0;var e=Qz(),r=a(e);function a(u){return u&&u.__esModule?u:{default:u}}var o=r.default,l=o.canUseDOM?window.HTMLElement:{};return Ya.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},Ya.SafeNodeList=o.canUseDOM?window.NodeList:{},Ya.canUseDOM=o.canUseDOM,Ya.default=l,Ya}var W1;function c2(){if(W1)return Ea;W1=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.resetState=u,Ea.log=c,Ea.assertNodeList=d,Ea.setElement=p,Ea.validateElement=m,Ea.hide=b,Ea.show=y,Ea.documentNotReadyOrSSRTesting=x;var e=Zz(),r=o(e),a=ov();function o(S){return S&&S.__esModule?S:{default:S}}var l=null;function u(){l&&(l.removeAttribute?l.removeAttribute("aria-hidden"):l.length!=null?l.forEach(function(S){return S.removeAttribute("aria-hidden")}):document.querySelectorAll(l).forEach(function(S){return S.removeAttribute("aria-hidden")})),l=null}function c(){}function d(S,C){if(!S||!S.length)throw new Error("react-modal: No elements were found for selector "+C+".")}function p(S){var C=S;if(typeof C=="string"&&a.canUseDOM){var T=document.querySelectorAll(C);d(T,C),C=T}return l=C||l,l}function m(S){var C=S||l;return C?Array.isArray(C)||C instanceof HTMLCollection||C instanceof NodeList?C:[C]:((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function b(S){var C=!0,T=!1,B=void 0;try{for(var z=m(S)[Symbol.iterator](),V;!(C=(V=z.next()).done);C=!0){var A=V.value;A.setAttribute("aria-hidden","true")}}catch(N){T=!0,B=N}finally{try{!C&&z.return&&z.return()}finally{if(T)throw B}}}function y(S){var C=!0,T=!1,B=void 0;try{for(var z=m(S)[Symbol.iterator](),V;!(C=(V=z.next()).done);C=!0){var A=V.value;A.removeAttribute("aria-hidden")}}catch(N){T=!0,B=N}finally{try{!C&&z.return&&z.return()}finally{if(T)throw B}}}function x(){l=null}return Ea}var Fo={},J1;function Fz(){if(J1)return Fo;J1=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.resetState=o,Fo.log=l;var e={},r={};function a(m,b){m.classList.remove(b)}function o(){var m=document.getElementsByTagName("html")[0];for(var b in e)a(m,e[b]);var y=document.body;for(var x in r)a(y,r[x]);e={},r={}}function l(){}var u=function(b,y){return b[y]||(b[y]=0),b[y]+=1,y},c=function(b,y){return b[y]&&(b[y]-=1),y},d=function(b,y,x){x.forEach(function(S){u(y,S),b.add(S)})},p=function(b,y,x){x.forEach(function(S){c(y,S),y[S]===0&&b.remove(S)})};return Fo.add=function(b,y){return d(b.classList,b.nodeName.toLowerCase()=="html"?e:r,y.split(" "))},Fo.remove=function(b,y){return p(b.classList,b.nodeName.toLowerCase()=="html"?e:r,y.split(" "))},Fo}var al={},ew;function f2(){if(ew)return al;ew=1,Object.defineProperty(al,"__esModule",{value:!0}),al.log=o,al.resetState=l;function e(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var r=function u(){var c=this;e(this,u),this.register=function(d){c.openInstances.indexOf(d)===-1&&(c.openInstances.push(d),c.emit("register"))},this.deregister=function(d){var p=c.openInstances.indexOf(d);p!==-1&&(c.openInstances.splice(p,1),c.emit("deregister"))},this.subscribe=function(d){c.subscribers.push(d)},this.emit=function(d){c.subscribers.forEach(function(p){return p(d,c.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},a=new r;function o(){console.log("portalOpenInstances ----------"),console.log(a.openInstances.length),a.openInstances.forEach(function(u){return console.log(u)}),console.log("end portalOpenInstances ----------")}function l(){a=new r}return al.default=a,al}var Au={},tw;function Wz(){if(tw)return Au;tw=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.resetState=c,Au.log=d;var e=f2(),r=a(e);function a(b){return b&&b.__esModule?b:{default:b}}var o=void 0,l=void 0,u=[];function c(){for(var b=[o,l],y=0;y<b.length;y++){var x=b[y];x&&x.parentNode&&x.parentNode.removeChild(x)}o=l=null,u=[]}function d(){console.log("bodyTrap ----------"),console.log(u.length);for(var b=[o,l],y=0;y<b.length;y++){var x=b[y],S=x||{};console.log(S.nodeName,S.className,S.id)}console.log("edn bodyTrap ----------")}function p(){u.length!==0&&u[u.length-1].focusContent()}function m(b,y){!o&&!l&&(o=document.createElement("div"),o.setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",p),l=o.cloneNode(),l.addEventListener("focus",p)),u=y,u.length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==l&&document.body.appendChild(l)):(o.parentElement&&o.parentElement.removeChild(o),l.parentElement&&l.parentElement.removeChild(l))}return r.default.subscribe(m),Au}var nw;function Jz(){return nw||(nw=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(k){for(var Y=1;Y<arguments.length;Y++){var D=arguments[Y];for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(k[M]=D[M])}return k},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},l=(function(){function k(Y,D){for(var M=0;M<D.length;M++){var I=D[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(Y,I.key,I)}}return function(Y,D,M){return D&&k(Y.prototype,D),M&&k(Y,M),Y}})(),u=fs(),c=l2(),d=K(c),p=Gz(),m=N(p),b=Pz(),y=K(b),x=c2(),S=N(x),C=Fz(),T=N(C),B=ov(),z=K(B),V=f2(),A=K(V);Wz();function N(k){if(k&&k.__esModule)return k;var Y={};if(k!=null)for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&(Y[D]=k[D]);return Y.default=k,Y}function K(k){return k&&k.__esModule?k:{default:k}}function L(k,Y){if(!(k instanceof Y))throw new TypeError("Cannot call a class as a function")}function $(k,Y){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:k}function P(k,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);k.prototype=Object.create(Y&&Y.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(k,Y):k.__proto__=Y)}var W={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},fe=function(Y){return Y.code==="Tab"||Y.keyCode===9},J=function(Y){return Y.code==="Escape"||Y.keyCode===27},G=0,re=(function(k){P(Y,k);function Y(D){L(this,Y);var M=$(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,D));return M.setOverlayRef=function(I){M.overlay=I,M.props.overlayRef&&M.props.overlayRef(I)},M.setContentRef=function(I){M.content=I,M.props.contentRef&&M.props.contentRef(I)},M.afterClose=function(){var I=M.props,Q=I.appElement,ne=I.ariaHideApp,q=I.htmlOpenClassName,Z=I.bodyOpenClassName,ae=I.parentSelector,de=ae&&ae().ownerDocument||document;Z&&T.remove(de.body,Z),q&&T.remove(de.getElementsByTagName("html")[0],q),ne&&G>0&&(G-=1,G===0&&S.show(Q)),M.props.shouldFocusAfterRender&&(M.props.shouldReturnFocusAfterClose?(m.returnFocus(M.props.preventScroll),m.teardownScopedFocus()):m.popWithoutFocus()),M.props.onAfterClose&&M.props.onAfterClose(),A.default.deregister(M)},M.open=function(){M.beforeOpen(),M.state.afterOpen&&M.state.beforeClose?(clearTimeout(M.closeTimer),M.setState({beforeClose:!1})):(M.props.shouldFocusAfterRender&&(m.setupScopedFocus(M.node),m.markForFocusLater()),M.setState({isOpen:!0},function(){M.openAnimationFrame=requestAnimationFrame(function(){M.setState({afterOpen:!0}),M.props.isOpen&&M.props.onAfterOpen&&M.props.onAfterOpen({overlayEl:M.overlay,contentEl:M.content})})}))},M.close=function(){M.props.closeTimeoutMS>0?M.closeWithTimeout():M.closeWithoutTimeout()},M.focusContent=function(){return M.content&&!M.contentHasFocus()&&M.content.focus({preventScroll:!0})},M.closeWithTimeout=function(){var I=Date.now()+M.props.closeTimeoutMS;M.setState({beforeClose:!0,closesAt:I},function(){M.closeTimer=setTimeout(M.closeWithoutTimeout,M.state.closesAt-Date.now())})},M.closeWithoutTimeout=function(){M.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},M.afterClose)},M.handleKeyDown=function(I){fe(I)&&(0,y.default)(M.content,I),M.props.shouldCloseOnEsc&&J(I)&&(I.stopPropagation(),M.requestClose(I))},M.handleOverlayOnClick=function(I){M.shouldClose===null&&(M.shouldClose=!0),M.shouldClose&&M.props.shouldCloseOnOverlayClick&&(M.ownerHandlesClose()?M.requestClose(I):M.focusContent()),M.shouldClose=null},M.handleContentOnMouseUp=function(){M.shouldClose=!1},M.handleOverlayOnMouseDown=function(I){!M.props.shouldCloseOnOverlayClick&&I.target==M.overlay&&I.preventDefault()},M.handleContentOnClick=function(){M.shouldClose=!1},M.handleContentOnMouseDown=function(){M.shouldClose=!1},M.requestClose=function(I){return M.ownerHandlesClose()&&M.props.onRequestClose(I)},M.ownerHandlesClose=function(){return M.props.onRequestClose},M.shouldBeClosed=function(){return!M.state.isOpen&&!M.state.beforeClose},M.contentHasFocus=function(){return document.activeElement===M.content||M.content.contains(document.activeElement)},M.buildClassName=function(I,Q){var ne=(typeof Q>"u"?"undefined":o(Q))==="object"?Q:{base:W[I],afterOpen:W[I]+"--after-open",beforeClose:W[I]+"--before-close"},q=ne.base;return M.state.afterOpen&&(q=q+" "+ne.afterOpen),M.state.beforeClose&&(q=q+" "+ne.beforeClose),typeof Q=="string"&&Q?q+" "+Q:q},M.attributesFromObject=function(I,Q){return Object.keys(Q).reduce(function(ne,q){return ne[I+"-"+q]=Q[q],ne},{})},M.state={afterOpen:!1,beforeClose:!1},M.shouldClose=null,M.moveFromContentToOverlay=null,M}return l(Y,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(M,I){this.props.isOpen&&!M.isOpen?this.open():!this.props.isOpen&&M.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!I.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var M=this.props,I=M.appElement,Q=M.ariaHideApp,ne=M.htmlOpenClassName,q=M.bodyOpenClassName,Z=M.parentSelector,ae=Z&&Z().ownerDocument||document;q&&T.add(ae.body,q),ne&&T.add(ae.getElementsByTagName("html")[0],ne),Q&&(G+=1,S.hide(I)),A.default.register(this)}},{key:"render",value:function(){var M=this.props,I=M.id,Q=M.className,ne=M.overlayClassName,q=M.defaultStyles,Z=M.children,ae=Q?{}:q.content,de=ne?{}:q.overlay;if(this.shouldBeClosed())return null;var ye={ref:this.setOverlayRef,className:this.buildClassName("overlay",ne),style:a({},de,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ce=a({id:I,ref:this.setContentRef,style:a({},ae,this.props.style.content),className:this.buildClassName("content",Q),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",a({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ae=this.props.contentElement(Ce,Z);return this.props.overlayElement(ye,Ae)}}]),Y})(u.Component);re.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},re.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(z.default),d.default.instanceOf(B.SafeHTMLCollection),d.default.instanceOf(B.SafeNodeList),d.default.arrayOf(d.default.instanceOf(z.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},r.default=re,e.exports=r.default})(Kf,Kf.exports)),Kf.exports}function d2(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function h2(e){function r(a){var o=this.constructor.getDerivedStateFromProps(e,a);return o??null}this.setState(r.bind(this))}function p2(e,r){try{var a=this.props,o=this.state;this.props=e,this.state=r,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(a,o)}finally{this.props=a,this.state=o}}d2.__suppressDeprecationWarning=!0;h2.__suppressDeprecationWarning=!0;p2.__suppressDeprecationWarning=!0;function e6(e){var r=e.prototype;if(!r||!r.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function")return e;var a=null,o=null,l=null;if(typeof r.componentWillMount=="function"?a="componentWillMount":typeof r.UNSAFE_componentWillMount=="function"&&(a="UNSAFE_componentWillMount"),typeof r.componentWillReceiveProps=="function"?o="componentWillReceiveProps":typeof r.UNSAFE_componentWillReceiveProps=="function"&&(o="UNSAFE_componentWillReceiveProps"),typeof r.componentWillUpdate=="function"?l="componentWillUpdate":typeof r.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),a!==null||o!==null||l!==null){var u=e.displayName||e.name,c=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+c+" but also contains the following legacy lifecycles:"+(a!==null?`
  `+a:"")+(o!==null?`
  `+o:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(r.componentWillMount=d2,r.componentWillReceiveProps=h2),typeof r.getSnapshotBeforeUpdate=="function"){if(typeof r.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");r.componentWillUpdate=p2;var d=r.componentDidUpdate;r.componentDidUpdate=function(m,b,y){var x=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;d.call(this,m,b,x)}}return e}const t6=Object.freeze(Object.defineProperty({__proto__:null,polyfill:e6},Symbol.toStringTag,{value:"Module"})),n6=j_(t6);var rw;function r6(){if(rw)return yo;rw=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.bodyOpenClassName=yo.portalClassName=void 0;var e=Object.assign||function(J){for(var G=1;G<arguments.length;G++){var re=arguments[G];for(var k in re)Object.prototype.hasOwnProperty.call(re,k)&&(J[k]=re[k])}return J},r=(function(){function J(G,re){for(var k=0;k<re.length;k++){var Y=re[k];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(G,Y.key,Y)}}return function(G,re,k){return re&&J(G.prototype,re),k&&J(G,k),G}})(),a=fs(),o=B(a),l=Rg(),u=B(l),c=l2(),d=B(c),p=Jz(),m=B(p),b=c2(),y=T(b),x=ov(),S=B(x),C=n6;function T(J){if(J&&J.__esModule)return J;var G={};if(J!=null)for(var re in J)Object.prototype.hasOwnProperty.call(J,re)&&(G[re]=J[re]);return G.default=J,G}function B(J){return J&&J.__esModule?J:{default:J}}function z(J,G){if(!(J instanceof G))throw new TypeError("Cannot call a class as a function")}function V(J,G){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:J}function A(J,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);J.prototype=Object.create(G&&G.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(J,G):J.__proto__=G)}var N=yo.portalClassName="ReactModalPortal",K=yo.bodyOpenClassName="ReactModal__Body--open",L=x.canUseDOM&&u.default.createPortal!==void 0,$=function(G){return document.createElement(G)},P=function(){return L?u.default.createPortal:u.default.unstable_renderSubtreeIntoContainer};function W(J){return J()}var fe=(function(J){A(G,J);function G(){var re,k,Y,D;z(this,G);for(var M=arguments.length,I=Array(M),Q=0;Q<M;Q++)I[Q]=arguments[Q];return D=(k=(Y=V(this,(re=G.__proto__||Object.getPrototypeOf(G)).call.apply(re,[this].concat(I))),Y),Y.removePortal=function(){!L&&u.default.unmountComponentAtNode(Y.node);var ne=W(Y.props.parentSelector);ne&&ne.contains(Y.node)?ne.removeChild(Y.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},Y.portalRef=function(ne){Y.portal=ne},Y.renderPortal=function(ne){var q=P(),Z=q(Y,o.default.createElement(m.default,e({defaultStyles:G.defaultStyles},ne)),Y.node);Y.portalRef(Z)},k),V(Y,D)}return r(G,[{key:"componentDidMount",value:function(){if(x.canUseDOM){L||(this.node=$("div")),this.node.className=this.props.portalClassName;var k=W(this.props.parentSelector);k.appendChild(this.node),!L&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(k){var Y=W(k.parentSelector),D=W(this.props.parentSelector);return{prevParent:Y,nextParent:D}}},{key:"componentDidUpdate",value:function(k,Y,D){if(x.canUseDOM){var M=this.props,I=M.isOpen,Q=M.portalClassName;k.portalClassName!==Q&&(this.node.className=Q);var ne=D.prevParent,q=D.nextParent;q!==ne&&(ne.removeChild(this.node),q.appendChild(this.node)),!(!k.isOpen&&!I)&&!L&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!x.canUseDOM||!this.node||!this.portal)){var k=this.portal.state,Y=Date.now(),D=k.isOpen&&this.props.closeTimeoutMS&&(k.closesAt||Y+this.props.closeTimeoutMS);D?(k.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,D-Y)):this.removePortal()}}},{key:"render",value:function(){if(!x.canUseDOM||!L)return null;!this.node&&L&&(this.node=$("div"));var k=P();return k(o.default.createElement(m.default,e({ref:this.portalRef,defaultStyles:G.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(k){y.setElement(k)}}]),G})(a.Component);return fe.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.oneOfType([d.default.instanceOf(S.default),d.default.instanceOf(x.SafeHTMLCollection),d.default.instanceOf(x.SafeNodeList),d.default.arrayOf(d.default.instanceOf(S.default))]),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,parentSelector:d.default.func,aria:d.default.object,data:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func},fe.defaultProps={isOpen:!1,portalClassName:N,bodyOpenClassName:K,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(G,re){return o.default.createElement("div",G,re)},contentElement:function(G,re){return o.default.createElement("div",G,re)}},fe.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,C.polyfill)(fe),yo.default=fe,yo}var aw;function a6(){return aw||(aw=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var a=r6(),o=l(a);function l(u){return u&&u.__esModule?u:{default:u}}r.default=o.default,e.exports=r.default})(Xf,Xf.exports)),Xf.exports}var i6=a6();const m2=ic(i6);m2.setAppElement("#root");const o6=({children:e})=>{const[r,a]=R.useState([]),o=l=>{const u=Math.random().toString(36).slice(2),c=()=>a(d=>d.filter(p=>p.id!==u));a(d=>[...d,{id:u,content:()=>l(c)}])};return j.jsxs(Fd.Provider,{value:{showModal:o},children:[e,r.map(({id:l,content:u},c)=>j.jsx(m2,{overlayClassName:"modal-overlay",className:"modal-content",isOpen:!0,onRequestClose:()=>a(d=>d.filter(p=>p.id!==l)),style:{content:{zIndex:1e3+c}},children:u()},l))]})},s6=()=>j.jsx(Y4,{children:j.jsx(Vz,{children:j.jsx(Yz,{children:j.jsx(Iz,{children:j.jsx(zg,{children:j.jsx(o6,{children:j.jsxs(rz,{children:[j.jsx(i5,{richColors:!0,theme:"dark",position:"bottom-right"}),j.jsx($z,{})]})})})})})})});e4();V4.createRoot(document.getElementById("root")).render(j.jsx("div",{className:"app szh-menu-container--theme-dark",style:{width:"100vw",height:"100vh"},children:j.jsx(s6,{})}));
