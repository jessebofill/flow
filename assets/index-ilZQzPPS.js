(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var up={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function wE(){if(Qv)return eu;Qv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:e,type:o,key:d,ref:l!==void 0?l:null,props:c}}return eu.Fragment=r,eu.jsx=i,eu.jsxs=i,eu}var Pv;function SE(){return Pv||(Pv=1,up.exports=wE()),up.exports}var U=SE(),cp={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function EE(){if(Fv)return de;Fv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function T(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function z(k,Z,st){this.props=k,this.context=Z,this.refs=B,this.updater=st||O}z.prototype.isReactComponent={},z.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=z.prototype;function A(k,Z,st){this.props=k,this.context=Z,this.refs=B,this.updater=st||O}var _=A.prototype=new K;_.constructor=A,N(_,z.prototype),_.isPureReactComponent=!0;var $=Array.isArray;function L(){}var j={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function J(k,Z,st){var gt=st.ref;return{$$typeof:e,type:k,key:Z,ref:gt!==void 0?gt:null,props:st}}function vt(k,Z){return J(k.type,Z,k.props)}function pt(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function et(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(st){return Z[st]})}var lt=/\/+/g;function Y(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?et(""+k.key):Z.toString(36)}function I(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(L,L):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function M(k,Z,st,gt,Tt){var Ot=typeof k;(Ot==="undefined"||Ot==="boolean")&&(k=null);var jt=!1;if(k===null)jt=!0;else switch(Ot){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(k.$$typeof){case e:case r:jt=!0;break;case x:return jt=k._init,M(jt(k._payload),Z,st,gt,Tt)}}if(jt)return Tt=Tt(k),jt=gt===""?"."+Y(k,0):gt,$(Tt)?(st="",jt!=null&&(st=jt.replace(lt,"$&/")+"/"),M(Tt,Z,st,"",function(It){return It})):Tt!=null&&(pt(Tt)&&(Tt=vt(Tt,st+(Tt.key==null||k&&k.key===Tt.key?"":(""+Tt.key).replace(lt,"$&/")+"/")+jt)),Z.push(Tt)),1;jt=0;var Ct=gt===""?".":gt+":";if($(k))for(var St=0;St<k.length;St++)gt=k[St],Ot=Ct+Y(gt,St),jt+=M(gt,Z,st,Ot,Tt);else if(St=T(k),typeof St=="function")for(k=St.call(k),St=0;!(gt=k.next()).done;)gt=gt.value,Ot=Ct+Y(gt,St++),jt+=M(gt,Z,st,Ot,Tt);else if(Ot==="object"){if(typeof k.then=="function")return M(I(k),Z,st,gt,Tt);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return jt}function q(k,Z,st){if(k==null)return k;var gt=[],Tt=0;return M(k,gt,"","",function(Ot){return Z.call(st,Ot,Tt++)}),gt}function Q(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(st){(k._status===0||k._status===-1)&&(k._status=1,k._result=st)},function(st){(k._status===0||k._status===-1)&&(k._status=2,k._result=st)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var tt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ht={map:q,forEach:function(k,Z,st){q(k,function(){Z.apply(this,arguments)},st)},count:function(k){var Z=0;return q(k,function(){Z++}),Z},toArray:function(k){return q(k,function(Z){return Z})||[]},only:function(k){if(!pt(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return de.Activity=v,de.Children=ht,de.Component=z,de.Fragment=i,de.Profiler=l,de.PureComponent=A,de.StrictMode=o,de.Suspense=m,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,de.__COMPILER_RUNTIME={__proto__:null,c:function(k){return j.H.useMemoCache(k)}},de.cache=function(k){return function(){return k.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(k,Z,st){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var gt=N({},k.props),Tt=k.key;if(Z!=null)for(Ot in Z.key!==void 0&&(Tt=""+Z.key),Z)!G.call(Z,Ot)||Ot==="key"||Ot==="__self"||Ot==="__source"||Ot==="ref"&&Z.ref===void 0||(gt[Ot]=Z[Ot]);var Ot=arguments.length-2;if(Ot===1)gt.children=st;else if(1<Ot){for(var jt=Array(Ot),Ct=0;Ct<Ot;Ct++)jt[Ct]=arguments[Ct+2];gt.children=jt}return J(k.type,Tt,gt)},de.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},de.createElement=function(k,Z,st){var gt,Tt={},Ot=null;if(Z!=null)for(gt in Z.key!==void 0&&(Ot=""+Z.key),Z)G.call(Z,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(Tt[gt]=Z[gt]);var jt=arguments.length-2;if(jt===1)Tt.children=st;else if(1<jt){for(var Ct=Array(jt),St=0;St<jt;St++)Ct[St]=arguments[St+2];Tt.children=Ct}if(k&&k.defaultProps)for(gt in jt=k.defaultProps,jt)Tt[gt]===void 0&&(Tt[gt]=jt[gt]);return J(k,Ot,Tt)},de.createRef=function(){return{current:null}},de.forwardRef=function(k){return{$$typeof:g,render:k}},de.isValidElement=pt,de.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:Q}},de.memo=function(k,Z){return{$$typeof:y,type:k,compare:Z===void 0?null:Z}},de.startTransition=function(k){var Z=j.T,st={};j.T=st;try{var gt=k(),Tt=j.S;Tt!==null&&Tt(st,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(L,tt)}catch(Ot){tt(Ot)}finally{Z!==null&&st.types!==null&&(Z.types=st.types),j.T=Z}},de.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},de.use=function(k){return j.H.use(k)},de.useActionState=function(k,Z,st){return j.H.useActionState(k,Z,st)},de.useCallback=function(k,Z){return j.H.useCallback(k,Z)},de.useContext=function(k){return j.H.useContext(k)},de.useDebugValue=function(){},de.useDeferredValue=function(k,Z){return j.H.useDeferredValue(k,Z)},de.useEffect=function(k,Z){return j.H.useEffect(k,Z)},de.useEffectEvent=function(k){return j.H.useEffectEvent(k)},de.useId=function(){return j.H.useId()},de.useImperativeHandle=function(k,Z,st){return j.H.useImperativeHandle(k,Z,st)},de.useInsertionEffect=function(k,Z){return j.H.useInsertionEffect(k,Z)},de.useLayoutEffect=function(k,Z){return j.H.useLayoutEffect(k,Z)},de.useMemo=function(k,Z){return j.H.useMemo(k,Z)},de.useOptimistic=function(k,Z){return j.H.useOptimistic(k,Z)},de.useReducer=function(k,Z,st){return j.H.useReducer(k,Z,st)},de.useRef=function(k){return j.H.useRef(k)},de.useState=function(k){return j.H.useState(k)},de.useSyncExternalStore=function(k,Z,st){return j.H.useSyncExternalStore(k,Z,st)},de.useTransition=function(){return j.H.useTransition()},de.version="19.2.0",de}var Jv;function Ru(){return Jv||(Jv=1,cp.exports=EE()),cp.exports}var H=Ru();const Bt=Pf(H),Er="_bangin",gi="_bangout",Ne="_output",Wr="_active",v1="$in_",ea="$out_",vf="__nodecreator",ha="nodecreator",Up="__basicedge";function jn(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let i=0,o;i<e.length;i++)(o=jn(e[i]))!==""&&(r+=(r&&" ")+o);else for(let i in e)e[i]&&(r+=(r&&" ")+i);return r}var _E={value:()=>{}};function Ff(){for(var e=0,r=arguments.length,i={},o;e<r;++e){if(!(o=arguments[e]+"")||o in i||/[\s.]/.test(o))throw new Error("illegal type: "+o);i[o]=[]}return new bf(i)}function bf(e){this._=e}function TE(e,r){return e.trim().split(/^|\s+/).map(function(i){var o="",l=i.indexOf(".");if(l>=0&&(o=i.slice(l+1),i=i.slice(0,l)),i&&!r.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:o}})}bf.prototype=Ff.prototype={constructor:bf,on:function(e,r){var i=this._,o=TE(e+"",i),l,c=-1,d=o.length;if(arguments.length<2){for(;++c<d;)if((l=(e=o[c]).type)&&(l=CE(i[l],e.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++c<d;)if(l=(e=o[c]).type)i[l]=Wv(i[l],e.name,r);else if(r==null)for(l in i)i[l]=Wv(i[l],e.name,null);return this},copy:function(){var e={},r=this._;for(var i in r)e[i]=r[i].slice();return new bf(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var i=new Array(l),o=0,l,c;o<l;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],o=0,l=c.length;o<l;++o)c[o].value.apply(r,i)},apply:function(e,r,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,c=o.length;l<c;++l)o[l].value.apply(r,i)}};function CE(e,r){for(var i=0,o=e.length,l;i<o;++i)if((l=e[i]).name===r)return l.value}function Wv(e,r,i){for(var o=0,l=e.length;o<l;++o)if(e[o].name===r){e[o]=_E,e=e.slice(0,o).concat(e.slice(o+1));break}return i!=null&&e.push({name:r,value:i}),e}var qp="http://www.w3.org/1999/xhtml";const t0={svg:"http://www.w3.org/2000/svg",xhtml:qp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jf(e){var r=e+="",i=r.indexOf(":");return i>=0&&(r=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),t0.hasOwnProperty(r)?{space:t0[r],local:e}:e}function NE(e){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===qp&&r.documentElement.namespaceURI===qp?r.createElement(e):r.createElementNS(i,e)}}function DE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function b1(e){var r=Jf(e);return(r.local?DE:NE)(r)}function AE(){}function fg(e){return e==null?AE:function(){return this.querySelector(e)}}function OE(e){typeof e!="function"&&(e=fg(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var c=r[l],d=c.length,g=o[l]=new Array(d),m,y,x=0;x<d;++x)(m=c[x])&&(y=e.call(m,m.__data__,x,c))&&("__data__"in m&&(y.__data__=m.__data__),g[x]=y);return new Hr(o,this._parents)}function ME(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function RE(){return[]}function x1(e){return e==null?RE:function(){return this.querySelectorAll(e)}}function zE(e){return function(){return ME(e.apply(this,arguments))}}function BE(e){typeof e=="function"?e=zE(e):e=x1(e);for(var r=this._groups,i=r.length,o=[],l=[],c=0;c<i;++c)for(var d=r[c],g=d.length,m,y=0;y<g;++y)(m=d[y])&&(o.push(e.call(m,m.__data__,y,d)),l.push(m));return new Hr(o,l)}function w1(e){return function(){return this.matches(e)}}function S1(e){return function(r){return r.matches(e)}}var jE=Array.prototype.find;function HE(e){return function(){return jE.call(this.children,e)}}function kE(){return this.firstElementChild}function LE(e){return this.select(e==null?kE:HE(typeof e=="function"?e:S1(e)))}var UE=Array.prototype.filter;function qE(){return Array.from(this.children)}function VE(e){return function(){return UE.call(this.children,e)}}function YE(e){return this.selectAll(e==null?qE:VE(typeof e=="function"?e:S1(e)))}function $E(e){typeof e!="function"&&(e=w1(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var c=r[l],d=c.length,g=o[l]=[],m,y=0;y<d;++y)(m=c[y])&&e.call(m,m.__data__,y,c)&&g.push(m);return new Hr(o,this._parents)}function E1(e){return new Array(e.length)}function XE(){return new Hr(this._enter||this._groups.map(E1),this._parents)}function Nf(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Nf.prototype={constructor:Nf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function KE(e){return function(){return e}}function GE(e,r,i,o,l,c){for(var d=0,g,m=r.length,y=c.length;d<y;++d)(g=r[d])?(g.__data__=c[d],o[d]=g):i[d]=new Nf(e,c[d]);for(;d<m;++d)(g=r[d])&&(l[d]=g)}function IE(e,r,i,o,l,c,d){var g,m,y=new Map,x=r.length,v=c.length,w=new Array(x),T;for(g=0;g<x;++g)(m=r[g])&&(w[g]=T=d.call(m,m.__data__,g,r)+"",y.has(T)?l[g]=m:y.set(T,m));for(g=0;g<v;++g)T=d.call(e,c[g],g,c)+"",(m=y.get(T))?(o[g]=m,m.__data__=c[g],y.delete(T)):i[g]=new Nf(e,c[g]);for(g=0;g<x;++g)(m=r[g])&&y.get(w[g])===m&&(l[g]=m)}function ZE(e){return e.__data__}function QE(e,r){if(!arguments.length)return Array.from(this,ZE);var i=r?IE:GE,o=this._parents,l=this._groups;typeof e!="function"&&(e=KE(e));for(var c=l.length,d=new Array(c),g=new Array(c),m=new Array(c),y=0;y<c;++y){var x=o[y],v=l[y],w=v.length,T=PE(e.call(x,x&&x.__data__,y,o)),O=T.length,N=g[y]=new Array(O),B=d[y]=new Array(O),z=m[y]=new Array(w);i(x,v,N,B,z,T,r);for(var K=0,A=0,_,$;K<O;++K)if(_=N[K]){for(K>=A&&(A=K+1);!($=B[A])&&++A<O;);_._next=$||null}}return d=new Hr(d,o),d._enter=g,d._exit=m,d}function PE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FE(){return new Hr(this._exit||this._groups.map(E1),this._parents)}function JE(e,r,i){var o=this.enter(),l=this,c=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),r!=null&&(l=r(l),l&&(l=l.selection())),i==null?c.remove():i(c),o&&l?o.merge(l).order():l}function WE(e){for(var r=e.selection?e.selection():e,i=this._groups,o=r._groups,l=i.length,c=o.length,d=Math.min(l,c),g=new Array(l),m=0;m<d;++m)for(var y=i[m],x=o[m],v=y.length,w=g[m]=new Array(v),T,O=0;O<v;++O)(T=y[O]||x[O])&&(w[O]=T);for(;m<l;++m)g[m]=i[m];return new Hr(g,this._parents)}function t2(){for(var e=this._groups,r=-1,i=e.length;++r<i;)for(var o=e[r],l=o.length-1,c=o[l],d;--l>=0;)(d=o[l])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function e2(e){e||(e=n2);function r(v,w){return v&&w?e(v.__data__,w.__data__):!v-!w}for(var i=this._groups,o=i.length,l=new Array(o),c=0;c<o;++c){for(var d=i[c],g=d.length,m=l[c]=new Array(g),y,x=0;x<g;++x)(y=d[x])&&(m[x]=y);m.sort(r)}return new Hr(l,this._parents).order()}function n2(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function r2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function a2(){return Array.from(this)}function i2(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],l=0,c=o.length;l<c;++l){var d=o[l];if(d)return d}return null}function o2(){let e=0;for(const r of this)++e;return e}function s2(){return!this.node()}function l2(e){for(var r=this._groups,i=0,o=r.length;i<o;++i)for(var l=r[i],c=0,d=l.length,g;c<d;++c)(g=l[c])&&e.call(g,g.__data__,c,l);return this}function u2(e){return function(){this.removeAttribute(e)}}function c2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f2(e,r){return function(){this.setAttribute(e,r)}}function d2(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function h2(e,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function p2(e,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function g2(e,r){var i=Jf(e);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((r==null?i.local?c2:u2:typeof r=="function"?i.local?p2:h2:i.local?d2:f2)(i,r))}function _1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function m2(e){return function(){this.style.removeProperty(e)}}function y2(e,r,i){return function(){this.style.setProperty(e,r,i)}}function v2(e,r,i){return function(){var o=r.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,i)}}function b2(e,r,i){return arguments.length>1?this.each((r==null?m2:typeof r=="function"?v2:y2)(e,r,i??"")):Ks(this.node(),e)}function Ks(e,r){return e.style.getPropertyValue(r)||_1(e).getComputedStyle(e,null).getPropertyValue(r)}function x2(e){return function(){delete this[e]}}function w2(e,r){return function(){this[e]=r}}function S2(e,r){return function(){var i=r.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function E2(e,r){return arguments.length>1?this.each((r==null?x2:typeof r=="function"?S2:w2)(e,r)):this.node()[e]}function T1(e){return e.trim().split(/^|\s+/)}function dg(e){return e.classList||new C1(e)}function C1(e){this._node=e,this._names=T1(e.getAttribute("class")||"")}C1.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function N1(e,r){for(var i=dg(e),o=-1,l=r.length;++o<l;)i.add(r[o])}function D1(e,r){for(var i=dg(e),o=-1,l=r.length;++o<l;)i.remove(r[o])}function _2(e){return function(){N1(this,e)}}function T2(e){return function(){D1(this,e)}}function C2(e,r){return function(){(r.apply(this,arguments)?N1:D1)(this,e)}}function N2(e,r){var i=T1(e+"");if(arguments.length<2){for(var o=dg(this.node()),l=-1,c=i.length;++l<c;)if(!o.contains(i[l]))return!1;return!0}return this.each((typeof r=="function"?C2:r?_2:T2)(i,r))}function D2(){this.textContent=""}function A2(e){return function(){this.textContent=e}}function O2(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function M2(e){return arguments.length?this.each(e==null?D2:(typeof e=="function"?O2:A2)(e)):this.node().textContent}function R2(){this.innerHTML=""}function z2(e){return function(){this.innerHTML=e}}function B2(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function j2(e){return arguments.length?this.each(e==null?R2:(typeof e=="function"?B2:z2)(e)):this.node().innerHTML}function H2(){this.nextSibling&&this.parentNode.appendChild(this)}function k2(){return this.each(H2)}function L2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U2(){return this.each(L2)}function q2(e){var r=typeof e=="function"?e:b1(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function V2(){return null}function Y2(e,r){var i=typeof e=="function"?e:b1(e),o=r==null?V2:typeof r=="function"?r:fg(r);return this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)})}function $2(){var e=this.parentNode;e&&e.removeChild(this)}function X2(){return this.each($2)}function K2(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function G2(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function I2(e){return this.select(e?G2:K2)}function Z2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Q2(e){return function(r){e.call(this,r,this.__data__)}}function P2(e){return e.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");return o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),{type:r,name:i}})}function F2(e){return function(){var r=this.__on;if(r){for(var i=0,o=-1,l=r.length,c;i<l;++i)c=r[i],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):r[++o]=c;++o?r.length=o:delete this.__on}}}function J2(e,r,i){return function(){var o=this.__on,l,c=Q2(r);if(o){for(var d=0,g=o.length;d<g;++d)if((l=o[d]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=i),l.value=r;return}}this.addEventListener(e.type,c,i),l={type:e.type,name:e.name,value:r,listener:c,options:i},o?o.push(l):this.__on=[l]}}function W2(e,r,i){var o=P2(e+""),l,c=o.length,d;if(arguments.length<2){var g=this.node().__on;if(g){for(var m=0,y=g.length,x;m<y;++m)for(l=0,x=g[m];l<c;++l)if((d=o[l]).type===x.type&&d.name===x.name)return x.value}return}for(g=r?J2:F2,l=0;l<c;++l)this.each(g(o[l],r,i));return this}function A1(e,r,i){var o=_1(e),l=o.CustomEvent;typeof l=="function"?l=new l(r,i):(l=o.document.createEvent("Event"),i?(l.initEvent(r,i.bubbles,i.cancelable),l.detail=i.detail):l.initEvent(r,!1,!1)),e.dispatchEvent(l)}function t_(e,r){return function(){return A1(this,e,r)}}function e_(e,r){return function(){return A1(this,e,r.apply(this,arguments))}}function n_(e,r){return this.each((typeof r=="function"?e_:t_)(e,r))}function*r_(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],l=0,c=o.length,d;l<c;++l)(d=o[l])&&(yield d)}var O1=[null];function Hr(e,r){this._groups=e,this._parents=r}function zu(){return new Hr([[document.documentElement]],O1)}function a_(){return this}Hr.prototype=zu.prototype={constructor:Hr,select:OE,selectAll:BE,selectChild:LE,selectChildren:YE,filter:$E,data:QE,enter:XE,exit:FE,join:JE,merge:WE,selection:a_,order:t2,sort:e2,call:r2,nodes:a2,node:i2,size:o2,empty:s2,each:l2,attr:g2,style:b2,property:E2,classed:N2,text:M2,html:j2,raise:k2,lower:U2,append:q2,insert:Y2,remove:X2,clone:I2,datum:Z2,on:W2,dispatch:n_,[Symbol.iterator]:r_};function jr(e){return typeof e=="string"?new Hr([[document.querySelector(e)]],[document.documentElement]):new Hr([[e]],O1)}function i_(e){let r;for(;r=e.sourceEvent;)e=r;return e}function da(e,r){if(e=i_(e),r===void 0&&(r=e.currentTarget),r){var i=r.ownerSVGElement||r;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(r.getScreenCTM().inverse()),[o.x,o.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[e.clientX-l.left-r.clientLeft,e.clientY-l.top-r.clientTop]}}return[e.pageX,e.pageY]}const o_={passive:!1},yu={capture:!0,passive:!1};function fp(e){e.stopImmediatePropagation()}function Ys(e){e.preventDefault(),e.stopImmediatePropagation()}function M1(e){var r=e.document.documentElement,i=jr(e).on("dragstart.drag",Ys,yu);"onselectstart"in r?i.on("selectstart.drag",Ys,yu):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function R1(e,r){var i=e.document.documentElement,o=jr(e).on("dragstart.drag",null);r&&(o.on("click.drag",Ys,yu),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const af=e=>()=>e;function Vp(e,{sourceEvent:r,subject:i,target:o,identifier:l,active:c,x:d,y:g,dx:m,dy:y,dispatch:x}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:g,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:x}})}Vp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function s_(e){return!e.ctrlKey&&!e.button}function l_(){return this.parentNode}function u_(e,r){return r??{x:e.x,y:e.y}}function c_(){return navigator.maxTouchPoints||"ontouchstart"in this}function z1(){var e=s_,r=l_,i=u_,o=c_,l={},c=Ff("start","drag","end"),d=0,g,m,y,x,v=0;function w(_){_.on("mousedown.drag",T).filter(o).on("touchstart.drag",B).on("touchmove.drag",z,o_).on("touchend.drag touchcancel.drag",K).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(_,$){if(!(x||!e.call(this,_,$))){var L=A(this,r.call(this,_,$),_,$,"mouse");L&&(jr(_.view).on("mousemove.drag",O,yu).on("mouseup.drag",N,yu),M1(_.view),fp(_),y=!1,g=_.clientX,m=_.clientY,L("start",_))}}function O(_){if(Ys(_),!y){var $=_.clientX-g,L=_.clientY-m;y=$*$+L*L>v}l.mouse("drag",_)}function N(_){jr(_.view).on("mousemove.drag mouseup.drag",null),R1(_.view,y),Ys(_),l.mouse("end",_)}function B(_,$){if(e.call(this,_,$)){var L=_.changedTouches,j=r.call(this,_,$),G=L.length,J,vt;for(J=0;J<G;++J)(vt=A(this,j,_,$,L[J].identifier,L[J]))&&(fp(_),vt("start",_,L[J]))}}function z(_){var $=_.changedTouches,L=$.length,j,G;for(j=0;j<L;++j)(G=l[$[j].identifier])&&(Ys(_),G("drag",_,$[j]))}function K(_){var $=_.changedTouches,L=$.length,j,G;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),j=0;j<L;++j)(G=l[$[j].identifier])&&(fp(_),G("end",_,$[j]))}function A(_,$,L,j,G,J){var vt=c.copy(),pt=da(J||L,$),et,lt,Y;if((Y=i.call(_,new Vp("beforestart",{sourceEvent:L,target:w,identifier:G,active:d,x:pt[0],y:pt[1],dx:0,dy:0,dispatch:vt}),j))!=null)return et=Y.x-pt[0]||0,lt=Y.y-pt[1]||0,function I(M,q,Q){var tt=pt,ht;switch(M){case"start":l[G]=I,ht=d++;break;case"end":delete l[G],--d;case"drag":pt=da(Q||q,$),ht=d;break}vt.call(M,_,new Vp(M,{sourceEvent:q,subject:Y,target:w,identifier:G,active:ht,x:pt[0]+et,y:pt[1]+lt,dx:pt[0]-tt[0],dy:pt[1]-tt[1],dispatch:vt}),j)}}return w.filter=function(_){return arguments.length?(e=typeof _=="function"?_:af(!!_),w):e},w.container=function(_){return arguments.length?(r=typeof _=="function"?_:af(_),w):r},w.subject=function(_){return arguments.length?(i=typeof _=="function"?_:af(_),w):i},w.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:af(!!_),w):o},w.on=function(){var _=c.on.apply(c,arguments);return _===c?w:_},w.clickDistance=function(_){return arguments.length?(v=(_=+_)*_,w):Math.sqrt(v)},w}function hg(e,r,i){e.prototype=r.prototype=i,i.constructor=e}function B1(e,r){var i=Object.create(e.prototype);for(var o in r)i[o]=r[o];return i}function Bu(){}var vu=.7,Df=1/vu,$s="\\s*([+-]?\\d+)\\s*",bu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f_=/^#([0-9a-f]{3,8})$/,d_=new RegExp(`^rgb\\(${$s},${$s},${$s}\\)$`),h_=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),p_=new RegExp(`^rgba\\(${$s},${$s},${$s},${bu}\\)$`),g_=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${bu}\\)$`),m_=new RegExp(`^hsl\\(${bu},${Ba},${Ba}\\)$`),y_=new RegExp(`^hsla\\(${bu},${Ba},${Ba},${bu}\\)$`),e0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hg(Bu,Vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n0,formatHex:n0,formatHex8:v_,formatHsl:b_,formatRgb:r0,toString:r0});function n0(){return this.rgb().formatHex()}function v_(){return this.rgb().formatHex8()}function b_(){return j1(this).formatHsl()}function r0(){return this.rgb().formatRgb()}function Vo(e){var r,i;return e=(e+"").trim().toLowerCase(),(r=f_.exec(e))?(i=r[1].length,r=parseInt(r[1],16),i===6?a0(r):i===3?new _r(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):i===8?of(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):i===4?of(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=d_.exec(e))?new _r(r[1],r[2],r[3],1):(r=h_.exec(e))?new _r(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=p_.exec(e))?of(r[1],r[2],r[3],r[4]):(r=g_.exec(e))?of(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=m_.exec(e))?s0(r[1],r[2]/100,r[3]/100,1):(r=y_.exec(e))?s0(r[1],r[2]/100,r[3]/100,r[4]):e0.hasOwnProperty(e)?a0(e0[e]):e==="transparent"?new _r(NaN,NaN,NaN,0):null}function a0(e){return new _r(e>>16&255,e>>8&255,e&255,1)}function of(e,r,i,o){return o<=0&&(e=r=i=NaN),new _r(e,r,i,o)}function x_(e){return e instanceof Bu||(e=Vo(e)),e?(e=e.rgb(),new _r(e.r,e.g,e.b,e.opacity)):new _r}function Yp(e,r,i,o){return arguments.length===1?x_(e):new _r(e,r,i,o??1)}function _r(e,r,i,o){this.r=+e,this.g=+r,this.b=+i,this.opacity=+o}hg(_r,Yp,B1(Bu,{brighter(e){return e=e==null?Df:Math.pow(Df,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vu:Math.pow(vu,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _r(Lo(this.r),Lo(this.g),Lo(this.b),Af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i0,formatHex:i0,formatHex8:w_,formatRgb:o0,toString:o0}));function i0(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function w_(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function o0(){const e=Af(this.opacity);return`${e===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${e===1?")":`, ${e})`}`}function Af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ho(e){return e=Lo(e),(e<16?"0":"")+e.toString(16)}function s0(e,r,i,o){return o<=0?e=r=i=NaN:i<=0||i>=1?e=r=NaN:r<=0&&(e=NaN),new pa(e,r,i,o)}function j1(e){if(e instanceof pa)return new pa(e.h,e.s,e.l,e.opacity);if(e instanceof Bu||(e=Vo(e)),!e)return new pa;if(e instanceof pa)return e;e=e.rgb();var r=e.r/255,i=e.g/255,o=e.b/255,l=Math.min(r,i,o),c=Math.max(r,i,o),d=NaN,g=c-l,m=(c+l)/2;return g?(r===c?d=(i-o)/g+(i<o)*6:i===c?d=(o-r)/g+2:d=(r-i)/g+4,g/=m<.5?c+l:2-c-l,d*=60):g=m>0&&m<1?0:d,new pa(d,g,m,e.opacity)}function S_(e,r,i,o){return arguments.length===1?j1(e):new pa(e,r,i,o??1)}function pa(e,r,i,o){this.h=+e,this.s=+r,this.l=+i,this.opacity=+o}hg(pa,S_,B1(Bu,{brighter(e){return e=e==null?Df:Math.pow(Df,e),new pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vu:Math.pow(vu,e),new pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,o=i+(i<.5?i:1-i)*r,l=2*i-o;return new _r(dp(e>=240?e-240:e+120,l,o),dp(e,l,o),dp(e<120?e+240:e-120,l,o),this.opacity)},clamp(){return new pa(l0(this.h),sf(this.s),sf(this.l),Af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Af(this.opacity);return`${e===1?"hsl(":"hsla("}${l0(this.h)}, ${sf(this.s)*100}%, ${sf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function l0(e){return e=(e||0)%360,e<0?e+360:e}function sf(e){return Math.max(0,Math.min(1,e||0))}function dp(e,r,i){return(e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r)*255}const pg=e=>()=>e;function E_(e,r){return function(i){return e+i*r}}function __(e,r,i){return e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(o){return Math.pow(e+o*r,i)}}function T_(e){return(e=+e)==1?H1:function(r,i){return i-r?__(r,i,e):pg(isNaN(r)?i:r)}}function H1(e,r){var i=r-e;return i?E_(e,i):pg(isNaN(e)?r:e)}const Of=(function e(r){var i=T_(r);function o(l,c){var d=i((l=Yp(l)).r,(c=Yp(c)).r),g=i(l.g,c.g),m=i(l.b,c.b),y=H1(l.opacity,c.opacity);return function(x){return l.r=d(x),l.g=g(x),l.b=m(x),l.opacity=y(x),l+""}}return o.gamma=e,o})(1);function C_(e,r){r||(r=[]);var i=e?Math.min(r.length,e.length):0,o=r.slice(),l;return function(c){for(l=0;l<i;++l)o[l]=e[l]*(1-c)+r[l]*c;return o}}function N_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function D_(e,r){var i=r?r.length:0,o=e?Math.min(i,e.length):0,l=new Array(o),c=new Array(i),d;for(d=0;d<o;++d)l[d]=lu(e[d],r[d]);for(;d<i;++d)c[d]=r[d];return function(g){for(d=0;d<o;++d)c[d]=l[d](g);return c}}function A_(e,r){var i=new Date;return e=+e,r=+r,function(o){return i.setTime(e*(1-o)+r*o),i}}function Ma(e,r){return e=+e,r=+r,function(i){return e*(1-i)+r*i}}function O_(e,r){var i={},o={},l;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(l in r)l in e?i[l]=lu(e[l],r[l]):o[l]=r[l];return function(c){for(l in i)o[l]=i[l](c);return o}}var $p=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hp=new RegExp($p.source,"g");function M_(e){return function(){return e}}function R_(e){return function(r){return e(r)+""}}function k1(e,r){var i=$p.lastIndex=hp.lastIndex=0,o,l,c,d=-1,g=[],m=[];for(e=e+"",r=r+"";(o=$p.exec(e))&&(l=hp.exec(r));)(c=l.index)>i&&(c=r.slice(i,c),g[d]?g[d]+=c:g[++d]=c),(o=o[0])===(l=l[0])?g[d]?g[d]+=l:g[++d]=l:(g[++d]=null,m.push({i:d,x:Ma(o,l)})),i=hp.lastIndex;return i<r.length&&(c=r.slice(i),g[d]?g[d]+=c:g[++d]=c),g.length<2?m[0]?R_(m[0].x):M_(r):(r=m.length,function(y){for(var x=0,v;x<r;++x)g[(v=m[x]).i]=v.x(y);return g.join("")})}function lu(e,r){var i=typeof r,o;return r==null||i==="boolean"?pg(r):(i==="number"?Ma:i==="string"?(o=Vo(r))?(r=o,Of):k1:r instanceof Vo?Of:r instanceof Date?A_:N_(r)?C_:Array.isArray(r)?D_:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?O_:Ma)(e,r)}var u0=180/Math.PI,Xp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function L1(e,r,i,o,l,c){var d,g,m;return(d=Math.sqrt(e*e+r*r))&&(e/=d,r/=d),(m=e*i+r*o)&&(i-=e*m,o-=r*m),(g=Math.sqrt(i*i+o*o))&&(i/=g,o/=g,m/=g),e*o<r*i&&(e=-e,r=-r,m=-m,d=-d),{translateX:l,translateY:c,rotate:Math.atan2(r,e)*u0,skewX:Math.atan(m)*u0,scaleX:d,scaleY:g}}var lf;function z_(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Xp:L1(r.a,r.b,r.c,r.d,r.e,r.f)}function B_(e){return e==null||(lf||(lf=document.createElementNS("http://www.w3.org/2000/svg","g")),lf.setAttribute("transform",e),!(e=lf.transform.baseVal.consolidate()))?Xp:(e=e.matrix,L1(e.a,e.b,e.c,e.d,e.e,e.f))}function U1(e,r,i,o){function l(y){return y.length?y.pop()+" ":""}function c(y,x,v,w,T,O){if(y!==v||x!==w){var N=T.push("translate(",null,r,null,i);O.push({i:N-4,x:Ma(y,v)},{i:N-2,x:Ma(x,w)})}else(v||w)&&T.push("translate("+v+r+w+i)}function d(y,x,v,w){y!==x?(y-x>180?x+=360:x-y>180&&(y+=360),w.push({i:v.push(l(v)+"rotate(",null,o)-2,x:Ma(y,x)})):x&&v.push(l(v)+"rotate("+x+o)}function g(y,x,v,w){y!==x?w.push({i:v.push(l(v)+"skewX(",null,o)-2,x:Ma(y,x)}):x&&v.push(l(v)+"skewX("+x+o)}function m(y,x,v,w,T,O){if(y!==v||x!==w){var N=T.push(l(T)+"scale(",null,",",null,")");O.push({i:N-4,x:Ma(y,v)},{i:N-2,x:Ma(x,w)})}else(v!==1||w!==1)&&T.push(l(T)+"scale("+v+","+w+")")}return function(y,x){var v=[],w=[];return y=e(y),x=e(x),c(y.translateX,y.translateY,x.translateX,x.translateY,v,w),d(y.rotate,x.rotate,v,w),g(y.skewX,x.skewX,v,w),m(y.scaleX,y.scaleY,x.scaleX,x.scaleY,v,w),y=x=null,function(T){for(var O=-1,N=w.length,B;++O<N;)v[(B=w[O]).i]=B.x(T);return v.join("")}}}var j_=U1(z_,"px, ","px)","deg)"),H_=U1(B_,", ",")",")"),k_=1e-12;function c0(e){return((e=Math.exp(e))+1/e)/2}function L_(e){return((e=Math.exp(e))-1/e)/2}function U_(e){return((e=Math.exp(2*e))-1)/(e+1)}const xf=(function e(r,i,o){function l(c,d){var g=c[0],m=c[1],y=c[2],x=d[0],v=d[1],w=d[2],T=x-g,O=v-m,N=T*T+O*O,B,z;if(N<k_)z=Math.log(w/y)/r,B=function(j){return[g+j*T,m+j*O,y*Math.exp(r*j*z)]};else{var K=Math.sqrt(N),A=(w*w-y*y+o*N)/(2*y*i*K),_=(w*w-y*y-o*N)/(2*w*i*K),$=Math.log(Math.sqrt(A*A+1)-A),L=Math.log(Math.sqrt(_*_+1)-_);z=(L-$)/r,B=function(j){var G=j*z,J=c0($),vt=y/(i*K)*(J*U_(r*G+$)-L_($));return[g+vt*T,m+vt*O,y*J/c0(r*G+$)]}}return B.duration=z*1e3*r/Math.SQRT2,B}return l.rho=function(c){var d=Math.max(.001,+c),g=d*d,m=g*g;return e(d,g,m)},l})(Math.SQRT2,2,4);var Gs=0,ou=0,nu=0,q1=1e3,Mf,su,Rf=0,Yo=0,Wf=0,xu=typeof performance=="object"&&performance.now?performance:Date,V1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gg(){return Yo||(V1(q_),Yo=xu.now()+Wf)}function q_(){Yo=0}function zf(){this._call=this._time=this._next=null}zf.prototype=Y1.prototype={constructor:zf,restart:function(e,r,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?gg():+i)+(r==null?0:+r),!this._next&&su!==this&&(su?su._next=this:Mf=this,su=this),this._call=e,this._time=i,Kp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kp())}};function Y1(e,r,i){var o=new zf;return o.restart(e,r,i),o}function V_(){gg(),++Gs;for(var e=Mf,r;e;)(r=Yo-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Gs}function f0(){Yo=(Rf=xu.now())+Wf,Gs=ou=0;try{V_()}finally{Gs=0,$_(),Yo=0}}function Y_(){var e=xu.now(),r=e-Rf;r>q1&&(Wf-=r,Rf=e)}function $_(){for(var e,r=Mf,i,o=1/0;r;)r._call?(o>r._time&&(o=r._time),e=r,r=r._next):(i=r._next,r._next=null,r=e?e._next=i:Mf=i);su=e,Kp(o)}function Kp(e){if(!Gs){ou&&(ou=clearTimeout(ou));var r=e-Yo;r>24?(e<1/0&&(ou=setTimeout(f0,e-xu.now()-Wf)),nu&&(nu=clearInterval(nu))):(nu||(Rf=xu.now(),nu=setInterval(Y_,q1)),Gs=1,V1(f0))}}function d0(e,r,i){var o=new zf;return r=r==null?0:+r,o.restart(l=>{o.stop(),e(l+r)},r,i),o}var X_=Ff("start","end","cancel","interrupt"),K_=[],$1=0,h0=1,Gp=2,wf=3,p0=4,Ip=5,Sf=6;function td(e,r,i,o,l,c){var d=e.__transition;if(!d)e.__transition={};else if(i in d)return;G_(e,i,{name:r,index:o,group:l,on:X_,tween:K_,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:$1})}function mg(e,r){var i=xa(e,r);if(i.state>$1)throw new Error("too late; already scheduled");return i}function La(e,r){var i=xa(e,r);if(i.state>wf)throw new Error("too late; already running");return i}function xa(e,r){var i=e.__transition;if(!i||!(i=i[r]))throw new Error("transition not found");return i}function G_(e,r,i){var o=e.__transition,l;o[r]=i,i.timer=Y1(c,0,i.time);function c(y){i.state=h0,i.timer.restart(d,i.delay,i.time),i.delay<=y&&d(y-i.delay)}function d(y){var x,v,w,T;if(i.state!==h0)return m();for(x in o)if(T=o[x],T.name===i.name){if(T.state===wf)return d0(d);T.state===p0?(T.state=Sf,T.timer.stop(),T.on.call("interrupt",e,e.__data__,T.index,T.group),delete o[x]):+x<r&&(T.state=Sf,T.timer.stop(),T.on.call("cancel",e,e.__data__,T.index,T.group),delete o[x])}if(d0(function(){i.state===wf&&(i.state=p0,i.timer.restart(g,i.delay,i.time),g(y))}),i.state=Gp,i.on.call("start",e,e.__data__,i.index,i.group),i.state===Gp){for(i.state=wf,l=new Array(w=i.tween.length),x=0,v=-1;x<w;++x)(T=i.tween[x].value.call(e,e.__data__,i.index,i.group))&&(l[++v]=T);l.length=v+1}}function g(y){for(var x=y<i.duration?i.ease.call(null,y/i.duration):(i.timer.restart(m),i.state=Ip,1),v=-1,w=l.length;++v<w;)l[v].call(e,x);i.state===Ip&&(i.on.call("end",e,e.__data__,i.index,i.group),m())}function m(){i.state=Sf,i.timer.stop(),delete o[r];for(var y in o)return;delete e.__transition}}function Ef(e,r){var i=e.__transition,o,l,c=!0,d;if(i){r=r==null?null:r+"";for(d in i){if((o=i[d]).name!==r){c=!1;continue}l=o.state>Gp&&o.state<Ip,o.state=Sf,o.timer.stop(),o.on.call(l?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete i[d]}c&&delete e.__transition}}function I_(e){return this.each(function(){Ef(this,e)})}function Z_(e,r){var i,o;return function(){var l=La(this,e),c=l.tween;if(c!==i){o=i=c;for(var d=0,g=o.length;d<g;++d)if(o[d].name===r){o=o.slice(),o.splice(d,1);break}}l.tween=o}}function Q_(e,r,i){var o,l;if(typeof i!="function")throw new Error;return function(){var c=La(this,e),d=c.tween;if(d!==o){l=(o=d).slice();for(var g={name:r,value:i},m=0,y=l.length;m<y;++m)if(l[m].name===r){l[m]=g;break}m===y&&l.push(g)}c.tween=l}}function P_(e,r){var i=this._id;if(e+="",arguments.length<2){for(var o=xa(this.node(),i).tween,l=0,c=o.length,d;l<c;++l)if((d=o[l]).name===e)return d.value;return null}return this.each((r==null?Z_:Q_)(i,e,r))}function yg(e,r,i){var o=e._id;return e.each(function(){var l=La(this,o);(l.value||(l.value={}))[r]=i.apply(this,arguments)}),function(l){return xa(l,o).value[r]}}function X1(e,r){var i;return(typeof r=="number"?Ma:r instanceof Vo?Of:(i=Vo(r))?(r=i,Of):k1)(e,r)}function F_(e){return function(){this.removeAttribute(e)}}function J_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function W_(e,r,i){var o,l=i+"",c;return function(){var d=this.getAttribute(e);return d===l?null:d===o?c:c=r(o=d,i)}}function tT(e,r,i){var o,l=i+"",c;return function(){var d=this.getAttributeNS(e.space,e.local);return d===l?null:d===o?c:c=r(o=d,i)}}function eT(e,r,i){var o,l,c;return function(){var d,g=i(this),m;return g==null?void this.removeAttribute(e):(d=this.getAttribute(e),m=g+"",d===m?null:d===o&&m===l?c:(l=m,c=r(o=d,g)))}}function nT(e,r,i){var o,l,c;return function(){var d,g=i(this),m;return g==null?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local),m=g+"",d===m?null:d===o&&m===l?c:(l=m,c=r(o=d,g)))}}function rT(e,r){var i=Jf(e),o=i==="transform"?H_:X1;return this.attrTween(e,typeof r=="function"?(i.local?nT:eT)(i,o,yg(this,"attr."+e,r)):r==null?(i.local?J_:F_)(i):(i.local?tT:W_)(i,o,r))}function aT(e,r){return function(i){this.setAttribute(e,r.call(this,i))}}function iT(e,r){return function(i){this.setAttributeNS(e.space,e.local,r.call(this,i))}}function oT(e,r){var i,o;function l(){var c=r.apply(this,arguments);return c!==o&&(i=(o=c)&&iT(e,c)),i}return l._value=r,l}function sT(e,r){var i,o;function l(){var c=r.apply(this,arguments);return c!==o&&(i=(o=c)&&aT(e,c)),i}return l._value=r,l}function lT(e,r){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;var o=Jf(e);return this.tween(i,(o.local?oT:sT)(o,r))}function uT(e,r){return function(){mg(this,e).delay=+r.apply(this,arguments)}}function cT(e,r){return r=+r,function(){mg(this,e).delay=r}}function fT(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?uT:cT)(r,e)):xa(this.node(),r).delay}function dT(e,r){return function(){La(this,e).duration=+r.apply(this,arguments)}}function hT(e,r){return r=+r,function(){La(this,e).duration=r}}function pT(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?dT:hT)(r,e)):xa(this.node(),r).duration}function gT(e,r){if(typeof r!="function")throw new Error;return function(){La(this,e).ease=r}}function mT(e){var r=this._id;return arguments.length?this.each(gT(r,e)):xa(this.node(),r).ease}function yT(e,r){return function(){var i=r.apply(this,arguments);if(typeof i!="function")throw new Error;La(this,e).ease=i}}function vT(e){if(typeof e!="function")throw new Error;return this.each(yT(this._id,e))}function bT(e){typeof e!="function"&&(e=w1(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var c=r[l],d=c.length,g=o[l]=[],m,y=0;y<d;++y)(m=c[y])&&e.call(m,m.__data__,y,c)&&g.push(m);return new yi(o,this._parents,this._name,this._id)}function xT(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,i=e._groups,o=r.length,l=i.length,c=Math.min(o,l),d=new Array(o),g=0;g<c;++g)for(var m=r[g],y=i[g],x=m.length,v=d[g]=new Array(x),w,T=0;T<x;++T)(w=m[T]||y[T])&&(v[T]=w);for(;g<o;++g)d[g]=r[g];return new yi(d,this._parents,this._name,this._id)}function wT(e){return(e+"").trim().split(/^|\s+/).every(function(r){var i=r.indexOf(".");return i>=0&&(r=r.slice(0,i)),!r||r==="start"})}function ST(e,r,i){var o,l,c=wT(r)?mg:La;return function(){var d=c(this,e),g=d.on;g!==o&&(l=(o=g).copy()).on(r,i),d.on=l}}function ET(e,r){var i=this._id;return arguments.length<2?xa(this.node(),i).on.on(e):this.each(ST(i,e,r))}function _T(e){return function(){var r=this.parentNode;for(var i in this.__transition)if(+i!==e)return;r&&r.removeChild(this)}}function TT(){return this.on("end.remove",_T(this._id))}function CT(e){var r=this._name,i=this._id;typeof e!="function"&&(e=fg(e));for(var o=this._groups,l=o.length,c=new Array(l),d=0;d<l;++d)for(var g=o[d],m=g.length,y=c[d]=new Array(m),x,v,w=0;w<m;++w)(x=g[w])&&(v=e.call(x,x.__data__,w,g))&&("__data__"in x&&(v.__data__=x.__data__),y[w]=v,td(y[w],r,i,w,y,xa(x,i)));return new yi(c,this._parents,r,i)}function NT(e){var r=this._name,i=this._id;typeof e!="function"&&(e=x1(e));for(var o=this._groups,l=o.length,c=[],d=[],g=0;g<l;++g)for(var m=o[g],y=m.length,x,v=0;v<y;++v)if(x=m[v]){for(var w=e.call(x,x.__data__,v,m),T,O=xa(x,i),N=0,B=w.length;N<B;++N)(T=w[N])&&td(T,r,i,N,w,O);c.push(w),d.push(x)}return new yi(c,d,r,i)}var DT=zu.prototype.constructor;function AT(){return new DT(this._groups,this._parents)}function OT(e,r){var i,o,l;return function(){var c=Ks(this,e),d=(this.style.removeProperty(e),Ks(this,e));return c===d?null:c===i&&d===o?l:l=r(i=c,o=d)}}function K1(e){return function(){this.style.removeProperty(e)}}function MT(e,r,i){var o,l=i+"",c;return function(){var d=Ks(this,e);return d===l?null:d===o?c:c=r(o=d,i)}}function RT(e,r,i){var o,l,c;return function(){var d=Ks(this,e),g=i(this),m=g+"";return g==null&&(m=g=(this.style.removeProperty(e),Ks(this,e))),d===m?null:d===o&&m===l?c:(l=m,c=r(o=d,g))}}function zT(e,r){var i,o,l,c="style."+r,d="end."+c,g;return function(){var m=La(this,e),y=m.on,x=m.value[c]==null?g||(g=K1(r)):void 0;(y!==i||l!==x)&&(o=(i=y).copy()).on(d,l=x),m.on=o}}function BT(e,r,i){var o=(e+="")=="transform"?j_:X1;return r==null?this.styleTween(e,OT(e,o)).on("end.style."+e,K1(e)):typeof r=="function"?this.styleTween(e,RT(e,o,yg(this,"style."+e,r))).each(zT(this._id,e)):this.styleTween(e,MT(e,o,r),i).on("end.style."+e,null)}function jT(e,r,i){return function(o){this.style.setProperty(e,r.call(this,o),i)}}function HT(e,r,i){var o,l;function c(){var d=r.apply(this,arguments);return d!==l&&(o=(l=d)&&jT(e,d,i)),o}return c._value=r,c}function kT(e,r,i){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;return this.tween(o,HT(e,r,i??""))}function LT(e){return function(){this.textContent=e}}function UT(e){return function(){var r=e(this);this.textContent=r??""}}function qT(e){return this.tween("text",typeof e=="function"?UT(yg(this,"text",e)):LT(e==null?"":e+""))}function VT(e){return function(r){this.textContent=e.call(this,r)}}function YT(e){var r,i;function o(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&VT(l)),r}return o._value=e,o}function $T(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,YT(e))}function XT(){for(var e=this._name,r=this._id,i=G1(),o=this._groups,l=o.length,c=0;c<l;++c)for(var d=o[c],g=d.length,m,y=0;y<g;++y)if(m=d[y]){var x=xa(m,r);td(m,e,i,y,d,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new yi(o,this._parents,e,i)}function KT(){var e,r,i=this,o=i._id,l=i.size();return new Promise(function(c,d){var g={value:d},m={value:function(){--l===0&&c()}};i.each(function(){var y=La(this,o),x=y.on;x!==e&&(r=(e=x).copy(),r._.cancel.push(g),r._.interrupt.push(g),r._.end.push(m)),y.on=r}),l===0&&c()})}var GT=0;function yi(e,r,i,o){this._groups=e,this._parents=r,this._name=i,this._id=o}function G1(){return++GT}var pi=zu.prototype;yi.prototype={constructor:yi,select:CT,selectAll:NT,selectChild:pi.selectChild,selectChildren:pi.selectChildren,filter:bT,merge:xT,selection:AT,transition:XT,call:pi.call,nodes:pi.nodes,node:pi.node,size:pi.size,empty:pi.empty,each:pi.each,on:ET,attr:rT,attrTween:lT,style:BT,styleTween:kT,text:qT,textTween:$T,remove:TT,tween:P_,delay:fT,duration:pT,ease:mT,easeVarying:vT,end:KT,[Symbol.iterator]:pi[Symbol.iterator]};function IT(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZT={time:null,delay:0,duration:250,ease:IT};function QT(e,r){for(var i;!(i=e.__transition)||!(i=i[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return i}function PT(e){var r,i;e instanceof yi?(r=e._id,e=e._name):(r=G1(),(i=ZT).time=gg(),e=e==null?null:e+"");for(var o=this._groups,l=o.length,c=0;c<l;++c)for(var d=o[c],g=d.length,m,y=0;y<g;++y)(m=d[y])&&td(m,e,r,y,d,i||QT(m,r));return new yi(o,this._parents,e,r)}zu.prototype.interrupt=I_;zu.prototype.transition=PT;const uf=e=>()=>e;function FT(e,{sourceEvent:r,target:i,transform:o,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:l}})}function mi(e,r,i){this.k=e,this.x=r,this.y=i}mi.prototype={constructor:mi,scale:function(e){return e===1?this:new mi(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new mi(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ed=new mi(1,0,0);I1.prototype=mi.prototype;function I1(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ed;return e.__zoom}function pp(e){e.stopImmediatePropagation()}function ru(e){e.preventDefault(),e.stopImmediatePropagation()}function JT(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function WT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function g0(){return this.__zoom||ed}function tC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function eC(){return navigator.maxTouchPoints||"ontouchstart"in this}function nC(e,r,i){var o=e.invertX(r[0][0])-i[0][0],l=e.invertX(r[1][0])-i[1][0],c=e.invertY(r[0][1])-i[0][1],d=e.invertY(r[1][1])-i[1][1];return e.translate(l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Z1(){var e=JT,r=WT,i=nC,o=tC,l=eC,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],g=250,m=xf,y=Ff("start","zoom","end"),x,v,w,T=500,O=150,N=0,B=10;function z(Y){Y.property("__zoom",g0).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",vt).filter(l).on("touchstart.zoom",pt).on("touchmove.zoom",et).on("touchend.zoom touchcancel.zoom",lt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}z.transform=function(Y,I,M,q){var Q=Y.selection?Y.selection():Y;Q.property("__zoom",g0),Y!==Q?$(Y,I,M,q):Q.interrupt().each(function(){L(this,arguments).event(q).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},z.scaleBy=function(Y,I,M,q){z.scaleTo(Y,function(){var Q=this.__zoom.k,tt=typeof I=="function"?I.apply(this,arguments):I;return Q*tt},M,q)},z.scaleTo=function(Y,I,M,q){z.transform(Y,function(){var Q=r.apply(this,arguments),tt=this.__zoom,ht=M==null?_(Q):typeof M=="function"?M.apply(this,arguments):M,k=tt.invert(ht),Z=typeof I=="function"?I.apply(this,arguments):I;return i(A(K(tt,Z),ht,k),Q,d)},M,q)},z.translateBy=function(Y,I,M,q){z.transform(Y,function(){return i(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof M=="function"?M.apply(this,arguments):M),r.apply(this,arguments),d)},null,q)},z.translateTo=function(Y,I,M,q,Q){z.transform(Y,function(){var tt=r.apply(this,arguments),ht=this.__zoom,k=q==null?_(tt):typeof q=="function"?q.apply(this,arguments):q;return i(ed.translate(k[0],k[1]).scale(ht.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof M=="function"?-M.apply(this,arguments):-M),tt,d)},q,Q)};function K(Y,I){return I=Math.max(c[0],Math.min(c[1],I)),I===Y.k?Y:new mi(I,Y.x,Y.y)}function A(Y,I,M){var q=I[0]-M[0]*Y.k,Q=I[1]-M[1]*Y.k;return q===Y.x&&Q===Y.y?Y:new mi(Y.k,q,Q)}function _(Y){return[(+Y[0][0]+ +Y[1][0])/2,(+Y[0][1]+ +Y[1][1])/2]}function $(Y,I,M,q){Y.on("start.zoom",function(){L(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(q).end()}).tween("zoom",function(){var Q=this,tt=arguments,ht=L(Q,tt).event(q),k=r.apply(Q,tt),Z=M==null?_(k):typeof M=="function"?M.apply(Q,tt):M,st=Math.max(k[1][0]-k[0][0],k[1][1]-k[0][1]),gt=Q.__zoom,Tt=typeof I=="function"?I.apply(Q,tt):I,Ot=m(gt.invert(Z).concat(st/gt.k),Tt.invert(Z).concat(st/Tt.k));return function(jt){if(jt===1)jt=Tt;else{var Ct=Ot(jt),St=st/Ct[2];jt=new mi(St,Z[0]-Ct[0]*St,Z[1]-Ct[1]*St)}ht.zoom(null,jt)}})}function L(Y,I,M){return!M&&Y.__zooming||new j(Y,I)}function j(Y,I){this.that=Y,this.args=I,this.active=0,this.sourceEvent=null,this.extent=r.apply(Y,I),this.taps=0}j.prototype={event:function(Y){return Y&&(this.sourceEvent=Y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Y,I){return this.mouse&&Y!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&Y!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&Y!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Y){var I=jr(this.that).datum();y.call(Y,this.that,new FT(Y,{sourceEvent:this.sourceEvent,target:z,transform:this.that.__zoom,dispatch:y}),I)}};function G(Y,...I){if(!e.apply(this,arguments))return;var M=L(this,I).event(Y),q=this.__zoom,Q=Math.max(c[0],Math.min(c[1],q.k*Math.pow(2,o.apply(this,arguments)))),tt=da(Y);if(M.wheel)(M.mouse[0][0]!==tt[0]||M.mouse[0][1]!==tt[1])&&(M.mouse[1]=q.invert(M.mouse[0]=tt)),clearTimeout(M.wheel);else{if(q.k===Q)return;M.mouse=[tt,q.invert(tt)],Ef(this),M.start()}ru(Y),M.wheel=setTimeout(ht,O),M.zoom("mouse",i(A(K(q,Q),M.mouse[0],M.mouse[1]),M.extent,d));function ht(){M.wheel=null,M.end()}}function J(Y,...I){if(w||!e.apply(this,arguments))return;var M=Y.currentTarget,q=L(this,I,!0).event(Y),Q=jr(Y.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",st,!0),tt=da(Y,M),ht=Y.clientX,k=Y.clientY;M1(Y.view),pp(Y),q.mouse=[tt,this.__zoom.invert(tt)],Ef(this),q.start();function Z(gt){if(ru(gt),!q.moved){var Tt=gt.clientX-ht,Ot=gt.clientY-k;q.moved=Tt*Tt+Ot*Ot>N}q.event(gt).zoom("mouse",i(A(q.that.__zoom,q.mouse[0]=da(gt,M),q.mouse[1]),q.extent,d))}function st(gt){Q.on("mousemove.zoom mouseup.zoom",null),R1(gt.view,q.moved),ru(gt),q.event(gt).end()}}function vt(Y,...I){if(e.apply(this,arguments)){var M=this.__zoom,q=da(Y.changedTouches?Y.changedTouches[0]:Y,this),Q=M.invert(q),tt=M.k*(Y.shiftKey?.5:2),ht=i(A(K(M,tt),q,Q),r.apply(this,I),d);ru(Y),g>0?jr(this).transition().duration(g).call($,ht,q,Y):jr(this).call(z.transform,ht,q,Y)}}function pt(Y,...I){if(e.apply(this,arguments)){var M=Y.touches,q=M.length,Q=L(this,I,Y.changedTouches.length===q).event(Y),tt,ht,k,Z;for(pp(Y),ht=0;ht<q;++ht)k=M[ht],Z=da(k,this),Z=[Z,this.__zoom.invert(Z),k.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==Z[2]&&(Q.touch1=Z,Q.taps=0):(Q.touch0=Z,tt=!0,Q.taps=1+!!x);x&&(x=clearTimeout(x)),tt&&(Q.taps<2&&(v=Z[0],x=setTimeout(function(){x=null},T)),Ef(this),Q.start())}}function et(Y,...I){if(this.__zooming){var M=L(this,I).event(Y),q=Y.changedTouches,Q=q.length,tt,ht,k,Z;for(ru(Y),tt=0;tt<Q;++tt)ht=q[tt],k=da(ht,this),M.touch0&&M.touch0[2]===ht.identifier?M.touch0[0]=k:M.touch1&&M.touch1[2]===ht.identifier&&(M.touch1[0]=k);if(ht=M.that.__zoom,M.touch1){var st=M.touch0[0],gt=M.touch0[1],Tt=M.touch1[0],Ot=M.touch1[1],jt=(jt=Tt[0]-st[0])*jt+(jt=Tt[1]-st[1])*jt,Ct=(Ct=Ot[0]-gt[0])*Ct+(Ct=Ot[1]-gt[1])*Ct;ht=K(ht,Math.sqrt(jt/Ct)),k=[(st[0]+Tt[0])/2,(st[1]+Tt[1])/2],Z=[(gt[0]+Ot[0])/2,(gt[1]+Ot[1])/2]}else if(M.touch0)k=M.touch0[0],Z=M.touch0[1];else return;M.zoom("touch",i(A(ht,k,Z),M.extent,d))}}function lt(Y,...I){if(this.__zooming){var M=L(this,I).event(Y),q=Y.changedTouches,Q=q.length,tt,ht;for(pp(Y),w&&clearTimeout(w),w=setTimeout(function(){w=null},T),tt=0;tt<Q;++tt)ht=q[tt],M.touch0&&M.touch0[2]===ht.identifier?delete M.touch0:M.touch1&&M.touch1[2]===ht.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(ht=da(ht,this),Math.hypot(v[0]-ht[0],v[1]-ht[1])<B)){var k=jr(this).on("dblclick.zoom");k&&k.apply(this,arguments)}}}return z.wheelDelta=function(Y){return arguments.length?(o=typeof Y=="function"?Y:uf(+Y),z):o},z.filter=function(Y){return arguments.length?(e=typeof Y=="function"?Y:uf(!!Y),z):e},z.touchable=function(Y){return arguments.length?(l=typeof Y=="function"?Y:uf(!!Y),z):l},z.extent=function(Y){return arguments.length?(r=typeof Y=="function"?Y:uf([[+Y[0][0],+Y[0][1]],[+Y[1][0],+Y[1][1]]]),z):r},z.scaleExtent=function(Y){return arguments.length?(c[0]=+Y[0],c[1]=+Y[1],z):[c[0],c[1]]},z.translateExtent=function(Y){return arguments.length?(d[0][0]=+Y[0][0],d[1][0]=+Y[1][0],d[0][1]=+Y[0][1],d[1][1]=+Y[1][1],z):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},z.constrain=function(Y){return arguments.length?(i=Y,z):i},z.duration=function(Y){return arguments.length?(g=+Y,z):g},z.interpolate=function(Y){return arguments.length?(m=Y,z):m},z.on=function(){var Y=y.on.apply(y,arguments);return Y===y?z:Y},z.clickDistance=function(Y){return arguments.length?(N=(Y=+Y)*Y,z):Math.sqrt(N)},z.tapDistance=function(Y){return arguments.length?(B=+Y,z):B},z}const Ha={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:i,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?i:o}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},wu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Q1=["Enter"," ","Escape"],P1={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:i})=>`Moved selected node ${e}. New position, x: ${r}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Is;(function(e){e.Strict="strict",e.Loose="loose"})(Is||(Is={}));var Uo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Uo||(Uo={}));var Zs;(function(e){e.Partial="partial",e.Full="full"})(Zs||(Zs={}));const F1={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var io;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(io||(io={}));var Bf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Bf||(Bf={}));var Jt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Jt||(Jt={}));const m0={[Jt.Left]:Jt.Right,[Jt.Right]:Jt.Left,[Jt.Top]:Jt.Bottom,[Jt.Bottom]:Jt.Top};function J1(e){return e===null?null:e?"valid":"invalid"}const W1=e=>"id"in e&&"source"in e&&"target"in e,rC=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),vg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),ju=(e,r=[0,0])=>{const{width:i,height:o}=xi(e),l=e.origin??r,c=i*l[0],d=o*l[1];return{x:e.position.x-c,y:e.position.y-d}},aC=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const i=e.reduce((o,l)=>{const c=typeof l=="string";let d=!r.nodeLookup&&!c?l:void 0;r.nodeLookup&&(d=c?r.nodeLookup.get(l):vg(l)?l:r.nodeLookup.get(l.id));const g=d?jf(d,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return nd(o,g)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return rd(i)},Hu=(e,r={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(o=>{if(r.filter===void 0||r.filter(o)){const l=jf(o);i=nd(i,l)}}),rd(i)},bg=(e,r,[i,o,l]=[0,0,1],c=!1,d=!1)=>{const g={...Lu(r,[i,o,l]),width:r.width/l,height:r.height/l},m=[];for(const y of e.values()){const{measured:x,selectable:v=!0,hidden:w=!1}=y;if(d&&!v||w)continue;const T=x.width??y.width??y.initialWidth??null,O=x.height??y.height??y.initialHeight??null,N=Su(g,Ps(y)),B=(T??0)*(O??0),z=c&&N>0;(!y.internals.handleBounds||z||N>=B||y.dragging)&&m.push(y)}return m},tx=(e,r)=>{const i=new Set;return e.forEach(o=>{i.add(o.id)}),r.filter(o=>i.has(o.source)||i.has(o.target))};function iC(e,r){const i=new Map,o=r?.nodes?new Set(r.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(r?.includeHiddenNodes||!l.hidden)&&(!o||o.has(l.id))&&i.set(l.id,l)}),i}async function oC({nodes:e,width:r,height:i,panZoom:o,minZoom:l,maxZoom:c},d){if(e.size===0)return Promise.resolve(!0);const g=iC(e,d),m=Hu(g),y=xg(m,r,i,d?.minZoom??l,d?.maxZoom??c,d?.padding??.1);return await o.setViewport(y,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function ex({nodeId:e,nextPosition:r,nodeLookup:i,nodeOrigin:o=[0,0],nodeExtent:l,onError:c}){const d=i.get(e),g=d.parentId?i.get(d.parentId):void 0,{x:m,y}=g?g.internals.positionAbsolute:{x:0,y:0},x=d.origin??o;let v=d.extent||l;if(d.extent==="parent"&&!d.expandParent)if(!g)c?.("005",Ha.error005());else{const T=g.measured.width,O=g.measured.height;T&&O&&(v=[[m,y],[m+T,y+O]])}else g&&Fs(d.extent)&&(v=[[d.extent[0][0]+m,d.extent[0][1]+y],[d.extent[1][0]+m,d.extent[1][1]+y]]);const w=Fs(v)?$o(r,v,d.measured):r;return(d.measured.width===void 0||d.measured.height===void 0)&&c?.("015",Ha.error015()),{position:{x:w.x-m+(d.measured.width??0)*x[0],y:w.y-y+(d.measured.height??0)*x[1]},positionAbsolute:w}}async function sC({nodesToRemove:e=[],edgesToRemove:r=[],nodes:i,edges:o,onBeforeDelete:l}){const c=new Set(e.map(w=>w.id)),d=[];for(const w of i){if(w.deletable===!1)continue;const T=c.has(w.id),O=!T&&w.parentId&&d.find(N=>N.id===w.parentId);(T||O)&&d.push(w)}const g=new Set(r.map(w=>w.id)),m=o.filter(w=>w.deletable!==!1),x=tx(d,m);for(const w of m)g.has(w.id)&&!x.find(O=>O.id===w.id)&&x.push(w);if(!l)return{edges:x,nodes:d};const v=await l({nodes:d,edges:x});return typeof v=="boolean"?v?{edges:x,nodes:d}:{edges:[],nodes:[]}:v}const Qs=(e,r=0,i=1)=>Math.min(Math.max(e,r),i),$o=(e={x:0,y:0},r,i)=>({x:Qs(e.x,r[0][0],r[1][0]-(i?.width??0)),y:Qs(e.y,r[0][1],r[1][1]-(i?.height??0))});function nx(e,r,i){const{width:o,height:l}=xi(i),{x:c,y:d}=i.internals.positionAbsolute;return $o(e,[[c,d],[c+o,d+l]],r)}const y0=(e,r,i)=>e<r?Qs(Math.abs(e-r),1,r)/r:e>i?-Qs(Math.abs(e-i),1,r)/r:0,rx=(e,r,i=15,o=40)=>{const l=y0(e.x,o,r.width-o)*i,c=y0(e.y,o,r.height-o)*i;return[l,c]},nd=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),Zp=({x:e,y:r,width:i,height:o})=>({x:e,y:r,x2:e+i,y2:r+o}),rd=({x:e,y:r,x2:i,y2:o})=>({x:e,y:r,width:i-e,height:o-r}),Ps=(e,r=[0,0])=>{const{x:i,y:o}=vg(e)?e.internals.positionAbsolute:ju(e,r);return{x:i,y:o,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},jf=(e,r=[0,0])=>{const{x:i,y:o}=vg(e)?e.internals.positionAbsolute:ju(e,r);return{x:i,y:o,x2:i+(e.measured?.width??e.width??e.initialWidth??0),y2:o+(e.measured?.height??e.height??e.initialHeight??0)}},ax=(e,r)=>rd(nd(Zp(e),Zp(r))),Su=(e,r)=>{const i=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),o=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(i*o)},v0=e=>ga(e.width)&&ga(e.height)&&ga(e.x)&&ga(e.y),ga=e=>!isNaN(e)&&isFinite(e),lC=(e,r)=>{},ku=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),Lu=({x:e,y:r},[i,o,l],c=!1,d=[1,1])=>{const g={x:(e-i)/l,y:(r-o)/l};return c?ku(g,d):g},Hf=({x:e,y:r},[i,o,l])=>({x:e*l+i,y:r*l+o});function Ls(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(i)}if(typeof e=="string"&&e.endsWith("%")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(r*i*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function uC(e,r,i){if(typeof e=="string"||typeof e=="number"){const o=Ls(e,i),l=Ls(e,r);return{top:o,right:l,bottom:o,left:l,x:l*2,y:o*2}}if(typeof e=="object"){const o=Ls(e.top??e.y??0,i),l=Ls(e.bottom??e.y??0,i),c=Ls(e.left??e.x??0,r),d=Ls(e.right??e.x??0,r);return{top:o,right:d,bottom:l,left:c,x:c+d,y:o+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function cC(e,r,i,o,l,c){const{x:d,y:g}=Hf(e,[r,i,o]),{x:m,y}=Hf({x:e.x+e.width,y:e.y+e.height},[r,i,o]),x=l-m,v=c-y;return{left:Math.floor(d),top:Math.floor(g),right:Math.floor(x),bottom:Math.floor(v)}}const xg=(e,r,i,o,l,c)=>{const d=uC(c,r,i),g=(r-d.x)/e.width,m=(i-d.y)/e.height,y=Math.min(g,m),x=Qs(y,o,l),v=e.x+e.width/2,w=e.y+e.height/2,T=r/2-v*x,O=i/2-w*x,N=cC(e,T,O,x,r,i),B={left:Math.min(N.left-d.left,0),top:Math.min(N.top-d.top,0),right:Math.min(N.right-d.right,0),bottom:Math.min(N.bottom-d.bottom,0)};return{x:T-B.left+B.right,y:O-B.top+B.bottom,zoom:x}},Eu=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Fs(e){return e!=null&&e!=="parent"}function xi(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function ix(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function ox(e,r={width:0,height:0},i,o,l){const c={...e},d=o.get(i);if(d){const g=d.origin||l;c.x+=d.internals.positionAbsolute.x-(r.width??0)*g[0],c.y+=d.internals.positionAbsolute.y-(r.height??0)*g[1]}return c}function b0(e,r){if(e.size!==r.size)return!1;for(const i of e)if(!r.has(i))return!1;return!0}function fC(){let e,r;return{promise:new Promise((o,l)=>{e=o,r=l}),resolve:e,reject:r}}function dC(e){return{...P1,...e||{}}}function uu(e,{snapGrid:r=[0,0],snapToGrid:i=!1,transform:o,containerBounds:l}){const{x:c,y:d}=ma(e),g=Lu({x:c-(l?.left??0),y:d-(l?.top??0)},o),{x:m,y}=i?ku(g,r):g;return{xSnapped:m,ySnapped:y,...g}}const wg=e=>({width:e.offsetWidth,height:e.offsetHeight}),sx=e=>e?.getRootNode?.()||window?.document,hC=["INPUT","SELECT","TEXTAREA"];function lx(e){const r=e.composedPath?.()?.[0]||e.target;return r?.nodeType!==1?!1:hC.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const ux=e=>"clientX"in e,ma=(e,r)=>{const i=ux(e),o=i?e.clientX:e.touches?.[0].clientX,l=i?e.clientY:e.touches?.[0].clientY;return{x:o-(r?.left??0),y:l-(r?.top??0)}},x0=(e,r,i,o,l)=>{const c=r.querySelectorAll(`.${e}`);return!c||!c.length?null:Array.from(c).map(d=>{const g=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:e,nodeId:l,position:d.getAttribute("data-handlepos"),x:(g.left-i.left)/o,y:(g.top-i.top)/o,...wg(d)}})};function cx({sourceX:e,sourceY:r,targetX:i,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:g}){const m=e*.125+l*.375+d*.375+i*.125,y=r*.125+c*.375+g*.375+o*.125,x=Math.abs(m-e),v=Math.abs(y-r);return[m,y,x,v]}function cf(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function w0({pos:e,x1:r,y1:i,x2:o,y2:l,c}){switch(e){case Jt.Left:return[r-cf(r-o,c),i];case Jt.Right:return[r+cf(o-r,c),i];case Jt.Top:return[r,i-cf(i-l,c)];case Jt.Bottom:return[r,i+cf(l-i,c)]}}function ad({sourceX:e,sourceY:r,sourcePosition:i=Jt.Bottom,targetX:o,targetY:l,targetPosition:c=Jt.Top,curvature:d=.25}){const[g,m]=w0({pos:i,x1:e,y1:r,x2:o,y2:l,c:d}),[y,x]=w0({pos:c,x1:o,y1:l,x2:e,y2:r,c:d}),[v,w,T,O]=cx({sourceX:e,sourceY:r,targetX:o,targetY:l,sourceControlX:g,sourceControlY:m,targetControlX:y,targetControlY:x});return[`M${e},${r} C${g},${m} ${y},${x} ${o},${l}`,v,w,T,O]}function fx({sourceX:e,sourceY:r,targetX:i,targetY:o}){const l=Math.abs(i-e)/2,c=i<e?i+l:i-l,d=Math.abs(o-r)/2,g=o<r?o+d:o-d;return[c,g,l,d]}function pC({sourceNode:e,targetNode:r,selected:i=!1,zIndex:o,elevateOnSelect:l=!1}){if(o!==void 0)return o;const c=l&&i?1e3:0,d=Math.max(e.parentId||l&&e.selected?e.internals.z:0,r.parentId||l&&r.selected?r.internals.z:0);return c+d}function gC({sourceNode:e,targetNode:r,width:i,height:o,transform:l}){const c=nd(jf(e),jf(r));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d={x:-l[0]/l[2],y:-l[1]/l[2],width:i/l[2],height:o/l[2]};return Su(d,rd(c))>0}const mC=({source:e,sourceHandle:r,target:i,targetHandle:o})=>`xy-edge__${e}${r||""}-${i}${o||""}`,yC=(e,r)=>r.some(i=>i.source===e.source&&i.target===e.target&&(i.sourceHandle===e.sourceHandle||!i.sourceHandle&&!e.sourceHandle)&&(i.targetHandle===e.targetHandle||!i.targetHandle&&!e.targetHandle)),Qp=(e,r)=>{if(!e.source||!e.target)return r;let i;return W1(e)?i={...e}:i={...e,id:mC(e)},yC(i,r)?r:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,r.concat(i))};function dx({sourceX:e,sourceY:r,targetX:i,targetY:o}){const[l,c,d,g]=fx({sourceX:e,sourceY:r,targetX:i,targetY:o});return[`M ${e},${r}L ${i},${o}`,l,c,d,g]}const S0={[Jt.Left]:{x:-1,y:0},[Jt.Right]:{x:1,y:0},[Jt.Top]:{x:0,y:-1},[Jt.Bottom]:{x:0,y:1}},vC=({source:e,sourcePosition:r=Jt.Bottom,target:i})=>r===Jt.Left||r===Jt.Right?e.x<i.x?{x:1,y:0}:{x:-1,y:0}:e.y<i.y?{x:0,y:1}:{x:0,y:-1},E0=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function bC({source:e,sourcePosition:r=Jt.Bottom,target:i,targetPosition:o=Jt.Top,center:l,offset:c,stepPosition:d}){const g=S0[r],m=S0[o],y={x:e.x+g.x*c,y:e.y+g.y*c},x={x:i.x+m.x*c,y:i.y+m.y*c},v=vC({source:y,sourcePosition:r,target:x}),w=v.x!==0?"x":"y",T=v[w];let O=[],N,B;const z={x:0,y:0},K={x:0,y:0},[,,A,_]=fx({sourceX:e.x,sourceY:e.y,targetX:i.x,targetY:i.y});if(g[w]*m[w]===-1){w==="x"?(N=l.x??y.x+(x.x-y.x)*d,B=l.y??(y.y+x.y)/2):(N=l.x??(y.x+x.x)/2,B=l.y??y.y+(x.y-y.y)*d);const L=[{x:N,y:y.y},{x:N,y:x.y}],j=[{x:y.x,y:B},{x:x.x,y:B}];g[w]===T?O=w==="x"?L:j:O=w==="x"?j:L}else{const L=[{x:y.x,y:x.y}],j=[{x:x.x,y:y.y}];if(w==="x"?O=g.x===T?j:L:O=g.y===T?L:j,r===o){const et=Math.abs(e[w]-i[w]);if(et<=c){const lt=Math.min(c-1,c-et);g[w]===T?z[w]=(y[w]>e[w]?-1:1)*lt:K[w]=(x[w]>i[w]?-1:1)*lt}}if(r!==o){const et=w==="x"?"y":"x",lt=g[w]===m[et],Y=y[et]>x[et],I=y[et]<x[et];(g[w]===1&&(!lt&&Y||lt&&I)||g[w]!==1&&(!lt&&I||lt&&Y))&&(O=w==="x"?L:j)}const G={x:y.x+z.x,y:y.y+z.y},J={x:x.x+K.x,y:x.y+K.y},vt=Math.max(Math.abs(G.x-O[0].x),Math.abs(J.x-O[0].x)),pt=Math.max(Math.abs(G.y-O[0].y),Math.abs(J.y-O[0].y));vt>=pt?(N=(G.x+J.x)/2,B=O[0].y):(N=O[0].x,B=(G.y+J.y)/2)}return[[e,{x:y.x+z.x,y:y.y+z.y},...O,{x:x.x+K.x,y:x.y+K.y},i],N,B,A,_]}function xC(e,r,i,o){const l=Math.min(E0(e,r)/2,E0(r,i)/2,o),{x:c,y:d}=r;if(e.x===c&&c===i.x||e.y===d&&d===i.y)return`L${c} ${d}`;if(e.y===d){const y=e.x<i.x?-1:1,x=e.y<i.y?1:-1;return`L ${c+l*y},${d}Q ${c},${d} ${c},${d+l*x}`}const g=e.x<i.x?1:-1,m=e.y<i.y?-1:1;return`L ${c},${d+l*m}Q ${c},${d} ${c+l*g},${d}`}function Pp({sourceX:e,sourceY:r,sourcePosition:i=Jt.Bottom,targetX:o,targetY:l,targetPosition:c=Jt.Top,borderRadius:d=5,centerX:g,centerY:m,offset:y=20,stepPosition:x=.5}){const[v,w,T,O,N]=bC({source:{x:e,y:r},sourcePosition:i,target:{x:o,y:l},targetPosition:c,center:{x:g,y:m},offset:y,stepPosition:x});return[v.reduce((z,K,A)=>{let _="";return A>0&&A<v.length-1?_=xC(v[A-1],K,v[A+1],d):_=`${A===0?"M":"L"}${K.x} ${K.y}`,z+=_,z},""),w,T,O,N]}function _0(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function wC(e){const{sourceNode:r,targetNode:i}=e;if(!_0(r)||!_0(i))return null;const o=r.internals.handleBounds||T0(r.handles),l=i.internals.handleBounds||T0(i.handles),c=C0(o?.source??[],e.sourceHandle),d=C0(e.connectionMode===Is.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!c||!d)return e.onError?.("008",Ha.error008(c?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const g=c?.position||Jt.Bottom,m=d?.position||Jt.Top,y=_u(r,c,g),x=_u(i,d,m);return{sourceX:y.x,sourceY:y.y,targetX:x.x,targetY:x.y,sourcePosition:g,targetPosition:m}}function T0(e){if(!e)return null;const r=[],i=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?r.push(o):o.type==="target"&&i.push(o);return{source:r,target:i}}function _u(e,r,i=Jt.Left,o=!1){const l=(r?.x??0)+e.internals.positionAbsolute.x,c=(r?.y??0)+e.internals.positionAbsolute.y,{width:d,height:g}=r??xi(e);if(o)return{x:l+d/2,y:c+g/2};switch(r?.position??i){case Jt.Top:return{x:l+d/2,y:c};case Jt.Right:return{x:l+d,y:c+g/2};case Jt.Bottom:return{x:l+d/2,y:c+g};case Jt.Left:return{x:l,y:c+g/2}}}function C0(e,r){return e&&(r?e.find(i=>i.id===r):e[0])||null}function Fp(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function SC(e,{id:r,defaultColor:i,defaultMarkerStart:o,defaultMarkerEnd:l}){const c=new Set;return e.reduce((d,g)=>([g.markerStart||o,g.markerEnd||l].forEach(m=>{if(m&&typeof m=="object"){const y=Fp(m,r);c.has(y)||(d.push({id:y,color:m.color||i,...m}),c.add(y))}}),d),[]).sort((d,g)=>d.id.localeCompare(g.id))}const Sg={nodeOrigin:[0,0],nodeExtent:wu,elevateNodesOnSelect:!0,defaults:{}},EC={...Sg,checkEquality:!0};function Eg(e,r){const i={...e};for(const o in r)r[o]!==void 0&&(i[o]=r[o]);return i}function _C(e,r,i){const o=Eg(Sg,i);for(const l of e.values())if(l.parentId)_g(l,e,r,o);else{const c=ju(l,o.nodeOrigin),d=Fs(l.extent)?l.extent:o.nodeExtent,g=$o(c,d,xi(l));l.internals.positionAbsolute=g}}function TC(e,r){if(!e.handles)return e.measured?r?.internals.handleBounds:void 0;const i=[],o=[];for(const l of e.handles){const c={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?i.push(c):l.type==="target"&&o.push(c)}return{source:i,target:o}}function Jp(e,r,i,o){const l=Eg(EC,o);let c=e.length>0;const d=new Map(r),g=l?.elevateNodesOnSelect?1e3:0;r.clear(),i.clear();for(const m of e){let y=d.get(m.id);if(l.checkEquality&&m===y?.internals.userNode)r.set(m.id,y);else{const x=ju(m,l.nodeOrigin),v=Fs(m.extent)?m.extent:l.nodeExtent,w=$o(x,v,xi(m));y={...l.defaults,...m,measured:{width:m.measured?.width,height:m.measured?.height},internals:{positionAbsolute:w,handleBounds:TC(m,y),z:hx(m,g),userNode:m}},r.set(m.id,y)}(y.measured===void 0||y.measured.width===void 0||y.measured.height===void 0)&&!y.hidden&&(c=!1),m.parentId&&_g(y,r,i,o)}return c}function CC(e,r){if(!e.parentId)return;const i=r.get(e.parentId);i?i.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function _g(e,r,i,o){const{elevateNodesOnSelect:l,nodeOrigin:c,nodeExtent:d}=Eg(Sg,o),g=e.parentId,m=r.get(g);if(!m){console.warn(`Parent node ${g} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}CC(e,i);const y=l?1e3:0,{x,y:v,z:w}=NC(e,m,c,d,y),{positionAbsolute:T}=e.internals,O=x!==T.x||v!==T.y;(O||w!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:O?{x,y:v}:T,z:w}})}function hx(e,r){return(ga(e.zIndex)?e.zIndex:0)+(e.selected?r:0)}function NC(e,r,i,o,l){const{x:c,y:d}=r.internals.positionAbsolute,g=xi(e),m=ju(e,i),y=Fs(e.extent)?$o(m,e.extent,g):m;let x=$o({x:c+y.x,y:d+y.y},o,g);e.extent==="parent"&&(x=nx(x,g,r));const v=hx(e,l),w=r.internals.z??0;return{x:x.x,y:x.y,z:w>=v?w+1:v}}function Tg(e,r,i,o=[0,0]){const l=[],c=new Map;for(const d of e){const g=r.get(d.parentId);if(!g)continue;const m=c.get(d.parentId)?.expandedRect??Ps(g),y=ax(m,d.rect);c.set(d.parentId,{expandedRect:y,parent:g})}return c.size>0&&c.forEach(({expandedRect:d,parent:g},m)=>{const y=g.internals.positionAbsolute,x=xi(g),v=g.origin??o,w=d.x<y.x?Math.round(Math.abs(y.x-d.x)):0,T=d.y<y.y?Math.round(Math.abs(y.y-d.y)):0,O=Math.max(x.width,Math.round(d.width)),N=Math.max(x.height,Math.round(d.height)),B=(O-x.width)*v[0],z=(N-x.height)*v[1];(w>0||T>0||B||z)&&(l.push({id:m,type:"position",position:{x:g.position.x-w+B,y:g.position.y-T+z}}),i.get(m)?.forEach(K=>{e.some(A=>A.id===K.id)||l.push({id:K.id,type:"position",position:{x:K.position.x+w,y:K.position.y+T}})})),(x.width<d.width||x.height<d.height||w||T)&&l.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:O+(w?v[0]*w-B:0),height:N+(T?v[1]*T-z:0)}})}),l}function DC(e,r,i,o,l,c){const d=o?.querySelector(".xyflow__viewport");let g=!1;if(!d)return{changes:[],updatedInternals:g};const m=[],y=window.getComputedStyle(d),{m22:x}=new window.DOMMatrixReadOnly(y.transform),v=[];for(const w of e.values()){const T=r.get(w.id);if(!T)continue;if(T.hidden){r.set(T.id,{...T,internals:{...T.internals,handleBounds:void 0}}),g=!0;continue}const O=wg(w.nodeElement),N=T.measured.width!==O.width||T.measured.height!==O.height;if(!!(O.width&&O.height&&(N||!T.internals.handleBounds||w.force))){const z=w.nodeElement.getBoundingClientRect(),K=Fs(T.extent)?T.extent:c;let{positionAbsolute:A}=T.internals;T.parentId&&T.extent==="parent"?A=nx(A,O,r.get(T.parentId)):K&&(A=$o(A,K,O));const _={...T,measured:O,internals:{...T.internals,positionAbsolute:A,handleBounds:{source:x0("source",w.nodeElement,z,x,T.id),target:x0("target",w.nodeElement,z,x,T.id)}}};r.set(T.id,_),T.parentId&&_g(_,r,i,{nodeOrigin:l}),g=!0,N&&(m.push({id:T.id,type:"dimensions",dimensions:O}),T.expandParent&&T.parentId&&v.push({id:T.id,parentId:T.parentId,rect:Ps(_,l)}))}}if(v.length>0){const w=Tg(v,r,i,l);m.push(...w)}return{changes:m,updatedInternals:g}}async function AC({delta:e,panZoom:r,transform:i,translateExtent:o,width:l,height:c}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const d=await r.setViewportConstrained({x:i[0]+e.x,y:i[1]+e.y,zoom:i[2]},[[0,0],[l,c]],o),g=!!d&&(d.x!==i[0]||d.y!==i[1]||d.k!==i[2]);return Promise.resolve(g)}function N0(e,r,i,o,l,c){let d=l;const g=o.get(d)||new Map;o.set(d,g.set(i,r)),d=`${l}-${e}`;const m=o.get(d)||new Map;if(o.set(d,m.set(i,r)),c){d=`${l}-${e}-${c}`;const y=o.get(d)||new Map;o.set(d,y.set(i,r))}}function px(e,r,i){e.clear(),r.clear();for(const o of i){const{source:l,target:c,sourceHandle:d=null,targetHandle:g=null}=o,m={edgeId:o.id,source:l,target:c,sourceHandle:d,targetHandle:g},y=`${l}-${d}--${c}-${g}`,x=`${c}-${g}--${l}-${d}`;N0("source",m,x,e,l,d),N0("target",m,y,e,c,g),r.set(o.id,o)}}function gx(e,r){if(!e.parentId)return!1;const i=r.get(e.parentId);return i?i.selected?!0:gx(i,r):!1}function D0(e,r,i){let o=e;do{if(o?.matches?.(r))return!0;if(o===i)return!1;o=o?.parentElement}while(o);return!1}function OC(e,r,i,o){const l=new Map;for(const[c,d]of e)if((d.selected||d.id===o)&&(!d.parentId||!gx(d,e))&&(d.draggable||r&&typeof d.draggable>"u")){const g=e.get(c);g&&l.set(c,{id:c,position:g.position||{x:0,y:0},distance:{x:i.x-g.internals.positionAbsolute.x,y:i.y-g.internals.positionAbsolute.y},extent:g.extent,parentId:g.parentId,origin:g.origin,expandParent:g.expandParent,internals:{positionAbsolute:g.internals.positionAbsolute||{x:0,y:0}},measured:{width:g.measured.width??0,height:g.measured.height??0}})}return l}function gp({nodeId:e,dragItems:r,nodeLookup:i,dragging:o=!0}){const l=[];for(const[d,g]of r){const m=i.get(d)?.internals.userNode;m&&l.push({...m,position:g.position,dragging:o})}if(!e)return[l[0],l];const c=i.get(e)?.internals.userNode;return[c?{...c,position:r.get(e)?.position||c.position,dragging:o}:l[0],l]}function MC({dragItems:e,snapGrid:r,x:i,y:o}){const l=e.values().next().value;if(!l)return null;const c={x:i-l.distance.x,y:o-l.distance.y},d=ku(c,r);return{x:d.x-c.x,y:d.y-c.y}}function RC({onNodeMouseDown:e,getStoreItems:r,onDragStart:i,onDrag:o,onDragStop:l}){let c={x:null,y:null},d=0,g=new Map,m=!1,y={x:0,y:0},x=null,v=!1,w=null,T=!1,O=!1,N=null;function B({noDragClassName:K,handleSelector:A,domNode:_,isSelectable:$,nodeId:L,nodeClickDistance:j=0}){w=jr(_);function G({x:et,y:lt}){const{nodeLookup:Y,nodeExtent:I,snapGrid:M,snapToGrid:q,nodeOrigin:Q,onNodeDrag:tt,onSelectionDrag:ht,onError:k,updateNodePositions:Z}=r();c={x:et,y:lt};let st=!1;const gt=g.size>1,Tt=gt&&I?Zp(Hu(g)):null,Ot=gt&&q?MC({dragItems:g,snapGrid:M,x:et,y:lt}):null;for(const[jt,Ct]of g){if(!Y.has(jt))continue;let St={x:et-Ct.distance.x,y:lt-Ct.distance.y};q&&(St=Ot?{x:Math.round(St.x+Ot.x),y:Math.round(St.y+Ot.y)}:ku(St,M));let It=null;if(gt&&I&&!Ct.extent&&Tt){const{positionAbsolute:Ft}=Ct.internals,Zt=Ft.x-Tt.x+I[0][0],oe=Ft.x+Ct.measured.width-Tt.x2+I[1][0],be=Ft.y-Tt.y+I[0][1],De=Ft.y+Ct.measured.height-Tt.y2+I[1][1];It=[[Zt,be],[oe,De]]}const{position:te,positionAbsolute:Ht}=ex({nodeId:jt,nextPosition:St,nodeLookup:Y,nodeExtent:It||I,nodeOrigin:Q,onError:k});st=st||Ct.position.x!==te.x||Ct.position.y!==te.y,Ct.position=te,Ct.internals.positionAbsolute=Ht}if(O=O||st,!!st&&(Z(g,!0),N&&(o||tt||!L&&ht))){const[jt,Ct]=gp({nodeId:L,dragItems:g,nodeLookup:Y});o?.(N,g,jt,Ct),tt?.(N,jt,Ct),L||ht?.(N,Ct)}}async function J(){if(!x)return;const{transform:et,panBy:lt,autoPanSpeed:Y,autoPanOnNodeDrag:I}=r();if(!I){m=!1,cancelAnimationFrame(d);return}const[M,q]=rx(y,x,Y);(M!==0||q!==0)&&(c.x=(c.x??0)-M/et[2],c.y=(c.y??0)-q/et[2],await lt({x:M,y:q})&&G(c)),d=requestAnimationFrame(J)}function vt(et){const{nodeLookup:lt,multiSelectionActive:Y,nodesDraggable:I,transform:M,snapGrid:q,snapToGrid:Q,selectNodesOnDrag:tt,onNodeDragStart:ht,onSelectionDragStart:k,unselectNodesAndEdges:Z}=r();v=!0,(!tt||!$)&&!Y&&L&&(lt.get(L)?.selected||Z()),$&&tt&&L&&e?.(L);const st=uu(et.sourceEvent,{transform:M,snapGrid:q,snapToGrid:Q,containerBounds:x});if(c=st,g=OC(lt,I,st,L),g.size>0&&(i||ht||!L&&k)){const[gt,Tt]=gp({nodeId:L,dragItems:g,nodeLookup:lt});i?.(et.sourceEvent,g,gt,Tt),ht?.(et.sourceEvent,gt,Tt),L||k?.(et.sourceEvent,Tt)}}const pt=z1().clickDistance(j).on("start",et=>{const{domNode:lt,nodeDragThreshold:Y,transform:I,snapGrid:M,snapToGrid:q}=r();x=lt?.getBoundingClientRect()||null,T=!1,O=!1,N=et.sourceEvent,Y===0&&vt(et),c=uu(et.sourceEvent,{transform:I,snapGrid:M,snapToGrid:q,containerBounds:x}),y=ma(et.sourceEvent,x)}).on("drag",et=>{const{autoPanOnNodeDrag:lt,transform:Y,snapGrid:I,snapToGrid:M,nodeDragThreshold:q,nodeLookup:Q}=r(),tt=uu(et.sourceEvent,{transform:Y,snapGrid:I,snapToGrid:M,containerBounds:x});if(N=et.sourceEvent,(et.sourceEvent.type==="touchmove"&&et.sourceEvent.touches.length>1||L&&!Q.has(L))&&(T=!0),!T){if(!m&&lt&&v&&(m=!0,J()),!v){const ht=ma(et.sourceEvent,x),k=ht.x-y.x,Z=ht.y-y.y;Math.sqrt(k*k+Z*Z)>q&&vt(et)}(c.x!==tt.xSnapped||c.y!==tt.ySnapped)&&g&&v&&(y=ma(et.sourceEvent,x),G(tt))}}).on("end",et=>{if(!(!v||T)&&(m=!1,v=!1,cancelAnimationFrame(d),g.size>0)){const{nodeLookup:lt,updateNodePositions:Y,onNodeDragStop:I,onSelectionDragStop:M}=r();if(O&&(Y(g,!1),O=!1),l||I||!L&&M){const[q,Q]=gp({nodeId:L,dragItems:g,nodeLookup:lt,dragging:!1});l?.(et.sourceEvent,g,q,Q),I?.(et.sourceEvent,q,Q),L||M?.(et.sourceEvent,Q)}}}).filter(et=>{const lt=et.target;return!et.button&&(!K||!D0(lt,`.${K}`,_))&&(!A||D0(lt,A,_))});w.call(pt)}function z(){w?.on(".drag",null)}return{update:B,destroy:z}}function zC(e,r,i){const o=[],l={x:e.x-i,y:e.y-i,width:i*2,height:i*2};for(const c of r.values())Su(l,Ps(c))>0&&o.push(c);return o}const BC=250;function jC(e,r,i,o){let l=[],c=1/0;const d=zC(e,i,r+BC);for(const g of d){const m=[...g.internals.handleBounds?.source??[],...g.internals.handleBounds?.target??[]];for(const y of m){if(o.nodeId===y.nodeId&&o.type===y.type&&o.id===y.id)continue;const{x,y:v}=_u(g,y,y.position,!0),w=Math.sqrt(Math.pow(x-e.x,2)+Math.pow(v-e.y,2));w>r||(w<c?(l=[{...y,x,y:v}],c=w):w===c&&l.push({...y,x,y:v}))}}if(!l.length)return null;if(l.length>1){const g=o.type==="source"?"target":"source";return l.find(m=>m.type===g)??l[0]}return l[0]}function mx(e,r,i,o,l,c=!1){const d=o.get(e);if(!d)return null;const g=l==="strict"?d.internals.handleBounds?.[r]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],m=(i?g?.find(y=>y.id===i):g?.[0])??null;return m&&c?{...m,..._u(d,m,m.position,!0)}:m}function yx(e,r){return e||(r?.classList.contains("target")?"target":r?.classList.contains("source")?"source":null)}function HC(e,r){let i=null;return r?i=!0:e&&!r&&(i=!1),i}const vx=()=>!0;function kC(e,{connectionMode:r,connectionRadius:i,handleId:o,nodeId:l,edgeUpdaterType:c,isTarget:d,domNode:g,nodeLookup:m,lib:y,autoPanOnConnect:x,flowId:v,panBy:w,cancelConnection:T,onConnectStart:O,onConnect:N,onConnectEnd:B,isValidConnection:z=vx,onReconnectEnd:K,updateConnection:A,getTransform:_,getFromHandle:$,autoPanSpeed:L,dragThreshold:j=1,handleDomNode:G}){const J=sx(e.target);let vt=0,pt;const{x:et,y:lt}=ma(e),Y=yx(c,G),I=g?.getBoundingClientRect();let M=!1;if(!I||!Y)return;const q=mx(l,Y,o,m,r);if(!q)return;let Q=ma(e,I),tt=!1,ht=null,k=!1,Z=null;function st(){if(!x||!I)return;const[te,Ht]=rx(Q,I,L);w({x:te,y:Ht}),vt=requestAnimationFrame(st)}const gt={...q,nodeId:l,type:Y,position:q.position},Tt=m.get(l);let jt={inProgress:!0,isValid:null,from:_u(Tt,gt,Jt.Left,!0),fromHandle:gt,fromPosition:gt.position,fromNode:Tt,to:Q,toHandle:null,toPosition:m0[gt.position],toNode:null};function Ct(){M=!0,A(jt),O?.(e,{nodeId:l,handleId:o,handleType:Y})}j===0&&Ct();function St(te){if(!M){const{x:oe,y:be}=ma(te),De=oe-et,yn=be-lt;if(!(De*De+yn*yn>j*j))return;Ct()}if(!$()||!gt){It(te);return}const Ht=_();Q=ma(te,I),pt=jC(Lu(Q,Ht,!1,[1,1]),i,m,gt),tt||(st(),tt=!0);const Ft=bx(te,{handle:pt,connectionMode:r,fromNodeId:l,fromHandleId:o,fromType:d?"target":"source",isValidConnection:z,doc:J,lib:y,flowId:v,nodeLookup:m});Z=Ft.handleDomNode,ht=Ft.connection,k=HC(!!pt,Ft.isValid);const Zt={...jt,isValid:k,to:Ft.toHandle&&k?Hf({x:Ft.toHandle.x,y:Ft.toHandle.y},Ht):Q,toHandle:Ft.toHandle,toPosition:k&&Ft.toHandle?Ft.toHandle.position:m0[gt.position],toNode:Ft.toHandle?m.get(Ft.toHandle.nodeId):null};k&&pt&&jt.toHandle&&Zt.toHandle&&jt.toHandle.type===Zt.toHandle.type&&jt.toHandle.nodeId===Zt.toHandle.nodeId&&jt.toHandle.id===Zt.toHandle.id&&jt.to.x===Zt.to.x&&jt.to.y===Zt.to.y||(A(Zt),jt=Zt)}function It(te){if(!("touches"in te&&te.touches.length>0)){if(M){(pt||Z)&&ht&&k&&N?.(ht);const{inProgress:Ht,...Ft}=jt,Zt={...Ft,toPosition:jt.toHandle?jt.toPosition:null};B?.(te,Zt),c&&K?.(te,Zt)}T(),cancelAnimationFrame(vt),tt=!1,k=!1,ht=null,Z=null,J.removeEventListener("mousemove",St),J.removeEventListener("mouseup",It),J.removeEventListener("touchmove",St),J.removeEventListener("touchend",It)}}J.addEventListener("mousemove",St),J.addEventListener("mouseup",It),J.addEventListener("touchmove",St),J.addEventListener("touchend",It)}function bx(e,{handle:r,connectionMode:i,fromNodeId:o,fromHandleId:l,fromType:c,doc:d,lib:g,flowId:m,isValidConnection:y=vx,nodeLookup:x}){const v=c==="target",w=r?d.querySelector(`.${g}-flow__handle[data-id="${m}-${r?.nodeId}-${r?.id}-${r?.type}"]`):null,{x:T,y:O}=ma(e),N=d.elementFromPoint(T,O),B=N?.classList.contains(`${g}-flow__handle`)?N:w,z={handleDomNode:B,isValid:!1,connection:null,toHandle:null};if(B){const K=yx(void 0,B),A=B.getAttribute("data-nodeid"),_=B.getAttribute("data-handleid"),$=B.classList.contains("connectable"),L=B.classList.contains("connectableend");if(!A||!K)return z;const j={source:v?A:o,sourceHandle:v?_:l,target:v?o:A,targetHandle:v?l:_};z.connection=j;const J=$&&L&&(i===Is.Strict?v&&K==="source"||!v&&K==="target":A!==o||_!==l);z.isValid=J&&y(j),z.toHandle=mx(A,K,_,x,i,!0)}return z}const Wp={onPointerDown:kC,isValid:bx};function LC({domNode:e,panZoom:r,getTransform:i,getViewScale:o}){const l=jr(e);function c({translateExtent:g,width:m,height:y,zoomStep:x=1,pannable:v=!0,zoomable:w=!0,inversePan:T=!1}){const O=A=>{if(A.sourceEvent.type!=="wheel"||!r)return;const _=i(),$=A.sourceEvent.ctrlKey&&Eu()?10:1,L=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*x,j=_[2]*Math.pow(2,L*$);r.scaleTo(j)};let N=[0,0];const B=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(N=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},z=A=>{const _=i();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!r)return;const $=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],L=[$[0]-N[0],$[1]-N[1]];N=$;const j=o()*Math.max(_[2],Math.log(_[2]))*(T?-1:1),G={x:_[0]-L[0]*j,y:_[1]-L[1]*j},J=[[0,0],[m,y]];r.setViewportConstrained({x:G.x,y:G.y,zoom:_[2]},J,g)},K=Z1().on("start",B).on("zoom",v?z:null).on("zoom.wheel",w?O:null);l.call(K,{})}function d(){l.on("zoom",null)}return{update:c,destroy:d,pointer:da}}const UC=(e,r)=>e.x!==r.x||e.y!==r.y||e.zoom!==r.k,id=e=>({x:e.x,y:e.y,zoom:e.k}),mp=({x:e,y:r,zoom:i})=>ed.translate(e,r).scale(i),qs=(e,r)=>e.target.closest(`.${r}`),xx=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),qC=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,yp=(e,r=0,i=qC,o=()=>{})=>{const l=typeof r=="number"&&r>0;return l||o(),l?e.transition().duration(r).ease(i).on("end",o):e},wx=e=>{const r=e.ctrlKey&&Eu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function VC({zoomPanValues:e,noWheelClassName:r,d3Selection:i,d3Zoom:o,panOnScrollMode:l,panOnScrollSpeed:c,zoomOnPinch:d,onPanZoomStart:g,onPanZoom:m,onPanZoomEnd:y}){return x=>{if(qs(x,r))return x.ctrlKey&&x.preventDefault(),!1;x.preventDefault(),x.stopImmediatePropagation();const v=i.property("__zoom").k||1;if(x.ctrlKey&&d){const B=da(x),z=wx(x),K=v*Math.pow(2,z);o.scaleTo(i,K,B,x);return}const w=x.deltaMode===1?20:1;let T=l===Uo.Vertical?0:x.deltaX*w,O=l===Uo.Horizontal?0:x.deltaY*w;!Eu()&&x.shiftKey&&l!==Uo.Vertical&&(T=x.deltaY*w,O=0),o.translateBy(i,-(T/v)*c,-(O/v)*c,{internal:!0});const N=id(i.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,g?.(x,N)),e.isPanScrolling&&(m?.(x,N),e.panScrollTimeout=setTimeout(()=>{y?.(x,N),e.isPanScrolling=!1},150))}}function YC({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:i}){return function(o,l){const c=o.type==="wheel",d=!r&&c&&!o.ctrlKey,g=qs(o,e);if(o.ctrlKey&&c&&g&&o.preventDefault(),d||g)return null;o.preventDefault(),i.call(this,o,l)}}function $C({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:i}){return o=>{if(o.sourceEvent?.internal)return;const l=id(o.transform);e.mouseButton=o.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,o.sourceEvent?.type==="mousedown"&&r(!0),i&&i?.(o.sourceEvent,l)}}function XC({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:i,onTransformChange:o,onPanZoom:l}){return c=>{e.usedRightMouseButton=!!(i&&xx(r,e.mouseButton??0)),c.sourceEvent?.sync||o([c.transform.x,c.transform.y,c.transform.k]),l&&!c.sourceEvent?.internal&&l?.(c.sourceEvent,id(c.transform))}}function KC({zoomPanValues:e,panOnDrag:r,panOnScroll:i,onDraggingChange:o,onPanZoomEnd:l,onPaneContextMenu:c}){return d=>{if(!d.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,c&&xx(r,e.mouseButton??0)&&!e.usedRightMouseButton&&d.sourceEvent&&c(d.sourceEvent),e.usedRightMouseButton=!1,o(!1),l&&UC(e.prevViewport,d.transform))){const g=id(d.transform);e.prevViewport=g,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(d.sourceEvent,g)},i?150:0)}}}function GC({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:i,panOnDrag:o,panOnScroll:l,zoomOnDoubleClick:c,userSelectionActive:d,noWheelClassName:g,noPanClassName:m,lib:y,connectionInProgress:x}){return v=>{const w=e||r,T=i&&v.ctrlKey,O=v.type==="wheel";if(v.button===1&&v.type==="mousedown"&&(qs(v,`${y}-flow__node`)||qs(v,`${y}-flow__edge`)))return!0;if(!o&&!w&&!l&&!c&&!i||d||x&&!O||qs(v,g)&&O||qs(v,m)&&(!O||l&&O&&!e)||!i&&v.ctrlKey&&O)return!1;if(!i&&v.type==="touchstart"&&v.touches?.length>1)return v.preventDefault(),!1;if(!w&&!l&&!T&&O||!o&&(v.type==="mousedown"||v.type==="touchstart")||Array.isArray(o)&&!o.includes(v.button)&&v.type==="mousedown")return!1;const N=Array.isArray(o)&&o.includes(v.button)||!v.button||v.button<=1;return(!v.ctrlKey||O)&&N}}function IC({domNode:e,minZoom:r,maxZoom:i,paneClickDistance:o,translateExtent:l,viewport:c,onPanZoom:d,onPanZoomStart:g,onPanZoomEnd:m,onDraggingChange:y}){const x={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),w=Z1().clickDistance(!ga(o)||o<0?0:o).scaleExtent([r,i]).translateExtent(l),T=jr(e).call(w);A({x:c.x,y:c.y,zoom:Qs(c.zoom,r,i)},[[0,0],[v.width,v.height]],l);const O=T.on("wheel.zoom"),N=T.on("dblclick.zoom");w.wheelDelta(wx);function B(et,lt){return T?new Promise(Y=>{w?.interpolate(lt?.interpolate==="linear"?lu:xf).transform(yp(T,lt?.duration,lt?.ease,()=>Y(!0)),et)}):Promise.resolve(!1)}function z({noWheelClassName:et,noPanClassName:lt,onPaneContextMenu:Y,userSelectionActive:I,panOnScroll:M,panOnDrag:q,panOnScrollMode:Q,panOnScrollSpeed:tt,preventScrolling:ht,zoomOnPinch:k,zoomOnScroll:Z,zoomOnDoubleClick:st,zoomActivationKeyPressed:gt,lib:Tt,onTransformChange:Ot,connectionInProgress:jt}){I&&!x.isZoomingOrPanning&&K();const St=M&&!gt&&!I?VC({zoomPanValues:x,noWheelClassName:et,d3Selection:T,d3Zoom:w,panOnScrollMode:Q,panOnScrollSpeed:tt,zoomOnPinch:k,onPanZoomStart:g,onPanZoom:d,onPanZoomEnd:m}):YC({noWheelClassName:et,preventScrolling:ht,d3ZoomHandler:O});if(T.on("wheel.zoom",St,{passive:!1}),!I){const te=$C({zoomPanValues:x,onDraggingChange:y,onPanZoomStart:g});w.on("start",te);const Ht=XC({zoomPanValues:x,panOnDrag:q,onPaneContextMenu:!!Y,onPanZoom:d,onTransformChange:Ot});w.on("zoom",Ht);const Ft=KC({zoomPanValues:x,panOnDrag:q,panOnScroll:M,onPaneContextMenu:Y,onPanZoomEnd:m,onDraggingChange:y});w.on("end",Ft)}const It=GC({zoomActivationKeyPressed:gt,panOnDrag:q,zoomOnScroll:Z,panOnScroll:M,zoomOnDoubleClick:st,zoomOnPinch:k,userSelectionActive:I,noPanClassName:lt,noWheelClassName:et,lib:Tt,connectionInProgress:jt});w.filter(It),st?T.on("dblclick.zoom",N):T.on("dblclick.zoom",null)}function K(){w.on("zoom",null)}async function A(et,lt,Y){const I=mp(et),M=w?.constrain()(I,lt,Y);return M&&await B(M),new Promise(q=>q(M))}async function _(et,lt){const Y=mp(et);return await B(Y,lt),new Promise(I=>I(Y))}function $(et){if(T){const lt=mp(et),Y=T.property("__zoom");(Y.k!==et.zoom||Y.x!==et.x||Y.y!==et.y)&&w?.transform(T,lt,null,{sync:!0})}}function L(){const et=T?I1(T.node()):{x:0,y:0,k:1};return{x:et.x,y:et.y,zoom:et.k}}function j(et,lt){return T?new Promise(Y=>{w?.interpolate(lt?.interpolate==="linear"?lu:xf).scaleTo(yp(T,lt?.duration,lt?.ease,()=>Y(!0)),et)}):Promise.resolve(!1)}function G(et,lt){return T?new Promise(Y=>{w?.interpolate(lt?.interpolate==="linear"?lu:xf).scaleBy(yp(T,lt?.duration,lt?.ease,()=>Y(!0)),et)}):Promise.resolve(!1)}function J(et){w?.scaleExtent(et)}function vt(et){w?.translateExtent(et)}function pt(et){const lt=!ga(et)||et<0?0:et;w?.clickDistance(lt)}return{update:z,destroy:K,setViewport:_,setViewportConstrained:A,getViewport:L,scaleTo:j,scaleBy:G,setScaleExtent:J,setTranslateExtent:vt,syncViewport:$,setClickDistance:pt}}var Js;(function(e){e.Line="line",e.Handle="handle"})(Js||(Js={}));function ZC({width:e,prevWidth:r,height:i,prevHeight:o,affectsX:l,affectsY:c}){const d=e-r,g=i-o,m=[d>0?1:d<0?-1:0,g>0?1:g<0?-1:0];return d&&l&&(m[0]=m[0]*-1),g&&c&&(m[1]=m[1]*-1),m}function QC(e){const r=e.includes("right")||e.includes("left"),i=e.includes("bottom")||e.includes("top"),o=e.includes("left"),l=e.includes("top");return{isHorizontal:r,isVertical:i,affectsX:o,affectsY:l}}function no(e,r){return Math.max(0,r-e)}function ro(e,r){return Math.max(0,e-r)}function ff(e,r,i){return Math.max(0,r-e,e-i)}function A0(e,r){return e?!r:r}function PC(e,r,i,o,l,c,d,g){let{affectsX:m,affectsY:y}=r;const{isHorizontal:x,isVertical:v}=r,w=x&&v,{xSnapped:T,ySnapped:O}=i,{minWidth:N,maxWidth:B,minHeight:z,maxHeight:K}=o,{x:A,y:_,width:$,height:L,aspectRatio:j}=e;let G=Math.floor(x?T-e.pointerX:0),J=Math.floor(v?O-e.pointerY:0);const vt=$+(m?-G:G),pt=L+(y?-J:J),et=-c[0]*$,lt=-c[1]*L;let Y=ff(vt,N,B),I=ff(pt,z,K);if(d){let Q=0,tt=0;m&&G<0?Q=no(A+G+et,d[0][0]):!m&&G>0&&(Q=ro(A+vt+et,d[1][0])),y&&J<0?tt=no(_+J+lt,d[0][1]):!y&&J>0&&(tt=ro(_+pt+lt,d[1][1])),Y=Math.max(Y,Q),I=Math.max(I,tt)}if(g){let Q=0,tt=0;m&&G>0?Q=ro(A+G,g[0][0]):!m&&G<0&&(Q=no(A+vt,g[1][0])),y&&J>0?tt=ro(_+J,g[0][1]):!y&&J<0&&(tt=no(_+pt,g[1][1])),Y=Math.max(Y,Q),I=Math.max(I,tt)}if(l){if(x){const Q=ff(vt/j,z,K)*j;if(Y=Math.max(Y,Q),d){let tt=0;!m&&!y||m&&!y&&w?tt=ro(_+lt+vt/j,d[1][1])*j:tt=no(_+lt+(m?G:-G)/j,d[0][1])*j,Y=Math.max(Y,tt)}if(g){let tt=0;!m&&!y||m&&!y&&w?tt=no(_+vt/j,g[1][1])*j:tt=ro(_+(m?G:-G)/j,g[0][1])*j,Y=Math.max(Y,tt)}}if(v){const Q=ff(pt*j,N,B)/j;if(I=Math.max(I,Q),d){let tt=0;!m&&!y||y&&!m&&w?tt=ro(A+pt*j+et,d[1][0])/j:tt=no(A+(y?J:-J)*j+et,d[0][0])/j,I=Math.max(I,tt)}if(g){let tt=0;!m&&!y||y&&!m&&w?tt=no(A+pt*j,g[1][0])/j:tt=ro(A+(y?J:-J)*j,g[0][0])/j,I=Math.max(I,tt)}}}J=J+(J<0?I:-I),G=G+(G<0?Y:-Y),l&&(w?vt>pt*j?J=(A0(m,y)?-G:G)/j:G=(A0(m,y)?-J:J)*j:x?(J=G/j,y=m):(G=J*j,m=y));const M=m?A+G:A,q=y?_+J:_;return{width:$+(m?-G:G),height:L+(y?-J:J),x:c[0]*G*(m?-1:1)+M,y:c[1]*J*(y?-1:1)+q}}const Sx={width:0,height:0,x:0,y:0},FC={...Sx,pointerX:0,pointerY:0,aspectRatio:1};function JC(e){return[[0,0],[e.measured.width,e.measured.height]]}function WC(e,r,i){const o=r.position.x+e.position.x,l=r.position.y+e.position.y,c=e.measured.width??0,d=e.measured.height??0,g=i[0]*c,m=i[1]*d;return[[o-g,l-m],[o+c-g,l+d-m]]}function tN({domNode:e,nodeId:r,getStoreItems:i,onChange:o,onEnd:l}){const c=jr(e);function d({controlPosition:m,boundaries:y,keepAspectRatio:x,resizeDirection:v,onResizeStart:w,onResize:T,onResizeEnd:O,shouldResize:N}){let B={...Sx},z={...FC};const K=QC(m);let A,_=null,$=[],L,j,G,J=!1;const vt=z1().on("start",pt=>{const{nodeLookup:et,transform:lt,snapGrid:Y,snapToGrid:I,nodeOrigin:M,paneDomNode:q}=i();if(A=et.get(r),!A)return;_=q?.getBoundingClientRect()??null;const{xSnapped:Q,ySnapped:tt}=uu(pt.sourceEvent,{transform:lt,snapGrid:Y,snapToGrid:I,containerBounds:_});B={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},z={...B,pointerX:Q,pointerY:tt,aspectRatio:B.width/B.height},L=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(L=et.get(A.parentId),j=L&&A.extent==="parent"?JC(L):void 0),$=[],G=void 0;for(const[ht,k]of et)if(k.parentId===r&&($.push({id:ht,position:{...k.position},extent:k.extent}),k.extent==="parent"||k.expandParent)){const Z=WC(k,A,k.origin??M);G?G=[[Math.min(Z[0][0],G[0][0]),Math.min(Z[0][1],G[0][1])],[Math.max(Z[1][0],G[1][0]),Math.max(Z[1][1],G[1][1])]]:G=Z}w?.(pt,{...B})}).on("drag",pt=>{const{transform:et,snapGrid:lt,snapToGrid:Y,nodeOrigin:I}=i(),M=uu(pt.sourceEvent,{transform:et,snapGrid:lt,snapToGrid:Y,containerBounds:_}),q=[];if(!A)return;const{x:Q,y:tt,width:ht,height:k}=B,Z={},st=A.origin??I,{width:gt,height:Tt,x:Ot,y:jt}=PC(z,K,M,y,x,st,j,G),Ct=gt!==ht,St=Tt!==k,It=Ot!==Q&&Ct,te=jt!==tt&&St;if(!It&&!te&&!Ct&&!St)return;if((It||te||st[0]===1||st[1]===1)&&(Z.x=It?Ot:B.x,Z.y=te?jt:B.y,B.x=Z.x,B.y=Z.y,$.length>0)){const oe=Ot-Q,be=jt-tt;for(const De of $)De.position={x:De.position.x-oe+st[0]*(gt-ht),y:De.position.y-be+st[1]*(Tt-k)},q.push(De)}if((Ct||St)&&(Z.width=Ct&&(!v||v==="horizontal")?gt:B.width,Z.height=St&&(!v||v==="vertical")?Tt:B.height,B.width=Z.width,B.height=Z.height),L&&A.expandParent){const oe=st[0]*(Z.width??0);Z.x&&Z.x<oe&&(B.x=oe,z.x=z.x-(Z.x-oe));const be=st[1]*(Z.height??0);Z.y&&Z.y<be&&(B.y=be,z.y=z.y-(Z.y-be))}const Ht=ZC({width:B.width,prevWidth:ht,height:B.height,prevHeight:k,affectsX:K.affectsX,affectsY:K.affectsY}),Ft={...B,direction:Ht};N?.(pt,Ft)!==!1&&(J=!0,T?.(pt,Ft),o(Z,q))}).on("end",pt=>{J&&(O?.(pt,{...B}),l?.({...B}),J=!1)});c.call(vt)}function g(){c.on(".drag",null)}return{update:d,destroy:g}}var vp={exports:{}},bp={},xp={exports:{}},wp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function eN(){if(O0)return wp;O0=1;var e=Ru();function r(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var i=typeof Object.is=="function"?Object.is:r,o=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function g(v,w){var T=w(),O=o({inst:{value:T,getSnapshot:w}}),N=O[0].inst,B=O[1];return c(function(){N.value=T,N.getSnapshot=w,m(N)&&B({inst:N})},[v,T,w]),l(function(){return m(N)&&B({inst:N}),v(function(){m(N)&&B({inst:N})})},[v]),d(T),T}function m(v){var w=v.getSnapshot;v=v.value;try{var T=w();return!i(v,T)}catch{return!0}}function y(v,w){return w()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:g;return wp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,wp}var M0;function nN(){return M0||(M0=1,xp.exports=eN()),xp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function rN(){if(R0)return bp;R0=1;var e=Ru(),r=nN();function i(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var o=typeof Object.is=="function"?Object.is:i,l=r.useSyncExternalStore,c=e.useRef,d=e.useEffect,g=e.useMemo,m=e.useDebugValue;return bp.useSyncExternalStoreWithSelector=function(y,x,v,w,T){var O=c(null);if(O.current===null){var N={hasValue:!1,value:null};O.current=N}else N=O.current;O=g(function(){function z(L){if(!K){if(K=!0,A=L,L=w(L),T!==void 0&&N.hasValue){var j=N.value;if(T(j,L))return _=j}return _=L}if(j=_,o(A,L))return j;var G=w(L);return T!==void 0&&T(j,G)?(A=L,j):(A=L,_=G)}var K=!1,A,_,$=v===void 0?null:v;return[function(){return z(x())},$===null?void 0:function(){return z($())}]},[x,v,w,T]);var B=l(y,O[0],O[1]);return d(function(){N.hasValue=!0,N.value=B},[B]),m(B),B},bp}var z0;function aN(){return z0||(z0=1,vp.exports=rN()),vp.exports}var iN=aN();const oN=Pf(iN),sN={},B0=e=>{let r;const i=new Set,o=(x,v)=>{const w=typeof x=="function"?x(r):x;if(!Object.is(w,r)){const T=r;r=v??(typeof w!="object"||w===null)?w:Object.assign({},r,w),i.forEach(O=>O(r,T))}},l=()=>r,m={setState:o,getState:l,getInitialState:()=>y,subscribe:x=>(i.add(x),()=>i.delete(x)),destroy:()=>{(sN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},y=r=e(o,l,m);return m},lN=e=>e?B0(e):B0,{useDebugValue:uN}=Bt,{useSyncExternalStoreWithSelector:cN}=oN,fN=e=>e;function Ex(e,r=fN,i){const o=cN(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,i);return uN(o),o}const j0=(e,r)=>{const i=lN(e),o=(l,c=r)=>Ex(i,l,c);return Object.assign(o,i),o},dN=(e,r)=>e?j0(e,r):j0;function dn(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[o,l]of e)if(!Object.is(l,r.get(o)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!1;for(const o of i)if(!Object.prototype.hasOwnProperty.call(r,o)||!Object.is(e[o],r[o]))return!1;return!0}var Sp={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function hN(){if(H0)return sr;H0=1;var e=Ru();function r(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,y,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:m,containerInfo:y,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,sr.createPortal=function(m,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return c(m,y,null,x)},sr.flushSync=function(m){var y=d.T,x=o.p;try{if(d.T=null,o.p=2,m)return m()}finally{d.T=y,o.p=x,o.d.f()}},sr.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(m,y))},sr.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},sr.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var x=y.as,v=g(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?o.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:T}):x==="script"&&o.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sr.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=g(y.as,y.crossOrigin);o.d.M(m,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(m)},sr.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,v=g(x,y.crossOrigin);o.d.L(m,x,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sr.preloadModule=function(m,y){if(typeof m=="string")if(y){var x=g(y.as,y.crossOrigin);o.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(m)},sr.requestFormReset=function(m){o.d.r(m)},sr.unstable_batchedUpdates=function(m,y){return m(y)},sr.useFormState=function(m,y,x){return d.H.useFormState(m,y,x)},sr.useFormStatus=function(){return d.H.useHostTransitionStatus()},sr.version="19.2.0",sr}var k0;function _x(){if(k0)return Sp.exports;k0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Sp.exports=hN(),Sp.exports}var ko=_x();const pN=Pf(ko),od=H.createContext(null),gN=od.Provider,Tx=Ha.error001();function Be(e,r){const i=H.useContext(od);if(i===null)throw new Error(Tx);return Ex(i,e,r)}function ln(){const e=H.useContext(od);if(e===null)throw new Error(Tx);return H.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const L0={display:"none"},mN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Cx="react-flow__node-desc",Nx="react-flow__edge-desc",yN="react-flow__aria-live",vN=e=>e.ariaLiveMessage,bN=e=>e.ariaLabelConfig;function xN({rfId:e}){const r=Be(vN);return U.jsx("div",{id:`${yN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:mN,children:r})}function wN({rfId:e,disableKeyboardA11y:r}){const i=Be(bN);return U.jsxs(U.Fragment,{children:[U.jsx("div",{id:`${Cx}-${e}`,style:L0,children:r?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),U.jsx("div",{id:`${Nx}-${e}`,style:L0,children:i["edge.a11yDescription.default"]}),!r&&U.jsx(xN,{rfId:e})]})}const sd=H.forwardRef(({position:e="top-left",children:r,className:i,style:o,...l},c)=>{const d=`${e}`.split("-");return U.jsx("div",{className:jn(["react-flow__panel",i,...d]),style:o,ref:c,...l,children:r})});sd.displayName="Panel";function SN({proOptions:e,position:r="bottom-right"}){return e?.hideAttribution?null:U.jsx(sd,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:U.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const EN=e=>{const r=[],i=[];for(const[,o]of e.nodeLookup)o.selected&&r.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&i.push(o);return{selectedNodes:r,selectedEdges:i}},df=e=>e.id;function _N(e,r){return dn(e.selectedNodes.map(df),r.selectedNodes.map(df))&&dn(e.selectedEdges.map(df),r.selectedEdges.map(df))}function TN({onSelectionChange:e}){const r=ln(),{selectedNodes:i,selectedEdges:o}=Be(EN,_N);return H.useEffect(()=>{const l={nodes:i,edges:o};e?.(l),r.getState().onSelectionChangeHandlers.forEach(c=>c(l))},[i,o,e]),null}const CN=e=>!!e.onSelectionChangeHandlers;function NN({onSelectionChange:e}){const r=Be(CN);return e||r?U.jsx(TN,{onSelectionChange:e}):null}const Dx=[0,0],DN={x:0,y:0,zoom:1},AN=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],U0=[...AN,"rfId"],ON=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),q0={translateExtent:wu,nodeOrigin:Dx,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function MN(e){const{setNodes:r,setEdges:i,setMinZoom:o,setMaxZoom:l,setTranslateExtent:c,setNodeExtent:d,reset:g,setDefaultNodesAndEdges:m,setPaneClickDistance:y}=Be(ON,dn),x=ln();H.useEffect(()=>(m(e.defaultNodes,e.defaultEdges),()=>{v.current=q0,g()}),[]);const v=H.useRef(q0);return H.useEffect(()=>{for(const w of U0){const T=e[w],O=v.current[w];T!==O&&(typeof e[w]>"u"||(w==="nodes"?r(T):w==="edges"?i(T):w==="minZoom"?o(T):w==="maxZoom"?l(T):w==="translateExtent"?c(T):w==="nodeExtent"?d(T):w==="paneClickDistance"?y(T):w==="ariaLabelConfig"?x.setState({ariaLabelConfig:dC(T)}):w==="fitView"?x.setState({fitViewQueued:T}):w==="fitViewOptions"?x.setState({fitViewOptions:T}):x.setState({[w]:T})))}v.current=e},U0.map(w=>e[w])),null}function V0(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function RN(e){const[r,i]=H.useState(e==="system"?null:e);return H.useEffect(()=>{if(e!=="system"){i(e);return}const o=V0(),l=()=>i(o?.matches?"dark":"light");return l(),o?.addEventListener("change",l),()=>{o?.removeEventListener("change",l)}},[e]),r!==null?r:V0()?.matches?"dark":"light"}const Y0=typeof document<"u"?document:null;function Tu(e=null,r={target:Y0,actInsideInputWithModifier:!0}){const[i,o]=H.useState(!1),l=H.useRef(!1),c=H.useRef(new Set([])),[d,g]=H.useMemo(()=>{if(e!==null){const y=(Array.isArray(e)?e:[e]).filter(v=>typeof v=="string").map(v=>v.replace("+",`
`).replace(`

`,`
+`).split(`
`)),x=y.reduce((v,w)=>v.concat(...w),[]);return[y,x]}return[[],[]]},[e]);return H.useEffect(()=>{const m=r?.target??Y0,y=r?.actInsideInputWithModifier??!0;if(e!==null){const x=T=>{if(l.current=T.ctrlKey||T.metaKey||T.shiftKey||T.altKey,(!l.current||l.current&&!y)&&lx(T))return!1;const N=X0(T.code,g);if(c.current.add(T[N]),$0(d,c.current,!1)){const B=T.composedPath?.()?.[0]||T.target,z=B?.nodeName==="BUTTON"||B?.nodeName==="A";r.preventDefault!==!1&&(l.current||!z)&&T.preventDefault(),o(!0)}},v=T=>{const O=X0(T.code,g);$0(d,c.current,!0)?(o(!1),c.current.clear()):c.current.delete(T[O]),T.key==="Meta"&&c.current.clear(),l.current=!1},w=()=>{c.current.clear(),o(!1)};return m?.addEventListener("keydown",x),m?.addEventListener("keyup",v),window.addEventListener("blur",w),window.addEventListener("contextmenu",w),()=>{m?.removeEventListener("keydown",x),m?.removeEventListener("keyup",v),window.removeEventListener("blur",w),window.removeEventListener("contextmenu",w)}}},[e,o]),i}function $0(e,r,i){return e.filter(o=>i||o.length===r.size).some(o=>o.every(l=>r.has(l)))}function X0(e,r){return r.includes(e)?"code":"key"}const zN=()=>{const e=ln();return H.useMemo(()=>({zoomIn:r=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1/1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomTo:(r,i)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(r,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,i)=>{const{transform:[o,l,c],panZoom:d}=e.getState();return d?(await d.setViewport({x:r.x??o,y:r.y??l,zoom:r.zoom??c},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,i,o]=e.getState().transform;return{x:r,y:i,zoom:o}},setCenter:async(r,i,o)=>e.getState().setCenter(r,i,o),fitBounds:async(r,i)=>{const{width:o,height:l,minZoom:c,maxZoom:d,panZoom:g}=e.getState(),m=xg(r,o,l,c,d,i?.padding??.1);return g?(await g.setViewport(m,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,i={})=>{const{transform:o,snapGrid:l,snapToGrid:c,domNode:d}=e.getState();if(!d)return r;const{x:g,y:m}=d.getBoundingClientRect(),y={x:r.x-g,y:r.y-m},x=i.snapGrid??l,v=i.snapToGrid??c;return Lu(y,o,v,x)},flowToScreenPosition:r=>{const{transform:i,domNode:o}=e.getState();if(!o)return r;const{x:l,y:c}=o.getBoundingClientRect(),d=Hf(r,i);return{x:d.x+l,y:d.y+c}}}),[])};function Ax(e,r){const i=[],o=new Map,l=[];for(const c of e)if(c.type==="add"){l.push(c);continue}else if(c.type==="remove"||c.type==="replace")o.set(c.id,[c]);else{const d=o.get(c.id);d?d.push(c):o.set(c.id,[c])}for(const c of r){const d=o.get(c.id);if(!d){i.push(c);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){i.push({...d[0].item});continue}const g={...c};for(const m of d)BN(m,g);i.push(g)}return l.length&&l.forEach(c=>{c.index!==void 0?i.splice(c.index,0,{...c.item}):i.push({...c.item})}),i}function BN(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured??={},r.measured.width=e.dimensions.width,r.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function Ox(e,r){return Ax(e,r)}function Mx(e,r){return Ax(e,r)}function Bo(e,r){return{id:e,type:"select",selected:r}}function Vs(e,r=new Set,i=!1){const o=[];for(const[l,c]of e){const d=r.has(l);!(c.selected===void 0&&!d)&&c.selected!==d&&(i&&(c.selected=d),o.push(Bo(c.id,d)))}return o}function K0({items:e=[],lookup:r}){const i=[],o=new Map(e.map(l=>[l.id,l]));for(const[l,c]of e.entries()){const d=r.get(c.id),g=d?.internals?.userNode??d;g!==void 0&&g!==c&&i.push({id:c.id,item:c,type:"replace"}),g===void 0&&i.push({item:c,type:"add",index:l})}for(const[l]of r)o.get(l)===void 0&&i.push({id:l,type:"remove"});return i}function G0(e){return{id:e.id,type:"remove"}}const I0=e=>rC(e),jN=e=>W1(e);function Rx(e){return H.forwardRef(e)}const HN=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Z0(e){const[r,i]=H.useState(BigInt(0)),[o]=H.useState(()=>kN(()=>i(l=>l+BigInt(1))));return HN(()=>{const l=o.get();l.length&&(e(l),o.reset())},[r]),o}function kN(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:i=>{r.push(i),e()}}}const zx=H.createContext(null);function LN({children:e}){const r=ln(),i=H.useCallback(g=>{const{nodes:m=[],setNodes:y,hasDefaultNodes:x,onNodesChange:v,nodeLookup:w,fitViewQueued:T}=r.getState();let O=m;for(const B of g)O=typeof B=="function"?B(O):B;const N=K0({items:O,lookup:w});x&&y(O),N.length>0?v?.(N):T&&window.requestAnimationFrame(()=>{const{fitViewQueued:B,nodes:z,setNodes:K}=r.getState();B&&K(z)})},[]),o=Z0(i),l=H.useCallback(g=>{const{edges:m=[],setEdges:y,hasDefaultEdges:x,onEdgesChange:v,edgeLookup:w}=r.getState();let T=m;for(const O of g)T=typeof O=="function"?O(T):O;x?y(T):v&&v(K0({items:T,lookup:w}))},[]),c=Z0(l),d=H.useMemo(()=>({nodeQueue:o,edgeQueue:c}),[]);return U.jsx(zx.Provider,{value:d,children:e})}function UN(){const e=H.useContext(zx);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const qN=e=>!!e.panZoom;function Io(){const e=zN(),r=ln(),i=UN(),o=Be(qN),l=H.useMemo(()=>{const c=v=>r.getState().nodeLookup.get(v),d=v=>{i.nodeQueue.push(v)},g=v=>{i.edgeQueue.push(v)},m=v=>{const{nodeLookup:w,nodeOrigin:T}=r.getState(),O=I0(v)?v:w.get(v.id),N=O.parentId?ox(O.position,O.measured,O.parentId,w,T):O.position,B={...O,position:N,width:O.measured?.width??O.width,height:O.measured?.height??O.height};return Ps(B)},y=(v,w,T={replace:!1})=>{d(O=>O.map(N=>{if(N.id===v){const B=typeof w=="function"?w(N):w;return T.replace&&I0(B)?B:{...N,...B}}return N}))},x=(v,w,T={replace:!1})=>{g(O=>O.map(N=>{if(N.id===v){const B=typeof w=="function"?w(N):w;return T.replace&&jN(B)?B:{...N,...B}}return N}))};return{getNodes:()=>r.getState().nodes.map(v=>({...v})),getNode:v=>c(v)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:v=[]}=r.getState();return v.map(w=>({...w}))},getEdge:v=>r.getState().edgeLookup.get(v),setNodes:d,setEdges:g,addNodes:v=>{const w=Array.isArray(v)?v:[v];i.nodeQueue.push(T=>[...T,...w])},addEdges:v=>{const w=Array.isArray(v)?v:[v];i.edgeQueue.push(T=>[...T,...w])},toObject:()=>{const{nodes:v=[],edges:w=[],transform:T}=r.getState(),[O,N,B]=T;return{nodes:v.map(z=>({...z})),edges:w.map(z=>({...z})),viewport:{x:O,y:N,zoom:B}}},deleteElements:async({nodes:v=[],edges:w=[]})=>{const{nodes:T,edges:O,onNodesDelete:N,onEdgesDelete:B,triggerNodeChanges:z,triggerEdgeChanges:K,onDelete:A,onBeforeDelete:_}=r.getState(),{nodes:$,edges:L}=await sC({nodesToRemove:v,edgesToRemove:w,nodes:T,edges:O,onBeforeDelete:_}),j=L.length>0,G=$.length>0;if(j){const J=L.map(G0);B?.(L),K(J)}if(G){const J=$.map(G0);N?.($),z(J)}return(G||j)&&A?.({nodes:$,edges:L}),{deletedNodes:$,deletedEdges:L}},getIntersectingNodes:(v,w=!0,T)=>{const O=v0(v),N=O?v:m(v),B=T!==void 0;return N?(T||r.getState().nodes).filter(z=>{const K=r.getState().nodeLookup.get(z.id);if(K&&!O&&(z.id===v.id||!K.internals.positionAbsolute))return!1;const A=Ps(B?z:K),_=Su(A,N);return w&&_>0||_>=A.width*A.height||_>=N.width*N.height}):[]},isNodeIntersecting:(v,w,T=!0)=>{const N=v0(v)?v:m(v);if(!N)return!1;const B=Su(N,w);return T&&B>0||B>=w.width*w.height||B>=N.width*N.height},updateNode:y,updateNodeData:(v,w,T={replace:!1})=>{y(v,O=>{const N=typeof w=="function"?w(O):w;return T.replace?{...O,data:N}:{...O,data:{...O.data,...N}}},T)},updateEdge:x,updateEdgeData:(v,w,T={replace:!1})=>{x(v,O=>{const N=typeof w=="function"?w(O):w;return T.replace?{...O,data:N}:{...O,data:{...O.data,...N}}},T)},getNodesBounds:v=>{const{nodeLookup:w,nodeOrigin:T}=r.getState();return aC(v,{nodeLookup:w,nodeOrigin:T})},getHandleConnections:({type:v,id:w,nodeId:T})=>Array.from(r.getState().connectionLookup.get(`${T}-${v}${w?`-${w}`:""}`)?.values()??[]),getNodeConnections:({type:v,handleId:w,nodeId:T})=>Array.from(r.getState().connectionLookup.get(`${T}${v?w?`-${v}-${w}`:`-${v}`:""}`)?.values()??[]),fitView:async v=>{const w=r.getState().fitViewResolver??fC();return r.setState({fitViewQueued:!0,fitViewOptions:v,fitViewResolver:w}),i.nodeQueue.push(T=>[...T]),w.promise}}},[]);return H.useMemo(()=>({...l,...e,viewportInitialized:o}),[o])}const Q0=e=>e.selected,VN=typeof window<"u"?window:void 0;function YN({deleteKeyCode:e,multiSelectionKeyCode:r}){const i=ln(),{deleteElements:o}=Io(),l=Tu(e,{actInsideInputWithModifier:!1}),c=Tu(r,{target:VN});H.useEffect(()=>{if(l){const{edges:d,nodes:g}=i.getState();o({nodes:g.filter(Q0),edges:d.filter(Q0)}),i.setState({nodesSelectionActive:!1})}},[l]),H.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])}function $N(e){const r=ln();H.useEffect(()=>{const i=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const o=wg(e.current);(o.height===0||o.width===0)&&r.getState().onError?.("004",Ha.error004()),r.setState({width:o.width||500,height:o.height||500})};if(e.current){i(),window.addEventListener("resize",i);const o=new ResizeObserver(()=>i());return o.observe(e.current),()=>{window.removeEventListener("resize",i),o&&e.current&&o.unobserve(e.current)}}},[])}const ld={position:"absolute",width:"100%",height:"100%",top:0,left:0},XN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function KN({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=Uo.Free,zoomOnDoubleClick:d=!0,panOnDrag:g=!0,defaultViewport:m,translateExtent:y,minZoom:x,maxZoom:v,zoomActivationKeyCode:w,preventScrolling:T=!0,children:O,noWheelClassName:N,noPanClassName:B,onViewportChange:z,isControlledViewport:K,paneClickDistance:A}){const _=ln(),$=H.useRef(null),{userSelectionActive:L,lib:j,connectionInProgress:G}=Be(XN,dn),J=Tu(w),vt=H.useRef();$N($);const pt=H.useCallback(et=>{z?.({x:et[0],y:et[1],zoom:et[2]}),K||_.setState({transform:et})},[z,K]);return H.useEffect(()=>{if($.current){vt.current=IC({domNode:$.current,minZoom:x,maxZoom:v,translateExtent:y,viewport:m,paneClickDistance:A,onDraggingChange:I=>_.setState({paneDragging:I}),onPanZoomStart:(I,M)=>{const{onViewportChangeStart:q,onMoveStart:Q}=_.getState();Q?.(I,M),q?.(M)},onPanZoom:(I,M)=>{const{onViewportChange:q,onMove:Q}=_.getState();Q?.(I,M),q?.(M)},onPanZoomEnd:(I,M)=>{const{onViewportChangeEnd:q,onMoveEnd:Q}=_.getState();Q?.(I,M),q?.(M)}});const{x:et,y:lt,zoom:Y}=vt.current.getViewport();return _.setState({panZoom:vt.current,transform:[et,lt,Y],domNode:$.current.closest(".react-flow")}),()=>{vt.current?.destroy()}}},[]),H.useEffect(()=>{vt.current?.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:i,panOnScroll:o,panOnScrollSpeed:l,panOnScrollMode:c,zoomOnDoubleClick:d,panOnDrag:g,zoomActivationKeyPressed:J,preventScrolling:T,noPanClassName:B,userSelectionActive:L,noWheelClassName:N,lib:j,onTransformChange:pt,connectionInProgress:G})},[e,r,i,o,l,c,d,g,J,T,B,L,N,j,pt,G]),U.jsx("div",{className:"react-flow__renderer",ref:$,style:ld,children:O})}const GN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function IN(){const{userSelectionActive:e,userSelectionRect:r}=Be(GN,dn);return e&&r?U.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const Ep=(e,r)=>i=>{i.target===r.current&&e?.(i)},ZN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function QN({isSelecting:e,selectionKeyPressed:r,selectionMode:i=Zs.Full,panOnDrag:o,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:d,onPaneClick:g,onPaneContextMenu:m,onPaneScroll:y,onPaneMouseEnter:x,onPaneMouseMove:v,onPaneMouseLeave:w,children:T}){const O=ln(),{userSelectionActive:N,elementsSelectable:B,dragging:z,connectionInProgress:K}=Be(ZN,dn),A=B&&(e||N),_=H.useRef(null),$=H.useRef(),L=H.useRef(new Set),j=H.useRef(new Set),G=H.useRef(!1),J=H.useRef(!1),vt=q=>{if(G.current||K){G.current=!1;return}g?.(q),O.getState().resetSelectedElements(),O.setState({nodesSelectionActive:!1})},pt=q=>{if(Array.isArray(o)&&o?.includes(2)){q.preventDefault();return}m?.(q)},et=y?q=>y(q):void 0,lt=q=>{const{resetSelectedElements:Q,domNode:tt}=O.getState();if($.current=tt?.getBoundingClientRect(),!B||!e||q.button!==0||q.target!==_.current||!$.current)return;q.target?.setPointerCapture?.(q.pointerId),J.current=!0,G.current=!1;const{x:ht,y:k}=ma(q.nativeEvent,$.current);Q(),O.setState({userSelectionRect:{width:0,height:0,startX:ht,startY:k,x:ht,y:k}}),c?.(q)},Y=q=>{const{userSelectionRect:Q,transform:tt,nodeLookup:ht,edgeLookup:k,connectionLookup:Z,triggerNodeChanges:st,triggerEdgeChanges:gt,defaultEdgeOptions:Tt}=O.getState();if(!$.current||!Q)return;G.current=!0;const{x:Ot,y:jt}=ma(q.nativeEvent,$.current),{startX:Ct,startY:St}=Q,It={startX:Ct,startY:St,x:Ot<Ct?Ot:Ct,y:jt<St?jt:St,width:Math.abs(Ot-Ct),height:Math.abs(jt-St)},te=L.current,Ht=j.current;L.current=new Set(bg(ht,It,tt,i===Zs.Partial,!0).map(Zt=>Zt.id)),j.current=new Set;const Ft=Tt?.selectable??!0;for(const Zt of L.current){const oe=Z.get(Zt);if(oe)for(const{edgeId:be}of oe.values()){const De=k.get(be);De&&(De.selectable??Ft)&&j.current.add(be)}}if(!b0(te,L.current)){const Zt=Vs(ht,L.current,!0);st(Zt)}if(!b0(Ht,j.current)){const Zt=Vs(k,j.current);gt(Zt)}O.setState({userSelectionRect:It,userSelectionActive:!0,nodesSelectionActive:!1})},I=q=>{if(q.button!==0||!J.current)return;q.target?.releasePointerCapture?.(q.pointerId);const{userSelectionRect:Q}=O.getState();!N&&Q&&q.target===_.current&&vt?.(q),O.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:L.current.size>0}),d?.(q),(r||l)&&(G.current=!1),J.current=!1},M=o===!0||Array.isArray(o)&&o.includes(0);return U.jsxs("div",{className:jn(["react-flow__pane",{draggable:M,dragging:z,selection:e}]),onClick:A?void 0:Ep(vt,_),onContextMenu:Ep(pt,_),onWheel:Ep(et,_),onPointerEnter:A?void 0:x,onPointerDown:A?lt:v,onPointerMove:A?Y:v,onPointerUp:A?I:void 0,onPointerLeave:w,ref:_,style:ld,children:[T,U.jsx(IN,{})]})}function tg({id:e,store:r,unselect:i=!1,nodeRef:o}){const{addSelectedNodes:l,unselectNodesAndEdges:c,multiSelectionActive:d,nodeLookup:g,onError:m}=r.getState(),y=g.get(e);if(!y){m?.("012",Ha.error012(e));return}r.setState({nodesSelectionActive:!1}),y.selected?(i||y.selected&&d)&&(c({nodes:[y],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):l([e])}function Bx({nodeRef:e,disabled:r=!1,noDragClassName:i,handleSelector:o,nodeId:l,isSelectable:c,nodeClickDistance:d}){const g=ln(),[m,y]=H.useState(!1),x=H.useRef();return H.useEffect(()=>{x.current=RC({getStoreItems:()=>g.getState(),onNodeMouseDown:v=>{tg({id:v,store:g,nodeRef:e})},onDragStart:()=>{y(!0)},onDragStop:()=>{y(!1)}})},[]),H.useEffect(()=>{if(r)x.current?.destroy();else if(e.current)return x.current?.update({noDragClassName:i,handleSelector:o,domNode:e.current,isSelectable:c,nodeId:l,nodeClickDistance:d}),()=>{x.current?.destroy()}},[i,o,r,c,e,l]),m}const PN=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function jx(){const e=ln();return H.useCallback(i=>{const{nodeExtent:o,snapToGrid:l,snapGrid:c,nodesDraggable:d,onError:g,updateNodePositions:m,nodeLookup:y,nodeOrigin:x}=e.getState(),v=new Map,w=PN(d),T=l?c[0]:5,O=l?c[1]:5,N=i.direction.x*T*i.factor,B=i.direction.y*O*i.factor;for(const[,z]of y){if(!w(z))continue;let K={x:z.internals.positionAbsolute.x+N,y:z.internals.positionAbsolute.y+B};l&&(K=ku(K,c));const{position:A,positionAbsolute:_}=ex({nodeId:z.id,nextPosition:K,nodeLookup:y,nodeExtent:o,nodeOrigin:x,onError:g});z.position=A,z.internals.positionAbsolute=_,v.set(z.id,z)}m(v)},[])}const Cg=H.createContext(null),FN=Cg.Provider;Cg.Consumer;const Hx=()=>H.useContext(Cg),JN=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),WN=(e,r,i)=>o=>{const{connectionClickStartHandle:l,connectionMode:c,connection:d}=o,{fromHandle:g,toHandle:m,isValid:y}=d,x=m?.nodeId===e&&m?.id===r&&m?.type===i;return{connectingFrom:g?.nodeId===e&&g?.id===r&&g?.type===i,connectingTo:x,clickConnecting:l?.nodeId===e&&l?.id===r&&l?.type===i,isPossibleEndHandle:c===Is.Strict?g?.type!==i:e!==g?.nodeId||r!==g?.id,connectionInProcess:!!g,clickConnectionInProcess:!!l,valid:x&&y}};function tD({type:e="source",position:r=Jt.Top,isValidConnection:i,isConnectable:o=!0,isConnectableStart:l=!0,isConnectableEnd:c=!0,id:d,onConnect:g,children:m,className:y,onMouseDown:x,onTouchStart:v,...w},T){const O=d||null,N=e==="target",B=ln(),z=Hx(),{connectOnClick:K,noPanClassName:A,rfId:_}=Be(JN,dn),{connectingFrom:$,connectingTo:L,clickConnecting:j,isPossibleEndHandle:G,connectionInProcess:J,clickConnectionInProcess:vt,valid:pt}=Be(WN(z,O,e),dn);z||B.getState().onError?.("010",Ha.error010());const et=I=>{const{defaultEdgeOptions:M,onConnect:q,hasDefaultEdges:Q}=B.getState(),tt={...M,...I};if(Q){const{edges:ht,setEdges:k}=B.getState();k(Qp(tt,ht))}q?.(tt),g?.(tt)},lt=I=>{if(!z)return;const M=ux(I.nativeEvent);if(l&&(M&&I.button===0||!M)){const q=B.getState();Wp.onPointerDown(I.nativeEvent,{handleDomNode:I.currentTarget,autoPanOnConnect:q.autoPanOnConnect,connectionMode:q.connectionMode,connectionRadius:q.connectionRadius,domNode:q.domNode,nodeLookup:q.nodeLookup,lib:q.lib,isTarget:N,handleId:O,nodeId:z,flowId:q.rfId,panBy:q.panBy,cancelConnection:q.cancelConnection,onConnectStart:q.onConnectStart,onConnectEnd:q.onConnectEnd,updateConnection:q.updateConnection,onConnect:et,isValidConnection:i||q.isValidConnection,getTransform:()=>B.getState().transform,getFromHandle:()=>B.getState().connection.fromHandle,autoPanSpeed:q.autoPanSpeed,dragThreshold:q.connectionDragThreshold})}M?x?.(I):v?.(I)},Y=I=>{const{onClickConnectStart:M,onClickConnectEnd:q,connectionClickStartHandle:Q,connectionMode:tt,isValidConnection:ht,lib:k,rfId:Z,nodeLookup:st,connection:gt}=B.getState();if(!z||!Q&&!l)return;if(!Q){M?.(I.nativeEvent,{nodeId:z,handleId:O,handleType:e}),B.setState({connectionClickStartHandle:{nodeId:z,type:e,id:O}});return}const Tt=sx(I.target),Ot=i||ht,{connection:jt,isValid:Ct}=Wp.isValid(I.nativeEvent,{handle:{nodeId:z,id:O,type:e},connectionMode:tt,fromNodeId:Q.nodeId,fromHandleId:Q.id||null,fromType:Q.type,isValidConnection:Ot,flowId:Z,doc:Tt,lib:k,nodeLookup:st});Ct&&jt&&et(jt);const St=structuredClone(gt);delete St.inProgress,St.toPosition=St.toHandle?St.toHandle.position:null,q?.(I,St),B.setState({connectionClickStartHandle:null})};return U.jsx("div",{"data-handleid":O,"data-nodeid":z,"data-handlepos":r,"data-id":`${_}-${z}-${O}-${e}`,className:jn(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",A,y,{source:!N,target:N,connectable:o,connectablestart:l,connectableend:c,clickconnecting:j,connectingfrom:$,connectingto:L,valid:pt,connectionindicator:o&&(!J||G)&&(J||vt?c:l)}]),onMouseDown:lt,onTouchStart:lt,onClick:K?Y:void 0,ref:T,...w,children:m})}const oo=H.memo(Rx(tD));function eD({data:e,isConnectable:r,sourcePosition:i=Jt.Bottom}){return U.jsxs(U.Fragment,{children:[e?.label,U.jsx(oo,{type:"source",position:i,isConnectable:r})]})}function nD({data:e,isConnectable:r,targetPosition:i=Jt.Top,sourcePosition:o=Jt.Bottom}){return U.jsxs(U.Fragment,{children:[U.jsx(oo,{type:"target",position:i,isConnectable:r}),e?.label,U.jsx(oo,{type:"source",position:o,isConnectable:r})]})}function rD(){return null}function aD({data:e,isConnectable:r,targetPosition:i=Jt.Top}){return U.jsxs(U.Fragment,{children:[U.jsx(oo,{type:"target",position:i,isConnectable:r}),e?.label]})}const kf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},P0={input:eD,default:nD,output:aD,group:rD};function iD(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const oD=e=>{const{width:r,height:i,x:o,y:l}=Hu(e.nodeLookup,{filter:c=>!!c.selected});return{width:ga(r)?r:null,height:ga(i)?i:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${l}px)`}};function sD({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:i}){const o=ln(),{width:l,height:c,transformString:d,userSelectionActive:g}=Be(oD,dn),m=jx(),y=H.useRef(null);if(H.useEffect(()=>{i||y.current?.focus({preventScroll:!0})},[i]),Bx({nodeRef:y}),g||!l||!c)return null;const x=e?w=>{const T=o.getState().nodes.filter(O=>O.selected);e(w,T)}:void 0,v=w=>{Object.prototype.hasOwnProperty.call(kf,w.key)&&(w.preventDefault(),m({direction:kf[w.key],factor:w.shiftKey?4:1}))};return U.jsx("div",{className:jn(["react-flow__nodesselection","react-flow__container",r]),style:{transform:d},children:U.jsx("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:i?void 0:-1,onKeyDown:i?void 0:v,style:{width:l,height:c}})})}const F0=typeof window<"u"?window:void 0,lD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function kx({children:e,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:o,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,paneClickDistance:g,deleteKeyCode:m,selectionKeyCode:y,selectionOnDrag:x,selectionMode:v,onSelectionStart:w,onSelectionEnd:T,multiSelectionKeyCode:O,panActivationKeyCode:N,zoomActivationKeyCode:B,elementsSelectable:z,zoomOnScroll:K,zoomOnPinch:A,panOnScroll:_,panOnScrollSpeed:$,panOnScrollMode:L,zoomOnDoubleClick:j,panOnDrag:G,defaultViewport:J,translateExtent:vt,minZoom:pt,maxZoom:et,preventScrolling:lt,onSelectionContextMenu:Y,noWheelClassName:I,noPanClassName:M,disableKeyboardA11y:q,onViewportChange:Q,isControlledViewport:tt}){const{nodesSelectionActive:ht,userSelectionActive:k}=Be(lD),Z=Tu(y,{target:F0}),st=Tu(N,{target:F0}),gt=st||G,Tt=st||_,Ot=x&&gt!==!0,jt=Z||k||Ot;return YN({deleteKeyCode:m,multiSelectionKeyCode:O}),U.jsx(KN,{onPaneContextMenu:c,elementsSelectable:z,zoomOnScroll:K,zoomOnPinch:A,panOnScroll:Tt,panOnScrollSpeed:$,panOnScrollMode:L,zoomOnDoubleClick:j,panOnDrag:!Z&&gt,defaultViewport:J,translateExtent:vt,minZoom:pt,maxZoom:et,zoomActivationKeyCode:B,preventScrolling:lt,noWheelClassName:I,noPanClassName:M,onViewportChange:Q,isControlledViewport:tt,paneClickDistance:g,children:U.jsxs(QN,{onSelectionStart:w,onSelectionEnd:T,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:o,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:gt,isSelecting:!!jt,selectionMode:v,selectionKeyPressed:Z,selectionOnDrag:Ot,children:[e,ht&&U.jsx(sD,{onSelectionContextMenu:Y,noPanClassName:M,disableKeyboardA11y:q})]})})}kx.displayName="FlowRenderer";const uD=H.memo(kx),cD=e=>r=>e?bg(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(i=>i.id):Array.from(r.nodeLookup.keys());function fD(e){return Be(H.useCallback(cD(e),[e]),dn)}const dD=e=>e.updateNodeInternals;function hD(){const e=Be(dD),[r]=H.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const o=new Map;i.forEach(l=>{const c=l.target.getAttribute("data-id");o.set(c,{id:c,nodeElement:l.target,force:!0})}),e(o)}));return H.useEffect(()=>()=>{r?.disconnect()},[r]),r}function pD({node:e,nodeType:r,hasDimensions:i,resizeObserver:o}){const l=ln(),c=H.useRef(null),d=H.useRef(null),g=H.useRef(e.sourcePosition),m=H.useRef(e.targetPosition),y=H.useRef(r),x=i&&!!e.internals.handleBounds;return H.useEffect(()=>{c.current&&!e.hidden&&(!x||d.current!==c.current)&&(d.current&&o?.unobserve(d.current),o?.observe(c.current),d.current=c.current)},[x,e.hidden]),H.useEffect(()=>()=>{d.current&&(o?.unobserve(d.current),d.current=null)},[]),H.useEffect(()=>{if(c.current){const v=y.current!==r,w=g.current!==e.sourcePosition,T=m.current!==e.targetPosition;(v||w||T)&&(y.current=r,g.current=e.sourcePosition,m.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:c.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),c}function gD({id:e,onClick:r,onMouseEnter:i,onMouseMove:o,onMouseLeave:l,onContextMenu:c,onDoubleClick:d,nodesDraggable:g,elementsSelectable:m,nodesConnectable:y,nodesFocusable:x,resizeObserver:v,noDragClassName:w,noPanClassName:T,disableKeyboardA11y:O,rfId:N,nodeTypes:B,nodeClickDistance:z,onError:K}){const{node:A,internals:_,isParent:$}=Be(Ct=>{const St=Ct.nodeLookup.get(e),It=Ct.parentLookup.has(e);return{node:St,internals:St.internals,isParent:It}},dn);let L=A.type||"default",j=B?.[L]||P0[L];j===void 0&&(K?.("003",Ha.error003(L)),L="default",j=B?.default||P0.default);const G=!!(A.draggable||g&&typeof A.draggable>"u"),J=!!(A.selectable||m&&typeof A.selectable>"u"),vt=!!(A.connectable||y&&typeof A.connectable>"u"),pt=!!(A.focusable||x&&typeof A.focusable>"u"),et=ln(),lt=ix(A),Y=pD({node:A,nodeType:L,hasDimensions:lt,resizeObserver:v}),I=Bx({nodeRef:Y,disabled:A.hidden||!G,noDragClassName:w,handleSelector:A.dragHandle,nodeId:e,isSelectable:J,nodeClickDistance:z}),M=jx();if(A.hidden)return null;const q=xi(A),Q=iD(A),tt=J||G||r||i||o||l,ht=i?Ct=>i(Ct,{..._.userNode}):void 0,k=o?Ct=>o(Ct,{..._.userNode}):void 0,Z=l?Ct=>l(Ct,{..._.userNode}):void 0,st=c?Ct=>c(Ct,{..._.userNode}):void 0,gt=d?Ct=>d(Ct,{..._.userNode}):void 0,Tt=Ct=>{const{selectNodesOnDrag:St,nodeDragThreshold:It}=et.getState();J&&(!St||!G||It>0)&&tg({id:e,store:et,nodeRef:Y}),r&&r(Ct,{..._.userNode})},Ot=Ct=>{if(!(lx(Ct.nativeEvent)||O)){if(Q1.includes(Ct.key)&&J){const St=Ct.key==="Escape";tg({id:e,store:et,unselect:St,nodeRef:Y})}else if(G&&A.selected&&Object.prototype.hasOwnProperty.call(kf,Ct.key)){Ct.preventDefault();const{ariaLabelConfig:St}=et.getState();et.setState({ariaLiveMessage:St["node.a11yDescription.ariaLiveMessage"]({direction:Ct.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),M({direction:kf[Ct.key],factor:Ct.shiftKey?4:1})}}},jt=()=>{if(O||!Y.current?.matches(":focus-visible"))return;const{transform:Ct,width:St,height:It,autoPanOnNodeFocus:te,setCenter:Ht}=et.getState();if(!te)return;bg(new Map([[e,A]]),{x:0,y:0,width:St,height:It},Ct,!0).length>0||Ht(A.position.x+q.width/2,A.position.y+q.height/2,{zoom:Ct[2]})};return U.jsx("div",{className:jn(["react-flow__node",`react-flow__node-${L}`,{[T]:G},A.className,{selected:A.selected,selectable:J,parent:$,draggable:G,dragging:I}]),ref:Y,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:tt?"all":"none",visibility:lt?"visible":"hidden",...A.style,...Q},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:ht,onMouseMove:k,onMouseLeave:Z,onContextMenu:st,onClick:Tt,onDoubleClick:gt,onKeyDown:pt?Ot:void 0,tabIndex:pt?0:void 0,onFocus:pt?jt:void 0,role:A.ariaRole??(pt?"group":void 0),"aria-roledescription":"node","aria-describedby":O?void 0:`${Cx}-${N}`,"aria-label":A.ariaLabel,...A.domAttributes,children:U.jsx(FN,{value:e,children:U.jsx(j,{id:e,data:A.data,type:L,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:A.selected??!1,selectable:J,draggable:G,deletable:A.deletable??!0,isConnectable:vt,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:I,dragHandle:A.dragHandle,zIndex:_.z,parentId:A.parentId,...q})})})}const mD=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Lx(e){const{nodesDraggable:r,nodesConnectable:i,nodesFocusable:o,elementsSelectable:l,onError:c}=Be(mD,dn),d=fD(e.onlyRenderVisibleElements),g=hD();return U.jsx("div",{className:"react-flow__nodes",style:ld,children:d.map(m=>U.jsx(gD,{id:m,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:g,nodesDraggable:r,nodesConnectable:i,nodesFocusable:o,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:c},m))})}Lx.displayName="NodeRenderer";const yD=H.memo(Lx);function vD(e){return Be(H.useCallback(i=>{if(!e)return i.edges.map(l=>l.id);const o=[];if(i.width&&i.height)for(const l of i.edges){const c=i.nodeLookup.get(l.source),d=i.nodeLookup.get(l.target);c&&d&&gC({sourceNode:c,targetNode:d,width:i.width,height:i.height,transform:i.transform})&&o.push(l.id)}return o},[e]),dn)}const bD=({color:e="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...e&&{stroke:e}};return U.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},xD=({color:e="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...e&&{stroke:e,fill:e}};return U.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},J0={[Bf.Arrow]:bD,[Bf.ArrowClosed]:xD};function wD(e){const r=ln();return H.useMemo(()=>Object.prototype.hasOwnProperty.call(J0,e)?J0[e]:(r.getState().onError?.("009",Ha.error009(e)),null),[e])}const SD=({id:e,type:r,color:i,width:o=12.5,height:l=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:g="auto-start-reverse"})=>{const m=wD(r);return m?U.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:g,refX:"0",refY:"0",children:U.jsx(m,{color:i,strokeWidth:d})}):null},Ux=({defaultColor:e,rfId:r})=>{const i=Be(c=>c.edges),o=Be(c=>c.defaultEdgeOptions),l=H.useMemo(()=>SC(i,{id:r,defaultColor:e,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[i,o,r,e]);return l.length?U.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:U.jsx("defs",{children:l.map(c=>U.jsx(SD,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};Ux.displayName="MarkerDefinitions";var ED=H.memo(Ux);function qx({x:e,y:r,label:i,labelStyle:o,labelShowBg:l=!0,labelBgStyle:c,labelBgPadding:d=[2,4],labelBgBorderRadius:g=2,children:m,className:y,...x}){const[v,w]=H.useState({x:1,y:0,width:0,height:0}),T=jn(["react-flow__edge-textwrapper",y]),O=H.useRef(null);return H.useEffect(()=>{if(O.current){const N=O.current.getBBox();w({x:N.x,y:N.y,width:N.width,height:N.height})}},[i]),i?U.jsxs("g",{transform:`translate(${e-v.width/2} ${r-v.height/2})`,className:T,visibility:v.width?"visible":"hidden",...x,children:[l&&U.jsx("rect",{width:v.width+2*d[0],x:-d[0],y:-d[1],height:v.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:g,ry:g}),U.jsx("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:O,style:o,children:i}),m]}):null}qx.displayName="EdgeText";const _D=H.memo(qx);function Uu({path:e,labelX:r,labelY:i,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:g,labelBgBorderRadius:m,interactionWidth:y=20,...x}){return U.jsxs(U.Fragment,{children:[U.jsx("path",{...x,d:e,fill:"none",className:jn(["react-flow__edge-path",x.className])}),y?U.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}):null,o&&ga(r)&&ga(i)?U.jsx(_D,{x:r,y:i,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:g,labelBgBorderRadius:m}):null]})}function W0({pos:e,x1:r,y1:i,x2:o,y2:l}){return e===Jt.Left||e===Jt.Right?[.5*(r+o),i]:[r,.5*(i+l)]}function Vx({sourceX:e,sourceY:r,sourcePosition:i=Jt.Bottom,targetX:o,targetY:l,targetPosition:c=Jt.Top}){const[d,g]=W0({pos:i,x1:e,y1:r,x2:o,y2:l}),[m,y]=W0({pos:c,x1:o,y1:l,x2:e,y2:r}),[x,v,w,T]=cx({sourceX:e,sourceY:r,targetX:o,targetY:l,sourceControlX:d,sourceControlY:g,targetControlX:m,targetControlY:y});return[`M${e},${r} C${d},${g} ${m},${y} ${o},${l}`,x,v,w,T]}function Yx(e){return H.memo(({id:r,sourceX:i,sourceY:o,targetX:l,targetY:c,sourcePosition:d,targetPosition:g,label:m,labelStyle:y,labelShowBg:x,labelBgStyle:v,labelBgPadding:w,labelBgBorderRadius:T,style:O,markerEnd:N,markerStart:B,interactionWidth:z})=>{const[K,A,_]=Vx({sourceX:i,sourceY:o,sourcePosition:d,targetX:l,targetY:c,targetPosition:g}),$=e.isInternal?void 0:r;return U.jsx(Uu,{id:$,path:K,labelX:A,labelY:_,label:m,labelStyle:y,labelShowBg:x,labelBgStyle:v,labelBgPadding:w,labelBgBorderRadius:T,style:O,markerEnd:N,markerStart:B,interactionWidth:z})})}const TD=Yx({isInternal:!1}),$x=Yx({isInternal:!0});TD.displayName="SimpleBezierEdge";$x.displayName="SimpleBezierEdgeInternal";function Xx(e){return H.memo(({id:r,sourceX:i,sourceY:o,targetX:l,targetY:c,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,style:w,sourcePosition:T=Jt.Bottom,targetPosition:O=Jt.Top,markerEnd:N,markerStart:B,pathOptions:z,interactionWidth:K})=>{const[A,_,$]=Pp({sourceX:i,sourceY:o,sourcePosition:T,targetX:l,targetY:c,targetPosition:O,borderRadius:z?.borderRadius,offset:z?.offset,stepPosition:z?.stepPosition}),L=e.isInternal?void 0:r;return U.jsx(Uu,{id:L,path:A,labelX:_,labelY:$,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,style:w,markerEnd:N,markerStart:B,interactionWidth:K})})}const Kx=Xx({isInternal:!1}),Gx=Xx({isInternal:!0});Kx.displayName="SmoothStepEdge";Gx.displayName="SmoothStepEdgeInternal";function Ix(e){return H.memo(({id:r,...i})=>{const o=e.isInternal?void 0:r;return U.jsx(Kx,{...i,id:o,pathOptions:H.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const CD=Ix({isInternal:!1}),Zx=Ix({isInternal:!0});CD.displayName="StepEdge";Zx.displayName="StepEdgeInternal";function Qx(e){return H.memo(({id:r,sourceX:i,sourceY:o,targetX:l,targetY:c,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,style:w,markerEnd:T,markerStart:O,interactionWidth:N})=>{const[B,z,K]=dx({sourceX:i,sourceY:o,targetX:l,targetY:c}),A=e.isInternal?void 0:r;return U.jsx(Uu,{id:A,path:B,labelX:z,labelY:K,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:v,style:w,markerEnd:T,markerStart:O,interactionWidth:N})})}const ND=Qx({isInternal:!1}),Px=Qx({isInternal:!0});ND.displayName="StraightEdge";Px.displayName="StraightEdgeInternal";function Fx(e){return H.memo(({id:r,sourceX:i,sourceY:o,targetX:l,targetY:c,sourcePosition:d=Jt.Bottom,targetPosition:g=Jt.Top,label:m,labelStyle:y,labelShowBg:x,labelBgStyle:v,labelBgPadding:w,labelBgBorderRadius:T,style:O,markerEnd:N,markerStart:B,pathOptions:z,interactionWidth:K})=>{const[A,_,$]=ad({sourceX:i,sourceY:o,sourcePosition:d,targetX:l,targetY:c,targetPosition:g,curvature:z?.curvature}),L=e.isInternal?void 0:r;return U.jsx(Uu,{id:L,path:A,labelX:_,labelY:$,label:m,labelStyle:y,labelShowBg:x,labelBgStyle:v,labelBgPadding:w,labelBgBorderRadius:T,style:O,markerEnd:N,markerStart:B,interactionWidth:K})})}const DD=Fx({isInternal:!1}),Jx=Fx({isInternal:!0});DD.displayName="BezierEdge";Jx.displayName="BezierEdgeInternal";const tb={default:Jx,straight:Px,step:Zx,smoothstep:Gx,simplebezier:$x},eb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},AD=(e,r,i)=>i===Jt.Left?e-r:i===Jt.Right?e+r:e,OD=(e,r,i)=>i===Jt.Top?e-r:i===Jt.Bottom?e+r:e,nb="react-flow__edgeupdater";function rb({position:e,centerX:r,centerY:i,radius:o=10,onMouseDown:l,onMouseEnter:c,onMouseOut:d,type:g}){return U.jsx("circle",{onMouseDown:l,onMouseEnter:c,onMouseOut:d,className:jn([nb,`${nb}-${g}`]),cx:AD(r,o,e),cy:OD(i,o,e),r:o,stroke:"transparent",fill:"transparent"})}function MD({isReconnectable:e,reconnectRadius:r,edge:i,sourceX:o,sourceY:l,targetX:c,targetY:d,sourcePosition:g,targetPosition:m,onReconnect:y,onReconnectStart:x,onReconnectEnd:v,setReconnecting:w,setUpdateHover:T}){const O=ln(),N=(_,$)=>{if(_.button!==0)return;const{autoPanOnConnect:L,domNode:j,isValidConnection:G,connectionMode:J,connectionRadius:vt,lib:pt,onConnectStart:et,onConnectEnd:lt,cancelConnection:Y,nodeLookup:I,rfId:M,panBy:q,updateConnection:Q}=O.getState(),tt=$.type==="target",ht=(st,gt)=>{w(!1),v?.(st,i,$.type,gt)},k=st=>y?.(i,st),Z=(st,gt)=>{w(!0),x?.(_,i,$.type),et?.(st,gt)};Wp.onPointerDown(_.nativeEvent,{autoPanOnConnect:L,connectionMode:J,connectionRadius:vt,domNode:j,handleId:$.id,nodeId:$.nodeId,nodeLookup:I,isTarget:tt,edgeUpdaterType:$.type,lib:pt,flowId:M,cancelConnection:Y,panBy:q,isValidConnection:G,onConnect:k,onConnectStart:Z,onConnectEnd:lt,onReconnectEnd:ht,updateConnection:Q,getTransform:()=>O.getState().transform,getFromHandle:()=>O.getState().connection.fromHandle,dragThreshold:O.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},B=_=>N(_,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),z=_=>N(_,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),K=()=>T(!0),A=()=>T(!1);return U.jsxs(U.Fragment,{children:[(e===!0||e==="source")&&U.jsx(rb,{position:g,centerX:o,centerY:l,radius:r,onMouseDown:B,onMouseEnter:K,onMouseOut:A,type:"source"}),(e===!0||e==="target")&&U.jsx(rb,{position:m,centerX:c,centerY:d,radius:r,onMouseDown:z,onMouseEnter:K,onMouseOut:A,type:"target"})]})}function RD({id:e,edgesFocusable:r,edgesReconnectable:i,elementsSelectable:o,onClick:l,onDoubleClick:c,onContextMenu:d,onMouseEnter:g,onMouseMove:m,onMouseLeave:y,reconnectRadius:x,onReconnect:v,onReconnectStart:w,onReconnectEnd:T,rfId:O,edgeTypes:N,noPanClassName:B,onError:z,disableKeyboardA11y:K}){let A=Be(Ht=>Ht.edgeLookup.get(e));const _=Be(Ht=>Ht.defaultEdgeOptions);A=_?{..._,...A}:A;let $=A.type||"default",L=N?.[$]||tb[$];L===void 0&&(z?.("011",Ha.error011($)),$="default",L=N?.default||tb.default);const j=!!(A.focusable||r&&typeof A.focusable>"u"),G=typeof v<"u"&&(A.reconnectable||i&&typeof A.reconnectable>"u"),J=!!(A.selectable||o&&typeof A.selectable>"u"),vt=H.useRef(null),[pt,et]=H.useState(!1),[lt,Y]=H.useState(!1),I=ln(),{zIndex:M,sourceX:q,sourceY:Q,targetX:tt,targetY:ht,sourcePosition:k,targetPosition:Z}=Be(H.useCallback(Ht=>{const Ft=Ht.nodeLookup.get(A.source),Zt=Ht.nodeLookup.get(A.target);if(!Ft||!Zt)return{zIndex:A.zIndex,...eb};const oe=wC({id:e,sourceNode:Ft,targetNode:Zt,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:Ht.connectionMode,onError:z});return{zIndex:pC({selected:A.selected,zIndex:A.zIndex,sourceNode:Ft,targetNode:Zt,elevateOnSelect:Ht.elevateEdgesOnSelect}),...oe||eb}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),dn),st=H.useMemo(()=>A.markerStart?`url('#${Fp(A.markerStart,O)}')`:void 0,[A.markerStart,O]),gt=H.useMemo(()=>A.markerEnd?`url('#${Fp(A.markerEnd,O)}')`:void 0,[A.markerEnd,O]);if(A.hidden||q===null||Q===null||tt===null||ht===null)return null;const Tt=Ht=>{const{addSelectedEdges:Ft,unselectNodesAndEdges:Zt,multiSelectionActive:oe}=I.getState();J&&(I.setState({nodesSelectionActive:!1}),A.selected&&oe?(Zt({nodes:[],edges:[A]}),vt.current?.blur()):Ft([e])),l&&l(Ht,A)},Ot=c?Ht=>{c(Ht,{...A})}:void 0,jt=d?Ht=>{d(Ht,{...A})}:void 0,Ct=g?Ht=>{g(Ht,{...A})}:void 0,St=m?Ht=>{m(Ht,{...A})}:void 0,It=y?Ht=>{y(Ht,{...A})}:void 0,te=Ht=>{if(!K&&Q1.includes(Ht.key)&&J){const{unselectNodesAndEdges:Ft,addSelectedEdges:Zt}=I.getState();Ht.key==="Escape"?(vt.current?.blur(),Ft({edges:[A]})):Zt([e])}};return U.jsx("svg",{style:{zIndex:M},children:U.jsxs("g",{className:jn(["react-flow__edge",`react-flow__edge-${$}`,A.className,B,{selected:A.selected,animated:A.animated,inactive:!J&&!l,updating:pt,selectable:J}]),onClick:Tt,onDoubleClick:Ot,onContextMenu:jt,onMouseEnter:Ct,onMouseMove:St,onMouseLeave:It,onKeyDown:j?te:void 0,tabIndex:j?0:void 0,role:A.ariaRole??(j?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":j?`${Nx}-${O}`:void 0,ref:vt,...A.domAttributes,children:[!lt&&U.jsx(L,{id:e,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:J,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:q,sourceY:Q,targetX:tt,targetY:ht,sourcePosition:k,targetPosition:Z,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:st,markerEnd:gt,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),G&&U.jsx(MD,{edge:A,isReconnectable:G,reconnectRadius:x,onReconnect:v,onReconnectStart:w,onReconnectEnd:T,sourceX:q,sourceY:Q,targetX:tt,targetY:ht,sourcePosition:k,targetPosition:Z,setUpdateHover:et,setReconnecting:Y})]})})}const zD=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Wx({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:i,edgeTypes:o,noPanClassName:l,onReconnect:c,onEdgeContextMenu:d,onEdgeMouseEnter:g,onEdgeMouseMove:m,onEdgeMouseLeave:y,onEdgeClick:x,reconnectRadius:v,onEdgeDoubleClick:w,onReconnectStart:T,onReconnectEnd:O,disableKeyboardA11y:N}){const{edgesFocusable:B,edgesReconnectable:z,elementsSelectable:K,onError:A}=Be(zD,dn),_=vD(r);return U.jsxs("div",{className:"react-flow__edges",children:[U.jsx(ED,{defaultColor:e,rfId:i}),_.map($=>U.jsx(RD,{id:$,edgesFocusable:B,edgesReconnectable:z,elementsSelectable:K,noPanClassName:l,onReconnect:c,onContextMenu:d,onMouseEnter:g,onMouseMove:m,onMouseLeave:y,onClick:x,reconnectRadius:v,onDoubleClick:w,onReconnectStart:T,onReconnectEnd:O,rfId:i,onError:A,edgeTypes:o,disableKeyboardA11y:N},$))]})}Wx.displayName="EdgeRenderer";const BD=H.memo(Wx),jD=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function HD({children:e}){const r=Be(jD);return U.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function kD(e){const r=Io(),i=H.useRef(!1);H.useEffect(()=>{!i.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),i.current=!0)},[e,r.viewportInitialized])}const LD=e=>e.panZoom?.syncViewport;function UD(e){const r=Be(LD),i=ln();return H.useEffect(()=>{e&&(r?.(e),i.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function qD(e){return e.connection.inProgress?{...e.connection,to:Lu(e.connection.to,e.transform)}:{...e.connection}}function VD(e){return qD}function YD(e){const r=VD();return Be(r,dn)}const $D=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function XD({containerStyle:e,style:r,type:i,component:o}){const{nodesConnectable:l,width:c,height:d,isValid:g,inProgress:m}=Be($D,dn);return!(c&&l&&m)?null:U.jsx("svg",{style:e,width:c,height:d,className:"react-flow__connectionline react-flow__container",children:U.jsx("g",{className:jn(["react-flow__connection",J1(g)]),children:U.jsx(tw,{style:r,type:i,CustomComponent:o,isValid:g})})})}const tw=({style:e,type:r=io.Bezier,CustomComponent:i,isValid:o})=>{const{inProgress:l,from:c,fromNode:d,fromHandle:g,fromPosition:m,to:y,toNode:x,toHandle:v,toPosition:w}=YD();if(!l)return;if(i)return U.jsx(i,{connectionLineType:r,connectionLineStyle:e,fromNode:d,fromHandle:g,fromX:c.x,fromY:c.y,toX:y.x,toY:y.y,fromPosition:m,toPosition:w,connectionStatus:J1(o),toNode:x,toHandle:v});let T="";const O={sourceX:c.x,sourceY:c.y,sourcePosition:m,targetX:y.x,targetY:y.y,targetPosition:w};switch(r){case io.Bezier:[T]=ad(O);break;case io.SimpleBezier:[T]=Vx(O);break;case io.Step:[T]=Pp({...O,borderRadius:0});break;case io.SmoothStep:[T]=Pp(O);break;default:[T]=dx(O)}return U.jsx("path",{d:T,fill:"none",className:"react-flow__connection-path",style:e})};tw.displayName="ConnectionLine";const KD={};function ab(e=KD){H.useRef(e),ln(),H.useEffect(()=>{},[e])}function GD(){ln(),H.useRef(!1),H.useEffect(()=>{},[])}function ew({nodeTypes:e,edgeTypes:r,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:x,onSelectionContextMenu:v,onSelectionStart:w,onSelectionEnd:T,connectionLineType:O,connectionLineStyle:N,connectionLineComponent:B,connectionLineContainerStyle:z,selectionKeyCode:K,selectionOnDrag:A,selectionMode:_,multiSelectionKeyCode:$,panActivationKeyCode:L,zoomActivationKeyCode:j,deleteKeyCode:G,onlyRenderVisibleElements:J,elementsSelectable:vt,defaultViewport:pt,translateExtent:et,minZoom:lt,maxZoom:Y,preventScrolling:I,defaultMarkerColor:M,zoomOnScroll:q,zoomOnPinch:Q,panOnScroll:tt,panOnScrollSpeed:ht,panOnScrollMode:k,zoomOnDoubleClick:Z,panOnDrag:st,onPaneClick:gt,onPaneMouseEnter:Tt,onPaneMouseMove:Ot,onPaneMouseLeave:jt,onPaneScroll:Ct,onPaneContextMenu:St,paneClickDistance:It,nodeClickDistance:te,onEdgeContextMenu:Ht,onEdgeMouseEnter:Ft,onEdgeMouseMove:Zt,onEdgeMouseLeave:oe,reconnectRadius:be,onReconnect:De,onReconnectStart:yn,onReconnectEnd:Ge,noDragClassName:je,noWheelClassName:Ae,noPanClassName:Oe,disableKeyboardA11y:Ve,nodeExtent:Ye,rfId:En,viewport:Ie,onViewportChange:Xe}){return ab(e),ab(r),GD(),kD(i),UD(Ie),U.jsx(uD,{onPaneClick:gt,onPaneMouseEnter:Tt,onPaneMouseMove:Ot,onPaneMouseLeave:jt,onPaneContextMenu:St,onPaneScroll:Ct,paneClickDistance:It,deleteKeyCode:G,selectionKeyCode:K,selectionOnDrag:A,selectionMode:_,onSelectionStart:w,onSelectionEnd:T,multiSelectionKeyCode:$,panActivationKeyCode:L,zoomActivationKeyCode:j,elementsSelectable:vt,zoomOnScroll:q,zoomOnPinch:Q,zoomOnDoubleClick:Z,panOnScroll:tt,panOnScrollSpeed:ht,panOnScrollMode:k,panOnDrag:st,defaultViewport:pt,translateExtent:et,minZoom:lt,maxZoom:Y,onSelectionContextMenu:v,preventScrolling:I,noDragClassName:je,noWheelClassName:Ae,noPanClassName:Oe,disableKeyboardA11y:Ve,onViewportChange:Xe,isControlledViewport:!!Ie,children:U.jsxs(HD,{children:[U.jsx(BD,{edgeTypes:r,onEdgeClick:l,onEdgeDoubleClick:d,onReconnect:De,onReconnectStart:yn,onReconnectEnd:Ge,onlyRenderVisibleElements:J,onEdgeContextMenu:Ht,onEdgeMouseEnter:Ft,onEdgeMouseMove:Zt,onEdgeMouseLeave:oe,reconnectRadius:be,defaultMarkerColor:M,noPanClassName:Oe,disableKeyboardA11y:Ve,rfId:En}),U.jsx(XD,{style:N,type:O,component:B,containerStyle:z}),U.jsx("div",{className:"react-flow__edgelabel-renderer"}),U.jsx(yD,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:y,onNodeContextMenu:x,nodeClickDistance:te,onlyRenderVisibleElements:J,noPanClassName:Oe,noDragClassName:je,disableKeyboardA11y:Ve,nodeExtent:Ye,rfId:En}),U.jsx("div",{className:"react-flow__viewport-portal"})]})})}ew.displayName="GraphView";const ID=H.memo(ew),ib=({nodes:e,edges:r,defaultNodes:i,defaultEdges:o,width:l,height:c,fitView:d,fitViewOptions:g,minZoom:m=.5,maxZoom:y=2,nodeOrigin:x,nodeExtent:v}={})=>{const w=new Map,T=new Map,O=new Map,N=new Map,B=o??r??[],z=i??e??[],K=x??[0,0],A=v??wu;px(O,N,B);const _=Jp(z,w,T,{nodeOrigin:K,nodeExtent:A,elevateNodesOnSelect:!1});let $=[0,0,1];if(d&&l&&c){const L=Hu(w,{filter:vt=>!!((vt.width||vt.initialWidth)&&(vt.height||vt.initialHeight))}),{x:j,y:G,zoom:J}=xg(L,l,c,m,y,g?.padding??.1);$=[j,G,J]}return{rfId:"1",width:l??0,height:c??0,transform:$,nodes:z,nodesInitialized:_,nodeLookup:w,parentLookup:T,edges:B,edgeLookup:N,connectionLookup:O,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:m,maxZoom:y,translateExtent:wu,nodeExtent:A,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Is.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:K,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:g,fitViewResolver:null,connection:{...F1},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:lC,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:P1}},ZD=({nodes:e,edges:r,defaultNodes:i,defaultEdges:o,width:l,height:c,fitView:d,fitViewOptions:g,minZoom:m,maxZoom:y,nodeOrigin:x,nodeExtent:v})=>dN((w,T)=>{async function O(){const{nodeLookup:N,panZoom:B,fitViewOptions:z,fitViewResolver:K,width:A,height:_,minZoom:$,maxZoom:L}=T();B&&(await oC({nodes:N,width:A,height:_,panZoom:B,minZoom:$,maxZoom:L},z),K?.resolve(!0),w({fitViewResolver:null}))}return{...ib({nodes:e,edges:r,width:l,height:c,fitView:d,fitViewOptions:g,minZoom:m,maxZoom:y,nodeOrigin:x,nodeExtent:v,defaultNodes:i,defaultEdges:o}),setNodes:N=>{const{nodeLookup:B,parentLookup:z,nodeOrigin:K,elevateNodesOnSelect:A,fitViewQueued:_}=T(),$=Jp(N,B,z,{nodeOrigin:K,nodeExtent:v,elevateNodesOnSelect:A,checkEquality:!0});_&&$?(O(),w({nodes:N,nodesInitialized:$,fitViewQueued:!1,fitViewOptions:void 0})):w({nodes:N,nodesInitialized:$})},setEdges:N=>{const{connectionLookup:B,edgeLookup:z}=T();px(B,z,N),w({edges:N})},setDefaultNodesAndEdges:(N,B)=>{if(N){const{setNodes:z}=T();z(N),w({hasDefaultNodes:!0})}if(B){const{setEdges:z}=T();z(B),w({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:B,nodeLookup:z,parentLookup:K,domNode:A,nodeOrigin:_,nodeExtent:$,debug:L,fitViewQueued:j}=T(),{changes:G,updatedInternals:J}=DC(N,z,K,A,_,$);J&&(_C(z,K,{nodeOrigin:_,nodeExtent:$}),j?(O(),w({fitViewQueued:!1,fitViewOptions:void 0})):w({}),G?.length>0&&(L&&console.log("React Flow: trigger node changes",G),B?.(G)))},updateNodePositions:(N,B=!1)=>{const z=[],K=[],{nodeLookup:A,triggerNodeChanges:_}=T();for(const[$,L]of N){const j=A.get($),G=!!(j?.expandParent&&j?.parentId&&L?.position),J={id:$,type:"position",position:G?{x:Math.max(0,L.position.x),y:Math.max(0,L.position.y)}:L.position,dragging:B};G&&j.parentId&&z.push({id:$,parentId:j.parentId,rect:{...L.internals.positionAbsolute,width:L.measured.width??0,height:L.measured.height??0}}),K.push(J)}if(z.length>0){const{parentLookup:$,nodeOrigin:L}=T(),j=Tg(z,A,$,L);K.push(...j)}_(K)},triggerNodeChanges:N=>{const{onNodesChange:B,setNodes:z,nodes:K,hasDefaultNodes:A,debug:_}=T();if(N?.length){if(A){const $=Ox(N,K);z($)}_&&console.log("React Flow: trigger node changes",N),B?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:B,setEdges:z,edges:K,hasDefaultEdges:A,debug:_}=T();if(N?.length){if(A){const $=Mx(N,K);z($)}_&&console.log("React Flow: trigger edge changes",N),B?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:B,edgeLookup:z,nodeLookup:K,triggerNodeChanges:A,triggerEdgeChanges:_}=T();if(B){const $=N.map(L=>Bo(L,!0));A($);return}A(Vs(K,new Set([...N]),!0)),_(Vs(z))},addSelectedEdges:N=>{const{multiSelectionActive:B,edgeLookup:z,nodeLookup:K,triggerNodeChanges:A,triggerEdgeChanges:_}=T();if(B){const $=N.map(L=>Bo(L,!0));_($);return}_(Vs(z,new Set([...N]))),A(Vs(K,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:B}={})=>{const{edges:z,nodes:K,nodeLookup:A,triggerNodeChanges:_,triggerEdgeChanges:$}=T(),L=N||K,j=B||z,G=L.map(vt=>{const pt=A.get(vt.id);return pt&&(pt.selected=!1),Bo(vt.id,!1)}),J=j.map(vt=>Bo(vt.id,!1));_(G),$(J)},setMinZoom:N=>{const{panZoom:B,maxZoom:z}=T();B?.setScaleExtent([N,z]),w({minZoom:N})},setMaxZoom:N=>{const{panZoom:B,minZoom:z}=T();B?.setScaleExtent([z,N]),w({maxZoom:N})},setTranslateExtent:N=>{T().panZoom?.setTranslateExtent(N),w({translateExtent:N})},setPaneClickDistance:N=>{T().panZoom?.setClickDistance(N)},resetSelectedElements:()=>{const{edges:N,nodes:B,triggerNodeChanges:z,triggerEdgeChanges:K,elementsSelectable:A}=T();if(!A)return;const _=B.reduce((L,j)=>j.selected?[...L,Bo(j.id,!1)]:L,[]),$=N.reduce((L,j)=>j.selected?[...L,Bo(j.id,!1)]:L,[]);z(_),K($)},setNodeExtent:N=>{const{nodes:B,nodeLookup:z,parentLookup:K,nodeOrigin:A,elevateNodesOnSelect:_,nodeExtent:$}=T();N[0][0]===$[0][0]&&N[0][1]===$[0][1]&&N[1][0]===$[1][0]&&N[1][1]===$[1][1]||(Jp(B,z,K,{nodeOrigin:A,nodeExtent:N,elevateNodesOnSelect:_,checkEquality:!1}),w({nodeExtent:N}))},panBy:N=>{const{transform:B,width:z,height:K,panZoom:A,translateExtent:_}=T();return AC({delta:N,panZoom:A,transform:B,translateExtent:_,width:z,height:K})},setCenter:async(N,B,z)=>{const{width:K,height:A,maxZoom:_,panZoom:$}=T();if(!$)return Promise.resolve(!1);const L=typeof z?.zoom<"u"?z.zoom:_;return await $.setViewport({x:K/2-N*L,y:A/2-B*L,zoom:L},{duration:z?.duration,ease:z?.ease,interpolate:z?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{w({connection:{...F1}})},updateConnection:N=>{w({connection:N})},reset:()=>w({...ib()})}},Object.is);function Ng({initialNodes:e,initialEdges:r,defaultNodes:i,defaultEdges:o,initialWidth:l,initialHeight:c,initialMinZoom:d,initialMaxZoom:g,initialFitViewOptions:m,fitView:y,nodeOrigin:x,nodeExtent:v,children:w}){const[T]=H.useState(()=>ZD({nodes:e,edges:r,defaultNodes:i,defaultEdges:o,width:l,height:c,fitView:y,minZoom:d,maxZoom:g,fitViewOptions:m,nodeOrigin:x,nodeExtent:v}));return U.jsx(gN,{value:T,children:U.jsx(LN,{children:w})})}function QD({children:e,nodes:r,edges:i,defaultNodes:o,defaultEdges:l,width:c,height:d,fitView:g,fitViewOptions:m,minZoom:y,maxZoom:x,nodeOrigin:v,nodeExtent:w}){return H.useContext(od)?U.jsx(U.Fragment,{children:e}):U.jsx(Ng,{initialNodes:r,initialEdges:i,defaultNodes:o,defaultEdges:l,initialWidth:c,initialHeight:d,fitView:g,initialFitViewOptions:m,initialMinZoom:y,initialMaxZoom:x,nodeOrigin:v,nodeExtent:w,children:e})}const PD={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function FD({nodes:e,edges:r,defaultNodes:i,defaultEdges:o,className:l,nodeTypes:c,edgeTypes:d,onNodeClick:g,onEdgeClick:m,onInit:y,onMove:x,onMoveStart:v,onMoveEnd:w,onConnect:T,onConnectStart:O,onConnectEnd:N,onClickConnectStart:B,onClickConnectEnd:z,onNodeMouseEnter:K,onNodeMouseMove:A,onNodeMouseLeave:_,onNodeContextMenu:$,onNodeDoubleClick:L,onNodeDragStart:j,onNodeDrag:G,onNodeDragStop:J,onNodesDelete:vt,onEdgesDelete:pt,onDelete:et,onSelectionChange:lt,onSelectionDragStart:Y,onSelectionDrag:I,onSelectionDragStop:M,onSelectionContextMenu:q,onSelectionStart:Q,onSelectionEnd:tt,onBeforeDelete:ht,connectionMode:k,connectionLineType:Z=io.Bezier,connectionLineStyle:st,connectionLineComponent:gt,connectionLineContainerStyle:Tt,deleteKeyCode:Ot="Backspace",selectionKeyCode:jt="Shift",selectionOnDrag:Ct=!1,selectionMode:St=Zs.Full,panActivationKeyCode:It="Space",multiSelectionKeyCode:te=Eu()?"Meta":"Control",zoomActivationKeyCode:Ht=Eu()?"Meta":"Control",snapToGrid:Ft,snapGrid:Zt,onlyRenderVisibleElements:oe=!1,selectNodesOnDrag:be,nodesDraggable:De,autoPanOnNodeFocus:yn,nodesConnectable:Ge,nodesFocusable:je,nodeOrigin:Ae=Dx,edgesFocusable:Oe,edgesReconnectable:Ve,elementsSelectable:Ye=!0,defaultViewport:En=DN,minZoom:Ie=.5,maxZoom:Xe=2,translateExtent:nn=wu,preventScrolling:_n=!0,nodeExtent:vn,defaultMarkerColor:bn="#b1b1b7",zoomOnScroll:hn=!0,zoomOnPinch:$n=!0,panOnScroll:Et=!1,panOnScrollSpeed:Vt=.5,panOnScrollMode:Dt=Uo.Free,zoomOnDoubleClick:he=!0,panOnDrag:re=!0,onPaneClick:Me,onPaneMouseEnter:kt,onPaneMouseMove:Tn,onPaneMouseLeave:ke,onPaneScroll:xe,onPaneContextMenu:Gt,paneClickDistance:ue=0,nodeClickDistance:pe=0,children:_e,onReconnect:Le,onReconnectStart:fe,onReconnectEnd:we,onEdgeContextMenu:pn,onEdgeDoubleClick:ae,onEdgeMouseEnter:ce,onEdgeMouseMove:nr,onEdgeMouseLeave:un,reconnectRadius:Ln=10,onNodesChange:lr,onEdgesChange:rr,noDragClassName:Pe="nodrag",noWheelClassName:gn="nowheel",noPanClassName:Xn="nopan",fitView:ia,fitViewOptions:Zo,connectOnClick:Ur,attributionPosition:co,proOptions:ur,defaultEdgeOptions:Si,elevateNodesOnSelect:qr,elevateEdgesOnSelect:Ke,disableKeyboardA11y:ar=!1,autoPanOnConnect:Kn,autoPanOnNodeDrag:mn,autoPanSpeed:oa,connectionRadius:Ua,isValidConnection:Nr,onError:Vr,style:sa,id:Ei,nodeDragThreshold:qa,connectionDragThreshold:Qo,viewport:ge,onViewportChange:Va,width:pr,height:Un,colorMode:wa="light",debug:Po,onScroll:Ya,ariaLabelConfig:fo,...He},$a){const xn=Ei||"1",Yr=RN(wa),_i=H.useCallback(Sa=>{Sa.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ya?.(Sa)},[Ya]);return U.jsx("div",{"data-testid":"rf__wrapper",...He,onScroll:_i,style:{...sa,...PD},ref:$a,className:jn(["react-flow",l,Yr]),id:Ei,role:"application",children:U.jsxs(QD,{nodes:e,edges:r,width:pr,height:Un,fitView:ia,fitViewOptions:Zo,minZoom:Ie,maxZoom:Xe,nodeOrigin:Ae,nodeExtent:vn,children:[U.jsx(ID,{onInit:y,onNodeClick:g,onEdgeClick:m,onNodeMouseEnter:K,onNodeMouseMove:A,onNodeMouseLeave:_,onNodeContextMenu:$,onNodeDoubleClick:L,nodeTypes:c,edgeTypes:d,connectionLineType:Z,connectionLineStyle:st,connectionLineComponent:gt,connectionLineContainerStyle:Tt,selectionKeyCode:jt,selectionOnDrag:Ct,selectionMode:St,deleteKeyCode:Ot,multiSelectionKeyCode:te,panActivationKeyCode:It,zoomActivationKeyCode:Ht,onlyRenderVisibleElements:oe,defaultViewport:En,translateExtent:nn,minZoom:Ie,maxZoom:Xe,preventScrolling:_n,zoomOnScroll:hn,zoomOnPinch:$n,zoomOnDoubleClick:he,panOnScroll:Et,panOnScrollSpeed:Vt,panOnScrollMode:Dt,panOnDrag:re,onPaneClick:Me,onPaneMouseEnter:kt,onPaneMouseMove:Tn,onPaneMouseLeave:ke,onPaneScroll:xe,onPaneContextMenu:Gt,paneClickDistance:ue,nodeClickDistance:pe,onSelectionContextMenu:q,onSelectionStart:Q,onSelectionEnd:tt,onReconnect:Le,onReconnectStart:fe,onReconnectEnd:we,onEdgeContextMenu:pn,onEdgeDoubleClick:ae,onEdgeMouseEnter:ce,onEdgeMouseMove:nr,onEdgeMouseLeave:un,reconnectRadius:Ln,defaultMarkerColor:bn,noDragClassName:Pe,noWheelClassName:gn,noPanClassName:Xn,rfId:xn,disableKeyboardA11y:ar,nodeExtent:vn,viewport:ge,onViewportChange:Va}),U.jsx(MN,{nodes:e,edges:r,defaultNodes:i,defaultEdges:o,onConnect:T,onConnectStart:O,onConnectEnd:N,onClickConnectStart:B,onClickConnectEnd:z,nodesDraggable:De,autoPanOnNodeFocus:yn,nodesConnectable:Ge,nodesFocusable:je,edgesFocusable:Oe,edgesReconnectable:Ve,elementsSelectable:Ye,elevateNodesOnSelect:qr,elevateEdgesOnSelect:Ke,minZoom:Ie,maxZoom:Xe,nodeExtent:vn,onNodesChange:lr,onEdgesChange:rr,snapToGrid:Ft,snapGrid:Zt,connectionMode:k,translateExtent:nn,connectOnClick:Ur,defaultEdgeOptions:Si,fitView:ia,fitViewOptions:Zo,onNodesDelete:vt,onEdgesDelete:pt,onDelete:et,onNodeDragStart:j,onNodeDrag:G,onNodeDragStop:J,onSelectionDrag:I,onSelectionDragStart:Y,onSelectionDragStop:M,onMove:x,onMoveStart:v,onMoveEnd:w,noPanClassName:Xn,nodeOrigin:Ae,rfId:xn,autoPanOnConnect:Kn,autoPanOnNodeDrag:mn,autoPanSpeed:oa,onError:Vr,connectionRadius:Ua,isValidConnection:Nr,selectNodesOnDrag:be,nodeDragThreshold:qa,connectionDragThreshold:Qo,onBeforeDelete:ht,paneClickDistance:ue,debug:Po,ariaLabelConfig:fo}),U.jsx(NN,{onSelectionChange:lt}),_e,U.jsx(SN,{proOptions:ur,position:co}),U.jsx(wN,{rfId:xn,disableKeyboardA11y:ar})]})})}var JD=Rx(FD);function WD(){const e=ln();return H.useCallback(r=>{const{domNode:i,updateNodeInternals:o}=e.getState(),l=Array.isArray(r)?r:[r],c=new Map;l.forEach(d=>{const g=i?.querySelector(`.react-flow__node[data-id="${d}"]`);g&&c.set(d,{id:d,nodeElement:g,force:!0})}),requestAnimationFrame(()=>o(c,{triggerFitView:!1}))},[])}const tA=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function eA(){return Be(tA,dn)}function nA({dimensions:e,lineWidth:r,variant:i,className:o}){return U.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:jn(["react-flow__background-pattern",i,o])})}function rA({radius:e,className:r}){return U.jsx("circle",{cx:e,cy:e,r:e,className:jn(["react-flow__background-pattern","dots",r])})}var so;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(so||(so={}));const aA={[so.Dots]:1,[so.Lines]:1,[so.Cross]:6},iA=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function nw({id:e,variant:r=so.Dots,gap:i=20,size:o,lineWidth:l=1,offset:c=0,color:d,bgColor:g,style:m,className:y,patternClassName:x}){const v=H.useRef(null),{transform:w,patternId:T}=Be(iA,dn),O=o||aA[r],N=r===so.Dots,B=r===so.Cross,z=Array.isArray(i)?i:[i,i],K=[z[0]*w[2]||1,z[1]*w[2]||1],A=O*w[2],_=Array.isArray(c)?c:[c,c],$=B?[A,A]:K,L=[_[0]*w[2]||1+$[0]/2,_[1]*w[2]||1+$[1]/2],j=`${T}${e||""}`;return U.jsxs("svg",{className:jn(["react-flow__background",y]),style:{...m,...ld,"--xy-background-color-props":g,"--xy-background-pattern-color-props":d},ref:v,"data-testid":"rf__background",children:[U.jsx("pattern",{id:j,x:w[0]%K[0],y:w[1]%K[1],width:K[0],height:K[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:N?U.jsx(rA,{radius:A/2,className:x}):U.jsx(nA,{dimensions:$,lineWidth:l,variant:r,className:x})}),U.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${j})`})]})}nw.displayName="Background";const oA=H.memo(nw);function sA(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:U.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function lA(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:U.jsx("path",{d:"M0 0h32v4.2H0z"})})}function uA(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:U.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function cA(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:U.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function fA(){return U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:U.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function hf({children:e,className:r,...i}){return U.jsx("button",{type:"button",className:jn(["react-flow__controls-button",r]),...i,children:e})}const dA=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function rw({style:e,showZoom:r=!0,showFitView:i=!0,showInteractive:o=!0,fitViewOptions:l,onZoomIn:c,onZoomOut:d,onFitView:g,onInteractiveChange:m,className:y,children:x,position:v="bottom-left",orientation:w="vertical","aria-label":T}){const O=ln(),{isInteractive:N,minZoomReached:B,maxZoomReached:z,ariaLabelConfig:K}=Be(dA,dn),{zoomIn:A,zoomOut:_,fitView:$}=Io(),L=()=>{A(),c?.()},j=()=>{_(),d?.()},G=()=>{$(l),g?.()},J=()=>{O.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),m?.(!N)},vt=w==="horizontal"?"horizontal":"vertical";return U.jsxs(sd,{className:jn(["react-flow__controls",vt,y]),position:v,style:e,"data-testid":"rf__controls","aria-label":T??K["controls.ariaLabel"],children:[r&&U.jsxs(U.Fragment,{children:[U.jsx(hf,{onClick:L,className:"react-flow__controls-zoomin",title:K["controls.zoomIn.ariaLabel"],"aria-label":K["controls.zoomIn.ariaLabel"],disabled:z,children:U.jsx(sA,{})}),U.jsx(hf,{onClick:j,className:"react-flow__controls-zoomout",title:K["controls.zoomOut.ariaLabel"],"aria-label":K["controls.zoomOut.ariaLabel"],disabled:B,children:U.jsx(lA,{})})]}),i&&U.jsx(hf,{className:"react-flow__controls-fitview",onClick:G,title:K["controls.fitView.ariaLabel"],"aria-label":K["controls.fitView.ariaLabel"],children:U.jsx(uA,{})}),o&&U.jsx(hf,{className:"react-flow__controls-interactive",onClick:J,title:K["controls.interactive.ariaLabel"],"aria-label":K["controls.interactive.ariaLabel"],children:N?U.jsx(fA,{}):U.jsx(cA,{})}),x]})}rw.displayName="Controls";H.memo(rw);function hA({id:e,x:r,y:i,width:o,height:l,style:c,color:d,strokeColor:g,strokeWidth:m,className:y,borderRadius:x,shapeRendering:v,selected:w,onClick:T}){const{background:O,backgroundColor:N}=c||{},B=d||O||N;return U.jsx("rect",{className:jn(["react-flow__minimap-node",{selected:w},y]),x:r,y:i,rx:x,ry:x,width:o,height:l,style:{fill:B,stroke:g,strokeWidth:m},shapeRendering:v,onClick:T?z=>T(z,e):void 0})}const pA=H.memo(hA),gA=e=>e.nodes.map(r=>r.id),_p=e=>e instanceof Function?e:()=>e;function mA({nodeStrokeColor:e,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:c=pA,onClick:d}){const g=Be(gA,dn),m=_p(r),y=_p(e),x=_p(i),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return U.jsx(U.Fragment,{children:g.map(w=>U.jsx(vA,{id:w,nodeColorFunc:m,nodeStrokeColorFunc:y,nodeClassNameFunc:x,nodeBorderRadius:o,nodeStrokeWidth:l,NodeComponent:c,onClick:d,shapeRendering:v},w))})}function yA({id:e,nodeColorFunc:r,nodeStrokeColorFunc:i,nodeClassNameFunc:o,nodeBorderRadius:l,nodeStrokeWidth:c,shapeRendering:d,NodeComponent:g,onClick:m}){const{node:y,x,y:v,width:w,height:T}=Be(O=>{const{internals:N}=O.nodeLookup.get(e),B=N.userNode,{x:z,y:K}=N.positionAbsolute,{width:A,height:_}=xi(B);return{node:B,x:z,y:K,width:A,height:_}},dn);return!y||y.hidden||!ix(y)?null:U.jsx(g,{x,y:v,width:w,height:T,style:y.style,selected:!!y.selected,className:o(y),color:r(y),borderRadius:l,strokeColor:i(y),strokeWidth:c,shapeRendering:d,onClick:m,id:y.id})}const vA=H.memo(yA);var bA=H.memo(mA);const xA=200,wA=150,SA=e=>!e.hidden,EA=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?ax(Hu(e.nodeLookup,{filter:SA}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},_A="react-flow__minimap-desc";function aw({style:e,className:r,nodeStrokeColor:i,nodeColor:o,nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:g,bgColor:m,maskColor:y,maskStrokeColor:x,maskStrokeWidth:v,position:w="bottom-right",onClick:T,onNodeClick:O,pannable:N=!1,zoomable:B=!1,ariaLabel:z,inversePan:K,zoomStep:A=1,offsetScale:_=5}){const $=ln(),L=H.useRef(null),{boundingRect:j,viewBB:G,rfId:J,panZoom:vt,translateExtent:pt,flowWidth:et,flowHeight:lt,ariaLabelConfig:Y}=Be(EA,dn),I=e?.width??xA,M=e?.height??wA,q=j.width/I,Q=j.height/M,tt=Math.max(q,Q),ht=tt*I,k=tt*M,Z=_*tt,st=j.x-(ht-j.width)/2-Z,gt=j.y-(k-j.height)/2-Z,Tt=ht+Z*2,Ot=k+Z*2,jt=`${_A}-${J}`,Ct=H.useRef(0),St=H.useRef();Ct.current=tt,H.useEffect(()=>{if(L.current&&vt)return St.current=LC({domNode:L.current,panZoom:vt,getTransform:()=>$.getState().transform,getViewScale:()=>Ct.current}),()=>{St.current?.destroy()}},[vt]),H.useEffect(()=>{St.current?.update({translateExtent:pt,width:et,height:lt,inversePan:K,pannable:N,zoomStep:A,zoomable:B})},[N,B,K,A,pt,et,lt]);const It=T?Ft=>{const[Zt,oe]=St.current?.pointer(Ft)||[0,0];T(Ft,{x:Zt,y:oe})}:void 0,te=O?H.useCallback((Ft,Zt)=>{const oe=$.getState().nodeLookup.get(Zt).internals.userNode;O(Ft,oe)},[]):void 0,Ht=z??Y["minimap.ariaLabel"];return U.jsx(sd,{position:w,style:{...e,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-color-props":typeof x=="string"?x:void 0,"--xy-minimap-mask-stroke-width-props":typeof v=="number"?v*tt:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:jn(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:U.jsxs("svg",{width:I,height:M,viewBox:`${st} ${gt} ${Tt} ${Ot}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":jt,ref:L,onClick:It,children:[Ht&&U.jsx("title",{id:jt,children:Ht}),U.jsx(bA,{onClick:te,nodeColor:o,nodeStrokeColor:i,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:g}),U.jsx("path",{className:"react-flow__minimap-mask",d:`M${st-Z},${gt-Z}h${Tt+Z*2}v${Ot+Z*2}h${-Tt-Z*2}z
        M${G.x},${G.y}h${G.width}v${G.height}h${-G.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}aw.displayName="MiniMap";H.memo(aw);const TA=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,CA={[Js.Line]:"right",[Js.Handle]:"bottom-right"};function NA({nodeId:e,position:r,variant:i=Js.Handle,className:o,style:l=void 0,children:c,color:d,minWidth:g=10,minHeight:m=10,maxWidth:y=Number.MAX_VALUE,maxHeight:x=Number.MAX_VALUE,keepAspectRatio:v=!1,resizeDirection:w,autoScale:T=!0,shouldResize:O,onResizeStart:N,onResize:B,onResizeEnd:z}){const K=Hx(),A=typeof e=="string"?e:K,_=ln(),$=H.useRef(null),L=i===Js.Handle,j=Be(H.useCallback(TA(L&&T),[L,T]),dn),G=H.useRef(null),J=r??CA[i];H.useEffect(()=>{if(!(!$.current||!A))return G.current||(G.current=tN({domNode:$.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:pt,transform:et,snapGrid:lt,snapToGrid:Y,nodeOrigin:I,domNode:M}=_.getState();return{nodeLookup:pt,transform:et,snapGrid:lt,snapToGrid:Y,nodeOrigin:I,paneDomNode:M}},onChange:(pt,et)=>{const{triggerNodeChanges:lt,nodeLookup:Y,parentLookup:I,nodeOrigin:M}=_.getState(),q=[],Q={x:pt.x,y:pt.y},tt=Y.get(A);if(tt&&tt.expandParent&&tt.parentId){const ht=tt.origin??M,k=pt.width??tt.measured.width??0,Z=pt.height??tt.measured.height??0,st={id:tt.id,parentId:tt.parentId,rect:{width:k,height:Z,...ox({x:pt.x??tt.position.x,y:pt.y??tt.position.y},{width:k,height:Z},tt.parentId,Y,ht)}},gt=Tg([st],Y,I,M);q.push(...gt),Q.x=pt.x?Math.max(ht[0]*k,pt.x):void 0,Q.y=pt.y?Math.max(ht[1]*Z,pt.y):void 0}if(Q.x!==void 0&&Q.y!==void 0){const ht={id:A,type:"position",position:{...Q}};q.push(ht)}if(pt.width!==void 0&&pt.height!==void 0){const k={id:A,type:"dimensions",resizing:!0,setAttributes:w?w==="horizontal"?"width":"height":!0,dimensions:{width:pt.width,height:pt.height}};q.push(k)}for(const ht of et){const k={...ht,type:"position"};q.push(k)}lt(q)},onEnd:({width:pt,height:et})=>{const lt={id:A,type:"dimensions",resizing:!1,dimensions:{width:pt,height:et}};_.getState().triggerNodeChanges([lt])}})),G.current.update({controlPosition:J,boundaries:{minWidth:g,minHeight:m,maxWidth:y,maxHeight:x},keepAspectRatio:v,resizeDirection:w,onResizeStart:N,onResize:B,onResizeEnd:z,shouldResize:O}),()=>{G.current?.destroy()}},[J,g,m,y,x,v,N,B,z,O]);const vt=J.split("-");return U.jsx("div",{className:jn(["react-flow__resize-control","nodrag",...vt,i,o]),ref:$,style:{...l,scale:j,...d&&{[L?"backgroundColor":"borderColor"]:d}},children:c})}H.memo(NA);const er=[];for(let e=0;e<256;++e)er.push((e+256).toString(16).slice(1));function DA(e,r=0){return(er[e[r+0]]+er[e[r+1]]+er[e[r+2]]+er[e[r+3]]+"-"+er[e[r+4]]+er[e[r+5]]+"-"+er[e[r+6]]+er[e[r+7]]+"-"+er[e[r+8]]+er[e[r+9]]+"-"+er[e[r+10]]+er[e[r+11]]+er[e[r+12]]+er[e[r+13]]+er[e[r+14]]+er[e[r+15]]).toLowerCase()}let Tp;const AA=new Uint8Array(16);function OA(){if(!Tp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tp=crypto.getRandomValues.bind(crypto)}return Tp(AA)}const MA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ob={randomUUID:MA};function RA(e,r,i){e=e||{};const o=e.random??e.rng?.()??OA();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,DA(o)}function Dg(e,r,i){return ob.randomUUID&&!e?ob.randomUUID():RA(e)}var _f={exports:{}},zA=_f.exports,sb;function BA(){return sb||(sb=1,(function(e,r){(function(i,o){e.exports=o()})(zA,function(){var i=function(u,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(b[C]=S[C])})(u,h)},o=function(){return(o=Object.assign||function(u){for(var h,b=1,S=arguments.length;b<S;b++)for(var C in h=arguments[b])Object.prototype.hasOwnProperty.call(h,C)&&(u[C]=h[C]);return u}).apply(this,arguments)};function l(u,h,b){for(var S,C=0,D=h.length;C<D;C++)!S&&C in h||((S=S||Array.prototype.slice.call(h,0,C))[C]=h[C]);return u.concat(S||Array.prototype.slice.call(h))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:xE,d=Object.keys,g=Array.isArray;function m(u,h){return typeof h!="object"||d(h).forEach(function(b){u[b]=h[b]}),u}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var y=Object.getPrototypeOf,x={}.hasOwnProperty;function v(u,h){return x.call(u,h)}function w(u,h){typeof h=="function"&&(h=h(y(u))),(typeof Reflect>"u"?d:Reflect.ownKeys)(h).forEach(function(b){O(u,b,h[b])})}var T=Object.defineProperty;function O(u,h,b,S){T(u,h,m(b&&v(b,"get")&&typeof b.get=="function"?{get:b.get,set:b.set,configurable:!0}:{value:b,configurable:!0,writable:!0},S))}function N(u){return{from:function(h){return u.prototype=Object.create(h.prototype),O(u.prototype,"constructor",u),{extend:w.bind(null,u.prototype)}}}}var B=Object.getOwnPropertyDescriptor,z=[].slice;function K(u,h,b){return z.call(u,h,b)}function A(u,h){return h(u)}function _(u){if(!u)throw new Error("Assertion Failed")}function $(u){c.setImmediate?setImmediate(u):setTimeout(u,0)}function L(u,h){if(typeof h=="string"&&v(u,h))return u[h];if(!h)return u;if(typeof h!="string"){for(var b=[],S=0,C=h.length;S<C;++S){var D=L(u,h[S]);b.push(D)}return b}var V=h.indexOf(".");if(V!==-1){var X=u[h.substr(0,V)];return X==null?void 0:L(X,h.substr(V+1))}}function j(u,h,b){if(u&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof h!="string"&&"length"in h){_(typeof b!="string"&&"length"in b);for(var S=0,C=h.length;S<C;++S)j(u,h[S],b[S])}else{var D,V,X=h.indexOf(".");X!==-1?(D=h.substr(0,X),(V=h.substr(X+1))===""?b===void 0?g(u)&&!isNaN(parseInt(D))?u.splice(D,1):delete u[D]:u[D]=b:j(X=!(X=u[D])||!v(u,D)?u[D]={}:X,V,b)):b===void 0?g(u)&&!isNaN(parseInt(h))?u.splice(h,1):delete u[h]:u[h]=b}}function G(u){var h,b={};for(h in u)v(u,h)&&(b[h]=u[h]);return b}var J=[].concat;function vt(u){return J.apply([],u)}var Ie="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(vt([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(h){return h+u+"Array"})}))).filter(function(u){return c[u]}),pt=new Set(Ie.map(function(u){return c[u]})),et=null;function lt(u){return et=new WeakMap,u=(function h(b){if(!b||typeof b!="object")return b;var S=et.get(b);if(S)return S;if(g(b)){S=[],et.set(b,S);for(var C=0,D=b.length;C<D;++C)S.push(h(b[C]))}else if(pt.has(b.constructor))S=b;else{var V,X=y(b);for(V in S=X===Object.prototype?{}:Object.create(X),et.set(b,S),b)v(b,V)&&(S[V]=h(b[V]))}return S})(u),et=null,u}var Y={}.toString;function I(u){return Y.call(u).slice(8,-1)}var M=typeof Symbol<"u"?Symbol.iterator:"@@iterator",q=typeof M=="symbol"?function(u){var h;return u!=null&&(h=u[M])&&h.apply(u)}:function(){return null};function Q(u,h){return h=u.indexOf(h),0<=h&&u.splice(h,1),0<=h}var tt={};function ht(u){var h,b,S,C;if(arguments.length===1){if(g(u))return u.slice();if(this===tt&&typeof u=="string")return[u];if(C=q(u)){for(b=[];!(S=C.next()).done;)b.push(S.value);return b}if(u==null)return[u];if(typeof(h=u.length)!="number")return[u];for(b=new Array(h);h--;)b[h]=u[h];return b}for(h=arguments.length,b=new Array(h);h--;)b[h]=arguments[h];return b}var k=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},En=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],fr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(En),Z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function st(u,h){this.name=u,this.message=h}function gt(u,h){return u+". Errors: "+Object.keys(h).map(function(b){return h[b].toString()}).filter(function(b,S,C){return C.indexOf(b)===S}).join(`
`)}function Tt(u,h,b,S){this.failures=h,this.failedKeys=S,this.successCount=b,this.message=gt(u,h)}function Ot(u,h){this.name="BulkError",this.failures=Object.keys(h).map(function(b){return h[b]}),this.failuresByPos=h,this.message=gt(u,this.failures)}N(st).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Tt).from(st),N(Ot).from(st);var jt=fr.reduce(function(u,h){return u[h]=h+"Error",u},{}),Ct=st,St=fr.reduce(function(u,h){var b=h+"Error";function S(C,D){this.name=b,C?typeof C=="string"?(this.message="".concat(C).concat(D?`
 `+D:""),this.inner=D||null):typeof C=="object"&&(this.message="".concat(C.name," ").concat(C.message),this.inner=C):(this.message=Z[h]||b,this.inner=null)}return N(S).from(Ct),u[h]=S,u},{});St.Syntax=SyntaxError,St.Type=TypeError,St.Range=RangeError;var It=En.reduce(function(u,h){return u[h+"Error"]=St[h],u},{}),te=fr.reduce(function(u,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(u[h+"Error"]=St[h]),u},{});function Ht(){}function Ft(u){return u}function Zt(u,h){return u==null||u===Ft?h:function(b){return h(u(b))}}function oe(u,h){return function(){u.apply(this,arguments),h.apply(this,arguments)}}function be(u,h){return u===Ht?h:function(){var b=u.apply(this,arguments);b!==void 0&&(arguments[0]=b);var S=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var D=h.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?oe(S,this.onsuccess):S),C&&(this.onerror=this.onerror?oe(C,this.onerror):C),D!==void 0?D:b}}function De(u,h){return u===Ht?h:function(){u.apply(this,arguments);var b=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?oe(b,this.onsuccess):b),S&&(this.onerror=this.onerror?oe(S,this.onerror):S)}}function yn(u,h){return u===Ht?h:function(b){var S=u.apply(this,arguments);m(b,S);var C=this.onsuccess,D=this.onerror;return this.onsuccess=null,this.onerror=null,b=h.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?oe(C,this.onsuccess):C),D&&(this.onerror=this.onerror?oe(D,this.onerror):D),S===void 0?b===void 0?void 0:b:m(S,b)}}function Ge(u,h){return u===Ht?h:function(){return h.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function je(u,h){return u===Ht?h:function(){var b=u.apply(this,arguments);if(b&&typeof b.then=="function"){for(var S=this,C=arguments.length,D=new Array(C);C--;)D[C]=arguments[C];return b.then(function(){return h.apply(S,D)})}return h.apply(this,arguments)}}te.ModifyError=Tt,te.DexieError=st,te.BulkError=Ot;var Ae=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Oe(u){Ae=u}var Ve={},Ye=100,Ie=typeof Promise>"u"?[]:(function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,y(u),u];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,y(h),u]})(),En=Ie[0],fr=Ie[1],Ie=Ie[2],fr=fr&&fr.then,Xe=En&&En.constructor,nn=!!Ie,_n=function(u,h){he.push([u,h]),bn&&(queueMicrotask(_e),bn=!1)},vn=!0,bn=!0,hn=[],$n=[],Et=Ft,Vt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ht,pgp:!1,env:{},finalize:Ht},Dt=Vt,he=[],re=0,Me=[];function kt(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Dt;if(typeof u!="function"){if(u!==Ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&xe(this,this._value))}this._state=null,this._value=null,++h.ref,(function b(S,C){try{C(function(D){if(S._state===null){if(D===S)throw new TypeError("A promise cannot be resolved with itself.");var V=S._lib&&Le();D&&typeof D.then=="function"?b(S,function(X,W){D instanceof kt?D._then(X,W):D.then(X,W)}):(S._state=!0,S._value=D,Gt(S)),V&&fe()}},xe.bind(null,S))}catch(D){xe(S,D)}})(this,u)}var Tn={get:function(){var u=Dt,h=lr;function b(S,C){var D=this,V=!u.global&&(u!==Dt||h!==lr),X=V&&!Xn(),W=new kt(function(nt,ut){ue(D,new ke(Si(S,u,V,X),Si(C,u,V,X),nt,ut,u))});return this._consoleTask&&(W._consoleTask=this._consoleTask),W}return b.prototype=Ve,b},set:function(u){O(this,"then",u&&u.prototype===Ve?Tn:{get:function(){return u},set:Tn.set})}};function ke(u,h,b,S,C){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof h=="function"?h:null,this.resolve=b,this.reject=S,this.psd=C}function xe(u,h){var b,S;$n.push(h),u._state===null&&(b=u._lib&&Le(),h=Et(h),u._state=!1,u._value=h,S=u,hn.some(function(C){return C._value===S._value})||hn.push(S),Gt(u),b&&fe())}function Gt(u){var h=u._listeners;u._listeners=[];for(var b=0,S=h.length;b<S;++b)ue(u,h[b]);var C=u._PSD;--C.ref||C.finalize(),re===0&&(++re,_n(function(){--re==0&&we()},[]))}function ue(u,h){if(u._state!==null){var b=u._state?h.onFulfilled:h.onRejected;if(b===null)return(u._state?h.resolve:h.reject)(u._value);++h.psd.ref,++re,_n(pe,[b,u,h])}else u._listeners.push(h)}function pe(u,h,b){try{var S,C=h._value;!h._state&&$n.length&&($n=[]),S=Ae&&h._consoleTask?h._consoleTask.run(function(){return u(C)}):u(C),h._state||$n.indexOf(C)!==-1||(function(D){for(var V=hn.length;V;)if(hn[--V]._value===D._value)return hn.splice(V,1)})(h),b.resolve(S)}catch(D){b.reject(D)}finally{--re==0&&we(),--b.psd.ref||b.psd.finalize()}}function _e(){ur(Vt,function(){Le()&&fe()})}function Le(){var u=vn;return bn=vn=!1,u}function fe(){var u,h,b;do for(;0<he.length;)for(u=he,he=[],b=u.length,h=0;h<b;++h){var S=u[h];S[0].apply(null,S[1])}while(0<he.length);bn=vn=!0}function we(){var u=hn;hn=[],u.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var h=Me.slice(0),b=h.length;b;)h[--b]()}function pn(u){return new kt(Ve,!1,u)}function ae(u,h){var b=Dt;return function(){var S=Le(),C=Dt;try{return Ur(b,!0),u.apply(this,arguments)}catch(D){h&&h(D)}finally{Ur(C,!1),S&&fe()}}}w(kt.prototype,{then:Tn,_then:function(u,h){ue(this,new ke(null,null,u,h,Dt))},catch:function(u){if(arguments.length===1)return this.then(null,u);var h=u,b=arguments[1];return typeof h=="function"?this.then(null,function(S){return(S instanceof h?b:pn)(S)}):this.then(null,function(S){return(S&&S.name===h?b:pn)(S)})},finally:function(u){return this.then(function(h){return kt.resolve(u()).then(function(){return h})},function(h){return kt.resolve(u()).then(function(){return pn(h)})})},timeout:function(u,h){var b=this;return u<1/0?new kt(function(S,C){var D=setTimeout(function(){return C(new St.Timeout(h))},u);b.then(S,C).finally(clearTimeout.bind(null,D))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&O(kt.prototype,Symbol.toStringTag,"Dexie.Promise"),Vt.env=co(),w(kt,{all:function(){var u=ht.apply(null,arguments).map(ia);return new kt(function(h,b){u.length===0&&h([]);var S=u.length;u.forEach(function(C,D){return kt.resolve(C).then(function(V){u[D]=V,--S||h(u)},b)})})},resolve:function(u){return u instanceof kt?u:u&&typeof u.then=="function"?new kt(function(h,b){u.then(h,b)}):new kt(Ve,!0,u)},reject:pn,race:function(){var u=ht.apply(null,arguments).map(ia);return new kt(function(h,b){u.map(function(S){return kt.resolve(S).then(h,b)})})},PSD:{get:function(){return Dt},set:function(u){return Dt=u}},totalEchoes:{get:function(){return lr}},newPSD:Pe,usePSD:ur,scheduler:{get:function(){return _n},set:function(u){_n=u}},rejectionMapper:{get:function(){return Et},set:function(u){Et=u}},follow:function(u,h){return new kt(function(b,S){return Pe(function(C,D){var V=Dt;V.unhandleds=[],V.onunhandled=D,V.finalize=oe(function(){var X,W=this;X=function(){W.unhandleds.length===0?C():D(W.unhandleds[0])},Me.push(function nt(){X(),Me.splice(Me.indexOf(nt),1)}),++re,_n(function(){--re==0&&we()},[])},V.finalize),u()},h,b,S)})}}),Xe&&(Xe.allSettled&&O(kt,"allSettled",function(){var u=ht.apply(null,arguments).map(ia);return new kt(function(h){u.length===0&&h([]);var b=u.length,S=new Array(b);u.forEach(function(C,D){return kt.resolve(C).then(function(V){return S[D]={status:"fulfilled",value:V}},function(V){return S[D]={status:"rejected",reason:V}}).then(function(){return--b||h(S)})})})}),Xe.any&&typeof AggregateError<"u"&&O(kt,"any",function(){var u=ht.apply(null,arguments).map(ia);return new kt(function(h,b){u.length===0&&b(new AggregateError([]));var S=u.length,C=new Array(S);u.forEach(function(D,V){return kt.resolve(D).then(function(X){return h(X)},function(X){C[V]=X,--S||b(new AggregateError(C))})})})}),Xe.withResolvers&&(kt.withResolvers=Xe.withResolvers));var ce={awaits:0,echoes:0,id:0},nr=0,un=[],Ln=0,lr=0,rr=0;function Pe(u,h,b,S){var C=Dt,D=Object.create(C);return D.parent=C,D.ref=0,D.global=!1,D.id=++rr,Vt.env,D.env=nn?{Promise:kt,PromiseProp:{value:kt,configurable:!0,writable:!0},all:kt.all,race:kt.race,allSettled:kt.allSettled,any:kt.any,resolve:kt.resolve,reject:kt.reject}:{},h&&m(D,h),++C.ref,D.finalize=function(){--this.parent.ref||this.parent.finalize()},S=ur(D,u,b,S),D.ref===0&&D.finalize(),S}function gn(){return ce.id||(ce.id=++nr),++ce.awaits,ce.echoes+=Ye,ce.id}function Xn(){return!!ce.awaits&&(--ce.awaits==0&&(ce.id=0),ce.echoes=ce.awaits*Ye,!0)}function ia(u){return ce.echoes&&u&&u.constructor===Xe?(gn(),u.then(function(h){return Xn(),h},function(h){return Xn(),Ke(h)})):u}function Zo(){var u=un[un.length-1];un.pop(),Ur(u,!1)}function Ur(u,h){var b,S=Dt;(h?!ce.echoes||Ln++&&u===Dt:!Ln||--Ln&&u===Dt)||queueMicrotask(h?(function(C){++lr,ce.echoes&&--ce.echoes!=0||(ce.echoes=ce.awaits=ce.id=0),un.push(Dt),Ur(C,!0)}).bind(null,u):Zo),u!==Dt&&(Dt=u,S===Vt&&(Vt.env=co()),nn&&(b=Vt.env.Promise,h=u.env,(S.global||u.global)&&(Object.defineProperty(c,"Promise",h.PromiseProp),b.all=h.all,b.race=h.race,b.resolve=h.resolve,b.reject=h.reject,h.allSettled&&(b.allSettled=h.allSettled),h.any&&(b.any=h.any))))}function co(){var u=c.Promise;return nn?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function ur(u,h,b,S,C){var D=Dt;try{return Ur(u,!0),h(b,S,C)}finally{Ur(D,!1)}}function Si(u,h,b,S){return typeof u!="function"?u:function(){var C=Dt;b&&gn(),Ur(h,!0);try{return u.apply(this,arguments)}finally{Ur(C,!1),S&&queueMicrotask(Xn)}}}function qr(u){Promise===Xe&&ce.echoes===0?Ln===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+fr).indexOf("[native code]")===-1&&(gn=Xn=Ht);var Ke=kt.reject,ar="",Kn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mn="String expected.",oa=[],Ua="__dbnames",Nr="readonly",Vr="readwrite";function sa(u,h){return u?h?function(){return u.apply(this,arguments)&&h.apply(this,arguments)}:u:h}var Ei={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qa(u){return typeof u!="string"||/\./.test(u)?function(h){return h}:function(h){return h[u]===void 0&&u in h&&delete(h=lt(h))[u],h}}function Qo(){throw St.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ge(u,h){try{var b=Va(u),S=Va(h);if(b!==S)return b==="Array"?1:S==="Array"?-1:b==="binary"?1:S==="binary"?-1:b==="string"?1:S==="string"?-1:b==="Date"?1:S!=="Date"?NaN:-1;switch(b){case"number":case"Date":case"string":return h<u?1:u<h?-1:0;case"binary":return(function(C,D){for(var V=C.length,X=D.length,W=V<X?V:X,nt=0;nt<W;++nt)if(C[nt]!==D[nt])return C[nt]<D[nt]?-1:1;return V===X?0:V<X?-1:1})(pr(u),pr(h));case"Array":return(function(C,D){for(var V=C.length,X=D.length,W=V<X?V:X,nt=0;nt<W;++nt){var ut=ge(C[nt],D[nt]);if(ut!==0)return ut}return V===X?0:V<X?-1:1})(u,h)}}catch{}return NaN}function Va(u){var h=typeof u;return h!="object"?h:ArrayBuffer.isView(u)?"binary":(u=I(u),u==="ArrayBuffer"?"binary":u)}function pr(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}function Un(u,h,b){var S=u.schema.yProps;return S?(h&&0<b.numFailures&&(h=h.filter(function(C,D){return!b.failures[D]})),Promise.all(S.map(function(C){return C=C.updatesTable,h?u.db.table(C).where("k").anyOf(h).delete():u.db.table(C).clear()})).then(function(){return b})):b}var wa=(Po.prototype.execute=function(u){var h=this["@@propmod"];if(h.add!==void 0){var b=h.add;if(g(b))return l(l([],g(u)?u:[],!0),b).sort();if(typeof b=="number")return(Number(u)||0)+b;if(typeof b=="bigint")try{return BigInt(u)+b}catch{return BigInt(0)+b}throw new TypeError("Invalid term ".concat(b))}if(h.remove!==void 0){var S=h.remove;if(g(S))return g(u)?u.filter(function(C){return!S.includes(C)}).sort():[];if(typeof S=="number")return Number(u)-S;if(typeof S=="bigint")try{return BigInt(u)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return b=(b=h.replacePrefix)===null||b===void 0?void 0:b[0],b&&typeof u=="string"&&u.startsWith(b)?h.replacePrefix[1]+u.substring(b.length):u},Po);function Po(u){this["@@propmod"]=u}function Ya(u,h){for(var b=d(h),S=b.length,C=!1,D=0;D<S;++D){var V=b[D],X=h[V],W=L(u,V);X instanceof wa?(j(u,V,X.execute(W)),C=!0):W!==X&&(j(u,V,X),C=!0)}return C}var fo=(He.prototype._trans=function(u,h,b){var S=this._tx||Dt.trans,C=this.name,D=Ae&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function V(nt,ut,F){if(!F.schema[C])throw new St.NotFound("Table "+C+" not part of transaction");return h(F.idbtrans,F)}var X=Le();try{var W=S&&S.db._novip===this.db._novip?S===Dt.trans?S._promise(u,V,b):Pe(function(){return S._promise(u,V,b)},{trans:S,transless:Dt.transless||Dt}):(function nt(ut,F,ft,rt){if(ut.idbdb&&(ut._state.openComplete||Dt.letThrough||ut._vip)){var it=ut._createTransaction(F,ft,ut._dbSchema);try{it.create(),ut._state.PR1398_maxLoop=3}catch(ot){return ot.name===jt.InvalidState&&ut.isOpen()&&0<--ut._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ut.close({disableAutoOpen:!1}),ut.open().then(function(){return nt(ut,F,ft,rt)})):Ke(ot)}return it._promise(F,function(ot,ct){return Pe(function(){return Dt.trans=it,rt(ot,ct,it)})}).then(function(ot){if(F==="readwrite")try{it.idbtrans.commit()}catch{}return F==="readonly"?ot:it._completion.then(function(){return ot})})}if(ut._state.openComplete)return Ke(new St.DatabaseClosed(ut._state.dbOpenError));if(!ut._state.isBeingOpened){if(!ut._state.autoOpen)return Ke(new St.DatabaseClosed);ut.open().catch(Ht)}return ut._state.dbReadyPromise.then(function(){return nt(ut,F,ft,rt)})})(this.db,u,[this.name],V);return D&&(W._consoleTask=D,W=W.catch(function(nt){return console.trace(nt),Ke(nt)})),W}finally{X&&fe()}},He.prototype.get=function(u,h){var b=this;return u&&u.constructor===Object?this.where(u).first(h):u==null?Ke(new St.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return b.core.get({trans:S,key:u}).then(function(C){return b.hook.reading.fire(C)})}).then(h)},He.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(g(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var h=d(u);if(h.length===1)return this.where(h[0]).equals(u[h[0]]);var b=this.schema.indexes.concat(this.schema.primKey).filter(function(X){if(X.compound&&h.every(function(nt){return 0<=X.keyPath.indexOf(nt)})){for(var W=0;W<h.length;++W)if(h.indexOf(X.keyPath[W])===-1)return!1;return!0}return!1}).sort(function(X,W){return X.keyPath.length-W.keyPath.length})[0];if(b&&this.db._maxKey!==ar){var D=b.keyPath.slice(0,h.length);return this.where(D).equals(D.map(function(W){return u[W]}))}!b&&Ae&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var S=this.schema.idxByName;function C(X,W){return ge(X,W)===0}var V=h.reduce(function(F,W){var nt=F[0],ut=F[1],F=S[W],ft=u[W];return[nt||F,nt||!F?sa(ut,F&&F.multi?function(rt){return rt=L(rt,W),g(rt)&&rt.some(function(it){return C(ft,it)})}:function(rt){return C(ft,L(rt,W))}):ut]},[null,null]),D=V[0],V=V[1];return D?this.where(D.name).equals(u[D.keyPath]).filter(V):b?this.filter(V):this.where(h).equals("")},He.prototype.filter=function(u){return this.toCollection().and(u)},He.prototype.count=function(u){return this.toCollection().count(u)},He.prototype.offset=function(u){return this.toCollection().offset(u)},He.prototype.limit=function(u){return this.toCollection().limit(u)},He.prototype.each=function(u){return this.toCollection().each(u)},He.prototype.toArray=function(u){return this.toCollection().toArray(u)},He.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},He.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,g(u)?"[".concat(u.join("+"),"]"):u))},He.prototype.reverse=function(){return this.toCollection().reverse()},He.prototype.mapToClass=function(u){var h,b=this.db,S=this.name;function C(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof Qo&&((function(W,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Class extends value "+String(nt)+" is not a constructor or null");function ut(){this.constructor=W}i(W,nt),W.prototype=nt===null?Object.create(nt):(ut.prototype=nt.prototype,new ut)})(C,h=u),Object.defineProperty(C.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),C.prototype.table=function(){return S},u=C);for(var D=new Set,V=u.prototype;V;V=y(V))Object.getOwnPropertyNames(V).forEach(function(W){return D.add(W)});function X(W){if(!W)return W;var nt,ut=Object.create(u.prototype);for(nt in W)if(!D.has(nt))try{ut[nt]=W[nt]}catch{}return ut}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=X,this.hook("reading",X),u},He.prototype.defineClass=function(){return this.mapToClass(function(u){m(this,u)})},He.prototype.add=function(u,h){var b=this,S=this.schema.primKey,C=S.auto,D=S.keyPath,V=u;return D&&C&&(V=qa(D)(u)),this._trans("readwrite",function(X){return b.core.mutate({trans:X,type:"add",keys:h!=null?[h]:null,values:[V]})}).then(function(X){return X.numFailures?kt.reject(X.failures[0]):X.lastResult}).then(function(X){if(D)try{j(u,D,X)}catch{}return X})},He.prototype.upsert=function(u,h){var b=this,S=this.schema.primKey.keyPath;return this._trans("readwrite",function(C){return b.core.get({trans:C,key:u}).then(function(D){var V=D??{};return Ya(V,h),S&&j(V,S,u),b.core.mutate({trans:C,type:"put",values:[V],keys:[u],upsert:!0,updates:{keys:[u],changeSpecs:[h]}}).then(function(X){return X.numFailures?kt.reject(X.failures[0]):!!D})})})},He.prototype.update=function(u,h){return typeof u!="object"||g(u)?this.where(":id").equals(u).modify(h):(u=L(u,this.schema.primKey.keyPath),u===void 0?Ke(new St.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(h))},He.prototype.put=function(u,h){var b=this,S=this.schema.primKey,C=S.auto,D=S.keyPath,V=u;return D&&C&&(V=qa(D)(u)),this._trans("readwrite",function(X){return b.core.mutate({trans:X,type:"put",values:[V],keys:h!=null?[h]:null})}).then(function(X){return X.numFailures?kt.reject(X.failures[0]):X.lastResult}).then(function(X){if(D)try{j(u,D,X)}catch{}return X})},He.prototype.delete=function(u){var h=this;return this._trans("readwrite",function(b){return h.core.mutate({trans:b,type:"delete",keys:[u]}).then(function(S){return Un(h,[u],S)}).then(function(S){return S.numFailures?kt.reject(S.failures[0]):void 0})})},He.prototype.clear=function(){var u=this;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"deleteRange",range:Ei}).then(function(b){return Un(u,null,b)})}).then(function(h){return h.numFailures?kt.reject(h.failures[0]):void 0})},He.prototype.bulkGet=function(u){var h=this;return this._trans("readonly",function(b){return h.core.getMany({keys:u,trans:b}).then(function(S){return S.map(function(C){return h.hook.reading.fire(C)})})})},He.prototype.bulkAdd=function(u,h,b){var S=this,C=Array.isArray(h)?h:void 0,D=(b=b||(C?void 0:h))?b.allKeys:void 0;return this._trans("readwrite",function(V){var nt=S.schema.primKey,X=nt.auto,nt=nt.keyPath;if(nt&&C)throw new St.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==u.length)throw new St.InvalidArgument("Arguments objects and keys must have the same length");var W=u.length,nt=nt&&X?u.map(qa(nt)):u;return S.core.mutate({trans:V,type:"add",keys:C,values:nt,wantResults:D}).then(function(it){var F=it.numFailures,ft=it.results,rt=it.lastResult,it=it.failures;if(F===0)return D?ft:rt;throw new Ot("".concat(S.name,".bulkAdd(): ").concat(F," of ").concat(W," operations failed"),it)})})},He.prototype.bulkPut=function(u,h,b){var S=this,C=Array.isArray(h)?h:void 0,D=(b=b||(C?void 0:h))?b.allKeys:void 0;return this._trans("readwrite",function(V){var nt=S.schema.primKey,X=nt.auto,nt=nt.keyPath;if(nt&&C)throw new St.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==u.length)throw new St.InvalidArgument("Arguments objects and keys must have the same length");var W=u.length,nt=nt&&X?u.map(qa(nt)):u;return S.core.mutate({trans:V,type:"put",keys:C,values:nt,wantResults:D}).then(function(it){var F=it.numFailures,ft=it.results,rt=it.lastResult,it=it.failures;if(F===0)return D?ft:rt;throw new Ot("".concat(S.name,".bulkPut(): ").concat(F," of ").concat(W," operations failed"),it)})})},He.prototype.bulkUpdate=function(u){var h=this,b=this.core,S=u.map(function(V){return V.key}),C=u.map(function(V){return V.changes}),D=[];return this._trans("readwrite",function(V){return b.getMany({trans:V,keys:S,cache:"clone"}).then(function(X){var W=[],nt=[];u.forEach(function(F,ft){var rt=F.key,it=F.changes,ot=X[ft];if(ot){for(var ct=0,mt=Object.keys(it);ct<mt.length;ct++){var xt=mt[ct],Nt=it[xt];if(xt===h.schema.primKey.keyPath){if(ge(Nt,rt)!==0)throw new St.Constraint("Cannot update primary key in bulkUpdate()")}else j(ot,xt,Nt)}D.push(ft),W.push(rt),nt.push(ot)}});var ut=W.length;return b.mutate({trans:V,type:"put",keys:W,values:nt,updates:{keys:S,changeSpecs:C}}).then(function(F){var ft=F.numFailures,rt=F.failures;if(ft===0)return ut;for(var it=0,ot=Object.keys(rt);it<ot.length;it++){var ct,mt=ot[it],xt=D[Number(mt)];xt!=null&&(ct=rt[mt],delete rt[mt],rt[xt]=ct)}throw new Ot("".concat(h.name,".bulkUpdate(): ").concat(ft," of ").concat(ut," operations failed"),rt)})})})},He.prototype.bulkDelete=function(u){var h=this,b=u.length;return this._trans("readwrite",function(S){return h.core.mutate({trans:S,type:"delete",keys:u}).then(function(C){return Un(h,u,C)})}).then(function(V){var C=V.numFailures,D=V.lastResult,V=V.failures;if(C===0)return D;throw new Ot("".concat(h.name,".bulkDelete(): ").concat(C," of ").concat(b," operations failed"),V)})},He);function He(){}function $a(u){function h(V,X){if(X){for(var W=arguments.length,nt=new Array(W-1);--W;)nt[W-1]=arguments[W];return b[V].subscribe.apply(null,nt),u}if(typeof V=="string")return b[V]}var b={};h.addEventType=D;for(var S=1,C=arguments.length;S<C;++S)D(arguments[S]);return h;function D(V,X,W){if(typeof V!="object"){var nt;X=X||Ge;var ut={subscribers:[],fire:W=W||Ht,subscribe:function(F){ut.subscribers.indexOf(F)===-1&&(ut.subscribers.push(F),ut.fire=X(ut.fire,F))},unsubscribe:function(F){ut.subscribers=ut.subscribers.filter(function(ft){return ft!==F}),ut.fire=ut.subscribers.reduce(X,W)}};return b[V]=h[V]=ut}d(nt=V).forEach(function(F){var ft=nt[F];if(g(ft))D(F,nt[F][0],nt[F][1]);else{if(ft!=="asap")throw new St.InvalidArgument("Invalid event config");var rt=D(F,Ft,function(){for(var it=arguments.length,ot=new Array(it);it--;)ot[it]=arguments[it];rt.subscribers.forEach(function(ct){$(function(){ct.apply(null,ot)})})})}})}}function xn(u,h){return N(h).from({prototype:u}),h}function Yr(u,h){return!(u.filter||u.algorithm||u.or)&&(h?u.justLimit:!u.replayFilter)}function _i(u,h){u.filter=sa(u.filter,h)}function Sa(u,h,b){var S=u.replayFilter;u.replayFilter=S?function(){return sa(S(),h())}:h,u.justLimit=b&&!S}function la(u,h){if(u.isPrimKey)return h.primaryKey;var b=h.getIndexByKeyPath(u.index);if(!b)throw new St.Schema("KeyPath "+u.index+" on object store "+h.name+" is not indexed");return b}function il(u,h,b){var S=la(u,h.schema);return h.openCursor({trans:b,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:S,range:u.range}})}function ho(u,h,b,S){var C=u.replayFilter?sa(u.filter,u.replayFilter()):u.filter;if(u.or){var D={},V=function(X,W,nt){var ut,F;C&&!C(W,nt,function(ft){return W.stop(ft)},function(ft){return W.fail(ft)})||((F=""+(ut=W.primaryKey))=="[object ArrayBuffer]"&&(F=""+new Uint8Array(ut)),v(D,F)||(D[F]=!0,h(X,W,nt)))};return Promise.all([u.or._iterate(V,b),Xa(il(u,S,b),u.algorithm,V,!u.keysOnly&&u.valueMapper)])}return Xa(il(u,S,b),sa(u.algorithm,C),h,!u.keysOnly&&u.valueMapper)}function Xa(u,h,b,S){var C=ae(S?function(D,V,X){return b(S(D),V,X)}:b);return u.then(function(D){if(D)return D.start(function(){var V=function(){return D.continue()};h&&!h(D,function(X){return V=X},function(X){D.stop(X),V=Ht},function(X){D.fail(X),V=Ht})||C(D.value,D,function(X){return V=X}),V()})})}var vd=(Re.prototype._read=function(u,h){var b=this._ctx;return b.error?b.table._trans(null,Ke.bind(null,b.error)):b.table._trans("readonly",u).then(h)},Re.prototype._write=function(u){var h=this._ctx;return h.error?h.table._trans(null,Ke.bind(null,h.error)):h.table._trans("readwrite",u,"locked")},Re.prototype._addAlgorithm=function(u){var h=this._ctx;h.algorithm=sa(h.algorithm,u)},Re.prototype._iterate=function(u,h){return ho(this._ctx,u,h,this._ctx.table.core)},Re.prototype.clone=function(u){var h=Object.create(this.constructor.prototype),b=Object.create(this._ctx);return u&&m(b,u),h._ctx=b,h},Re.prototype.raw=function(){return this._ctx.valueMapper=null,this},Re.prototype.each=function(u){var h=this._ctx;return this._read(function(b){return ho(h,u,b,h.table.core)})},Re.prototype.count=function(u){var h=this;return this._read(function(b){var S=h._ctx,C=S.table.core;if(Yr(S,!0))return C.count({trans:b,query:{index:la(S,C.schema),range:S.range}}).then(function(V){return Math.min(V,S.limit)});var D=0;return ho(S,function(){return++D,!1},b,C).then(function(){return D})}).then(u)},Re.prototype.sortBy=function(u,h){var b=u.split(".").reverse(),S=b[0],C=b.length-1;function D(W,nt){return nt?D(W[b[nt]],nt-1):W[S]}var V=this._ctx.dir==="next"?1:-1;function X(W,nt){return ge(D(W,C),D(nt,C))*V}return this.toArray(function(W){return W.sort(X)}).then(h)},Re.prototype.toArray=function(u){var h=this;return this._read(function(b){var S=h._ctx;if(S.dir==="next"&&Yr(S,!0)&&0<S.limit){var C=S.valueMapper,D=la(S,S.table.core.schema);return S.table.core.query({trans:b,limit:S.limit,values:!0,query:{index:D,range:S.range}}).then(function(X){return X=X.result,C?X.map(C):X})}var V=[];return ho(S,function(X){return V.push(X)},b,S.table.core).then(function(){return V})},u)},Re.prototype.offset=function(u){var h=this._ctx;return u<=0||(h.offset+=u,Yr(h)?Sa(h,function(){var b=u;return function(S,C){return b===0||(b===1?--b:C(function(){S.advance(b),b=0}),!1)}}):Sa(h,function(){var b=u;return function(){return--b<0}})),this},Re.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),Sa(this._ctx,function(){var h=u;return function(b,S,C){return--h<=0&&S(C),0<=h}},!0),this},Re.prototype.until=function(u,h){return _i(this._ctx,function(b,S,C){return!u(b.value)||(S(C),h)}),this},Re.prototype.first=function(u){return this.limit(1).toArray(function(h){return h[0]}).then(u)},Re.prototype.last=function(u){return this.reverse().first(u)},Re.prototype.filter=function(u){var h;return _i(this._ctx,function(b){return u(b.value)}),(h=this._ctx).isMatch=sa(h.isMatch,u),this},Re.prototype.and=function(u){return this.filter(u)},Re.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},Re.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Re.prototype.desc=function(){return this.reverse()},Re.prototype.eachKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(b,S){u(S.key,S)})},Re.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},Re.prototype.eachPrimaryKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(b,S){u(S.primaryKey,S)})},Re.prototype.keys=function(u){var h=this._ctx;h.keysOnly=!h.isMatch;var b=[];return this.each(function(S,C){b.push(C.key)}).then(function(){return b}).then(u)},Re.prototype.primaryKeys=function(u){var h=this._ctx;if(h.dir==="next"&&Yr(h,!0)&&0<h.limit)return this._read(function(S){var C=la(h,h.table.core.schema);return h.table.core.query({trans:S,values:!1,limit:h.limit,query:{index:C,range:h.range}})}).then(function(S){return S.result}).then(u);h.keysOnly=!h.isMatch;var b=[];return this.each(function(S,C){b.push(C.primaryKey)}).then(function(){return b}).then(u)},Re.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},Re.prototype.firstKey=function(u){return this.limit(1).keys(function(h){return h[0]}).then(u)},Re.prototype.lastKey=function(u){return this.reverse().firstKey(u)},Re.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var h={};return _i(this._ctx,function(C){var S=C.primaryKey.toString(),C=v(h,S);return h[S]=!0,!C}),this},Re.prototype.modify=function(u){var h=this,b=this._ctx;return this._write(function(S){var C=typeof u=="function"?u:function(ot){return Ya(ot,u)},D=b.table.core,nt=D.schema.primaryKey,V=nt.outbound,X=nt.extractKey,W=200,nt=h.db._options.modifyChunkSize;nt&&(W=typeof nt=="object"?nt[D.name]||nt["*"]||200:nt);function ut(ot,xt){var mt=xt.failures,xt=xt.numFailures;ft+=ot-xt;for(var Nt=0,Rt=d(mt);Nt<Rt.length;Nt++){var qt=Rt[Nt];F.push(mt[qt])}}var F=[],ft=0,rt=[],it=u===ol;return h.clone().primaryKeys().then(function(ot){function ct(xt){var Nt=Math.min(W,ot.length-xt),Rt=ot.slice(xt,xt+Nt);return(it?Promise.resolve([]):D.getMany({trans:S,keys:Rt,cache:"immutable"})).then(function(qt){var Xt=[],Lt=[],Yt=V?[]:null,$t=it?Rt:[];if(!it)for(var Ut=0;Ut<Nt;++Ut){var Kt=qt[Ut],ee={value:lt(Kt),primKey:ot[xt+Ut]};C.call(ee,ee.value,ee)!==!1&&(ee.value==null?$t.push(ot[xt+Ut]):V||ge(X(Kt),X(ee.value))===0?(Lt.push(ee.value),V&&Yt.push(ot[xt+Ut])):($t.push(ot[xt+Ut]),Xt.push(ee.value)))}return Promise.resolve(0<Xt.length&&D.mutate({trans:S,type:"add",values:Xt}).then(function(le){for(var me in le.failures)$t.splice(parseInt(me),1);ut(Xt.length,le)})).then(function(){return(0<Lt.length||mt&&typeof u=="object")&&D.mutate({trans:S,type:"put",keys:Yt,values:Lt,criteria:mt,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<xt}).then(function(le){return ut(Lt.length,le)})}).then(function(){return(0<$t.length||mt&&it)&&D.mutate({trans:S,type:"delete",keys:$t,criteria:mt,isAdditionalChunk:0<xt}).then(function(le){return Un(b.table,$t,le)}).then(function(le){return ut($t.length,le)})}).then(function(){return ot.length>xt+Nt&&ct(xt+W)})})}var mt=Yr(b)&&b.limit===1/0&&(typeof u!="function"||it)&&{index:b.index,range:b.range};return ct(0).then(function(){if(0<F.length)throw new Tt("Error modifying one or more objects",F,ft,rt);return ot.length})})})},Re.prototype.delete=function(){var u=this._ctx,h=u.range;return!Yr(u)||u.table.schema.yProps||!u.isPrimKey&&h.type!==3?this.modify(ol):this._write(function(b){var S=u.table.core.schema.primaryKey,C=h;return u.table.core.count({trans:b,query:{index:S,range:C}}).then(function(D){return u.table.core.mutate({trans:b,type:"deleteRange",range:C}).then(function(W){var X=W.failures,W=W.numFailures;if(W)throw new Tt("Could not delete some values",Object.keys(X).map(function(nt){return X[nt]}),D-W);return D-W})})})},Re);function Re(){}var ol=function(u,h){return h.value=null};function sl(u,h){return u<h?-1:u===h?0:1}function bd(u,h){return h<u?-1:u===h?0:1}function cr(u,h,b){return u=u instanceof Ka?new u.Collection(u):u,u._ctx.error=new(b||TypeError)(h),u}function ua(u){return new u.Collection(u,function(){return Fo("")}).limit(0)}function gr(u,h,b,S){var C,D,V,X,W,nt,ut,F=b.length;if(!b.every(function(it){return typeof it=="string"}))return cr(u,mn);function ft(it){C=it==="next"?function(ct){return ct.toUpperCase()}:function(ct){return ct.toLowerCase()},D=it==="next"?function(ct){return ct.toLowerCase()}:function(ct){return ct.toUpperCase()},V=it==="next"?sl:bd;var ot=b.map(function(ct){return{lower:D(ct),upper:C(ct)}}).sort(function(ct,mt){return V(ct.lower,mt.lower)});X=ot.map(function(ct){return ct.upper}),W=ot.map(function(ct){return ct.lower}),ut=(nt=it)==="next"?"":S}ft("next"),u=new u.Collection(u,function(){return $r(X[0],W[F-1]+S)}),u._ondirectionchange=function(it){ft(it)};var rt=0;return u._addAlgorithm(function(it,ot,ct){var mt=it.key;if(typeof mt!="string")return!1;var xt=D(mt);if(h(xt,W,rt))return!0;for(var Nt=null,Rt=rt;Rt<F;++Rt){var qt=(function(Xt,Lt,Yt,$t,Ut,Kt){for(var ee=Math.min(Xt.length,$t.length),le=-1,me=0;me<ee;++me){var Zn=Lt[me];if(Zn!==$t[me])return Ut(Xt[me],Yt[me])<0?Xt.substr(0,me)+Yt[me]+Yt.substr(me+1):Ut(Xt[me],$t[me])<0?Xt.substr(0,me)+$t[me]+Yt.substr(me+1):0<=le?Xt.substr(0,le)+Lt[le]+Yt.substr(le+1):null;Ut(Xt[me],Zn)<0&&(le=me)}return ee<$t.length&&Kt==="next"?Xt+Yt.substr(Xt.length):ee<Xt.length&&Kt==="prev"?Xt.substr(0,Yt.length):le<0?null:Xt.substr(0,le)+$t[le]+Yt.substr(le+1)})(mt,xt,X[Rt],W[Rt],V,nt);qt===null&&Nt===null?rt=Rt+1:(Nt===null||0<V(Nt,qt))&&(Nt=qt)}return ot(Nt!==null?function(){it.continue(Nt+ut)}:ct),!1}),u}function $r(u,h,b,S){return{type:2,lower:u,upper:h,lowerOpen:b,upperOpen:S}}function Fo(u){return{type:1,lower:u,upper:u}}var Ka=(Object.defineProperty(rn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),rn.prototype.between=function(u,h,b,S){b=b!==!1,S=S===!0;try{return 0<this._cmp(u,h)||this._cmp(u,h)===0&&(b||S)&&(!b||!S)?ua(this):new this.Collection(this,function(){return $r(u,h,!b,!S)})}catch{return cr(this,Kn)}},rn.prototype.equals=function(u){return u==null?cr(this,Kn):new this.Collection(this,function(){return Fo(u)})},rn.prototype.above=function(u){return u==null?cr(this,Kn):new this.Collection(this,function(){return $r(u,void 0,!0)})},rn.prototype.aboveOrEqual=function(u){return u==null?cr(this,Kn):new this.Collection(this,function(){return $r(u,void 0,!1)})},rn.prototype.below=function(u){return u==null?cr(this,Kn):new this.Collection(this,function(){return $r(void 0,u,!1,!0)})},rn.prototype.belowOrEqual=function(u){return u==null?cr(this,Kn):new this.Collection(this,function(){return $r(void 0,u)})},rn.prototype.startsWith=function(u){return typeof u!="string"?cr(this,mn):this.between(u,u+ar,!0,!0)},rn.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):gr(this,function(h,b){return h.indexOf(b[0])===0},[u],ar)},rn.prototype.equalsIgnoreCase=function(u){return gr(this,function(h,b){return h===b[0]},[u],"")},rn.prototype.anyOfIgnoreCase=function(){var u=ht.apply(tt,arguments);return u.length===0?ua(this):gr(this,function(h,b){return b.indexOf(h)!==-1},u,"")},rn.prototype.startsWithAnyOfIgnoreCase=function(){var u=ht.apply(tt,arguments);return u.length===0?ua(this):gr(this,function(h,b){return b.some(function(S){return h.indexOf(S)===0})},u,ar)},rn.prototype.anyOf=function(){var u=this,h=ht.apply(tt,arguments),b=this._cmp;try{h.sort(b)}catch{return cr(this,Kn)}if(h.length===0)return ua(this);var S=new this.Collection(this,function(){return $r(h[0],h[h.length-1])});S._ondirectionchange=function(D){b=D==="next"?u._ascending:u._descending,h.sort(b)};var C=0;return S._addAlgorithm(function(D,V,X){for(var W=D.key;0<b(W,h[C]);)if(++C===h.length)return V(X),!1;return b(W,h[C])===0||(V(function(){D.continue(h[C])}),!1)}),S},rn.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},rn.prototype.noneOf=function(){var u=ht.apply(tt,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return cr(this,Kn)}var h=u.reduce(function(b,S){return b?b.concat([[b[b.length-1][1],S]]):[[-1/0,S]]},null);return h.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},rn.prototype.inAnyRange=function(mt,h){var b=this,S=this._cmp,C=this._ascending,D=this._descending,V=this._min,X=this._max;if(mt.length===0)return ua(this);if(!mt.every(function(xt){return xt[0]!==void 0&&xt[1]!==void 0&&C(xt[0],xt[1])<=0}))return cr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",St.InvalidArgument);var W=!h||h.includeLowers!==!1,nt=h&&h.includeUppers===!0,ut,F=C;function ft(xt,Nt){return F(xt[0],Nt[0])}try{(ut=mt.reduce(function(xt,Nt){for(var Rt=0,qt=xt.length;Rt<qt;++Rt){var Xt=xt[Rt];if(S(Nt[0],Xt[1])<0&&0<S(Nt[1],Xt[0])){Xt[0]=V(Xt[0],Nt[0]),Xt[1]=X(Xt[1],Nt[1]);break}}return Rt===qt&&xt.push(Nt),xt},[])).sort(ft)}catch{return cr(this,Kn)}var rt=0,it=nt?function(xt){return 0<C(xt,ut[rt][1])}:function(xt){return 0<=C(xt,ut[rt][1])},ot=W?function(xt){return 0<D(xt,ut[rt][0])}:function(xt){return 0<=D(xt,ut[rt][0])},ct=it,mt=new this.Collection(this,function(){return $r(ut[0][0],ut[ut.length-1][1],!W,!nt)});return mt._ondirectionchange=function(xt){F=xt==="next"?(ct=it,C):(ct=ot,D),ut.sort(ft)},mt._addAlgorithm(function(xt,Nt,Rt){for(var qt,Xt=xt.key;ct(Xt);)if(++rt===ut.length)return Nt(Rt),!1;return!it(qt=Xt)&&!ot(qt)||(b._cmp(Xt,ut[rt][1])===0||b._cmp(Xt,ut[rt][0])===0||Nt(function(){F===C?xt.continue(ut[rt][0]):xt.continue(ut[rt][1])}),!1)}),mt},rn.prototype.startsWithAnyOf=function(){var u=ht.apply(tt,arguments);return u.every(function(h){return typeof h=="string"})?u.length===0?ua(this):this.inAnyRange(u.map(function(h){return[h,h+ar]})):cr(this,"startsWithAnyOf() only works with strings")},rn);function rn(){}function Dr(u){return ae(function(h){return Ga(h),u(h.target.error),!1})}function Ga(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var Ti="storagemutated",Ia="x-storagemutated-1",Gn=$a(null,Ti),ll=(ir.prototype._lock=function(){return _(!Dt.global),++this._reculock,this._reculock!==1||Dt.global||(Dt.lockOwnerFor=this),this},ir.prototype._unlock=function(){if(_(!Dt.global),--this._reculock==0)for(Dt.global||(Dt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{ur(u[1],u[0])}catch{}}return this},ir.prototype._locked=function(){return this._reculock&&Dt.lockOwnerFor!==this},ir.prototype.create=function(u){var h=this;if(!this.mode)return this;var b=this.db.idbdb,S=this.db._state.dbOpenError;if(_(!this.idbtrans),!u&&!b)switch(S&&S.name){case"DatabaseClosedError":throw new St.DatabaseClosed(S);case"MissingAPIError":throw new St.MissingAPI(S.message,S);default:throw new St.OpenFailed(S)}if(!this.active)throw new St.TransactionInactive;return _(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||b).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ae(function(C){Ga(C),h._reject(u.error)}),u.onabort=ae(function(C){Ga(C),h.active&&h._reject(new St.Abort(u.error)),h.active=!1,h.on("abort").fire(C)}),u.oncomplete=ae(function(){h.active=!1,h._resolve(),"mutatedParts"in u&&Gn.storagemutated.fire(u.mutatedParts)}),this},ir.prototype._promise=function(u,h,b){var S=this;if(u==="readwrite"&&this.mode!=="readwrite")return Ke(new St.ReadOnly("Transaction is readonly"));if(!this.active)return Ke(new St.TransactionInactive);if(this._locked())return new kt(function(D,V){S._blockedFuncs.push([function(){S._promise(u,h,b).then(D,V)},Dt])});if(b)return Pe(function(){var D=new kt(function(V,X){S._lock();var W=h(V,X,S);W&&W.then&&W.then(V,X)});return D.finally(function(){return S._unlock()}),D._lib=!0,D});var C=new kt(function(D,V){var X=h(D,V,S);X&&X.then&&X.then(D,V)});return C._lib=!0,C},ir.prototype._root=function(){return this.parent?this.parent._root():this},ir.prototype.waitFor=function(u){var h,b=this._root(),S=kt.resolve(u);b._waitingFor?b._waitingFor=b._waitingFor.then(function(){return S}):(b._waitingFor=S,b._waitingQueue=[],h=b.idbtrans.objectStore(b.storeNames[0]),(function D(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(h.get(-1/0).onsuccess=D)})());var C=b._waitingFor;return new kt(function(D,V){S.then(function(X){return b._waitingQueue.push(ae(D.bind(null,X)))},function(X){return b._waitingQueue.push(ae(V.bind(null,X)))}).finally(function(){b._waitingFor===C&&(b._waitingFor=null)})})},ir.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new St.Abort))},ir.prototype.table=function(u){var h=this._memoizedTables||(this._memoizedTables={});if(v(h,u))return h[u];var b=this.schema[u];if(!b)throw new St.NotFound("Table "+u+" not part of transaction");return b=new this.db.Table(u,b,this),b.core=this.db.core.table(u),h[u]=b},ir);function ir(){}function Xr(u,h,b,S,C,D,V,X){return{name:u,keyPath:h,unique:b,multi:S,auto:C,compound:D,src:(b&&!V?"&":"")+(S?"*":"")+(C?"++":"")+Jo(h),type:X}}function Jo(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Ci(u,h,b){return{name:u,primKey:h,indexes:b,mappedClass:null,idxByName:(S=function(C){return[C.name,C]},b.reduce(function(C,D,V){return V=S(D,V),V&&(C[V[0]]=V[1]),C},{}))};var S}var Ni=function(u){try{return u.only([[]]),Ni=function(){return[[]]},[[]]}catch{return Ni=function(){return ar},ar}};function Di(u){return u==null?function(){}:typeof u=="string"?(h=u).split(".").length===1?function(b){return b[h]}:function(b){return L(b,h)}:function(b){return L(b,u)};var h}function po(u){return[].slice.call(u)}var Zu=0;function Dn(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Za(u,h,W){function S(ct){if(ct.type===3)return null;if(ct.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var rt=ct.lower,it=ct.upper,ot=ct.lowerOpen,ct=ct.upperOpen;return rt===void 0?it===void 0?null:h.upperBound(it,!!ct):it===void 0?h.lowerBound(rt,!!ot):h.bound(rt,it,!!ot,!!ct)}function C(ft){var rt,it=ft.name;return{name:it,schema:ft,mutate:function(ot){var ct=ot.trans,mt=ot.type,xt=ot.keys,Nt=ot.values,Rt=ot.range;return new Promise(function(qt,Xt){qt=ae(qt);var Lt=ct.objectStore(it),Yt=Lt.keyPath==null,$t=mt==="put"||mt==="add";if(!$t&&mt!=="delete"&&mt!=="deleteRange")throw new Error("Invalid operation type: "+mt);var Ut,Kt=(xt||Nt||{length:1}).length;if(xt&&Nt&&xt.length!==Nt.length)throw new Error("Given keys array must have same length as given values array.");if(Kt===0)return qt({numFailures:0,failures:{},results:[],lastResult:void 0});function ee(On){++Zn,Ga(On)}var le=[],me=[],Zn=0;if(mt==="deleteRange"){if(Rt.type===4)return qt({numFailures:Zn,failures:me,results:[],lastResult:void 0});Rt.type===3?le.push(Ut=Lt.clear()):le.push(Ut=Lt.delete(S(Rt)))}else{var Yt=$t?Yt?[Nt,xt]:[Nt,null]:[xt,null],se=Yt[0],An=Yt[1];if($t)for(var cn=0;cn<Kt;++cn)le.push(Ut=An&&An[cn]!==void 0?Lt[mt](se[cn],An[cn]):Lt[mt](se[cn])),Ut.onerror=ee;else for(cn=0;cn<Kt;++cn)le.push(Ut=Lt[mt](se[cn])),Ut.onerror=ee}function wo(On){On=On.target.result,le.forEach(function(mr,Sl){return mr.error!=null&&(me[Sl]=mr.error)}),qt({numFailures:Zn,failures:me,results:mt==="delete"?xt:le.map(function(mr){return mr.result}),lastResult:On})}Ut.onerror=function(On){ee(On),wo(On)},Ut.onsuccess=wo})},getMany:function(ot){var ct=ot.trans,mt=ot.keys;return new Promise(function(xt,Nt){xt=ae(xt);for(var Rt,qt=ct.objectStore(it),Xt=mt.length,Lt=new Array(Xt),Yt=0,$t=0,Ut=function(le){le=le.target,Lt[le._pos]=le.result,++$t===Yt&&xt(Lt)},Kt=Dr(Nt),ee=0;ee<Xt;++ee)mt[ee]!=null&&((Rt=qt.get(mt[ee]))._pos=ee,Rt.onsuccess=Ut,Rt.onerror=Kt,++Yt);Yt===0&&xt(Lt)})},get:function(ot){var ct=ot.trans,mt=ot.key;return new Promise(function(xt,Nt){xt=ae(xt);var Rt=ct.objectStore(it).get(mt);Rt.onsuccess=function(qt){return xt(qt.target.result)},Rt.onerror=Dr(Nt)})},query:(rt=nt,function(ot){return new Promise(function(ct,mt){ct=ae(ct);var xt,Nt,Rt,Yt=ot.trans,qt=ot.values,Xt=ot.limit,Ut=ot.query,Lt=Xt===1/0?void 0:Xt,$t=Ut.index,Ut=Ut.range,Yt=Yt.objectStore(it),$t=$t.isPrimaryKey?Yt:Yt.index($t.name),Ut=S(Ut);if(Xt===0)return ct({result:[]});rt?((Lt=qt?$t.getAll(Ut,Lt):$t.getAllKeys(Ut,Lt)).onsuccess=function(Kt){return ct({result:Kt.target.result})},Lt.onerror=Dr(mt)):(xt=0,Nt=!qt&&"openKeyCursor"in $t?$t.openKeyCursor(Ut):$t.openCursor(Ut),Rt=[],Nt.onsuccess=function(Kt){var ee=Nt.result;return ee?(Rt.push(qt?ee.value:ee.primaryKey),++xt===Xt?ct({result:Rt}):void ee.continue()):ct({result:Rt})},Nt.onerror=Dr(mt))})}),openCursor:function(ot){var ct=ot.trans,mt=ot.values,xt=ot.query,Nt=ot.reverse,Rt=ot.unique;return new Promise(function(qt,Xt){qt=ae(qt);var $t=xt.index,Lt=xt.range,Yt=ct.objectStore(it),Yt=$t.isPrimaryKey?Yt:Yt.index($t.name),$t=Nt?Rt?"prevunique":"prev":Rt?"nextunique":"next",Ut=!mt&&"openKeyCursor"in Yt?Yt.openKeyCursor(S(Lt),$t):Yt.openCursor(S(Lt),$t);Ut.onerror=Dr(Xt),Ut.onsuccess=ae(function(Kt){var ee,le,me,Zn,se=Ut.result;se?(se.___id=++Zu,se.done=!1,ee=se.continue.bind(se),le=(le=se.continuePrimaryKey)&&le.bind(se),me=se.advance.bind(se),Zn=function(){throw new Error("Cursor not stopped")},se.trans=ct,se.stop=se.continue=se.continuePrimaryKey=se.advance=function(){throw new Error("Cursor not started")},se.fail=ae(Xt),se.next=function(){var An=this,cn=1;return this.start(function(){return cn--?An.continue():An.stop()}).then(function(){return An})},se.start=function(An){function cn(){if(Ut.result)try{An()}catch(On){se.fail(On)}else se.done=!0,se.start=function(){throw new Error("Cursor behind last entry")},se.stop()}var wo=new Promise(function(On,mr){On=ae(On),Ut.onerror=Dr(mr),se.fail=mr,se.stop=function(Sl){se.stop=se.continue=se.continuePrimaryKey=se.advance=Zn,On(Sl)}});return Ut.onsuccess=ae(function(On){Ut.onsuccess=cn,cn()}),se.continue=ee,se.continuePrimaryKey=le,se.advance=me,cn(),wo},qt(se)):qt(null)},Xt)})},count:function(ot){var ct=ot.query,mt=ot.trans,xt=ct.index,Nt=ct.range;return new Promise(function(Rt,qt){var Xt=mt.objectStore(it),Lt=xt.isPrimaryKey?Xt:Xt.index(xt.name),Xt=S(Nt),Lt=Xt?Lt.count(Xt):Lt.count();Lt.onsuccess=ae(function(Yt){return Rt(Yt.target.result)}),Lt.onerror=Dr(qt)})}}}var D,V,X,ut=(V=W,X=po((D=u).objectStoreNames),{schema:{name:D.name,tables:X.map(function(ft){return V.objectStore(ft)}).map(function(ft){var rt=ft.keyPath,ct=ft.autoIncrement,it=g(rt),ot={},ct={name:ft.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:rt==null,compound:it,keyPath:rt,autoIncrement:ct,unique:!0,extractKey:Di(rt)},indexes:po(ft.indexNames).map(function(mt){return ft.index(mt)}).map(function(Rt){var xt=Rt.name,Nt=Rt.unique,qt=Rt.multiEntry,Rt=Rt.keyPath,qt={name:xt,compound:g(Rt),keyPath:Rt,unique:Nt,multiEntry:qt,extractKey:Di(Rt)};return ot[Dn(Rt)]=qt}),getIndexByKeyPath:function(mt){return ot[Dn(mt)]}};return ot[":id"]=ct.primaryKey,rt!=null&&(ot[Dn(rt)]=ct.primaryKey),ct})},hasGetAll:0<X.length&&"getAll"in V.objectStore(X[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),W=ut.schema,nt=ut.hasGetAll,ut=W.tables.map(C),F={};return ut.forEach(function(ft){return F[ft.name]=ft}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(ft){if(!F[ft])throw new Error("Table '".concat(ft,"' not found"));return F[ft]},MIN_KEY:-1/0,MAX_KEY:Ni(h),schema:W}}function Wo(u,h,b,S){var C=b.IDBKeyRange;return b.indexedDB,{dbcore:(S=Za(h,C,S),u.dbcore.reduce(function(D,V){return V=V.create,o(o({},D),V(D))},S))}}function Ea(u,S){var b=S.db,S=Wo(u._middlewares,b,u._deps,S);u.core=S.dbcore,u.tables.forEach(function(C){var D=C.name;u.core.schema.tables.some(function(V){return V.name===D})&&(C.core=u.core.table(D),u[D]instanceof u.Table&&(u[D].core=C.core))})}function ts(u,h,b,S){b.forEach(function(C){var D=S[C];h.forEach(function(V){var X=(function W(nt,ut){return B(nt,ut)||(nt=y(nt))&&W(nt,ut)})(V,C);(!X||"value"in X&&X.value===void 0)&&(V===u.Transaction.prototype||V instanceof u.Transaction?O(V,C,{get:function(){return this.table(C)},set:function(W){T(this,C,{value:W,writable:!0,configurable:!0,enumerable:!0})}}):V[C]=new u.Table(C,D))})})}function go(u,h){h.forEach(function(b){for(var S in b)b[S]instanceof u.Table&&delete b[S]})}function ul(u,h){return u._cfg.version-h._cfg.version}function mo(u,h,b,S){var C=u._dbSchema;b.objectStoreNames.contains("$meta")&&!C.$meta&&(C.$meta=Ci("$meta",Pu("")[0],[]),u._storeNames.push("$meta"));var D=u._createTransaction("readwrite",u._storeNames,C);D.create(b),D._completion.catch(S);var V=D._reject.bind(D),X=Dt.transless||Dt;Pe(function(){return Dt.trans=D,Dt.transless=X,h!==0?(Ea(u,b),nt=h,((W=D).storeNames.includes("$meta")?W.table("$meta").get("version").then(function(ut){return ut??nt}):kt.resolve(nt)).then(function(ut){return ft=ut,rt=D,it=b,ot=[],ut=(F=u)._versions,ct=F._dbSchema=Ai(0,F.idbdb,it),(ut=ut.filter(function(mt){return mt._cfg.version>=ft})).length!==0?(ut.forEach(function(mt){ot.push(function(){var xt=ct,Nt=mt._cfg.dbschema;as(F,xt,it),as(F,Nt,it),ct=F._dbSchema=Nt;var Rt=ns(xt,Nt);Rt.add.forEach(function($t){cl(it,$t[0],$t[1].primKey,$t[1].indexes)}),Rt.change.forEach(function($t){if($t.recreate)throw new St.Upgrade("Not yet support for changing primary key");var Ut=it.objectStore($t.name);$t.add.forEach(function(Kt){return rs(Ut,Kt)}),$t.change.forEach(function(Kt){Ut.deleteIndex(Kt.name),rs(Ut,Kt)}),$t.del.forEach(function(Kt){return Ut.deleteIndex(Kt)})});var qt=mt._cfg.contentUpgrade;if(qt&&mt._cfg.version>ft){Ea(F,it),rt._memoizedTables={};var Xt=G(Nt);Rt.del.forEach(function($t){Xt[$t]=xt[$t]}),go(F,[F.Transaction.prototype]),ts(F,[F.Transaction.prototype],d(Xt),Xt),rt.schema=Xt;var Lt,Yt=k(qt);return Yt&&gn(),Rt=kt.follow(function(){var $t;(Lt=qt(rt))&&Yt&&($t=Xn.bind(null,null),Lt.then($t,$t))}),Lt&&typeof Lt.then=="function"?kt.resolve(Lt):Rt.then(function(){return Lt})}}),ot.push(function(xt){var Nt,Rt,qt=mt._cfg.dbschema;Nt=qt,Rt=xt,[].slice.call(Rt.db.objectStoreNames).forEach(function(Xt){return Nt[Xt]==null&&Rt.db.deleteObjectStore(Xt)}),go(F,[F.Transaction.prototype]),ts(F,[F.Transaction.prototype],F._storeNames,F._dbSchema),rt.schema=F._dbSchema}),ot.push(function(xt){F.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(F.idbdb.version/10)===mt._cfg.version?(F.idbdb.deleteObjectStore("$meta"),delete F._dbSchema.$meta,F._storeNames=F._storeNames.filter(function(Nt){return Nt!=="$meta"})):xt.objectStore("$meta").put(mt._cfg.version,"version"))})}),(function mt(){return ot.length?kt.resolve(ot.shift()(rt.idbtrans)).then(mt):kt.resolve()})().then(function(){Qu(ct,it)})):kt.resolve();var F,ft,rt,it,ot,ct}).catch(V)):(d(C).forEach(function(ut){cl(b,ut,C[ut].primKey,C[ut].indexes)}),Ea(u,b),void kt.follow(function(){return u.on.populate.fire(D)}).catch(V));var W,nt})}function es(u,h){Qu(u._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var b=Ai(0,u.idbdb,h);as(u,u._dbSchema,h);for(var S=0,C=ns(b,u._dbSchema).change;S<C.length;S++){var D=(function(V){if(V.change.length||V.recreate)return console.warn("Unable to patch indexes of table ".concat(V.name," because it has changes on the type of index or primary key.")),{value:void 0};var X=h.objectStore(V.name);V.add.forEach(function(W){Ae&&console.debug("Dexie upgrade patch: Creating missing index ".concat(V.name,".").concat(W.src)),rs(X,W)})})(C[S]);if(typeof D=="object")return D.value}}function ns(u,h){var b,S={del:[],add:[],change:[]};for(b in u)h[b]||S.del.push(b);for(b in h){var C=u[b],D=h[b];if(C){var V={name:b,def:D,recreate:!1,del:[],add:[],change:[]};if(""+(C.primKey.keyPath||"")!=""+(D.primKey.keyPath||"")||C.primKey.auto!==D.primKey.auto)V.recreate=!0,S.change.push(V);else{var X=C.idxByName,W=D.idxByName,nt=void 0;for(nt in X)W[nt]||V.del.push(nt);for(nt in W){var ut=X[nt],F=W[nt];ut?ut.src!==F.src&&V.change.push(F):V.add.push(F)}(0<V.del.length||0<V.add.length||0<V.change.length)&&S.change.push(V)}}else S.add.push([b,D])}return S}function cl(u,h,b,S){var C=u.db.createObjectStore(h,b.keyPath?{keyPath:b.keyPath,autoIncrement:b.auto}:{autoIncrement:b.auto});return S.forEach(function(D){return rs(C,D)}),C}function Qu(u,h){d(u).forEach(function(b){h.db.objectStoreNames.contains(b)||(Ae&&console.debug("Dexie: Creating missing table",b),cl(h,b,u[b].primKey,u[b].indexes))})}function rs(u,h){u.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Ai(u,h,b){var S={};return K(h.objectStoreNames,0).forEach(function(C){for(var D=b.objectStore(C),V=Xr(Jo(nt=D.keyPath),nt||"",!0,!1,!!D.autoIncrement,nt&&typeof nt!="string",!0),X=[],W=0;W<D.indexNames.length;++W){var ut=D.index(D.indexNames[W]),nt=ut.keyPath,ut=Xr(ut.name,nt,!!ut.unique,!!ut.multiEntry,!1,nt&&typeof nt!="string",!1);X.push(ut)}S[C]=Ci(C,V,X)}),S}function as(u,h,b){for(var S=b.db.objectStoreNames,C=0;C<S.length;++C){var D=S[C],V=b.objectStore(D);u._hasGetAll="getAll"in V;for(var X=0;X<V.indexNames.length;++X){var W=V.indexNames[X],nt=V.index(W).keyPath,ut=typeof nt=="string"?nt:"["+K(nt).join("+")+"]";!h[D]||(nt=h[D].idxByName[ut])&&(nt.name=W,delete h[D].idxByName[ut],h[D].idxByName[W]=nt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function Pu(u){return u.split(",").map(function(h,b){var D=h.split(":"),S=(C=D[1])===null||C===void 0?void 0:C.trim(),C=(h=D[0].trim()).replace(/([&*]|\+\+)/g,""),D=/^\[/.test(C)?C.match(/^\[(.*)\]$/)[1].split("+"):C;return Xr(C,D||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),g(D),b===0,S)})}var xd=(Oi.prototype._createTableSchema=Ci,Oi.prototype._parseIndexSyntax=Pu,Oi.prototype._parseStoresSpec=function(u,h){var b=this;d(u).forEach(function(S){if(u[S]!==null){var C=b._parseIndexSyntax(u[S]),D=C.shift();if(!D)throw new St.Schema("Invalid schema for table "+S+": "+u[S]);if(D.unique=!0,D.multi)throw new St.Schema("Primary key cannot be multiEntry*");C.forEach(function(V){if(V.auto)throw new St.Schema("Only primary key can be marked as autoIncrement (++)");if(!V.keyPath)throw new St.Schema("Index must have a name and cannot be an empty string")}),C=b._createTableSchema(S,D,C),h[S]=C}})},Oi.prototype.stores=function(b){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,b):b;var b=h._versions,S={},C={};return b.forEach(function(D){m(S,D._cfg.storesSource),C=D._cfg.dbschema={},D._parseStoresSpec(S,C)}),h._dbSchema=C,go(h,[h._allTables,h,h.Transaction.prototype]),ts(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],d(C),C),h._storeNames=d(C),this},Oi.prototype.upgrade=function(u){return this._cfg.contentUpgrade=je(this._cfg.contentUpgrade||Ht,u),this},Oi);function Oi(){}function fl(u,h){var b=u._dbNamesDB;return b||(b=u._dbNamesDB=new Kr(Ua,{addons:[],indexedDB:u,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),b.table("dbnames")}function is(u){return u&&typeof u.databases=="function"}function dl(u){return Pe(function(){return Dt.letThrough=!0,u()})}function hl(u){return!("from"in u)}var In=function(u,h){if(!this){var b=new In;return u&&"d"in u&&m(b,u),b}m(this,arguments.length?{d:1,from:u,to:1<arguments.length?h:u}:{d:0})};function yo(u,h,b){var S=ge(h,b);if(!isNaN(S)){if(0<S)throw RangeError();if(hl(u))return m(u,{from:h,to:b,d:1});var C=u.l,S=u.r;if(ge(b,u.from)<0)return C?yo(C,h,b):u.l={from:h,to:b,d:1,l:null,r:null},Ju(u);if(0<ge(h,u.to))return S?yo(S,h,b):u.r={from:h,to:b,d:1,l:null,r:null},Ju(u);ge(h,u.from)<0&&(u.from=h,u.l=null,u.d=S?S.d+1:1),0<ge(b,u.to)&&(u.to=b,u.r=null,u.d=u.l?u.l.d+1:1),b=!u.r,C&&!u.l&&Qa(u,C),S&&b&&Qa(u,S)}}function Qa(u,h){hl(h)||(function b(S,W){var D=W.from,V=W.to,X=W.l,W=W.r;yo(S,D,V),X&&b(S,X),W&&b(S,W)})(u,h)}function Fu(u,h){var b=os(h),S=b.next();if(S.done)return!1;for(var C=S.value,D=os(u),V=D.next(C.from),X=V.value;!S.done&&!V.done;){if(ge(X.from,C.to)<=0&&0<=ge(X.to,C.from))return!0;ge(C.from,X.from)<0?C=(S=b.next(X.from)).value:X=(V=D.next(C.from)).value}return!1}function os(u){var h=hl(u)?null:{s:0,n:u};return{next:function(b){for(var S=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,S)for(;h.n.l&&ge(b,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!S||ge(b,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function Ju(u){var h,b,S=(((h=u.r)===null||h===void 0?void 0:h.d)||0)-(((b=u.l)===null||b===void 0?void 0:b.d)||0),C=1<S?"r":S<-1?"l":"";C&&(h=C=="r"?"l":"r",b=o({},u),S=u[C],u.from=S.from,u.to=S.to,u[C]=S[C],b[C]=S[h],(u[h]=b).d=pl(b)),u.d=pl(u)}function pl(b){var h=b.r,b=b.l;return(h?b?Math.max(h.d,b.d):h.d:b?b.d:0)+1}function ss(u,h){return d(h).forEach(function(b){u[b]?Qa(u[b],h[b]):u[b]=(function S(C){var D,V,X={};for(D in C)v(C,D)&&(V=C[D],X[D]=!V||typeof V!="object"||pt.has(V.constructor)?V:S(V));return X})(h[b])}),u}function gl(u,h){return u.all||h.all||Object.keys(u).some(function(b){return h[b]&&Fu(h[b],u[b])})}w(In.prototype,((fr={add:function(u){return Qa(this,u),this},addKey:function(u){return yo(this,u,u),this},addKeys:function(u){var h=this;return u.forEach(function(b){return yo(h,b,b)}),this},hasKey:function(u){var h=os(this).next(u).value;return h&&ge(h.from,u)<=0&&0<=ge(h.to,u)}})[M]=function(){return os(this)},fr));var Pa={},ml={},yl=!1;function ls(u){ss(ml,u),yl||(yl=!0,setTimeout(function(){yl=!1,vl(ml,!(ml={}))},0))}function vl(u,h){h===void 0&&(h=!1);var b=new Set;if(u.all)for(var S=0,C=Object.values(Pa);S<C.length;S++)Wu(V=C[S],u,b,h);else for(var D in u){var V,X=/^idb\:\/\/(.*)\/(.*)\//.exec(D);X&&(D=X[1],X=X[2],(V=Pa["idb://".concat(D,"/").concat(X)])&&Wu(V,u,b,h))}b.forEach(function(W){return W()})}function Wu(u,h,b,S){for(var C=[],D=0,V=Object.entries(u.queries.query);D<V.length;D++){for(var X=V[D],W=X[0],nt=[],ut=0,F=X[1];ut<F.length;ut++){var ft=F[ut];gl(h,ft.obsSet)?ft.subscribers.forEach(function(ct){return b.add(ct)}):S&&nt.push(ft)}S&&C.push([W,nt])}if(S)for(var rt=0,it=C;rt<it.length;rt++){var ot=it[rt],W=ot[0],nt=ot[1];u.queries.query[W]=nt}}function wd(u){var h=u._state,b=u._deps.indexedDB;if(h.isBeingOpened||u.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?Ke(h.dbOpenError):u});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var S=h.openCanceller,C=Math.round(10*u.verno),D=!1;function V(){if(h.openCanceller!==S)throw new St.DatabaseClosed("db.open() was cancelled")}function X(){return new kt(function(ft,rt){if(V(),!b)throw new St.MissingAPI;var it=u.name,ot=h.autoSchema||!C?b.open(it):b.open(it,C);if(!ot)throw new St.MissingAPI;ot.onerror=Dr(rt),ot.onblocked=ae(u._fireOnBlocked),ot.onupgradeneeded=ae(function(ct){var mt;ut=ot.transaction,h.autoSchema&&!u._options.allowEmptyDB?(ot.onerror=Ga,ut.abort(),ot.result.close(),(mt=b.deleteDatabase(it)).onsuccess=mt.onerror=ae(function(){rt(new St.NoSuchDatabase("Database ".concat(it," doesnt exist")))})):(ut.onerror=Dr(rt),ct=ct.oldVersion>Math.pow(2,62)?0:ct.oldVersion,F=ct<1,u.idbdb=ot.result,D&&es(u,ut),mo(u,ct/10,ut,rt))},rt),ot.onsuccess=ae(function(){ut=null;var ct,mt,xt,Nt,Rt,qt=u.idbdb=ot.result,Xt=K(qt.objectStoreNames);if(0<Xt.length)try{var Lt=qt.transaction((Nt=Xt).length===1?Nt[0]:Nt,"readonly");if(h.autoSchema)mt=qt,xt=Lt,(ct=u).verno=mt.version/10,xt=ct._dbSchema=Ai(0,mt,xt),ct._storeNames=K(mt.objectStoreNames,0),ts(ct,[ct._allTables],d(xt),xt);else if(as(u,u._dbSchema,Lt),((Rt=ns(Ai(0,(Rt=u).idbdb,Lt),Rt._dbSchema)).add.length||Rt.change.some(function(Yt){return Yt.add.length||Yt.change.length}))&&!D)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),qt.close(),C=qt.version+1,D=!0,ft(X());Ea(u,Lt)}catch{}oa.push(u),qt.onversionchange=ae(function(Yt){h.vcFired=!0,u.on("versionchange").fire(Yt)}),qt.onclose=ae(function(){u.close({disableAutoOpen:!1})}),F&&(Rt=u._deps,Lt=it,qt=Rt.indexedDB,Rt=Rt.IDBKeyRange,is(qt)||Lt===Ua||fl(qt,Rt).put({name:Lt}).catch(Ht)),ft()},rt)}).catch(function(ft){switch(ft?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),X();break;case"VersionError":if(0<C)return C=0,X()}return kt.reject(ft)})}var W,nt=h.dbReadyResolve,ut=null,F=!1;return kt.race([S,(typeof navigator>"u"?kt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ft){function rt(){return indexedDB.databases().finally(ft)}W=setInterval(rt,100),rt()}).finally(function(){return clearInterval(W)}):Promise.resolve()).then(X)]).then(function(){return V(),h.onReadyBeingFired=[],kt.resolve(dl(function(){return u.on.ready.fire(u.vip)})).then(function ft(){if(0<h.onReadyBeingFired.length){var rt=h.onReadyBeingFired.reduce(je,Ht);return h.onReadyBeingFired=[],kt.resolve(dl(function(){return rt(u.vip)})).then(ft)}})}).finally(function(){h.openCanceller===S&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(ft){h.dbOpenError=ft;try{ut&&ut.abort()}catch{}return S===h.openCanceller&&u._close(),Ke(ft)}).finally(function(){h.openComplete=!0,nt()}).then(function(){var ft;return F&&(ft={},u.tables.forEach(function(rt){rt.schema.indexes.forEach(function(it){it.name&&(ft["idb://".concat(u.name,"/").concat(rt.name,"/").concat(it.name)]=new In(-1/0,[[[]]]))}),ft["idb://".concat(u.name,"/").concat(rt.name,"/")]=ft["idb://".concat(u.name,"/").concat(rt.name,"/:dels")]=new In(-1/0,[[[]]])}),Gn(Ti).fire(ft),vl(ft,!0)),u})}function vo(u){function h(D){return u.next(D)}var b=C(h),S=C(function(D){return u.throw(D)});function C(D){return function(W){var X=D(W),W=X.value;return X.done?W:W&&typeof W.then=="function"?W.then(b,S):g(W)?Promise.all(W).then(b,S):b(W)}}return C(h)()}function _a(u,h,b){for(var S=g(u)?u.slice():[u],C=0;C<b;++C)S.push(h);return S}var Sd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return o(o({},u),{table:function(h){var b=u.table(h),S=b.schema,C={},D=[];function V(F,ft,rt){var it=Dn(F),ot=C[it]=C[it]||[],ct=F==null?0:typeof F=="string"?1:F.length,mt=0<ft,mt=o(o({},rt),{name:mt?"".concat(it,"(virtual-from:").concat(rt.name,")"):rt.name,lowLevelIndex:rt,isVirtual:mt,keyTail:ft,keyLength:ct,extractKey:Di(F),unique:!mt&&rt.unique});return ot.push(mt),mt.isPrimaryKey||D.push(mt),1<ct&&V(ct===2?F[0]:F.slice(0,ct-1),ft+1,rt),ot.sort(function(xt,Nt){return xt.keyTail-Nt.keyTail}),mt}h=V(S.primaryKey.keyPath,0,S.primaryKey),C[":id"]=[h];for(var X=0,W=S.indexes;X<W.length;X++){var nt=W[X];V(nt.keyPath,0,nt)}function ut(F){var ft,rt=F.query.index;return rt.isVirtual?o(o({},F),{query:{index:rt.lowLevelIndex,range:(ft=F.query.range,rt=rt.keyTail,{type:ft.type===1?2:ft.type,lower:_a(ft.lower,ft.lowerOpen?u.MAX_KEY:u.MIN_KEY,rt),lowerOpen:!0,upper:_a(ft.upper,ft.upperOpen?u.MIN_KEY:u.MAX_KEY,rt),upperOpen:!0})}}):F}return o(o({},b),{schema:o(o({},S),{primaryKey:h,indexes:D,getIndexByKeyPath:function(F){return(F=C[Dn(F)])&&F[0]}}),count:function(F){return b.count(ut(F))},query:function(F){return b.query(ut(F))},openCursor:function(F){var ft=F.query.index,rt=ft.keyTail,it=ft.isVirtual,ot=ft.keyLength;return it?b.openCursor(ut(F)).then(function(mt){return mt&&ct(mt)}):b.openCursor(F);function ct(mt){return Object.create(mt,{continue:{value:function(xt){xt!=null?mt.continue(_a(xt,F.reverse?u.MAX_KEY:u.MIN_KEY,rt)):F.unique?mt.continue(mt.key.slice(0,ot).concat(F.reverse?u.MIN_KEY:u.MAX_KEY,rt)):mt.continue()}},continuePrimaryKey:{value:function(xt,Nt){mt.continuePrimaryKey(_a(xt,u.MAX_KEY,rt),Nt)}},primaryKey:{get:function(){return mt.primaryKey}},key:{get:function(){var xt=mt.key;return ot===1?xt[0]:xt.slice(0,ot)}},value:{get:function(){return mt.value}}})}}})}})}};function us(u,h,b,S){return b=b||{},S=S||"",d(u).forEach(function(C){var D,V,X;v(h,C)?(D=u[C],V=h[C],typeof D=="object"&&typeof V=="object"&&D&&V?(X=I(D))!==I(V)?b[S+C]=h[C]:X==="Object"?us(D,V,b,S+C+"."):D!==V&&(b[S+C]=h[C]):D!==V&&(b[S+C]=h[C])):b[S+C]=void 0}),d(h).forEach(function(C){v(u,C)||(b[S+C]=h[C])}),b}function cs(u,h){return h.type==="delete"?h.keys:h.keys||h.values.map(u.extractKey)}var tc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return o(o({},u),{table:function(h){var b=u.table(h),S=b.schema.primaryKey;return o(o({},b),{mutate:function(C){var D=Dt.trans,V=D.table(h).hook,X=V.deleting,W=V.creating,nt=V.updating;switch(C.type){case"add":if(W.fire===Ht)break;return D._promise("readwrite",function(){return ut(C)},!0);case"put":if(W.fire===Ht&&nt.fire===Ht)break;return D._promise("readwrite",function(){return ut(C)},!0);case"delete":if(X.fire===Ht)break;return D._promise("readwrite",function(){return ut(C)},!0);case"deleteRange":if(X.fire===Ht)break;return D._promise("readwrite",function(){return(function F(ft,rt,it){return b.query({trans:ft,values:!1,query:{index:S,range:rt},limit:it}).then(function(ot){var ct=ot.result;return ut({type:"delete",keys:ct,trans:ft}).then(function(mt){return 0<mt.numFailures?Promise.reject(mt.failures[0]):ct.length<it?{failures:[],numFailures:0,lastResult:void 0}:F(ft,o(o({},rt),{lower:ct[ct.length-1],lowerOpen:!0}),it)})})})(C.trans,C.range,1e4)},!0)}return b.mutate(C);function ut(F){var ft,rt,it,ot=Dt.trans,ct=F.keys||cs(S,F);if(!ct)throw new Error("Keys missing");return(F=F.type==="add"||F.type==="put"?o(o({},F),{keys:ct}):o({},F)).type!=="delete"&&(F.values=l([],F.values)),F.keys&&(F.keys=l([],F.keys)),ft=b,it=ct,((rt=F).type==="add"?Promise.resolve([]):ft.getMany({trans:rt.trans,keys:it,cache:"immutable"})).then(function(mt){var xt=ct.map(function(Nt,Rt){var qt,Xt,Lt,Yt=mt[Rt],$t={onerror:null,onsuccess:null};return F.type==="delete"?X.fire.call($t,Nt,Yt,ot):F.type==="add"||Yt===void 0?(qt=W.fire.call($t,Nt,F.values[Rt],ot),Nt==null&&qt!=null&&(F.keys[Rt]=Nt=qt,S.outbound||j(F.values[Rt],S.keyPath,Nt))):(qt=us(Yt,F.values[Rt]),(Xt=nt.fire.call($t,qt,Nt,Yt,ot))&&(Lt=F.values[Rt],Object.keys(Xt).forEach(function(Ut){v(Lt,Ut)?Lt[Ut]=Xt[Ut]:j(Lt,Ut,Xt[Ut])}))),$t});return b.mutate(F).then(function(Nt){for(var Rt=Nt.failures,qt=Nt.results,Xt=Nt.numFailures,Nt=Nt.lastResult,Lt=0;Lt<ct.length;++Lt){var Yt=(qt||ct)[Lt],$t=xt[Lt];Yt==null?$t.onerror&&$t.onerror(Rt[Lt]):$t.onsuccess&&$t.onsuccess(F.type==="put"&&mt[Lt]?F.values[Lt]:Yt)}return{failures:Rt,results:qt,numFailures:Xt,lastResult:Nt}}).catch(function(Nt){return xt.forEach(function(Rt){return Rt.onerror&&Rt.onerror(Nt)}),Promise.reject(Nt)})})}}})}})}};function bl(u,h,b){try{if(!h||h.keys.length<u.length)return null;for(var S=[],C=0,D=0;C<h.keys.length&&D<u.length;++C)ge(h.keys[C],u[D])===0&&(S.push(b?lt(h.values[C]):h.values[C]),++D);return S.length===u.length?S:null}catch{return null}}var ec={stack:"dbcore",level:-1,create:function(u){return{table:function(h){var b=u.table(h);return o(o({},b),{getMany:function(S){if(!S.cache)return b.getMany(S);var C=bl(S.keys,S.trans._cache,S.cache==="clone");return C?kt.resolve(C):b.getMany(S).then(function(D){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?lt(D):D},D})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),b.mutate(S)}})}}}};function Fa(u,h){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function nc(u,h){switch(u){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ed={stack:"dbcore",level:0,name:"Observability",create:function(u){var h=u.schema.name,b=new In(u.MIN_KEY,u.MAX_KEY);return o(o({},u),{transaction:function(S,C,D){if(Dt.subscr&&C!=="readonly")throw new St.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Dt.querier));return u.transaction(S,C,D)},table:function(S){var C=u.table(S),D=C.schema,V=D.primaryKey,F=D.indexes,X=V.extractKey,W=V.outbound,nt=V.autoIncrement&&F.filter(function(rt){return rt.compound&&rt.keyPath.includes(V.keyPath)}),ut=o(o({},C),{mutate:function(rt){function it(Ut){return Ut="idb://".concat(h,"/").concat(S,"/").concat(Ut),Nt[Ut]||(Nt[Ut]=new In)}var ot,ct,mt,xt=rt.trans,Nt=rt.mutatedParts||(rt.mutatedParts={}),Rt=it(""),qt=it(":dels"),Xt=rt.type,$t=rt.type==="deleteRange"?[rt.range]:rt.type==="delete"?[rt.keys]:rt.values.length<50?[cs(V,rt).filter(function(Ut){return Ut}),rt.values]:[],Lt=$t[0],Yt=$t[1],$t=rt.trans._cache;return g(Lt)?(Rt.addKeys(Lt),($t=Xt==="delete"||Lt.length===Yt.length?bl(Lt,$t):null)||qt.addKeys(Lt),($t||Yt)&&(ot=it,ct=$t,mt=Yt,D.indexes.forEach(function(Ut){var Kt=ot(Ut.name||"");function ee(me){return me!=null?Ut.extractKey(me):null}function le(me){return Ut.multiEntry&&g(me)?me.forEach(function(Zn){return Kt.addKey(Zn)}):Kt.addKey(me)}(ct||mt).forEach(function(me,An){var se=ct&&ee(ct[An]),An=mt&&ee(mt[An]);ge(se,An)!==0&&(se!=null&&le(se),An!=null&&le(An))})}))):Lt?(Yt={from:(Yt=Lt.lower)!==null&&Yt!==void 0?Yt:u.MIN_KEY,to:(Yt=Lt.upper)!==null&&Yt!==void 0?Yt:u.MAX_KEY},qt.add(Yt),Rt.add(Yt)):(Rt.add(b),qt.add(b),D.indexes.forEach(function(Ut){return it(Ut.name).add(b)})),C.mutate(rt).then(function(Ut){return!Lt||rt.type!=="add"&&rt.type!=="put"||(Rt.addKeys(Ut.results),nt&&nt.forEach(function(Kt){for(var ee=rt.values.map(function(se){return Kt.extractKey(se)}),le=Kt.keyPath.findIndex(function(se){return se===V.keyPath}),me=0,Zn=Ut.results.length;me<Zn;++me)ee[me][le]=Ut.results[me];it(Kt.name).addKeys(ee)})),xt.mutatedParts=ss(xt.mutatedParts||{},Nt),Ut})}}),F=function(it){var ot=it.query,it=ot.index,ot=ot.range;return[it,new In((it=ot.lower)!==null&&it!==void 0?it:u.MIN_KEY,(ot=ot.upper)!==null&&ot!==void 0?ot:u.MAX_KEY)]},ft={get:function(rt){return[V,new In(rt.key)]},getMany:function(rt){return[V,new In().addKeys(rt.keys)]},count:F,query:F,openCursor:F};return d(ft).forEach(function(rt){ut[rt]=function(it){var ot=Dt.subscr,ct=!!ot,mt=Fa(Dt,C)&&nc(rt,it)?it.obsSet={}:ot;if(ct){var xt=function(Yt){return Yt="idb://".concat(h,"/").concat(S,"/").concat(Yt),mt[Yt]||(mt[Yt]=new In)},Nt=xt(""),Rt=xt(":dels"),ot=ft[rt](it),ct=ot[0],ot=ot[1];if((rt==="query"&&ct.isPrimaryKey&&!it.values?Rt:xt(ct.name||"")).add(ot),!ct.isPrimaryKey){if(rt!=="count"){var qt=rt==="query"&&W&&it.values&&C.query(o(o({},it),{values:!1}));return C[rt].apply(this,arguments).then(function(Yt){if(rt==="query"){if(W&&it.values)return qt.then(function(ee){return ee=ee.result,Nt.addKeys(ee),Yt});var $t=it.values?Yt.result.map(X):Yt.result;(it.values?Nt:Rt).addKeys($t)}else if(rt==="openCursor"){var Ut=Yt,Kt=it.values;return Ut&&Object.create(Ut,{key:{get:function(){return Rt.addKey(Ut.primaryKey),Ut.key}},primaryKey:{get:function(){var ee=Ut.primaryKey;return Rt.addKey(ee),ee}},value:{get:function(){return Kt&&Nt.addKey(Ut.primaryKey),Ut.value}}})}return Yt})}Rt.add(b)}}return C[rt].apply(this,arguments)}}),ut}})}};function rc(u,h,b){if(b.numFailures===0)return h;if(h.type==="deleteRange")return null;var S=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return b.numFailures===S?null:(h=o({},h),g(h.keys)&&(h.keys=h.keys.filter(function(C,D){return!(D in b.failures)})),"values"in h&&g(h.values)&&(h.values=h.values.filter(function(C,D){return!(D in b.failures)})),h)}function fs(u,h){return b=u,((S=h).lower===void 0||(S.lowerOpen?0<ge(b,S.lower):0<=ge(b,S.lower)))&&(u=u,(h=h).upper===void 0||(h.upperOpen?ge(u,h.upper)<0:ge(u,h.upper)<=0));var b,S}function xl(u,h,ft,S,C,D){if(!ft||ft.length===0)return u;var V=h.query.index,X=V.multiEntry,W=h.query.range,nt=S.schema.primaryKey.extractKey,ut=V.extractKey,F=(V.lowLevelIndex||V).extractKey,ft=ft.reduce(function(rt,it){var ot=rt,ct=[];if(it.type==="add"||it.type==="put")for(var mt=new In,xt=it.values.length-1;0<=xt;--xt){var Nt,Rt=it.values[xt],qt=nt(Rt);mt.hasKey(qt)||(Nt=ut(Rt),(X&&g(Nt)?Nt.some(function(Ut){return fs(Ut,W)}):fs(Nt,W))&&(mt.addKey(qt),ct.push(Rt)))}switch(it.type){case"add":var Xt=new In().addKeys(h.values?rt.map(function(Kt){return nt(Kt)}):rt),ot=rt.concat(h.values?ct.filter(function(Kt){return Kt=nt(Kt),!Xt.hasKey(Kt)&&(Xt.addKey(Kt),!0)}):ct.map(function(Kt){return nt(Kt)}).filter(function(Kt){return!Xt.hasKey(Kt)&&(Xt.addKey(Kt),!0)}));break;case"put":var Lt=new In().addKeys(it.values.map(function(Kt){return nt(Kt)}));ot=rt.filter(function(Kt){return!Lt.hasKey(h.values?nt(Kt):Kt)}).concat(h.values?ct:ct.map(function(Kt){return nt(Kt)}));break;case"delete":var Yt=new In().addKeys(it.keys);ot=rt.filter(function(Kt){return!Yt.hasKey(h.values?nt(Kt):Kt)});break;case"deleteRange":var $t=it.range;ot=rt.filter(function(Kt){return!fs(nt(Kt),$t)})}return ot},u);return ft===u?u:(ft.sort(function(rt,it){return ge(F(rt),F(it))||ge(nt(rt),nt(it))}),h.limit&&h.limit<1/0&&(ft.length>h.limit?ft.length=h.limit:u.length===h.limit&&ft.length<h.limit&&(C.dirty=!0)),D?Object.freeze(ft):ft)}function Mi(u,h){return ge(u.lower,h.lower)===0&&ge(u.upper,h.upper)===0&&!!u.lowerOpen==!!h.lowerOpen&&!!u.upperOpen==!!h.upperOpen}function bo(u,h){return(function(b,S,C,D){if(b===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=ge(b,S))===0){if(C&&D)return 0;if(C)return 1;if(D)return-1}return S})(u.lower,h.lower,u.lowerOpen,h.lowerOpen)<=0&&0<=(function(b,S,C,D){if(b===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=ge(b,S))===0){if(C&&D)return 0;if(C)return-1;if(D)return 1}return S})(u.upper,h.upper,u.upperOpen,h.upperOpen)}function _d(u,h,b,S){u.subscribers.add(b),S.addEventListener("abort",function(){var C,D;u.subscribers.delete(b),u.subscribers.size===0&&(C=u,D=h,setTimeout(function(){C.subscribers.size===0&&Q(D,C)},3e3))})}var ds={stack:"dbcore",level:0,name:"Cache",create:function(u){var h=u.schema.name;return o(o({},u),{transaction:function(b,S,C){var D,V,X=u.transaction(b,S,C);return S==="readwrite"&&(V=(D=new AbortController).signal,C=function(W){return function(){if(D.abort(),S==="readwrite"){for(var nt=new Set,ut=0,F=b;ut<F.length;ut++){var ft=F[ut],rt=Pa["idb://".concat(h,"/").concat(ft)];if(rt){var it=u.table(ft),ot=rt.optimisticOps.filter(function(Kt){return Kt.trans===X});if(X._explicit&&W&&X.mutatedParts)for(var ct=0,mt=Object.values(rt.queries.query);ct<mt.length;ct++)for(var xt=0,Nt=(Xt=mt[ct]).slice();xt<Nt.length;xt++)gl((Lt=Nt[xt]).obsSet,X.mutatedParts)&&(Q(Xt,Lt),Lt.subscribers.forEach(function(Kt){return nt.add(Kt)}));else if(0<ot.length){rt.optimisticOps=rt.optimisticOps.filter(function(Kt){return Kt.trans!==X});for(var Rt=0,qt=Object.values(rt.queries.query);Rt<qt.length;Rt++)for(var Xt,Lt,Yt,$t=0,Ut=(Xt=qt[Rt]).slice();$t<Ut.length;$t++)(Lt=Ut[$t]).res!=null&&X.mutatedParts&&(W&&!Lt.dirty?(Yt=Object.isFrozen(Lt.res),Yt=xl(Lt.res,Lt.req,ot,it,Lt,Yt),Lt.dirty?(Q(Xt,Lt),Lt.subscribers.forEach(function(Kt){return nt.add(Kt)})):Yt!==Lt.res&&(Lt.res=Yt,Lt.promise=kt.resolve({result:Yt}))):(Lt.dirty&&Q(Xt,Lt),Lt.subscribers.forEach(function(Kt){return nt.add(Kt)})))}}}nt.forEach(function(Kt){return Kt()})}}},X.addEventListener("abort",C(!1),{signal:V}),X.addEventListener("error",C(!1),{signal:V}),X.addEventListener("complete",C(!0),{signal:V})),X},table:function(b){var S=u.table(b),C=S.schema.primaryKey;return o(o({},S),{mutate:function(D){var V=Dt.trans;if(C.outbound||V.db._options.cache==="disabled"||V.explicit||V.idbtrans.mode!=="readwrite")return S.mutate(D);var X=Pa["idb://".concat(h,"/").concat(b)];return X?(V=S.mutate(D),D.type!=="add"&&D.type!=="put"||!(50<=D.values.length||cs(C,D).some(function(W){return W==null}))?(X.optimisticOps.push(D),D.mutatedParts&&ls(D.mutatedParts),V.then(function(W){0<W.numFailures&&(Q(X.optimisticOps,D),(W=rc(0,D,W))&&X.optimisticOps.push(W),D.mutatedParts&&ls(D.mutatedParts))}),V.catch(function(){Q(X.optimisticOps,D),D.mutatedParts&&ls(D.mutatedParts)})):V.then(function(W){var nt=rc(0,o(o({},D),{values:D.values.map(function(ut,F){var ft;return W.failures[F]?ut:(ut=(ft=C.keyPath)!==null&&ft!==void 0&&ft.includes(".")?lt(ut):o({},ut),j(ut,C.keyPath,W.results[F]),ut)})}),W);X.optimisticOps.push(nt),queueMicrotask(function(){return D.mutatedParts&&ls(D.mutatedParts)})}),V):S.mutate(D)},query:function(D){if(!Fa(Dt,S)||!nc("query",D))return S.query(D);var V=((nt=Dt.trans)===null||nt===void 0?void 0:nt.db._options.cache)==="immutable",F=Dt,X=F.requery,W=F.signal,nt=(function(it,ot,ct,mt){var xt=Pa["idb://".concat(it,"/").concat(ot)];if(!xt)return[];if(!(ot=xt.queries[ct]))return[null,!1,xt,null];var Nt=ot[(mt.query?mt.query.index.name:null)||""];if(!Nt)return[null,!1,xt,null];switch(ct){case"query":var Rt=Nt.find(function(qt){return qt.req.limit===mt.limit&&qt.req.values===mt.values&&Mi(qt.req.query.range,mt.query.range)});return Rt?[Rt,!0,xt,Nt]:[Nt.find(function(qt){return("limit"in qt.req?qt.req.limit:1/0)>=mt.limit&&(!mt.values||qt.req.values)&&bo(qt.req.query.range,mt.query.range)}),!1,xt,Nt];case"count":return Rt=Nt.find(function(qt){return Mi(qt.req.query.range,mt.query.range)}),[Rt,!!Rt,xt,Nt]}})(h,b,"query",D),ut=nt[0],F=nt[1],ft=nt[2],rt=nt[3];return ut&&F?ut.obsSet=D.obsSet:(F=S.query(D).then(function(it){var ot=it.result;if(ut&&(ut.res=ot),V){for(var ct=0,mt=ot.length;ct<mt;++ct)Object.freeze(ot[ct]);Object.freeze(ot)}else it.result=lt(ot);return it}).catch(function(it){return rt&&ut&&Q(rt,ut),Promise.reject(it)}),ut={obsSet:D.obsSet,promise:F,subscribers:new Set,type:"query",req:D,dirty:!1},rt?rt.push(ut):(rt=[ut],(ft=ft||(Pa["idb://".concat(h,"/").concat(b)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[D.query.index.name||""]=rt)),_d(ut,rt,X,W),ut.promise.then(function(it){return{result:xl(it.result,D,ft?.optimisticOps,S,ut,V)}})}})}})}};function xo(u,h){return new Proxy(u,{get:function(b,S,C){return S==="db"?h:Reflect.get(b,S,C)}})}var Kr=(an.prototype.version=function(u){if(isNaN(u)||u<.1)throw new St.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new St.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var h=this._versions,b=h.filter(function(S){return S._cfg.version===u})[0];return b||(b=new this.Version(u),h.push(b),h.sort(ul),b.stores({}),this._state.autoSchema=!1,b)},an.prototype._whenReady=function(u){var h=this;return this.idbdb&&(this._state.openComplete||Dt.letThrough||this._vip)?u():new kt(function(b,S){if(h._state.openComplete)return S(new St.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void S(new St.DatabaseClosed);h.open().catch(Ht)}h._state.dbReadyPromise.then(b,S)}).then(u)},an.prototype.use=function(u){var h=u.stack,b=u.create,S=u.level,C=u.name;return C&&this.unuse({stack:h,name:C}),u=this._middlewares[h]||(this._middlewares[h]=[]),u.push({stack:h,create:b,level:S??10,name:C}),u.sort(function(D,V){return D.level-V.level}),this},an.prototype.unuse=function(u){var h=u.stack,b=u.name,S=u.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(C){return S?C.create!==S:!!b&&C.name!==b})),this},an.prototype.open=function(){var u=this;return ur(Vt,function(){return wd(u)})},an.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var u=this._state,h=oa.indexOf(this);if(0<=h&&oa.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new kt(function(b){u.dbReadyResolve=b}),u.openCanceller=new kt(function(b,S){u.cancelOpen=S}))},an.prototype.close=function(b){var h=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,b=this._state;h?(b.isBeingOpened&&b.cancelOpen(new St.DatabaseClosed),this._close(),b.autoOpen=!1,b.dbOpenError=new St.DatabaseClosed):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)},an.prototype.delete=function(u){var h=this;u===void 0&&(u={disableAutoOpen:!0});var b=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new kt(function(C,D){function V(){h.close(u);var X=h._deps.indexedDB.deleteDatabase(h.name);X.onsuccess=ae(function(){var W,nt,ut;W=h._deps,nt=h.name,ut=W.indexedDB,W=W.IDBKeyRange,is(ut)||nt===Ua||fl(ut,W).delete(nt).catch(Ht),C()}),X.onerror=Dr(D),X.onblocked=h._fireOnBlocked}if(b)throw new St.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(V):V()})},an.prototype.backendDB=function(){return this.idbdb},an.prototype.isOpen=function(){return this.idbdb!==null},an.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},an.prototype.hasFailed=function(){return this._state.dbOpenError!==null},an.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(an.prototype,"tables",{get:function(){var u=this;return d(this._allTables).map(function(h){return u._allTables[h]})},enumerable:!1,configurable:!0}),an.prototype.transaction=function(){var u=(function(h,b,S){var C=arguments.length;if(C<2)throw new St.InvalidArgument("Too few arguments");for(var D=new Array(C-1);--C;)D[C-1]=arguments[C];return S=D.pop(),[h,vt(D),S]}).apply(this,arguments);return this._transaction.apply(this,u)},an.prototype._transaction=function(u,h,b){var S=this,C=Dt.trans;C&&C.db===this&&u.indexOf("!")===-1||(C=null);var D,V,X=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(V=h.map(function(nt){if(nt=nt instanceof S.Table?nt.name:nt,typeof nt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return nt}),u=="r"||u===Nr)D=Nr;else{if(u!="rw"&&u!=Vr)throw new St.InvalidArgument("Invalid transaction mode: "+u);D=Vr}if(C){if(C.mode===Nr&&D===Vr){if(!X)throw new St.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&V.forEach(function(nt){if(C&&C.storeNames.indexOf(nt)===-1){if(!X)throw new St.SubTransaction("Table "+nt+" not included in parent transaction.");C=null}}),X&&C&&!C.active&&(C=null)}}catch(nt){return C?C._promise(null,function(ut,F){F(nt)}):Ke(nt)}var W=(function nt(ut,F,ft,rt,it){return kt.resolve().then(function(){var ot=Dt.transless||Dt,ct=ut._createTransaction(F,ft,ut._dbSchema,rt);if(ct.explicit=!0,ot={trans:ct,transless:ot},rt)ct.idbtrans=rt.idbtrans;else try{ct.create(),ct.idbtrans._explicit=!0,ut._state.PR1398_maxLoop=3}catch(Nt){return Nt.name===jt.InvalidState&&ut.isOpen()&&0<--ut._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ut.close({disableAutoOpen:!1}),ut.open().then(function(){return nt(ut,F,ft,null,it)})):Ke(Nt)}var mt,xt=k(it);return xt&&gn(),ot=kt.follow(function(){var Nt;(mt=it.call(ct,ct))&&(xt?(Nt=Xn.bind(null,null),mt.then(Nt,Nt)):typeof mt.next=="function"&&typeof mt.throw=="function"&&(mt=vo(mt)))},ot),(mt&&typeof mt.then=="function"?kt.resolve(mt).then(function(Nt){return ct.active?Nt:Ke(new St.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ot.then(function(){return mt})).then(function(Nt){return rt&&ct._resolve(),ct._completion.then(function(){return Nt})}).catch(function(Nt){return ct._reject(Nt),Ke(Nt)})})}).bind(null,this,D,V,C,b);return C?C._promise(D,W,"lock"):Dt.trans?ur(Dt.transless,function(){return S._whenReady(W)}):this._whenReady(W)},an.prototype.table=function(u){if(!v(this._allTables,u))throw new St.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},an);function an(u,h){var b=this;this._middlewares={},this.verno=0;var S=an.dependencies;this._options=h=o({addons:an.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},S=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var C,D,V,X,W,nt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ht,dbReadyPromise:null,cancelOpen:Ht,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};nt.dbReadyPromise=new kt(function(F){nt.dbReadyResolve=F}),nt.openCanceller=new kt(function(F,ft){nt.cancelOpen=ft}),this._state=nt,this.name=u,this.on=$a(this,"populate","blocked","versionchange","close",{ready:[je,Ht]}),this.once=function(F,ft){var rt=function(){for(var it=[],ot=0;ot<arguments.length;ot++)it[ot]=arguments[ot];b.on(F).unsubscribe(rt),ft.apply(b,it)};return b.on(F,rt)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(F){return function(ft,rt){an.vip(function(){var it,ot=b._state;ot.openComplete?(ot.dbOpenError||kt.resolve().then(ft),rt&&F(ft)):ot.onReadyBeingFired?(ot.onReadyBeingFired.push(ft),rt&&F(ft)):(F(ft),it=b,rt||F(function ct(){it.on.ready.unsubscribe(ft),it.on.ready.unsubscribe(ct)}))})}}),this.Collection=(C=this,xn(vd.prototype,function(mt,ct){this.db=C;var rt=Ei,it=null;if(ct)try{rt=ct()}catch(xt){it=xt}var ot=mt._ctx,ct=ot.table,mt=ct.hook.reading.fire;this._ctx={table:ct,index:ot.index,isPrimKey:!ot.index||ct.schema.primKey.keyPath&&ot.index===ct.schema.primKey.name,range:rt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:it,or:ot.or,valueMapper:mt!==Ft?mt:null}})),this.Table=(D=this,xn(fo.prototype,function(F,ft,rt){this.db=D,this._tx=rt,this.name=F,this.schema=ft,this.hook=D._allTables[F]?D._allTables[F].hook:$a(null,{creating:[be,Ht],reading:[Zt,Ft],updating:[yn,Ht],deleting:[De,Ht]})})),this.Transaction=(V=this,xn(ll.prototype,function(F,ft,rt,it,ot){var ct=this;F!=="readonly"&&ft.forEach(function(mt){mt=(mt=rt[mt])===null||mt===void 0?void 0:mt.yProps,mt&&(ft=ft.concat(mt.map(function(xt){return xt.updatesTable})))}),this.db=V,this.mode=F,this.storeNames=ft,this.schema=rt,this.chromeTransactionDurability=it,this.idbtrans=null,this.on=$a(this,"complete","error","abort"),this.parent=ot||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new kt(function(mt,xt){ct._resolve=mt,ct._reject=xt}),this._completion.then(function(){ct.active=!1,ct.on.complete.fire()},function(mt){var xt=ct.active;return ct.active=!1,ct.on.error.fire(mt),ct.parent?ct.parent._reject(mt):xt&&ct.idbtrans&&ct.idbtrans.abort(),Ke(mt)})})),this.Version=(X=this,xn(xd.prototype,function(F){this.db=X,this._cfg={version:F,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(W=this,xn(Ka.prototype,function(F,ft,rt){if(this.db=W,this._ctx={table:F,index:ft===":id"?null:ft,or:rt},this._cmp=this._ascending=ge,this._descending=function(it,ot){return ge(ot,it)},this._max=function(it,ot){return 0<ge(it,ot)?it:ot},this._min=function(it,ot){return ge(it,ot)<0?it:ot},this._IDBKeyRange=W._deps.IDBKeyRange,!this._IDBKeyRange)throw new St.MissingAPI})),this.on("versionchange",function(F){0<F.newVersion?console.warn("Another connection wants to upgrade database '".concat(b.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(b.name,"'. Closing db now to resume the delete request.")),b.close({disableAutoOpen:!1})}),this.on("blocked",function(F){!F.newVersion||F.newVersion<F.oldVersion?console.warn("Dexie.delete('".concat(b.name,"') was blocked")):console.warn("Upgrade '".concat(b.name,"' blocked by other connection holding version ").concat(F.oldVersion/10))}),this._maxKey=Ni(h.IDBKeyRange),this._createTransaction=function(F,ft,rt,it){return new b.Transaction(F,ft,rt,b._options.chromeTransactionDurability,it)},this._fireOnBlocked=function(F){b.on("blocked").fire(F),oa.filter(function(ft){return ft.name===b.name&&ft!==b&&!ft._state.vcFired}).map(function(ft){return ft.on("versionchange").fire(F)})},this.use(ec),this.use(ds),this.use(Ed),this.use(Sd),this.use(tc);var ut=new Proxy(this,{get:function(F,ft,rt){if(ft==="_vip")return!0;if(ft==="table")return function(ot){return xo(b.table(ot),ut)};var it=Reflect.get(F,ft,rt);return it instanceof fo?xo(it,ut):ft==="tables"?it.map(function(ot){return xo(ot,ut)}):ft==="_createTransaction"?function(){return xo(it.apply(this,arguments),ut)}:it}});this.vip=ut,S.forEach(function(F){return F(b)})}var Ri,fr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ac=(hs.prototype.subscribe=function(u,h,b){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:h,complete:b})},hs.prototype[fr]=function(){return this},hs);function hs(u){this._subscribe=u}try{Ri={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{Ri={indexedDB:null,IDBKeyRange:null}}function ic(u){var h,b=!1,S=new ac(function(C){var D=k(u),V,X=!1,W={},nt={},ut={get closed(){return X},unsubscribe:function(){X||(X=!0,V&&V.abort(),F&&Gn.storagemutated.unsubscribe(rt))}};C.start&&C.start(ut);var F=!1,ft=function(){return qr(it)},rt=function(ot){ss(W,ot),gl(nt,W)&&ft()},it=function(){var ot,ct,mt;!X&&Ri.indexedDB&&(W={},ot={},V&&V.abort(),V=new AbortController,mt=(function(xt){var Nt=Le();try{D&&gn();var Rt=Pe(u,xt);return Rt=D?Rt.finally(Xn):Rt}finally{Nt&&fe()}})(ct={subscr:ot,signal:V.signal,requery:ft,querier:u,trans:null}),Promise.resolve(mt).then(function(xt){b=!0,h=xt,X||ct.signal.aborted||(W={},(function(Nt){for(var Rt in Nt)if(v(Nt,Rt))return;return 1})(nt=ot)||F||(Gn(Ti,rt),F=!0),qr(function(){return!X&&C.next&&C.next(xt)}))},function(xt){b=!1,["DatabaseClosedError","AbortError"].includes(xt?.name)||X||qr(function(){X||C.error&&C.error(xt)})}))};return setTimeout(ft,0),ut});return S.hasValue=function(){return b},S.getValue=function(){return h},S}var Ja=Kr;function wl(u){var h=Ta;try{Ta=!0,Gn.storagemutated.fire(u),vl(u,!0)}finally{Ta=h}}w(Ja,o(o({},te),{delete:function(u){return new Ja(u,{addons:[]}).delete()},exists:function(u){return new Ja(u,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return h=Ja.dependencies,b=h.indexedDB,h=h.IDBKeyRange,(is(b)?Promise.resolve(b.databases()).then(function(S){return S.map(function(C){return C.name}).filter(function(C){return C!==Ua})}):fl(b,h).toCollection().primaryKeys()).then(u)}catch{return Ke(new St.MissingAPI)}var h,b},defineClass:function(){return function(u){m(this,u)}},ignoreTransaction:function(u){return Dt.trans?ur(Dt.transless,u):u()},vip:dl,async:function(u){return function(){try{var h=vo(u.apply(this,arguments));return h&&typeof h.then=="function"?h:kt.resolve(h)}catch(b){return Ke(b)}}},spawn:function(u,h,b){try{var S=vo(u.apply(b,h||[]));return S&&typeof S.then=="function"?S:kt.resolve(S)}catch(C){return Ke(C)}},currentTransaction:{get:function(){return Dt.trans||null}},waitFor:function(u,h){return h=kt.resolve(typeof u=="function"?Ja.ignoreTransaction(u):u).timeout(h||6e4),Dt.trans?Dt.trans.waitFor(h):h},Promise:kt,debug:{get:function(){return Ae},set:function(u){Oe(u)}},derive:N,extend:m,props:w,override:A,Events:$a,on:Gn,liveQuery:ic,extendObservabilitySet:ss,getByKeyPath:L,setByKeyPath:j,delByKeyPath:function(u,h){typeof h=="string"?j(u,h,void 0):"length"in h&&[].map.call(h,function(b){j(u,b,void 0)})},shallowClone:G,deepClone:lt,getObjectDiff:us,cmp:ge,asap:$,minKey:-1/0,addons:[],connections:oa,errnames:jt,dependencies:Ri,cache:Pa,semVer:"4.2.1",version:"4.2.1".split(".").map(function(u){return parseInt(u)}).reduce(function(u,h,b){return u+h/Math.pow(10,2*b)})})),Ja.maxKey=Ni(Ja.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Gn(Ti,function(u){Ta||(u=new CustomEvent(Ia,{detail:u}),Ta=!0,dispatchEvent(u),Ta=!1)}),addEventListener(Ia,function(u){u=u.detail,Ta||wl(u)}));var zi,Ta=!1,or=function(){};return typeof BroadcastChannel<"u"&&((or=function(){(zi=new BroadcastChannel(Ia)).onmessage=function(u){return u.data&&wl(u.data)}})(),typeof zi.unref=="function"&&zi.unref(),Gn(Ti,function(u){Ta||zi.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!Kr.disableBfCache&&u.persisted){Ae&&console.debug("Dexie: handling persisted pagehide"),zi?.close();for(var h=0,b=oa;h<b.length;h++)b[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Kr.disableBfCache&&u.persisted&&(Ae&&console.debug("Dexie: handling persisted pageshow"),or(),wl({all:new In(-1/0,[[]])}))})),kt.rejectionMapper=function(u,h){return!u||u instanceof st||u instanceof TypeError||u instanceof SyntaxError||!u.name||!It[u.name]?u:(h=new It[u.name](h||u.message,u),"stack"in u&&O(h,"stack",{get:function(){return this.inner.stack}}),h)},Oe(Ae),o(Kr,Object.freeze({__proto__:null,Dexie:Kr,liveQuery:ic,Entity:Qo,cmp:ge,PropModification:wa,replacePrefix:function(u,h){return new wa({replacePrefix:[u,h]})},add:function(u){return new wa({add:u})},remove:function(u){return new wa({remove:u})},default:Kr,RangeSet:In,mergeRanges:Qa,rangesOverlap:Fu}),{default:Kr}),Kr})})(_f)),_f.exports}var jA=BA();const eg=Pf(jA),lb=Symbol.for("Dexie"),Lf=globalThis[lb]||(globalThis[lb]=eg);if(eg.semVer!==Lf.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${eg.semVer} and ${Lf.semVer}`);const{liveQuery:GR,mergeRanges:IR,rangesOverlap:ZR,RangeSet:QR,cmp:PR,Entity:FR,PropModification:JR,replacePrefix:WR,add:t4,remove:e4,DexieYProvider:n4}=Lf,HA="graphId",kA="stateId",LA="rfTypeIdentifier";class UA extends Lf{graphStore;graphStateStore;userNodesStore;cache={userNodes:{},graphs:{},graphStates:{}};constructor(){super("FlowDatabase"),this.version(1).stores({graphStore:HA,graphStateStore:kA,userNodesStore:LA})}async putUserNode(r,i){this.cache.userNodes[r]=i,await this.userNodesStore.put({rfTypeIdentifier:r,...i})}async putGraph(r,i){this.cache.graphs[r]=i,console.log(`Saved graph: ${r} ${JSON.stringify(this.cache.graphs[r])}`),await this.graphStore.put({graphId:r,...i})}async putGraphState(r,i){this.cache.graphStates[r]=i,console.log(`Saved g state: ${r} ${JSON.stringify(this.cache.graphStates[r])}`),await this.graphStateStore.put({stateId:r,...i})}async syncCache(){this.cache.userNodes={},this.cache.graphStates={},this.cache.graphs={},await this.userNodesStore.each(r=>{const{rfTypeIdentifier:i,...o}=r;this.cache.userNodes[i]=o}),await this.graphStore.each(r=>{const{graphId:i,...o}=r;this.cache.graphs[i]=o}),await this.graphStateStore.each(r=>{const{stateId:i,...o}=r;this.cache.graphStates[i]=o})}}const za=new UA;window.db=za;const ud=H.createContext({masterNodes:[],masterEdges:[],setMasterNodes:()=>{},setMasterEdges:()=>{}}),Pt={Bang:"bang",Boolean:"boolean",Number:"number"};function qA({dataType:e,value:r,label:i,disabled:o,setValue:l}){switch(e){case Pt.Number:return U.jsx("input",{value:r??0,className:"nodrag nopan",type:"number",onChange:c=>l(parseFloat(c.target.value)),style:{maxWidth:"50px",height:"20px"},disabled:o});case Pt.Boolean:return U.jsxs("label",{className:"switch",children:[U.jsx("input",{checked:r,type:"checkbox",onChange:c=>l(c.target.checked),style:{margin:0},disabled:o}),U.jsx("span",{className:"slider",children:U.jsx("span",{className:"dot"})})]});case Pt.Bang:return U.jsx("button",{onClick:l,children:i||"Run"})}}var Tr="top",ra="bottom",aa="right",Cr="left",Ag="auto",qu=[Tr,ra,aa,Cr],Ws="start",Cu="end",VA="clippingParents",iw="viewport",au="popper",YA="reference",ub=qu.reduce(function(e,r){return e.concat([r+"-"+Ws,r+"-"+Cu])},[]),ow=[].concat(qu,[Ag]).reduce(function(e,r){return e.concat([r,r+"-"+Ws,r+"-"+Cu])},[]),$A="beforeRead",XA="read",KA="afterRead",GA="beforeMain",IA="main",ZA="afterMain",QA="beforeWrite",PA="write",FA="afterWrite",JA=[$A,XA,KA,GA,IA,ZA,QA,PA,FA];function ka(e){return e?(e.nodeName||"").toLowerCase():null}function kr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var r=e.ownerDocument;return r&&r.defaultView||window}return e}function Xo(e){var r=kr(e).Element;return e instanceof r||e instanceof Element}function na(e){var r=kr(e).HTMLElement;return e instanceof r||e instanceof HTMLElement}function Og(e){if(typeof ShadowRoot>"u")return!1;var r=kr(e).ShadowRoot;return e instanceof r||e instanceof ShadowRoot}function WA(e){var r=e.state;Object.keys(r.elements).forEach(function(i){var o=r.styles[i]||{},l=r.attributes[i]||{},c=r.elements[i];!na(c)||!ka(c)||(Object.assign(c.style,o),Object.keys(l).forEach(function(d){var g=l[d];g===!1?c.removeAttribute(d):c.setAttribute(d,g===!0?"":g)}))})}function tO(e){var r=e.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow),function(){Object.keys(r.elements).forEach(function(o){var l=r.elements[o],c=r.attributes[o]||{},d=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:i[o]),g=d.reduce(function(m,y){return m[y]="",m},{});!na(l)||!ka(l)||(Object.assign(l.style,g),Object.keys(c).forEach(function(m){l.removeAttribute(m)}))})}}const sw={name:"applyStyles",enabled:!0,phase:"write",fn:WA,effect:tO,requires:["computeStyles"]};function ja(e){return e.split("-")[0]}var qo=Math.max,Uf=Math.min,tl=Math.round;function ng(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function lw(){return!/^((?!chrome|android).)*safari/i.test(ng())}function el(e,r,i){r===void 0&&(r=!1),i===void 0&&(i=!1);var o=e.getBoundingClientRect(),l=1,c=1;r&&na(e)&&(l=e.offsetWidth>0&&tl(o.width)/e.offsetWidth||1,c=e.offsetHeight>0&&tl(o.height)/e.offsetHeight||1);var d=Xo(e)?kr(e):window,g=d.visualViewport,m=!lw()&&i,y=(o.left+(m&&g?g.offsetLeft:0))/l,x=(o.top+(m&&g?g.offsetTop:0))/c,v=o.width/l,w=o.height/c;return{width:v,height:w,top:x,right:y+v,bottom:x+w,left:y,x:y,y:x}}function Mg(e){var r=el(e),i=e.offsetWidth,o=e.offsetHeight;return Math.abs(r.width-i)<=1&&(i=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:o}}function uw(e,r){var i=r.getRootNode&&r.getRootNode();if(e.contains(r))return!0;if(i&&Og(i)){var o=r;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function vi(e){return kr(e).getComputedStyle(e)}function eO(e){return["table","td","th"].indexOf(ka(e))>=0}function uo(e){return((Xo(e)?e.ownerDocument:e.document)||window.document).documentElement}function cd(e){return ka(e)==="html"?e:e.assignedSlot||e.parentNode||(Og(e)?e.host:null)||uo(e)}function cb(e){return!na(e)||vi(e).position==="fixed"?null:e.offsetParent}function nO(e){var r=/firefox/i.test(ng()),i=/Trident/i.test(ng());if(i&&na(e)){var o=vi(e);if(o.position==="fixed")return null}var l=cd(e);for(Og(l)&&(l=l.host);na(l)&&["html","body"].indexOf(ka(l))<0;){var c=vi(l);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||r&&c.willChange==="filter"||r&&c.filter&&c.filter!=="none")return l;l=l.parentNode}return null}function Vu(e){for(var r=kr(e),i=cb(e);i&&eO(i)&&vi(i).position==="static";)i=cb(i);return i&&(ka(i)==="html"||ka(i)==="body"&&vi(i).position==="static")?r:i||nO(e)||r}function Rg(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function cu(e,r,i){return qo(e,Uf(r,i))}function rO(e,r,i){var o=cu(e,r,i);return o>i?i:o}function cw(){return{top:0,right:0,bottom:0,left:0}}function fw(e){return Object.assign({},cw(),e)}function dw(e,r){return r.reduce(function(i,o){return i[o]=e,i},{})}var aO=function(r,i){return r=typeof r=="function"?r(Object.assign({},i.rects,{placement:i.placement})):r,fw(typeof r!="number"?r:dw(r,qu))};function iO(e){var r,i=e.state,o=e.name,l=e.options,c=i.elements.arrow,d=i.modifiersData.popperOffsets,g=ja(i.placement),m=Rg(g),y=[Cr,aa].indexOf(g)>=0,x=y?"height":"width";if(!(!c||!d)){var v=aO(l.padding,i),w=Mg(c),T=m==="y"?Tr:Cr,O=m==="y"?ra:aa,N=i.rects.reference[x]+i.rects.reference[m]-d[m]-i.rects.popper[x],B=d[m]-i.rects.reference[m],z=Vu(c),K=z?m==="y"?z.clientHeight||0:z.clientWidth||0:0,A=N/2-B/2,_=v[T],$=K-w[x]-v[O],L=K/2-w[x]/2+A,j=cu(_,L,$),G=m;i.modifiersData[o]=(r={},r[G]=j,r.centerOffset=j-L,r)}}function oO(e){var r=e.state,i=e.options,o=i.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=r.elements.popper.querySelector(l),!l)||uw(r.elements.popper,l)&&(r.elements.arrow=l))}const sO={name:"arrow",enabled:!0,phase:"main",fn:iO,effect:oO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nl(e){return e.split("-")[1]}var lO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uO(e,r){var i=e.x,o=e.y,l=r.devicePixelRatio||1;return{x:tl(i*l)/l||0,y:tl(o*l)/l||0}}function fb(e){var r,i=e.popper,o=e.popperRect,l=e.placement,c=e.variation,d=e.offsets,g=e.position,m=e.gpuAcceleration,y=e.adaptive,x=e.roundOffsets,v=e.isFixed,w=d.x,T=w===void 0?0:w,O=d.y,N=O===void 0?0:O,B=typeof x=="function"?x({x:T,y:N}):{x:T,y:N};T=B.x,N=B.y;var z=d.hasOwnProperty("x"),K=d.hasOwnProperty("y"),A=Cr,_=Tr,$=window;if(y){var L=Vu(i),j="clientHeight",G="clientWidth";if(L===kr(i)&&(L=uo(i),vi(L).position!=="static"&&g==="absolute"&&(j="scrollHeight",G="scrollWidth")),L=L,l===Tr||(l===Cr||l===aa)&&c===Cu){_=ra;var J=v&&L===$&&$.visualViewport?$.visualViewport.height:L[j];N-=J-o.height,N*=m?1:-1}if(l===Cr||(l===Tr||l===ra)&&c===Cu){A=aa;var vt=v&&L===$&&$.visualViewport?$.visualViewport.width:L[G];T-=vt-o.width,T*=m?1:-1}}var pt=Object.assign({position:g},y&&lO),et=x===!0?uO({x:T,y:N},kr(i)):{x:T,y:N};if(T=et.x,N=et.y,m){var lt;return Object.assign({},pt,(lt={},lt[_]=K?"0":"",lt[A]=z?"0":"",lt.transform=($.devicePixelRatio||1)<=1?"translate("+T+"px, "+N+"px)":"translate3d("+T+"px, "+N+"px, 0)",lt))}return Object.assign({},pt,(r={},r[_]=K?N+"px":"",r[A]=z?T+"px":"",r.transform="",r))}function cO(e){var r=e.state,i=e.options,o=i.gpuAcceleration,l=o===void 0?!0:o,c=i.adaptive,d=c===void 0?!0:c,g=i.roundOffsets,m=g===void 0?!0:g,y={placement:ja(r.placement),variation:nl(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:l,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,fb(Object.assign({},y,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:d,roundOffsets:m})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,fb(Object.assign({},y,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const fO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cO,data:{}};var pf={passive:!0};function dO(e){var r=e.state,i=e.instance,o=e.options,l=o.scroll,c=l===void 0?!0:l,d=o.resize,g=d===void 0?!0:d,m=kr(r.elements.popper),y=[].concat(r.scrollParents.reference,r.scrollParents.popper);return c&&y.forEach(function(x){x.addEventListener("scroll",i.update,pf)}),g&&m.addEventListener("resize",i.update,pf),function(){c&&y.forEach(function(x){x.removeEventListener("scroll",i.update,pf)}),g&&m.removeEventListener("resize",i.update,pf)}}const hO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dO,data:{}};var pO={left:"right",right:"left",bottom:"top",top:"bottom"};function Tf(e){return e.replace(/left|right|bottom|top/g,function(r){return pO[r]})}var gO={start:"end",end:"start"};function db(e){return e.replace(/start|end/g,function(r){return gO[r]})}function zg(e){var r=kr(e),i=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:i,scrollTop:o}}function Bg(e){return el(uo(e)).left+zg(e).scrollLeft}function mO(e,r){var i=kr(e),o=uo(e),l=i.visualViewport,c=o.clientWidth,d=o.clientHeight,g=0,m=0;if(l){c=l.width,d=l.height;var y=lw();(y||!y&&r==="fixed")&&(g=l.offsetLeft,m=l.offsetTop)}return{width:c,height:d,x:g+Bg(e),y:m}}function yO(e){var r,i=uo(e),o=zg(e),l=(r=e.ownerDocument)==null?void 0:r.body,c=qo(i.scrollWidth,i.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=qo(i.scrollHeight,i.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),g=-o.scrollLeft+Bg(e),m=-o.scrollTop;return vi(l||i).direction==="rtl"&&(g+=qo(i.clientWidth,l?l.clientWidth:0)-c),{width:c,height:d,x:g,y:m}}function jg(e){var r=vi(e),i=r.overflow,o=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(i+l+o)}function hw(e){return["html","body","#document"].indexOf(ka(e))>=0?e.ownerDocument.body:na(e)&&jg(e)?e:hw(cd(e))}function fu(e,r){var i;r===void 0&&(r=[]);var o=hw(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),c=kr(o),d=l?[c].concat(c.visualViewport||[],jg(o)?o:[]):o,g=r.concat(d);return l?g:g.concat(fu(cd(d)))}function rg(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vO(e,r){var i=el(e,!1,r==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function hb(e,r,i){return r===iw?rg(mO(e,i)):Xo(r)?vO(r,i):rg(yO(uo(e)))}function bO(e){var r=fu(cd(e)),i=["absolute","fixed"].indexOf(vi(e).position)>=0,o=i&&na(e)?Vu(e):e;return Xo(o)?r.filter(function(l){return Xo(l)&&uw(l,o)&&ka(l)!=="body"}):[]}function xO(e,r,i,o){var l=r==="clippingParents"?bO(e):[].concat(r),c=[].concat(l,[i]),d=c[0],g=c.reduce(function(m,y){var x=hb(e,y,o);return m.top=qo(x.top,m.top),m.right=Uf(x.right,m.right),m.bottom=Uf(x.bottom,m.bottom),m.left=qo(x.left,m.left),m},hb(e,d,o));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}function pw(e){var r=e.reference,i=e.element,o=e.placement,l=o?ja(o):null,c=o?nl(o):null,d=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,m;switch(l){case Tr:m={x:d,y:r.y-i.height};break;case ra:m={x:d,y:r.y+r.height};break;case aa:m={x:r.x+r.width,y:g};break;case Cr:m={x:r.x-i.width,y:g};break;default:m={x:r.x,y:r.y}}var y=l?Rg(l):null;if(y!=null){var x=y==="y"?"height":"width";switch(c){case Ws:m[y]=m[y]-(r[x]/2-i[x]/2);break;case Cu:m[y]=m[y]+(r[x]/2-i[x]/2);break}}return m}function Nu(e,r){r===void 0&&(r={});var i=r,o=i.placement,l=o===void 0?e.placement:o,c=i.strategy,d=c===void 0?e.strategy:c,g=i.boundary,m=g===void 0?VA:g,y=i.rootBoundary,x=y===void 0?iw:y,v=i.elementContext,w=v===void 0?au:v,T=i.altBoundary,O=T===void 0?!1:T,N=i.padding,B=N===void 0?0:N,z=fw(typeof B!="number"?B:dw(B,qu)),K=w===au?YA:au,A=e.rects.popper,_=e.elements[O?K:w],$=xO(Xo(_)?_:_.contextElement||uo(e.elements.popper),m,x,d),L=el(e.elements.reference),j=pw({reference:L,element:A,placement:l}),G=rg(Object.assign({},A,j)),J=w===au?G:L,vt={top:$.top-J.top+z.top,bottom:J.bottom-$.bottom+z.bottom,left:$.left-J.left+z.left,right:J.right-$.right+z.right},pt=e.modifiersData.offset;if(w===au&&pt){var et=pt[l];Object.keys(vt).forEach(function(lt){var Y=[aa,ra].indexOf(lt)>=0?1:-1,I=[Tr,ra].indexOf(lt)>=0?"y":"x";vt[lt]+=et[I]*Y})}return vt}function wO(e,r){r===void 0&&(r={});var i=r,o=i.placement,l=i.boundary,c=i.rootBoundary,d=i.padding,g=i.flipVariations,m=i.allowedAutoPlacements,y=m===void 0?ow:m,x=nl(o),v=x?g?ub:ub.filter(function(O){return nl(O)===x}):qu,w=v.filter(function(O){return y.indexOf(O)>=0});w.length===0&&(w=v);var T=w.reduce(function(O,N){return O[N]=Nu(e,{placement:N,boundary:l,rootBoundary:c,padding:d})[ja(N)],O},{});return Object.keys(T).sort(function(O,N){return T[O]-T[N]})}function SO(e){if(ja(e)===Ag)return[];var r=Tf(e);return[db(e),r,db(r)]}function EO(e){var r=e.state,i=e.options,o=e.name;if(!r.modifiersData[o]._skip){for(var l=i.mainAxis,c=l===void 0?!0:l,d=i.altAxis,g=d===void 0?!0:d,m=i.fallbackPlacements,y=i.padding,x=i.boundary,v=i.rootBoundary,w=i.altBoundary,T=i.flipVariations,O=T===void 0?!0:T,N=i.allowedAutoPlacements,B=r.options.placement,z=ja(B),K=z===B,A=m||(K||!O?[Tf(B)]:SO(B)),_=[B].concat(A).reduce(function(gt,Tt){return gt.concat(ja(Tt)===Ag?wO(r,{placement:Tt,boundary:x,rootBoundary:v,padding:y,flipVariations:O,allowedAutoPlacements:N}):Tt)},[]),$=r.rects.reference,L=r.rects.popper,j=new Map,G=!0,J=_[0],vt=0;vt<_.length;vt++){var pt=_[vt],et=ja(pt),lt=nl(pt)===Ws,Y=[Tr,ra].indexOf(et)>=0,I=Y?"width":"height",M=Nu(r,{placement:pt,boundary:x,rootBoundary:v,altBoundary:w,padding:y}),q=Y?lt?aa:Cr:lt?ra:Tr;$[I]>L[I]&&(q=Tf(q));var Q=Tf(q),tt=[];if(c&&tt.push(M[et]<=0),g&&tt.push(M[q]<=0,M[Q]<=0),tt.every(function(gt){return gt})){J=pt,G=!1;break}j.set(pt,tt)}if(G)for(var ht=O?3:1,k=function(Tt){var Ot=_.find(function(jt){var Ct=j.get(jt);if(Ct)return Ct.slice(0,Tt).every(function(St){return St})});if(Ot)return J=Ot,"break"},Z=ht;Z>0;Z--){var st=k(Z);if(st==="break")break}r.placement!==J&&(r.modifiersData[o]._skip=!0,r.placement=J,r.reset=!0)}}const _O={name:"flip",enabled:!0,phase:"main",fn:EO,requiresIfExists:["offset"],data:{_skip:!1}};function pb(e,r,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-r.height-i.y,right:e.right-r.width+i.x,bottom:e.bottom-r.height+i.y,left:e.left-r.width-i.x}}function gb(e){return[Tr,aa,ra,Cr].some(function(r){return e[r]>=0})}function TO(e){var r=e.state,i=e.name,o=r.rects.reference,l=r.rects.popper,c=r.modifiersData.preventOverflow,d=Nu(r,{elementContext:"reference"}),g=Nu(r,{altBoundary:!0}),m=pb(d,o),y=pb(g,l,c),x=gb(m),v=gb(y);r.modifiersData[i]={referenceClippingOffsets:m,popperEscapeOffsets:y,isReferenceHidden:x,hasPopperEscaped:v},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":v})}const CO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:TO};function NO(e,r,i){var o=ja(e),l=[Cr,Tr].indexOf(o)>=0?-1:1,c=typeof i=="function"?i(Object.assign({},r,{placement:e})):i,d=c[0],g=c[1];return d=d||0,g=(g||0)*l,[Cr,aa].indexOf(o)>=0?{x:g,y:d}:{x:d,y:g}}function DO(e){var r=e.state,i=e.options,o=e.name,l=i.offset,c=l===void 0?[0,0]:l,d=ow.reduce(function(x,v){return x[v]=NO(v,r.rects,c),x},{}),g=d[r.placement],m=g.x,y=g.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=m,r.modifiersData.popperOffsets.y+=y),r.modifiersData[o]=d}const AO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DO};function OO(e){var r=e.state,i=e.name;r.modifiersData[i]=pw({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})}const MO={name:"popperOffsets",enabled:!0,phase:"read",fn:OO,data:{}};function RO(e){return e==="x"?"y":"x"}function zO(e){var r=e.state,i=e.options,o=e.name,l=i.mainAxis,c=l===void 0?!0:l,d=i.altAxis,g=d===void 0?!1:d,m=i.boundary,y=i.rootBoundary,x=i.altBoundary,v=i.padding,w=i.tether,T=w===void 0?!0:w,O=i.tetherOffset,N=O===void 0?0:O,B=Nu(r,{boundary:m,rootBoundary:y,padding:v,altBoundary:x}),z=ja(r.placement),K=nl(r.placement),A=!K,_=Rg(z),$=RO(_),L=r.modifiersData.popperOffsets,j=r.rects.reference,G=r.rects.popper,J=typeof N=="function"?N(Object.assign({},r.rects,{placement:r.placement})):N,vt=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),pt=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,et={x:0,y:0};if(L){if(c){var lt,Y=_==="y"?Tr:Cr,I=_==="y"?ra:aa,M=_==="y"?"height":"width",q=L[_],Q=q+B[Y],tt=q-B[I],ht=T?-G[M]/2:0,k=K===Ws?j[M]:G[M],Z=K===Ws?-G[M]:-j[M],st=r.elements.arrow,gt=T&&st?Mg(st):{width:0,height:0},Tt=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:cw(),Ot=Tt[Y],jt=Tt[I],Ct=cu(0,j[M],gt[M]),St=A?j[M]/2-ht-Ct-Ot-vt.mainAxis:k-Ct-Ot-vt.mainAxis,It=A?-j[M]/2+ht+Ct+jt+vt.mainAxis:Z+Ct+jt+vt.mainAxis,te=r.elements.arrow&&Vu(r.elements.arrow),Ht=te?_==="y"?te.clientTop||0:te.clientLeft||0:0,Ft=(lt=pt?.[_])!=null?lt:0,Zt=q+St-Ft-Ht,oe=q+It-Ft,be=cu(T?Uf(Q,Zt):Q,q,T?qo(tt,oe):tt);L[_]=be,et[_]=be-q}if(g){var De,yn=_==="x"?Tr:Cr,Ge=_==="x"?ra:aa,je=L[$],Ae=$==="y"?"height":"width",Oe=je+B[yn],Ve=je-B[Ge],Ye=[Tr,Cr].indexOf(z)!==-1,En=(De=pt?.[$])!=null?De:0,Ie=Ye?Oe:je-j[Ae]-G[Ae]-En+vt.altAxis,Xe=Ye?je+j[Ae]+G[Ae]-En-vt.altAxis:Ve,nn=T&&Ye?rO(Ie,je,Xe):cu(T?Ie:Oe,je,T?Xe:Ve);L[$]=nn,et[$]=nn-je}r.modifiersData[o]=et}}const BO={name:"preventOverflow",enabled:!0,phase:"main",fn:zO,requiresIfExists:["offset"]};function jO(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function HO(e){return e===kr(e)||!na(e)?zg(e):jO(e)}function kO(e){var r=e.getBoundingClientRect(),i=tl(r.width)/e.offsetWidth||1,o=tl(r.height)/e.offsetHeight||1;return i!==1||o!==1}function LO(e,r,i){i===void 0&&(i=!1);var o=na(r),l=na(r)&&kO(r),c=uo(r),d=el(e,l,i),g={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!i)&&((ka(r)!=="body"||jg(c))&&(g=HO(r)),na(r)?(m=el(r,!0),m.x+=r.clientLeft,m.y+=r.clientTop):c&&(m.x=Bg(c))),{x:d.left+g.scrollLeft-m.x,y:d.top+g.scrollTop-m.y,width:d.width,height:d.height}}function UO(e){var r=new Map,i=new Set,o=[];e.forEach(function(c){r.set(c.name,c)});function l(c){i.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(g){if(!i.has(g)){var m=r.get(g);m&&l(m)}}),o.push(c)}return e.forEach(function(c){i.has(c.name)||l(c)}),o}function qO(e){var r=UO(e);return JA.reduce(function(i,o){return i.concat(r.filter(function(l){return l.phase===o}))},[])}function VO(e){var r;return function(){return r||(r=new Promise(function(i){Promise.resolve().then(function(){r=void 0,i(e())})})),r}}function YO(e){var r=e.reduce(function(i,o){var l=i[o.name];return i[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,i},{});return Object.keys(r).map(function(i){return r[i]})}var mb={placement:"bottom",modifiers:[],strategy:"absolute"};function yb(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function $O(e){e===void 0&&(e={});var r=e,i=r.defaultModifiers,o=i===void 0?[]:i,l=r.defaultOptions,c=l===void 0?mb:l;return function(g,m,y){y===void 0&&(y=c);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},mb,c),modifiersData:{},elements:{reference:g,popper:m},attributes:{},styles:{}},v=[],w=!1,T={state:x,setOptions:function(z){var K=typeof z=="function"?z(x.options):z;N(),x.options=Object.assign({},c,x.options,K),x.scrollParents={reference:Xo(g)?fu(g):g.contextElement?fu(g.contextElement):[],popper:fu(m)};var A=qO(YO([].concat(o,x.options.modifiers)));return x.orderedModifiers=A.filter(function(_){return _.enabled}),O(),T.update()},forceUpdate:function(){if(!w){var z=x.elements,K=z.reference,A=z.popper;if(yb(K,A)){x.rects={reference:LO(K,Vu(A),x.options.strategy==="fixed"),popper:Mg(A)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(vt){return x.modifiersData[vt.name]=Object.assign({},vt.data)});for(var _=0;_<x.orderedModifiers.length;_++){if(x.reset===!0){x.reset=!1,_=-1;continue}var $=x.orderedModifiers[_],L=$.fn,j=$.options,G=j===void 0?{}:j,J=$.name;typeof L=="function"&&(x=L({state:x,options:G,name:J,instance:T})||x)}}}},update:VO(function(){return new Promise(function(B){T.forceUpdate(),B(x)})}),destroy:function(){N(),w=!0}};if(!yb(g,m))return T;T.setOptions(y).then(function(B){!w&&y.onFirstUpdate&&y.onFirstUpdate(B)});function O(){x.orderedModifiers.forEach(function(B){var z=B.name,K=B.options,A=K===void 0?{}:K,_=B.effect;if(typeof _=="function"){var $=_({state:x,name:z,instance:T,options:A}),L=function(){};v.push($||L)}})}function N(){v.forEach(function(B){return B()}),v=[]}return T}}var XO=[hO,MO,fO,sw,AO,_O,BO,sO,CO],KO=$O({defaultModifiers:XO}),GO="tippy-box",gw="tippy-content",IO="tippy-backdrop",mw="tippy-arrow",yw="tippy-svg-arrow",jo={passive:!0,capture:!0},vw=function(){return document.body};function Cp(e,r,i){if(Array.isArray(e)){var o=e[r];return o??(Array.isArray(i)?i[r]:i)}return e}function Hg(e,r){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(r+"]")>-1}function bw(e,r){return typeof e=="function"?e.apply(void 0,r):e}function vb(e,r){if(r===0)return e;var i;return function(o){clearTimeout(i),i=setTimeout(function(){e(o)},r)}}function ZO(e){return e.split(/\s+/).filter(Boolean)}function Us(e){return[].concat(e)}function bb(e,r){e.indexOf(r)===-1&&e.push(r)}function QO(e){return e.filter(function(r,i){return e.indexOf(r)===i})}function PO(e){return e.split("-")[0]}function qf(e){return[].slice.call(e)}function xb(e){return Object.keys(e).reduce(function(r,i){return e[i]!==void 0&&(r[i]=e[i]),r},{})}function du(){return document.createElement("div")}function fd(e){return["Element","Fragment"].some(function(r){return Hg(e,r)})}function FO(e){return Hg(e,"NodeList")}function JO(e){return Hg(e,"MouseEvent")}function WO(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function t3(e){return fd(e)?[e]:FO(e)?qf(e):Array.isArray(e)?e:qf(document.querySelectorAll(e))}function Np(e,r){e.forEach(function(i){i&&(i.style.transitionDuration=r+"ms")})}function wb(e,r){e.forEach(function(i){i&&i.setAttribute("data-state",r)})}function e3(e){var r,i=Us(e),o=i[0];return o!=null&&(r=o.ownerDocument)!=null&&r.body?o.ownerDocument:document}function n3(e,r){var i=r.clientX,o=r.clientY;return e.every(function(l){var c=l.popperRect,d=l.popperState,g=l.props,m=g.interactiveBorder,y=PO(d.placement),x=d.modifiersData.offset;if(!x)return!0;var v=y==="bottom"?x.top.y:0,w=y==="top"?x.bottom.y:0,T=y==="right"?x.left.x:0,O=y==="left"?x.right.x:0,N=c.top-o+v>m,B=o-c.bottom-w>m,z=c.left-i+T>m,K=i-c.right-O>m;return N||B||z||K})}function Dp(e,r,i){var o=r+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(l){e[o](l,i)})}function Sb(e,r){for(var i=r;i;){var o;if(e.contains(i))return!0;i=i.getRootNode==null||(o=i.getRootNode())==null?void 0:o.host}return!1}var Ra={isTouch:!1},Eb=0;function r3(){Ra.isTouch||(Ra.isTouch=!0,window.performance&&document.addEventListener("mousemove",xw))}function xw(){var e=performance.now();e-Eb<20&&(Ra.isTouch=!1,document.removeEventListener("mousemove",xw)),Eb=e}function a3(){var e=document.activeElement;if(WO(e)){var r=e._tippy;e.blur&&!r.state.isVisible&&e.blur()}}function i3(){document.addEventListener("touchstart",r3,jo),window.addEventListener("blur",a3)}var o3=typeof window<"u"&&typeof document<"u",s3=o3?!!window.msCrypto:!1,l3={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},u3={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ya=Object.assign({appendTo:vw,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},l3,u3),c3=Object.keys(ya),f3=function(r){var i=Object.keys(r);i.forEach(function(o){ya[o]=r[o]})};function ww(e){var r=e.plugins||[],i=r.reduce(function(o,l){var c=l.name,d=l.defaultValue;if(c){var g;o[c]=e[c]!==void 0?e[c]:(g=ya[c])!=null?g:d}return o},{});return Object.assign({},e,i)}function d3(e,r){var i=r?Object.keys(ww(Object.assign({},ya,{plugins:r}))):c3,o=i.reduce(function(l,c){var d=(e.getAttribute("data-tippy-"+c)||"").trim();if(!d)return l;if(c==="content")l[c]=d;else try{l[c]=JSON.parse(d)}catch{l[c]=d}return l},{});return o}function _b(e,r){var i=Object.assign({},r,{content:bw(r.content,[e])},r.ignoreAttributes?{}:d3(e,r.plugins));return i.aria=Object.assign({},ya.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?r.interactive:i.aria.expanded,content:i.aria.content==="auto"?r.interactive?null:"describedby":i.aria.content},i}var h3=function(){return"innerHTML"};function ag(e,r){e[h3()]=r}function Tb(e){var r=du();return e===!0?r.className=mw:(r.className=yw,fd(e)?r.appendChild(e):ag(r,e)),r}function Cb(e,r){fd(r.content)?(ag(e,""),e.appendChild(r.content)):typeof r.content!="function"&&(r.allowHTML?ag(e,r.content):e.textContent=r.content)}function ig(e){var r=e.firstElementChild,i=qf(r.children);return{box:r,content:i.find(function(o){return o.classList.contains(gw)}),arrow:i.find(function(o){return o.classList.contains(mw)||o.classList.contains(yw)}),backdrop:i.find(function(o){return o.classList.contains(IO)})}}function Sw(e){var r=du(),i=du();i.className=GO,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var o=du();o.className=gw,o.setAttribute("data-state","hidden"),Cb(o,e.props),r.appendChild(i),i.appendChild(o),l(e.props,e.props);function l(c,d){var g=ig(r),m=g.box,y=g.content,x=g.arrow;d.theme?m.setAttribute("data-theme",d.theme):m.removeAttribute("data-theme"),typeof d.animation=="string"?m.setAttribute("data-animation",d.animation):m.removeAttribute("data-animation"),d.inertia?m.setAttribute("data-inertia",""):m.removeAttribute("data-inertia"),m.style.maxWidth=typeof d.maxWidth=="number"?d.maxWidth+"px":d.maxWidth,d.role?m.setAttribute("role",d.role):m.removeAttribute("role"),(c.content!==d.content||c.allowHTML!==d.allowHTML)&&Cb(y,e.props),d.arrow?x?c.arrow!==d.arrow&&(m.removeChild(x),m.appendChild(Tb(d.arrow))):m.appendChild(Tb(d.arrow)):x&&m.removeChild(x)}return{popper:r,onUpdate:l}}Sw.$$tippy=!0;var p3=1,gf=[],Ap=[];function g3(e,r){var i=_b(e,Object.assign({},ya,ww(xb(r)))),o,l,c,d=!1,g=!1,m=!1,y=!1,x,v,w,T=[],O=vb(Zt,i.interactiveDebounce),N,B=p3++,z=null,K=QO(i.plugins),A={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:B,reference:e,popper:du(),popperInstance:z,props:i,state:A,plugins:K,clearDelayTimeouts:Ie,setProps:Xe,setContent:nn,show:_n,hide:vn,hideWithInteractivity:bn,enable:Ye,disable:En,unmount:hn,destroy:$n};if(!i.render)return _;var $=i.render(_),L=$.popper,j=$.onUpdate;L.setAttribute("data-tippy-root",""),L.id="tippy-"+_.id,_.popper=L,e._tippy=_,L._tippy=_;var G=K.map(function(Et){return Et.fn(_)}),J=e.hasAttribute("aria-expanded");return te(),ht(),q(),Q("onCreate",[_]),i.showOnCreate&&Oe(),L.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),L.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&Y().addEventListener("mousemove",O)}),_;function vt(){var Et=_.props.touch;return Array.isArray(Et)?Et:[Et,0]}function pt(){return vt()[0]==="hold"}function et(){var Et;return!!((Et=_.props.render)!=null&&Et.$$tippy)}function lt(){return N||e}function Y(){var Et=lt().parentNode;return Et?e3(Et):document}function I(){return ig(L)}function M(Et){return _.state.isMounted&&!_.state.isVisible||Ra.isTouch||x&&x.type==="focus"?0:Cp(_.props.delay,Et?0:1,ya.delay)}function q(Et){Et===void 0&&(Et=!1),L.style.pointerEvents=_.props.interactive&&!Et?"":"none",L.style.zIndex=""+_.props.zIndex}function Q(Et,Vt,Dt){if(Dt===void 0&&(Dt=!0),G.forEach(function(re){re[Et]&&re[Et].apply(re,Vt)}),Dt){var he;(he=_.props)[Et].apply(he,Vt)}}function tt(){var Et=_.props.aria;if(Et.content){var Vt="aria-"+Et.content,Dt=L.id,he=Us(_.props.triggerTarget||e);he.forEach(function(re){var Me=re.getAttribute(Vt);if(_.state.isVisible)re.setAttribute(Vt,Me?Me+" "+Dt:Dt);else{var kt=Me&&Me.replace(Dt,"").trim();kt?re.setAttribute(Vt,kt):re.removeAttribute(Vt)}})}}function ht(){if(!(J||!_.props.aria.expanded)){var Et=Us(_.props.triggerTarget||e);Et.forEach(function(Vt){_.props.interactive?Vt.setAttribute("aria-expanded",_.state.isVisible&&Vt===lt()?"true":"false"):Vt.removeAttribute("aria-expanded")})}}function k(){Y().removeEventListener("mousemove",O),gf=gf.filter(function(Et){return Et!==O})}function Z(Et){if(!(Ra.isTouch&&(m||Et.type==="mousedown"))){var Vt=Et.composedPath&&Et.composedPath()[0]||Et.target;if(!(_.props.interactive&&Sb(L,Vt))){if(Us(_.props.triggerTarget||e).some(function(Dt){return Sb(Dt,Vt)})){if(Ra.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else Q("onClickOutside",[_,Et]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),g=!0,setTimeout(function(){g=!1}),_.state.isMounted||Ot())}}}function st(){m=!0}function gt(){m=!1}function Tt(){var Et=Y();Et.addEventListener("mousedown",Z,!0),Et.addEventListener("touchend",Z,jo),Et.addEventListener("touchstart",gt,jo),Et.addEventListener("touchmove",st,jo)}function Ot(){var Et=Y();Et.removeEventListener("mousedown",Z,!0),Et.removeEventListener("touchend",Z,jo),Et.removeEventListener("touchstart",gt,jo),Et.removeEventListener("touchmove",st,jo)}function jt(Et,Vt){St(Et,function(){!_.state.isVisible&&L.parentNode&&L.parentNode.contains(L)&&Vt()})}function Ct(Et,Vt){St(Et,Vt)}function St(Et,Vt){var Dt=I().box;function he(re){re.target===Dt&&(Dp(Dt,"remove",he),Vt())}if(Et===0)return Vt();Dp(Dt,"remove",v),Dp(Dt,"add",he),v=he}function It(Et,Vt,Dt){Dt===void 0&&(Dt=!1);var he=Us(_.props.triggerTarget||e);he.forEach(function(re){re.addEventListener(Et,Vt,Dt),T.push({node:re,eventType:Et,handler:Vt,options:Dt})})}function te(){pt()&&(It("touchstart",Ft,{passive:!0}),It("touchend",oe,{passive:!0})),ZO(_.props.trigger).forEach(function(Et){if(Et!=="manual")switch(It(Et,Ft),Et){case"mouseenter":It("mouseleave",oe);break;case"focus":It(s3?"focusout":"blur",be);break;case"focusin":It("focusout",be);break}})}function Ht(){T.forEach(function(Et){var Vt=Et.node,Dt=Et.eventType,he=Et.handler,re=Et.options;Vt.removeEventListener(Dt,he,re)}),T=[]}function Ft(Et){var Vt,Dt=!1;if(!(!_.state.isEnabled||De(Et)||g)){var he=((Vt=x)==null?void 0:Vt.type)==="focus";x=Et,N=Et.currentTarget,ht(),!_.state.isVisible&&JO(Et)&&gf.forEach(function(re){return re(Et)}),Et.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||d)&&_.props.hideOnClick!==!1&&_.state.isVisible?Dt=!0:Oe(Et),Et.type==="click"&&(d=!Dt),Dt&&!he&&Ve(Et)}}function Zt(Et){var Vt=Et.target,Dt=lt().contains(Vt)||L.contains(Vt);if(!(Et.type==="mousemove"&&Dt)){var he=Ae().concat(L).map(function(re){var Me,kt=re._tippy,Tn=(Me=kt.popperInstance)==null?void 0:Me.state;return Tn?{popperRect:re.getBoundingClientRect(),popperState:Tn,props:i}:null}).filter(Boolean);n3(he,Et)&&(k(),Ve(Et))}}function oe(Et){var Vt=De(Et)||_.props.trigger.indexOf("click")>=0&&d;if(!Vt){if(_.props.interactive){_.hideWithInteractivity(Et);return}Ve(Et)}}function be(Et){_.props.trigger.indexOf("focusin")<0&&Et.target!==lt()||_.props.interactive&&Et.relatedTarget&&L.contains(Et.relatedTarget)||Ve(Et)}function De(Et){return Ra.isTouch?pt()!==Et.type.indexOf("touch")>=0:!1}function yn(){Ge();var Et=_.props,Vt=Et.popperOptions,Dt=Et.placement,he=Et.offset,re=Et.getReferenceClientRect,Me=Et.moveTransition,kt=et()?ig(L).arrow:null,Tn=re?{getBoundingClientRect:re,contextElement:re.contextElement||lt()}:e,ke={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ue){var pe=ue.state;if(et()){var _e=I(),Le=_e.box;["placement","reference-hidden","escaped"].forEach(function(fe){fe==="placement"?Le.setAttribute("data-placement",pe.placement):pe.attributes.popper["data-popper-"+fe]?Le.setAttribute("data-"+fe,""):Le.removeAttribute("data-"+fe)}),pe.attributes.popper={}}}},xe=[{name:"offset",options:{offset:he}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Me}},ke];et()&&kt&&xe.push({name:"arrow",options:{element:kt,padding:3}}),xe.push.apply(xe,Vt?.modifiers||[]),_.popperInstance=KO(Tn,L,Object.assign({},Vt,{placement:Dt,onFirstUpdate:w,modifiers:xe}))}function Ge(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function je(){var Et=_.props.appendTo,Vt,Dt=lt();_.props.interactive&&Et===vw||Et==="parent"?Vt=Dt.parentNode:Vt=bw(Et,[Dt]),Vt.contains(L)||Vt.appendChild(L),_.state.isMounted=!0,yn()}function Ae(){return qf(L.querySelectorAll("[data-tippy-root]"))}function Oe(Et){_.clearDelayTimeouts(),Et&&Q("onTrigger",[_,Et]),Tt();var Vt=M(!0),Dt=vt(),he=Dt[0],re=Dt[1];Ra.isTouch&&he==="hold"&&re&&(Vt=re),Vt?o=setTimeout(function(){_.show()},Vt):_.show()}function Ve(Et){if(_.clearDelayTimeouts(),Q("onUntrigger",[_,Et]),!_.state.isVisible){Ot();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Et.type)>=0&&d)){var Vt=M(!1);Vt?l=setTimeout(function(){_.state.isVisible&&_.hide()},Vt):c=requestAnimationFrame(function(){_.hide()})}}function Ye(){_.state.isEnabled=!0}function En(){_.hide(),_.state.isEnabled=!1}function Ie(){clearTimeout(o),clearTimeout(l),cancelAnimationFrame(c)}function Xe(Et){if(!_.state.isDestroyed){Q("onBeforeUpdate",[_,Et]),Ht();var Vt=_.props,Dt=_b(e,Object.assign({},Vt,xb(Et),{ignoreAttributes:!0}));_.props=Dt,te(),Vt.interactiveDebounce!==Dt.interactiveDebounce&&(k(),O=vb(Zt,Dt.interactiveDebounce)),Vt.triggerTarget&&!Dt.triggerTarget?Us(Vt.triggerTarget).forEach(function(he){he.removeAttribute("aria-expanded")}):Dt.triggerTarget&&e.removeAttribute("aria-expanded"),ht(),q(),j&&j(Vt,Dt),_.popperInstance&&(yn(),Ae().forEach(function(he){requestAnimationFrame(he._tippy.popperInstance.forceUpdate)})),Q("onAfterUpdate",[_,Et])}}function nn(Et){_.setProps({content:Et})}function _n(){var Et=_.state.isVisible,Vt=_.state.isDestroyed,Dt=!_.state.isEnabled,he=Ra.isTouch&&!_.props.touch,re=Cp(_.props.duration,0,ya.duration);if(!(Et||Vt||Dt||he)&&!lt().hasAttribute("disabled")&&(Q("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,et()&&(L.style.visibility="visible"),q(),Tt(),_.state.isMounted||(L.style.transition="none"),et()){var Me=I(),kt=Me.box,Tn=Me.content;Np([kt,Tn],0)}w=function(){var xe;if(!(!_.state.isVisible||y)){if(y=!0,L.offsetHeight,L.style.transition=_.props.moveTransition,et()&&_.props.animation){var Gt=I(),ue=Gt.box,pe=Gt.content;Np([ue,pe],re),wb([ue,pe],"visible")}tt(),ht(),bb(Ap,_),(xe=_.popperInstance)==null||xe.forceUpdate(),Q("onMount",[_]),_.props.animation&&et()&&Ct(re,function(){_.state.isShown=!0,Q("onShown",[_])})}},je()}}function vn(){var Et=!_.state.isVisible,Vt=_.state.isDestroyed,Dt=!_.state.isEnabled,he=Cp(_.props.duration,1,ya.duration);if(!(Et||Vt||Dt)&&(Q("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,y=!1,d=!1,et()&&(L.style.visibility="hidden"),k(),Ot(),q(!0),et()){var re=I(),Me=re.box,kt=re.content;_.props.animation&&(Np([Me,kt],he),wb([Me,kt],"hidden"))}tt(),ht(),_.props.animation?et()&&jt(he,_.unmount):_.unmount()}}function bn(Et){Y().addEventListener("mousemove",O),bb(gf,O),O(Et)}function hn(){_.state.isVisible&&_.hide(),_.state.isMounted&&(Ge(),Ae().forEach(function(Et){Et._tippy.unmount()}),L.parentNode&&L.parentNode.removeChild(L),Ap=Ap.filter(function(Et){return Et!==_}),_.state.isMounted=!1,Q("onHidden",[_]))}function $n(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),Ht(),delete e._tippy,_.state.isDestroyed=!0,Q("onDestroy",[_]))}}function Yu(e,r){r===void 0&&(r={});var i=ya.plugins.concat(r.plugins||[]);i3();var o=Object.assign({},r,{plugins:i}),l=t3(e),c=l.reduce(function(d,g){var m=g&&g3(g,o);return m&&d.push(m),d},[]);return fd(e)?c[0]:c}Yu.defaultProps=ya;Yu.setDefaultProps=f3;Yu.currentInput=Ra;Object.assign({},sw,{effect:function(r){var i=r.state,o={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,o.popper),i.styles=o,i.elements.arrow&&Object.assign(i.elements.arrow.style,o.arrow)}});Yu.setDefaultProps({render:Sw});function Ew(e,r){if(e==null)return{};var i={},o=Object.keys(e),l,c;for(c=0;c<o.length;c++)l=o[c],!(r.indexOf(l)>=0)&&(i[l]=e[l]);return i}var _w=typeof window<"u"&&typeof document<"u";function og(e,r){e&&(typeof e=="function"&&e(r),{}.hasOwnProperty.call(e,"current")&&(e.current=r))}function Nb(){return _w&&document.createElement("div")}function m3(e){var r={"data-placement":e.placement};return e.referenceHidden&&(r["data-reference-hidden"]=""),e.escaped&&(r["data-escaped"]=""),r}function Tw(e,r){if(e===r)return!0;if(typeof e=="object"&&e!=null&&typeof r=="object"&&r!=null){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var i in e)if(r.hasOwnProperty(i)){if(!Tw(e[i],r[i]))return!1}else return!1;return!0}else return!1}function y3(e){var r=[];return e.forEach(function(i){r.find(function(o){return Tw(i,o)})||r.push(i)}),r}function v3(e,r){var i,o;return Object.assign({},r,{popperOptions:Object.assign({},e.popperOptions,r.popperOptions,{modifiers:y3([].concat(((i=e.popperOptions)==null?void 0:i.modifiers)||[],((o=r.popperOptions)==null?void 0:o.modifiers)||[]))})})}var Op=_w?H.useLayoutEffect:H.useEffect;function b3(e){var r=H.useRef();return r.current||(r.current=typeof e=="function"?e():e),r.current}function Db(e,r,i){i.split(/\s+/).forEach(function(o){o&&e.classList[r](o)})}var x3={name:"className",defaultValue:"",fn:function(r){var i=r.popper.firstElementChild,o=function(){var g;return!!((g=r.props.render)!=null&&g.$$tippy)};function l(){r.props.className&&!o()||Db(i,"add",r.props.className)}function c(){o()&&Db(i,"remove",r.props.className)}return{onCreate:l,onBeforeUpdate:c,onAfterUpdate:l}}};function w3(e){function r(i){var o=i.children,l=i.content,c=i.visible,d=i.singleton,g=i.render,m=i.reference,y=i.disabled,x=y===void 0?!1:y,v=i.ignoreAttributes,w=v===void 0?!0:v;i.__source,i.__self;var T=Ew(i,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),O=c!==void 0,N=d!==void 0,B=H.useState(!1),z=B[0],K=B[1],A=H.useState({}),_=A[0],$=A[1],L=H.useState(),j=L[0],G=L[1],J=b3(function(){return{container:Nb(),renders:1}}),vt=Object.assign({ignoreAttributes:w},T,{content:J.container});O&&(vt.trigger="manual",vt.hideOnClick=!1),N&&(x=!0);var pt=vt,et=vt.plugins||[];g&&(pt=Object.assign({},vt,{plugins:N&&d.data!=null?[].concat(et,[{fn:function(){return{onTrigger:function(M,q){var Q=d.data.children.find(function(tt){var ht=tt.instance;return ht.reference===q.currentTarget});M.state.$$activeSingletonInstance=Q.instance,G(Q.content)}}}}]):et,render:function(){return{popper:J.container}}}));var lt=[m].concat(o?[o.type]:[]);return Op(function(){var Y=m;m&&m.hasOwnProperty("current")&&(Y=m.current);var I=e(Y||J.ref||Nb(),Object.assign({},pt,{plugins:[x3].concat(vt.plugins||[])}));return J.instance=I,x&&I.disable(),c&&I.show(),N&&d.hook({instance:I,content:l,props:pt,setSingletonContent:G}),K(!0),function(){I.destroy(),d?.cleanup(I)}},lt),Op(function(){var Y;if(J.renders===1){J.renders++;return}var I=J.instance;I.setProps(v3(I.props,pt)),(Y=I.popperInstance)==null||Y.forceUpdate(),x?I.disable():I.enable(),O&&(c?I.show():I.hide()),N&&d.hook({instance:I,content:l,props:pt,setSingletonContent:G})}),Op(function(){var Y;if(g){var I=J.instance;I.setProps({popperOptions:Object.assign({},I.props.popperOptions,{modifiers:[].concat((((Y=I.props.popperOptions)==null?void 0:Y.modifiers)||[]).filter(function(M){var q=M.name;return q!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(q){var Q,tt=q.state,ht=(Q=tt.modifiersData)==null?void 0:Q.hide;(_.placement!==tt.placement||_.referenceHidden!==ht?.isReferenceHidden||_.escaped!==ht?.hasPopperEscaped)&&$({placement:tt.placement,referenceHidden:ht?.isReferenceHidden,escaped:ht?.hasPopperEscaped}),tt.attributes.popper={}}}])})})}},[_.placement,_.referenceHidden,_.escaped].concat(lt)),Bt.createElement(Bt.Fragment,null,o?H.cloneElement(o,{ref:function(I){J.ref=I,og(o.ref,I)}}):null,z&&ko.createPortal(g?g(m3(_),j,J.instance):l,J.container))}return r}var S3=(function(e,r){return H.forwardRef(function(o,l){var c=o.children,d=Ew(o,["children"]);return Bt.createElement(e,Object.assign({},r,d),c?H.cloneElement(c,{ref:function(m){og(l,m),og(c.ref,m)}}):null)})}),kg=S3(w3(Yu)),Cw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ab=Bt.createContext&&Bt.createContext(Cw),E3=["attr","size","title"];function _3(e,r){if(e==null)return{};var i=T3(e,r),o,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)o=c[l],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}function T3(e,r){if(e==null)return{};var i={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(r.indexOf(o)>=0)continue;i[o]=e[o]}return i}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Vf.apply(this,arguments)}function Ob(e,r){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,o)}return i}function Yf(e){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Ob(Object(i),!0).forEach(function(o){C3(e,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ob(Object(i)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o))})}return e}function C3(e,r,i){return r=N3(r),r in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function N3(e){var r=D3(e,"string");return typeof r=="symbol"?r:r+""}function D3(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var o=i.call(e,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Nw(e){return e&&e.map((r,i)=>Bt.createElement(r.tag,Yf({key:i},r.attr),Nw(r.child)))}function Lr(e){return r=>Bt.createElement(A3,Vf({attr:Yf({},e.attr)},r),Nw(e.child))}function A3(e){var r=i=>{var{attr:o,size:l,title:c}=e,d=_3(e,E3),g=l||i.size||"1em",m;return i.className&&(m=i.className),e.className&&(m=(m?m+" ":"")+e.className),Bt.createElement("svg",Vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,o,d,{className:m,style:Yf(Yf({color:e.color||i.color},i.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&Bt.createElement("title",null,c),e.children)};return Ab!==void 0?Bt.createElement(Ab.Consumer,null,i=>r(i)):r(Cw)}function O3(e){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"6",r:"1"},child:[]},{tag:"line",attr:{x1:"5",x2:"19",y1:"12",y2:"12"},child:[]},{tag:"circle",attr:{cx:"12",cy:"18",r:"1"},child:[]}]})(e)}function M3(e){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(e)}function Mb(e){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"},child:[]},{tag:"path",attr:{d:"m15 5 3 3"},child:[]}]})(e)}function R3(e){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(e)}function z3(e){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"},child:[]},{tag:"path",attr:{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"},child:[]},{tag:"path",attr:{d:"M7 3v4a1 1 0 0 0 1 1h7"},child:[]}]})(e)}function Dw(e){return Lr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(e)}const mf=({title:e,setTitle:r,animateWidth:i,reverse:o,buttonMargin:l})=>{const[c,d]=H.useState(!1),g=H.useRef(null),m=H.useRef(null),[y,x]=H.useState(0);return H.useLayoutEffect(()=>{if(m.current){const v=m.current.offsetWidth;x(e===""?c?i??100:0:v)}},[e,c,i]),H.useEffect(()=>{c&&g.current&&g.current.focus()},[c]),o?U.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[U.jsx("span",{ref:m,style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",fontSize:"inherit",fontWeight:"inherit"},children:e}),U.jsx("input",{ref:g,style:{width:y,opacity:y>0?1:0,transition:c&&e===""?"width 0.4s ease, opacity 0.4s ease":"none",background:"transparent",border:"none",padding:"0",borderBottom:c?"0.11rem solid #ccc":"none",outline:"none",textAlign:"right",fontSize:"inherit",fontWeight:"inherit",position:"relative",right:0},value:e,onChange:v=>r(v.target.value),onFocus:()=>d(!0),onBlur:()=>d(!1)}),U.jsx("div",{style:{position:"absolute",marginRight:e?l??"10px":0,display:"flex",right:y,top:0,transition:"right 0.4s ease, opacity 0.4s ease",height:"100%",opacity:c?0:1},children:U.jsx("button",{style:{cursor:"pointer",padding:"5px",pointerEvents:c?"none":"auto",display:"flex",justifyContent:"center",alignItems:"center",background:"none"},onClick:()=>d(!0),children:U.jsx(Mb,{})})})]}):U.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[U.jsx("span",{ref:m,style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",fontSize:"inherit",fontWeight:"inherit"},children:e}),U.jsx("input",{ref:g,style:{width:y,opacity:y>0?1:0,transition:c&&e===""?"width 0.4s ease, opacity 0.4s ease":"none",background:"transparent",border:"none",padding:"0",borderBottom:c?"0.11rem solid #ccc":"none",outline:"none",textAlign:"left",fontSize:"inherit",fontWeight:"inherit",position:"relative",left:0},value:e,onChange:v=>r(v.target.value),onFocus:()=>d(!0),onBlur:()=>d(!1)}),U.jsx("div",{style:{position:"absolute",marginLeft:e?l??"10px":0,display:"flex",left:y,top:0,transition:"left 0.4s ease, opacity 0.4s ease",height:"100%",opacity:c?0:1},children:U.jsx("button",{style:{cursor:"pointer",padding:"5px",pointerEvents:c?"none":"auto",display:"flex",justifyContent:"center",alignItems:"center",background:"none"},onClick:()=>d(!0),children:U.jsx(Mb,{})})})]})},B3={bang:"#ef47f1",boolean:"#fafc77",number:"#4eb3ff"};function wi(e){return e===Er}class Hn extends H.Component{static contextType=ud;id;saveableState={};nodeInstanceRegistry;isVirtualInstance=!1;virtualEdges=[];actionButtonText="Run";label;static isBangable=!1;hideIsActiveHandle=!1;ref=H.createRef();constructor(r){super(r),this.id=r.id,this.isVirtualInstance=r.isVirtual??!1,this.nodeInstanceRegistry=r.data.nodeInstanceRegistry,this.isVirtualInstance&&this.nodeInstanceRegistry.set(this.id,this),this.initState(r.isVirtual?r.stateSnapshot:void 0)}get name(){return this.constructor.defNodeName}get _isBangable(){return this.constructor.isBangable}initState(r){this.setDefaults(),this.state={...this.state,[Wr]:!0},r&&(this.state={...this.state,...r.react},this.saveableState={...this.saveableState,...r.other},this.virtualEdges=r.edges)}onTargetConnected(r,i,o){this.isBangOutputHandle(r)||this.executeTargetCallback(r,i,o)}getHandleType(r){if(r===Wr)return Pt.Boolean;if(r===gi||r===Er)return Pt.Bang;const i=this.handleDefs[r];if(i===void 0)throw new Error("Could not find handle id defined for class");return i.dataType}isHandleConnected(r){return(this.isVirtualInstance?this.virtualEdges:this.context.masterEdges).some(o=>o.source===this.id&&o.sourceHandle===r||o.target===this.id&&o.targetHandle===r)}onOutputChange(r,i){}handleDefToId(r){return Object.entries(this.handleDefs).find(([i,o])=>o===r)?.[0]}getInputIds(){return Object.keys(this.handleDefs).filter(r=>!r.startsWith(ea)&&r!==Ne)}getExtraOutIds(){return Object.keys(this.handleDefs).filter(r=>r.startsWith(ea))}getExtraBangoutIds(){return Object.entries(this.handleDefs).filter(([r,i])=>r.startsWith(ea)&&i.dataType===Pt.Bang).map(r=>r[0])}isBangOutputHandle(r){return r===gi||this.getExtraBangoutIds().includes(r)}setDefaults(){this.state={}}async exeTargetCallbacks(r){await this.executeTargetCallbacks(r)}async exeTargetCallbacksWithEdges(r,i){await this.executeTargetCallbacks(r,i)}forceRender(){this.setState(r=>({...r}))}setStateAsync(r){return this.isVirtualInstance?Promise.resolve().then(()=>{const i=typeof r=="function"?r(this.state,this.props):r;i&&(this.state={...this.state,...i})}):new Promise(i=>{this.setState(r,i)})}async setInput(r,i){if(r!==Wr&&!this.state[Wr])return;console.log("setr",r,i,this.id),await this.setStateAsync({[r]:i??0});const o=this.transform(r);o!==null&&await this.setOutput(o)}async setOutput(r){const i=this.state[Ne];await this.setStateAsync(()=>({[Ne]:r})),await this.executeTargetCallbacks(Ne),this.onOutputChange(i,r)}async executeTargetCallbacks(r,i){const o=i??(this.isVirtualInstance?this.virtualEdges:this.context.masterEdges),l=$f(o,this.id,r);console.log("targets",r,l);for(const c of l){if(!c.targetHandleId)throw new Error("The connected target did not have an identifiable handle");await this.executeTargetCallback(r,c.targetNodeId,c.targetHandleId)}}async executeTargetCallback(r,i,o){if(i===ha)return;const l=this.nodeInstanceRegistry.get(i);if(!l)throw new Error("The connected target node could not be found in the registry");this.getHandleType(r)===Pt.Bang?await l.bang(o):await l.setInput(o,this.state[r])}async bang(r){if(!this.state[Wr])return;const i=this.transform(r);console.log(`${this.id}: banged with `,i,r),i!==null&&r===Er&&(await this.setOutput(i),await this.executeTargetCallbacks(gi))}getHandleElement(r){const i=r===Er||r===gi?{dataType:"bang"}:r===Wr?{label:"Active",dataType:"boolean"}:this.handleDefs[r],o=this.getExtraOutIds().includes(r),l=r===Ne||r===gi||o;return B3[i.dataType],U.jsxs("div",{ref:this.ref,style:{display:"flex",flexDirection:l?"row":"row-reverse",height:"3em",gap:"5px",alignItems:"center",alignSelf:l?"flex-end":"flex-start"},children:[!l&&r!==Er&&U.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[U.jsx(qA,{dataType:i.dataType,value:this.state[r],label:i.label,setValue:i.dataType===Pt.Bang?()=>this.bang(r):c=>r===Wr?this.setInput(Wr,c):this.setInput(r,c),disabled:Lg(this.context.masterEdges,this.id,r).length>0||!this.state[Wr]&&r!==Wr}),i.label&&i.dataType!==Pt.Bang&&U.jsx("div",{children:i.label})]}),o&&i.dataType!==Pt.Bang&&U.jsx("div",{style:{padding:"0 8px",fontSize:"20px",background:"#1d1d20",borderRadius:"4px"},children:U.jsx("div",{children:this.state[r]!==void 0?String(this.state[r]):!1})}),U.jsx(kg,{className:r===gi||r===Er||r===Ne||i.label?"":"hidden",content:r===Er?`${this.actionButtonText} on signal`:r===gi?"Send signal":r===Ne?"Output":i.label,placement:"top",arrow:!1,animation:"fade",duration:[400,250],children:U.jsx(oo,{className:`${i.dataType} ${this.isHandleConnected(r)?"connected":""}`,type:l?"source":"target",position:l?Jt.Right:Jt.Left,id:r,style:{position:"relative",display:"flex",flexDirection:l?"row":"row-reverse",alignSelf:"baseline",height:"10px",width:"10px"},onConnect:c=>{if(console.log("connection",c.sourceHandle,c.targetHandle,this.id),c.source===ha)return;if(c.sourceHandle===null||c.sourceHandle===void 0)throw new Error("Connecting source handle id did not exist");if(c.targetHandle===null||c.targetHandle===void 0)throw new Error("Connecting target handle id did not exist");const d=this.nodeInstanceRegistry.get(c.source);if(!d)throw new Error("Could not find source node in the node registry");d.onTargetConnected(c.sourceHandle,c.target,c.targetHandle)}})})]},r)}renderContent(){const r=this.state[Ne];return U.jsx("div",{children:r!==void 0?String(r):!1})}renderExtra(){}render(){const r=this.getInputIds().map(d=>this.getHandleElement(d)),i=[];Ne in this.handleDefs&&i.push(this.getHandleElement(Ne));const o=this._isBangable&&this.getHandleElement(Er),l=this._isBangable&&this.getHandleElement(gi),c=this.getExtraOutIds().map(d=>this.getHandleElement(d));return U.jsxs("div",{style:{width:"100%"},children:[U.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",background:"#1d1d20",fontSize:"20px",borderTopLeftRadius:8,borderTopRightRadius:8},children:U.jsx("div",{style:{textAlign:"left"},children:this.name})}),U.jsx("div",{style:{padding:"10px 0"},children:U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px"},children:[U.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px",alignItems:"flex-start"},children:U.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",paddingRight:"5px"},children:r})}),this.handleDefs[Ne]?U.jsx("div",{style:{alignContent:"center",fontSize:"36px",background:"#1d1d20",flex:"auto",padding:"15px",borderRadius:"5px",minWidth:"76px",minHeight:"54px",maxWidth:"76px",maxHeight:"54px"},children:this.renderContent()}):this.renderContent(),U.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:U.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly"},children:i.concat(c)})})]})}),U.jsxs("div",{style:{display:"flex",alignItems:"end",justifyContent:"space-between"},children:[!this.hideIsActiveHandle&&U.jsx("div",{children:this.getHandleElement(Wr)}),U.jsx("div",{style:{margin:"5px 10px"},children:this.renderExtra()})]}),this._isBangable&&U.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[U.jsx("div",{style:{position:"absolute"},children:o}),U.jsx("button",{style:{width:"100%",background:"#8161f0",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:8,borderBottomRightRadius:8},onClick:()=>this.bang(Er),children:this.actionButtonText}),U.jsx("div",{style:{position:"absolute",right:0},children:l})]})]})}componentDidMount(){Ko.set(this.id,this),setTimeout(()=>{this.context.setMasterNodes(r=>r.map(i=>{if(i.id!==this.id)return i;const o=i.position.x-(i.measured?.width??0)/2,l=i.position.y-10;return{...i,position:{x:o,y:l},style:{visibility:"visible"}}}))},1)}componentWillUnmount(){Ko.delete(this.id)}}class $u extends Hn{static defNodeName="";handleDefs={};internalEdges=[];internalNodeInstanceRegistry;constructor(r){super(r),this.load()}transform(r){return wi(r)?(async()=>(await this.exeTargetCallbacksWithEdges(Er,this.internalEdges),await this.exeTargetCallbacks(gi)))():this.getExtraOutIds().includes(r)?this.exeTargetCallbacks(r):this.exeTargetCallbacksWithEdges(r,this.internalEdges),null}load(){const{graphId:r,handleDefs:i,actionLabel:o}=za.cache.userNodes[this.name];this.handleDefs=i,o&&(this.actionButtonText=o);const l=this.isVirtualInstance?this.id:r,c=this.instantiateVirtualNodes(r,l);this.internalNodeInstanceRegistry=c,c.set(this.id,this),this.mergeNodeInstanceRegistries(c),this.initProxyState()}initProxyState(){const r=Object.entries(this.handleDefs).filter(([l,c])=>l.startsWith(v1)&&c.dataType!==Pt.Bang).map(([l])=>l),i=Object.keys(this.handleDefs).filter(l=>l.startsWith(ea)),o={};r.forEach((l,c)=>{const{targetNodeId:d,targetHandleId:g}=$f(this.internalEdges,this.id,l)[0],m=this.nodeInstanceRegistry.get(d);console.log(`proxy: ${this.constructor.name} got state: ${JSON.stringify(m.state[g])} for target ${m.constructor.name}`),o[l]=m.state[g]}),i.forEach(l=>{const{sourceNodeId:c,sourceHandleId:d}=Lg(this.internalEdges,this.id,l)[0],g=this.nodeInstanceRegistry.get(c);o[l]=g.state[d]}),this.state={...this.state,...o}}mergeNodeInstanceRegistries(r){const i=this.nodeInstanceRegistry;this.nodeInstanceRegistry=new Proxy(new Map,{get(o,l){return l==="get"?c=>r.get(c)??i.get(c):l==="has"?c=>r.has(c)||i.has(c):l==="keys"?function(){const c=new Set,d=[];for(const g of[r,i])for(const m of g.keys())c.has(m)||(c.add(m),d.push(m));return d[Symbol.iterator]()}:l==="entries"?function(){const c=new Set,d=[];for(const g of[r,i])for(const[m,y]of g.entries())c.has(m)||(c.add(m),d.push([m,y]));return d[Symbol.iterator]()}:Reflect.get(new Map,l)}})}instantiateVirtualNodes(r,i){const o=i??r,l=za.cache.graphs[r],c=za.cache.graphStates[o];if(!l)throw new Error(`Graph ${r} was not found in the database cache`);if(!c)throw new Error(`Graph state ${o} was not found in the database cache`);const d=new Map,g=l.edges.map(m=>{const y={...m};return y.target===ha&&(y.target=this.id),y.source===ha&&(y.source=this.id),y});return this.internalEdges=g,Object.entries(c.nodes).forEach(([m,y])=>{console.log("def name",y.defNodeName);const x=Object.entries(lo).find(([T])=>T===y.defNodeName)?.[1];if(!x)throw new Error("Could not find the node class to instantiate when loading saved graph. Was its defNodeName changed?");const v={...y.initState,edges:g},w={data:{nodeInstanceRegistry:d},id:m,stateSnapshot:v,isVirtual:!0};return new x(w)}),d}saveSubGraphState(){const r=[...this.internalNodeInstanceRegistry.values()].filter(o=>o.id!==this.id).map(o=>{const l={react:o.state,other:o.saveableState};return[o.id,{defNodeName:o.name,initState:l}]}),i={nodes:Object.fromEntries(r)};za.putGraphState(this.id,i)}static registerUserNodeType(r,i){class o extends $u{static defNodeName=r;static isBangable=i}return kn(o,!0),o}}function $f(e,r,i){return e.filter(o=>o.source===r&&o.sourceHandle===i).map(o=>({targetNodeId:o.target,targetHandleId:o.targetHandle}))}function Lg(e,r,i){return e.filter(o=>o.target===r&&o.targetHandle===i).map(o=>({sourceNodeId:o.source,sourceHandleId:o.sourceHandle}))}function j3(e,r){const i=new Set,o=new Map;for(const d of r)o.has(d.source)||o.set(d.source,new Set),o.has(d.target)||o.set(d.target,new Set),o.get(d.source).add(d.target),o.get(d.target).add(d.source);const l=[];function c(d,g){i.add(d);const m=e.find(y=>y.id===d);m&&g.push(m);for(const y of o.get(d)??[])i.has(y)||c(y,g)}for(const d of e)if(!i.has(d.id)){const g=[];c(d.id,g),l.push(g)}return l}function H3(e,r,i){return j3(r,i).find(o=>o.some(l=>l.id===e))??[]}function Du(e,r){const i=Ko.get(e);if(!i)throw new Error("Could not find node in the registry to get handle type");return i.getHandleType(r)}function k3(e,r){const{source:i,sourceHandle:o,target:l,targetHandle:c}=e;if(i===l)return!1;if(o==null)throw new Error("Source node had no hanlde id to connect to");if(c==null)throw new Error("Target node had no hanlde id to connect to");return i===ha||l===ha?!0:Du(i,o)===Du(l,c)}async function L3(){await za.syncCache(),Object.entries(za.cache.userNodes).forEach(([e,r])=>{$u.registerUserNodeType(e,r.isBangable)})}class U3{inputs;outputs;nextInput=0;nextOutput=0;constructor(){this.inputs=[{id:this.generateHandleId()}],this.outputs=[{id:this.generateHandleId(!0)}]}setInputs(r){return this.inputs=r,r}setOutputs(r){return this.inputs=r,r}generateHandleId(r){return`${r?ea:v1}${r?this.nextOutput++:this.nextInput++}`}}const q3=()=>{const e=H.useMemo(()=>new U3,[]),[r,i]=H.useState(e.inputs),[o,l]=H.useState(e.outputs);return{inputs:r,outputs:o,setInputs:y=>i(x=>e.setInputs(y(x))),setOutputs:y=>l(x=>e.setOutputs(y(x))),generateHandleId:y=>e.generateHandleId(y),getDataType:y=>"dataType"in y?y.dataType:"ghost"}},Ug=H.createContext({isCreatingNode:!1,setIsCreatingNode:()=>{}}),Aw=H.createContext({createNode:()=>{}});function V3(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}const Y3=e=>{switch(e){case"success":return K3;case"info":return I3;case"warning":return G3;case"error":return Z3;default:return null}},$3=Array(12).fill(0),X3=({visible:e,className:r})=>Bt.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},Bt.createElement("div",{className:"sonner-spinner"},$3.map((i,o)=>Bt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),K3=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),G3=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),I3=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Z3=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Bt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Q3=Bt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Bt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Bt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),P3=()=>{const[e,r]=Bt.useState(document.hidden);return Bt.useEffect(()=>{const i=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),e};let sg=1;class F3{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const i=this.subscribers.indexOf(r);this.subscribers.splice(i,1)}),this.publish=r=>{this.subscribers.forEach(i=>i(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var i;const{message:o,...l}=r,c=typeof r?.id=="number"||((i=r.id)==null?void 0:i.length)>0?r.id:sg++,d=this.toasts.find(m=>m.id===c),g=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),d?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...r,id:c,title:o}),{...m,...r,id:c,dismissible:g,title:o}):m):this.addToast({title:o,...l,dismissible:g,id:c}),c},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(i=>i({id:r,dismiss:!0})))):this.toasts.forEach(i=>{this.subscribers.forEach(o=>o({id:i.id,dismiss:!0}))}),r),this.message=(r,i)=>this.create({...i,message:r}),this.error=(r,i)=>this.create({...i,message:r,type:"error"}),this.success=(r,i)=>this.create({...i,type:"success",message:r}),this.info=(r,i)=>this.create({...i,type:"info",message:r}),this.warning=(r,i)=>this.create({...i,type:"warning",message:r}),this.loading=(r,i)=>this.create({...i,type:"loading",message:r}),this.promise=(r,i)=>{if(!i)return;let o;i.loading!==void 0&&(o=this.create({...i,promise:r,type:"loading",message:i.loading,description:typeof i.description!="function"?i.description:void 0}));const l=Promise.resolve(r instanceof Function?r():r);let c=o!==void 0,d;const g=l.then(async y=>{if(d=["resolve",y],Bt.isValidElement(y))c=!1,this.create({id:o,type:"default",message:y});else if(W3(y)&&!y.ok){c=!1;const v=typeof i.error=="function"?await i.error(`HTTP error! status: ${y.status}`):i.error,w=typeof i.description=="function"?await i.description(`HTTP error! status: ${y.status}`):i.description,O=typeof v=="object"&&!Bt.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:w,...O})}else if(y instanceof Error){c=!1;const v=typeof i.error=="function"?await i.error(y):i.error,w=typeof i.description=="function"?await i.description(y):i.description,O=typeof v=="object"&&!Bt.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:w,...O})}else if(i.success!==void 0){c=!1;const v=typeof i.success=="function"?await i.success(y):i.success,w=typeof i.description=="function"?await i.description(y):i.description,O=typeof v=="object"&&!Bt.isValidElement(v)?v:{message:v};this.create({id:o,type:"success",description:w,...O})}}).catch(async y=>{if(d=["reject",y],i.error!==void 0){c=!1;const x=typeof i.error=="function"?await i.error(y):i.error,v=typeof i.description=="function"?await i.description(y):i.description,T=typeof x=="object"&&!Bt.isValidElement(x)?x:{message:x};this.create({id:o,type:"error",description:v,...T})}}).finally(()=>{c&&(this.dismiss(o),o=void 0),i.finally==null||i.finally.call(i)}),m=()=>new Promise((y,x)=>g.then(()=>d[0]==="reject"?x(d[1]):y(d[1])).catch(x));return typeof o!="string"&&typeof o!="number"?{unwrap:m}:Object.assign(o,{unwrap:m})},this.custom=(r,i)=>{const o=i?.id||sg++;return this.create({jsx:r(o),id:o,...i}),o},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Sr=new F3,J3=(e,r)=>{const i=r?.id||sg++;return Sr.addToast({title:e,...r,id:i}),i},W3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tM=J3,eM=()=>Sr.toasts,nM=()=>Sr.getActiveToasts(),hu=Object.assign(tM,{success:Sr.success,info:Sr.info,warning:Sr.warning,error:Sr.error,custom:Sr.custom,message:Sr.message,promise:Sr.promise,dismiss:Sr.dismiss,loading:Sr.loading},{getHistory:eM,getToasts:nM});V3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yf(e){return e.label!==void 0}const rM=3,aM="24px",iM="16px",Rb=4e3,oM=356,sM=14,lM=45,uM=200;function Oa(...e){return e.filter(Boolean).join(" ")}function cM(e){const[r,i]=e.split("-"),o=[];return r&&o.push(r),i&&o.push(i),o}const fM=e=>{var r,i,o,l,c,d,g,m,y;const{invert:x,toast:v,unstyled:w,interacting:T,setHeights:O,visibleToasts:N,heights:B,index:z,toasts:K,expanded:A,removeToast:_,defaultRichColors:$,closeButton:L,style:j,cancelButtonStyle:G,actionButtonStyle:J,className:vt="",descriptionClassName:pt="",duration:et,position:lt,gap:Y,expandByDefault:I,classNames:M,icons:q,closeButtonAriaLabel:Q="Close toast"}=e,[tt,ht]=Bt.useState(null),[k,Z]=Bt.useState(null),[st,gt]=Bt.useState(!1),[Tt,Ot]=Bt.useState(!1),[jt,Ct]=Bt.useState(!1),[St,It]=Bt.useState(!1),[te,Ht]=Bt.useState(!1),[Ft,Zt]=Bt.useState(0),[oe,be]=Bt.useState(0),De=Bt.useRef(v.duration||et||Rb),yn=Bt.useRef(null),Ge=Bt.useRef(null),je=z===0,Ae=z+1<=N,Oe=v.type,Ve=v.dismissible!==!1,Ye=v.className||"",En=v.descriptionClassName||"",Ie=Bt.useMemo(()=>B.findIndex(Gt=>Gt.toastId===v.id)||0,[B,v.id]),Xe=Bt.useMemo(()=>{var Gt;return(Gt=v.closeButton)!=null?Gt:L},[v.closeButton,L]),nn=Bt.useMemo(()=>v.duration||et||Rb,[v.duration,et]),_n=Bt.useRef(0),vn=Bt.useRef(0),bn=Bt.useRef(0),hn=Bt.useRef(null),[$n,Et]=lt.split("-"),Vt=Bt.useMemo(()=>B.reduce((Gt,ue,pe)=>pe>=Ie?Gt:Gt+ue.height,0),[B,Ie]),Dt=P3(),he=v.invert||x,re=Oe==="loading";vn.current=Bt.useMemo(()=>Ie*Y+Vt,[Ie,Vt]),Bt.useEffect(()=>{De.current=nn},[nn]),Bt.useEffect(()=>{gt(!0)},[]),Bt.useEffect(()=>{const Gt=Ge.current;if(Gt){const ue=Gt.getBoundingClientRect().height;return be(ue),O(pe=>[{toastId:v.id,height:ue,position:v.position},...pe]),()=>O(pe=>pe.filter(_e=>_e.toastId!==v.id))}},[O,v.id]),Bt.useLayoutEffect(()=>{if(!st)return;const Gt=Ge.current,ue=Gt.style.height;Gt.style.height="auto";const pe=Gt.getBoundingClientRect().height;Gt.style.height=ue,be(pe),O(_e=>_e.find(fe=>fe.toastId===v.id)?_e.map(fe=>fe.toastId===v.id?{...fe,height:pe}:fe):[{toastId:v.id,height:pe,position:v.position},..._e])},[st,v.title,v.description,O,v.id,v.jsx,v.action,v.cancel]);const Me=Bt.useCallback(()=>{Ot(!0),Zt(vn.current),O(Gt=>Gt.filter(ue=>ue.toastId!==v.id)),setTimeout(()=>{_(v)},uM)},[v,_,O,vn]);Bt.useEffect(()=>{if(v.promise&&Oe==="loading"||v.duration===1/0||v.type==="loading")return;let Gt;return A||T||Dt?(()=>{if(bn.current<_n.current){const _e=new Date().getTime()-_n.current;De.current=De.current-_e}bn.current=new Date().getTime()})():(()=>{De.current!==1/0&&(_n.current=new Date().getTime(),Gt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Me()},De.current))})(),()=>clearTimeout(Gt)},[A,T,v,Oe,Dt,Me]),Bt.useEffect(()=>{v.delete&&(Me(),v.onDismiss==null||v.onDismiss.call(v,v))},[Me,v.delete]);function kt(){var Gt;if(q?.loading){var ue;return Bt.createElement("div",{className:Oa(M?.loader,v==null||(ue=v.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Oe==="loading"},q.loading)}return Bt.createElement(X3,{className:Oa(M?.loader,v==null||(Gt=v.classNames)==null?void 0:Gt.loader),visible:Oe==="loading"})}const Tn=v.icon||q?.[Oe]||Y3(Oe);var ke,xe;return Bt.createElement("li",{tabIndex:0,ref:Ge,className:Oa(vt,Ye,M?.toast,v==null||(r=v.classNames)==null?void 0:r.toast,M?.default,M?.[Oe],v==null||(i=v.classNames)==null?void 0:i[Oe]),"data-sonner-toast":"","data-rich-colors":(ke=v.richColors)!=null?ke:$,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":st,"data-promise":!!v.promise,"data-swiped":te,"data-removed":Tt,"data-visible":Ae,"data-y-position":$n,"data-x-position":Et,"data-index":z,"data-front":je,"data-swiping":jt,"data-dismissible":Ve,"data-type":Oe,"data-invert":he,"data-swipe-out":St,"data-swipe-direction":k,"data-expanded":!!(A||I&&st),"data-testid":v.testId,style:{"--index":z,"--toasts-before":z,"--z-index":K.length-z,"--offset":`${Tt?Ft:vn.current}px`,"--initial-height":I?"auto":`${oe}px`,...j,...v.style},onDragEnd:()=>{Ct(!1),ht(null),hn.current=null},onPointerDown:Gt=>{Gt.button!==2&&(re||!Ve||(yn.current=new Date,Zt(vn.current),Gt.target.setPointerCapture(Gt.pointerId),Gt.target.tagName!=="BUTTON"&&(Ct(!0),hn.current={x:Gt.clientX,y:Gt.clientY})))},onPointerUp:()=>{var Gt,ue,pe;if(St||!Ve)return;hn.current=null;const _e=Number(((Gt=Ge.current)==null?void 0:Gt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Le=Number(((ue=Ge.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fe=new Date().getTime()-((pe=yn.current)==null?void 0:pe.getTime()),we=tt==="x"?_e:Le,pn=Math.abs(we)/fe;if(Math.abs(we)>=lM||pn>.11){Zt(vn.current),v.onDismiss==null||v.onDismiss.call(v,v),Z(tt==="x"?_e>0?"right":"left":Le>0?"down":"up"),Me(),It(!0);return}else{var ae,ce;(ae=Ge.current)==null||ae.style.setProperty("--swipe-amount-x","0px"),(ce=Ge.current)==null||ce.style.setProperty("--swipe-amount-y","0px")}Ht(!1),Ct(!1),ht(null)},onPointerMove:Gt=>{var ue,pe,_e;if(!hn.current||!Ve||((ue=window.getSelection())==null?void 0:ue.toString().length)>0)return;const fe=Gt.clientY-hn.current.y,we=Gt.clientX-hn.current.x;var pn;const ae=(pn=e.swipeDirections)!=null?pn:cM(lt);!tt&&(Math.abs(we)>1||Math.abs(fe)>1)&&ht(Math.abs(we)>Math.abs(fe)?"x":"y");let ce={x:0,y:0};const nr=un=>1/(1.5+Math.abs(un)/20);if(tt==="y"){if(ae.includes("top")||ae.includes("bottom"))if(ae.includes("top")&&fe<0||ae.includes("bottom")&&fe>0)ce.y=fe;else{const un=fe*nr(fe);ce.y=Math.abs(un)<Math.abs(fe)?un:fe}}else if(tt==="x"&&(ae.includes("left")||ae.includes("right")))if(ae.includes("left")&&we<0||ae.includes("right")&&we>0)ce.x=we;else{const un=we*nr(we);ce.x=Math.abs(un)<Math.abs(we)?un:we}(Math.abs(ce.x)>0||Math.abs(ce.y)>0)&&Ht(!0),(pe=Ge.current)==null||pe.style.setProperty("--swipe-amount-x",`${ce.x}px`),(_e=Ge.current)==null||_e.style.setProperty("--swipe-amount-y",`${ce.y}px`)}},Xe&&!v.jsx&&Oe!=="loading"?Bt.createElement("button",{"aria-label":Q,"data-disabled":re,"data-close-button":!0,onClick:re||!Ve?()=>{}:()=>{Me(),v.onDismiss==null||v.onDismiss.call(v,v)},className:Oa(M?.closeButton,v==null||(o=v.classNames)==null?void 0:o.closeButton)},(xe=q?.close)!=null?xe:Q3):null,(Oe||v.icon||v.promise)&&v.icon!==null&&(q?.[Oe]!==null||v.icon)?Bt.createElement("div",{"data-icon":"",className:Oa(M?.icon,v==null||(l=v.classNames)==null?void 0:l.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||kt():null,v.type!=="loading"?Tn:null):null,Bt.createElement("div",{"data-content":"",className:Oa(M?.content,v==null||(c=v.classNames)==null?void 0:c.content)},Bt.createElement("div",{"data-title":"",className:Oa(M?.title,v==null||(d=v.classNames)==null?void 0:d.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Bt.createElement("div",{"data-description":"",className:Oa(pt,En,M?.description,v==null||(g=v.classNames)==null?void 0:g.description)},typeof v.description=="function"?v.description():v.description):null),Bt.isValidElement(v.cancel)?v.cancel:v.cancel&&yf(v.cancel)?Bt.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||G,onClick:Gt=>{yf(v.cancel)&&Ve&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Gt),Me())},className:Oa(M?.cancelButton,v==null||(m=v.classNames)==null?void 0:m.cancelButton)},v.cancel.label):null,Bt.isValidElement(v.action)?v.action:v.action&&yf(v.action)?Bt.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||J,onClick:Gt=>{yf(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Gt),!Gt.defaultPrevented&&Me())},className:Oa(M?.actionButton,v==null||(y=v.classNames)==null?void 0:y.actionButton)},v.action.label):null)};function zb(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function dM(e,r){const i={};return[e,r].forEach((o,l)=>{const c=l===1,d=c?"--mobile-offset":"--offset",g=c?iM:aM;function m(y){["top","right","bottom","left"].forEach(x=>{i[`${d}-${x}`]=typeof y=="number"?`${y}px`:y})}typeof o=="number"||typeof o=="string"?m(o):typeof o=="object"?["top","right","bottom","left"].forEach(y=>{o[y]===void 0?i[`${d}-${y}`]=g:i[`${d}-${y}`]=typeof o[y]=="number"?`${o[y]}px`:o[y]}):m(g)}),i}const hM=Bt.forwardRef(function(r,i){const{id:o,invert:l,position:c="bottom-right",hotkey:d=["altKey","KeyT"],expand:g,closeButton:m,className:y,offset:x,mobileOffset:v,theme:w="light",richColors:T,duration:O,style:N,visibleToasts:B=rM,toastOptions:z,dir:K=zb(),gap:A=sM,icons:_,containerAriaLabel:$="Notifications"}=r,[L,j]=Bt.useState([]),G=Bt.useMemo(()=>o?L.filter(st=>st.toasterId===o):L.filter(st=>!st.toasterId),[L,o]),J=Bt.useMemo(()=>Array.from(new Set([c].concat(G.filter(st=>st.position).map(st=>st.position)))),[G,c]),[vt,pt]=Bt.useState([]),[et,lt]=Bt.useState(!1),[Y,I]=Bt.useState(!1),[M,q]=Bt.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=Bt.useRef(null),tt=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),ht=Bt.useRef(null),k=Bt.useRef(!1),Z=Bt.useCallback(st=>{j(gt=>{var Tt;return(Tt=gt.find(Ot=>Ot.id===st.id))!=null&&Tt.delete||Sr.dismiss(st.id),gt.filter(({id:Ot})=>Ot!==st.id)})},[]);return Bt.useEffect(()=>Sr.subscribe(st=>{if(st.dismiss){requestAnimationFrame(()=>{j(gt=>gt.map(Tt=>Tt.id===st.id?{...Tt,delete:!0}:Tt))});return}setTimeout(()=>{pN.flushSync(()=>{j(gt=>{const Tt=gt.findIndex(Ot=>Ot.id===st.id);return Tt!==-1?[...gt.slice(0,Tt),{...gt[Tt],...st},...gt.slice(Tt+1)]:[st,...gt]})})})}),[L]),Bt.useEffect(()=>{if(w!=="system"){q(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const st=window.matchMedia("(prefers-color-scheme: dark)");try{st.addEventListener("change",({matches:gt})=>{q(gt?"dark":"light")})}catch{st.addListener(({matches:Tt})=>{try{q(Tt?"dark":"light")}catch(Ot){console.error(Ot)}})}},[w]),Bt.useEffect(()=>{L.length<=1&&lt(!1)},[L]),Bt.useEffect(()=>{const st=gt=>{var Tt;if(d.every(Ct=>gt[Ct]||gt.code===Ct)){var jt;lt(!0),(jt=Q.current)==null||jt.focus()}gt.code==="Escape"&&(document.activeElement===Q.current||(Tt=Q.current)!=null&&Tt.contains(document.activeElement))&&lt(!1)};return document.addEventListener("keydown",st),()=>document.removeEventListener("keydown",st)},[d]),Bt.useEffect(()=>{if(Q.current)return()=>{ht.current&&(ht.current.focus({preventScroll:!0}),ht.current=null,k.current=!1)}},[Q.current]),Bt.createElement("section",{ref:i,"aria-label":`${$} ${tt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},J.map((st,gt)=>{var Tt;const[Ot,jt]=st.split("-");return G.length?Bt.createElement("ol",{key:st,dir:K==="auto"?zb():K,tabIndex:-1,ref:Q,className:y,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":Ot,"data-x-position":jt,style:{"--front-toast-height":`${((Tt=vt[0])==null?void 0:Tt.height)||0}px`,"--width":`${oM}px`,"--gap":`${A}px`,...N,...dM(x,v)},onBlur:Ct=>{k.current&&!Ct.currentTarget.contains(Ct.relatedTarget)&&(k.current=!1,ht.current&&(ht.current.focus({preventScroll:!0}),ht.current=null))},onFocus:Ct=>{Ct.target instanceof HTMLElement&&Ct.target.dataset.dismissible==="false"||k.current||(k.current=!0,ht.current=Ct.relatedTarget)},onMouseEnter:()=>lt(!0),onMouseMove:()=>lt(!0),onMouseLeave:()=>{Y||lt(!1)},onDragEnd:()=>lt(!1),onPointerDown:Ct=>{Ct.target instanceof HTMLElement&&Ct.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},G.filter(Ct=>!Ct.position&&gt===0||Ct.position===st).map((Ct,St)=>{var It,te;return Bt.createElement(fM,{key:Ct.id,icons:_,index:St,toast:Ct,defaultRichColors:T,duration:(It=z?.duration)!=null?It:O,className:z?.className,descriptionClassName:z?.descriptionClassName,invert:l,visibleToasts:B,closeButton:(te=z?.closeButton)!=null?te:m,interacting:Y,position:st,style:z?.style,unstyled:z?.unstyled,classNames:z?.classNames,cancelButtonStyle:z?.cancelButtonStyle,actionButtonStyle:z?.actionButtonStyle,closeButtonAriaLabel:z?.closeButtonAriaLabel,removeToast:Z,toasts:G.filter(Ht=>Ht.position==Ct.position),heights:vt.filter(Ht=>Ht.position==Ct.position),setHeights:pt,expandByDefault:g,gap:A,expanded:et,swipeDirections:r.swipeDirections})})):null}))}),Mp={position:"relative",height:"15px",width:"15px"},pM=({id:e})=>{const{masterEdges:r,masterNodes:i}=H.useContext(ud),{setIsCreatingNode:o}=H.useContext(Ug),{setNodes:l,fitView:c}=Io(),{inputs:d,outputs:g,setInputs:m,setOutputs:y,generateHandleId:x,getDataType:v}=q3(),[w,T]=H.useState(!1),[O,N]=H.useState(""),[B,z]=H.useState("Action"),K=WD();H.useEffect(()=>(o(!0),()=>o(!1)),[o]),H.useEffect(()=>T(!!$f(r,e,Er).length),[r,e]),H.useEffect(()=>{const _=($,L)=>$.flatMap((j,G)=>{const J=G===$.length-1,pt=(L?Lg:$f)(r,e,j.id);if(!pt.length)return J?j:[];const et="targetNodeId"in pt[0]?{nodeId:pt[0].targetNodeId,handleId:pt[0].targetHandleId}:{nodeId:pt[0].sourceNodeId,handleId:pt[0].sourceHandleId},lt=Du(et.nodeId,et.handleId);return j.dataType=lt,J?[j,{id:x(L)}]:j});m($=>_($,!1)),y($=>_($,!0)),K(e)},[r]);const A=H.useCallback(()=>{const _=O;if(g.length<=1&&d.length<=1){hu.info("Created node requires some connections.");return}if(!_){hu.info("Created node requires a name.");return}if(_ in Ow){hu.info(`Node with name "${_}" already exists. Please use a unique name.`);return}const $=Dg(),L=Object.fromEntries([...d,...g].filter(lt=>"dataType"in lt).map(({id:lt,...Y})=>[lt,Y])),j=H3(e,i,r);if(!j.length)throw new Error("Could not find island of node network to create");const G=tx(j,r),J=[],vt=j.filter(lt=>lt.id!==e).map(lt=>{const Y=Ko.get(lt.id);if(!Y)throw new Error("Could not find node instance in registry to save it state");Y instanceof $u&&J.push(Y);const I={react:Y.state,other:Y.saveableState};return[lt.id,{defNodeName:Y.name,initState:I}]}),pt={nodes:Object.fromEntries(vt)};J.forEach(lt=>lt.saveSubGraphState());const et=vM(_,w,L,$,{edges:G},pt,B);l(lt=>[...lt.filter(I=>!j.includes(I)),Mw(et)]),setTimeout(()=>c({maxZoom:2,padding:.3,duration:500,ease:lt=>lt*(2-lt),interpolate:"smooth"}),100)},[O,g,d,e,i,r,w,B,l,c]);return U.jsxs("div",{className:"node-creator",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[U.jsxs("div",{className:"border-bottom",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 15px",background:"#1d1d20",fontSize:"1.5rem",borderTopLeftRadius:8,borderTopRightRadius:8},children:[U.jsx(mf,{title:O,setTitle:N}),U.jsxs("div",{style:{display:"flex",height:"100%",gap:"5px"},children:[U.jsx("button",{onClick:A,style:{background:"transparent",padding:0,display:"flex",alignItems:"center",width:"35px",justifyContent:"center"},children:U.jsx(z3,{})}),U.jsx("button",{onClick:A,style:{background:"transparent",padding:0,display:"flex",alignItems:"center",width:"35px",justifyContent:"center"},children:U.jsx(Dw,{})})]})]}),U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"20px",flex:"1",flexDirection:"row",alignItems:"flex-start"},children:[U.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:d.map(_=>U.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[U.jsx(oo,{className:v(_),id:_.id,type:"source",position:Jt.Right,style:Mp}),U.jsx("div",{style:{paddingLeft:"5px",display:"flex"},children:U.jsx(mf,{animateWidth:50,buttonMargin:"0",title:_.label??"",setTitle:$=>m(L=>L.map(j=>j.id===_.id?{...j,label:$}:j))},_.id)})]},_.id))}),U.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:g.map(_=>U.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[U.jsx(oo,{className:v(_),id:_.id,type:"target",position:Jt.Left,style:Mp}),U.jsx("div",{style:{paddingRight:"5px",display:"flex"},children:U.jsx(mf,{animateWidth:50,buttonMargin:"0",reverse:!0,title:_.label??"",setTitle:$=>y(L=>L.map(j=>j.id===_.id?{...j,label:$}:j))},_.id)})]},_.id))})]}),U.jsxs("div",{className:"border-top",style:{display:"flex",alignItems:"center",height:"3.2em",background:w?"#8161f0":"#1d1d20",borderBottomLeftRadius:8,borderBottomRightRadius:8},children:[U.jsx("div",{children:U.jsx(oo,{className:Pt.Bang,id:Er,type:"source",position:Jt.Right,style:{...Mp,zIndex:"10"}})}),U.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",right:"0",left:"0",fontSize:"1rem",padding:"5px 15px"},children:U.jsx(mf,{title:B,setTitle:z})})]})]})};var va=(e=>(e.All="All Nodes",e.Action="Action",e.NotAction="Non Action",e.Operation="Operation",e.User="User Created",e))(va||{});const gM=Object.values(va),lo={},mM={[vf]:pM},Ow=yM(lo,mM),Ko=new Map;window.reg2=Ko;window.nodes=lo;function yM(...e){return new Proxy({},{get(r,i){for(const o of e)if(typeof i=="string"&&i in o)return o[i]},has(r,i){return e.some(o=>i in o)},ownKeys(){return[...new Set(e.flatMap(Object.keys))]},getOwnPropertyDescriptor(r,i){for(const o of e){const l=Object.getOwnPropertyDescriptor(o,i);if(l)return l}}})}function kn(e,r){if(typeof e.defNodeName!="string")throw new Error(`Missing static defNodeName on node class '${e.name}'`);if(lo[e.defNodeName])throw new Error(`Duplicate identifier '${e.defNodeName}' found in node type map`);lo[e.defNodeName]=e,e.tags||(e.tags=[]),e.tags.push(va.All),e.isBangable?e.tags.push(va.Action):e.tags.push(va.NotAction),r&&e.tags.push(va.User)}function Mw(e,r){const i=Object.entries(lo).find(([d,g])=>g===e);if(!i)throw new Error("Could not find class instance in node types");const[o,l]=i;return{id:Dg(),position:r??{x:0,y:0},data:{nodeInstanceRegistry:Ko},type:o,style:{visibility:"hidden"}}}function vM(e,r,i,o,l,c,d){return Promise.all([za.putUserNode(e,{graphId:o,handleDefs:i,isBangable:r,actionLabel:d}),za.putGraphState(o,c),za.putGraph(o,l)]).then(()=>{hu.success(`Node "${e}" saved to the database.`)}).catch(m=>{hu.error(`Node "${e}" failed to be saved to the databased.
${m}}`)}),$u.registerUserNodeType(e,r)}function bM(e){return Lr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 80L0 229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7L48 32C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"},child:[]}]})(e)}function Bb(e){return Lr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function jb(e){return Lr({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(e)}const xM=()=>U.jsx(R3,{viewBox:"0 0 24 25",strokeWidth:"3"}),wM=()=>U.jsx(M3,{viewBox:"-0.5 0 25 25",strokeWidth:"3.5"}),SM=()=>U.jsx(Dw,{viewBox:"0 -1 24 26",strokeWidth:"3"}),EM=()=>U.jsx(O3,{strokeWidth:"2.5"}),_M=()=>U.jsxs("div",{style:{display:"flex",height:"1em",width:"1.5em",gap:"2px"},children:[U.jsx(jb,{viewBox:"5 5 11.5 10.5",strokeWidth:".3"}),U.jsx(jb,{viewBox:"4 5 11.5 10.5",strokeWidth:".3"})]}),TM=()=>U.jsxs("div",{style:{display:"flex",height:"1em",width:"1.5em",gap:"2px"},children:[U.jsx(Bb,{viewBox:"5 5 11.5 10.5",strokeWidth:".3"}),U.jsx(Bb,{viewBox:"4 5 11.5 10.5",strokeWidth:".3"})]});var Vn=(e=>(e.Or="|",e.And="&",e.Add="+",e.Subtract="-",e.Multiply="*",e.Divide="/",e.Increment="++",e.Decrement="--",e.Equal="==",e.NotEqual="!=",e.Greater=">",e.Less="<",e.GreaterEqual=">=",e.LessEqual="<=",e.Mod="%",e))(Vn||{});const Go={"|":{name:"Or",icon:"|",operation:(...e)=>e.some(Boolean)},"&":{name:"And",icon:"&",operation:(...e)=>e.every(Boolean)},"+":{name:"Add",icon:U.jsx(xM,{}),operation:(...e)=>e.reduce((r,i)=>r+i,0)},"-":{name:"Subtract",icon:U.jsx(wM,{}),operation:(...e)=>e.length===0?0:e.reduce((r,i)=>r-i)},"*":{name:"Multiply",icon:U.jsx(SM,{}),operation:(...e)=>e.reduce((r,i)=>r*i,1)},"/":{name:"Divide",icon:U.jsx(EM,{}),operation:(...e)=>e.length===0?0:e.reduce((r,i)=>i===0?NaN:r/i)},"++":{name:"Increment",icon:U.jsx(_M,{}),operation:(e,r)=>e+r},"--":{name:"Decrement",icon:U.jsx(TM,{}),operation:(e,r)=>e-r},"==":{name:"Equal",icon:"==",operation:(e,r)=>e==r?1:0},"!=":{name:"Not Equal",icon:"!=",operation:(e,r)=>e!=r?1:0},">":{name:"Greater Than",icon:">",operation:(e,r)=>e>r?1:0},"<":{name:"Less Than",icon:"<",operation:(e,r)=>e<r?1:0},">=":{name:"Greater Than or Equal",icon:">=",operation:(e,r)=>e>=r?1:0},"<=":{name:"Less Than or Equal",icon:"<=",operation:(e,r)=>e<=r?1:0},"%":{name:"Modulus",icon:"%",operation:(e,r)=>e%r}};function dd({operators:e,selected:r,onChange:i}){const[o,l]=H.useState(!1),[c,d]=H.useState(r??e[0]),g=H.useRef(null),m=y=>{const x=y.relatedTarget;(!x||!g.current?.contains(x))&&l(!1)};return U.jsxs("div",{ref:g,style:{position:"relative"},children:[U.jsx(Hb,{op:c,isMenuButton:!0,hideTooltip:o,onClick:()=>l(y=>!y),onBlurCapture:m}),o&&U.jsx("div",{style:{position:"absolute",bottom:"calc(100% + 5px)",right:0,display:"flex",padding:0,margin:0,zIndex:1e3},children:e.map(y=>U.jsx(Hb,{op:y,onClick:()=>{d(y),l(!1),i(y)}},y))})]})}const Hb=({op:e,hideTooltip:r,isMenuButton:i,...o})=>{const l=Go[e];return U.jsx(kg,{className:r?"hidden":"",content:i?"Select Operation":Go[e].name,placement:"top",arrow:!1,animation:"fade",duration:[400,250],children:U.jsx("button",{style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},...o,children:l.icon})})};var kb;const Rw=`${ea}signalTrue`,CM={p_1:{dataType:Pt.Boolean},p_2:{dataType:Pt.Boolean},invert:{dataType:Pt.Boolean,label:"Invert"},[Ne]:{dataType:Pt.Boolean},[Rw]:{dataType:Pt.Bang,label:"Signal if true"}};kn(kb=class extends Hn{static defNodeName="Boolean";static tags=[va.Operation];handleDefs=CM;setDefaults(){this.state={p_1:!1,p_2:!1,invert:!1},this.saveableState={operator:Vn.And}}onOutputChange(r,i){i&&this.exeTargetCallbacks(this.handleDefToId(this.handleDefs[Rw]))}transform(){const r=this.state.p_1,i=this.state.p_2,o=this.state.invert;if(r===void 0||i===void 0||o===void 0)return;const l=Go[this.saveableState.operator].operation(r,i);return o?!l:l}renderExtra(){return U.jsx(dd,{operators:[Vn.And,Vn.Or],selected:this.saveableState.operator,onChange:r=>this.saveableState.operator=r})}});var Lb;const NM={percent:{dataType:Pt.Number,label:"% Chance"},[Ne]:{dataType:Pt.Boolean}};kn(Lb=class extends Hn{static defNodeName="Chance Percent";static isBangable=!0;handleDefs=NM;actionButtonText="Try";setDefaults(){this.state={percent:50}}transform(r){if(wi(r)){const l=this.state.percent;return l===void 0?void 0:Math.floor(Math.random()*100)+1<l}}});var Ub;const DM={max:{dataType:Pt.Number,label:"Max"},min:{dataType:Pt.Number,label:"Min"},pass:{dataType:Pt.Number,label:"Pass"},[Ne]:{dataType:Pt.Boolean}};kn(Ub=class extends Hn{static defNodeName="Chance Threshold";static isBangable=!0;handleDefs=DM;actionButtonText="Try";transform(r){if(this.isBangOutputHandle(r)){const i=this.state.max,o=this.state.min,l=this.state.pass;return o===void 0||i===void 0||l===void 0?void 0:Math.floor(Math.random()*(i-o+1))+o>=l}}});var qb;const zw=`${ea}pulse`,AM={interval:{dataType:Pt.Number,label:"Interval Sec"},[zw]:{dataType:Pt.Bang,label:"Pulsed Signal"}};kn(qb=class extends Hn{static defNodeName="Clock Pulse";static isBangable=!0;handleDefs=AM;running=!1;actionButtonText="Start";intervalId=0;stop(){clearInterval(this.intervalId),this.running=!1,this.actionButtonText="Start"}start(){const r=this.state.interval;r&&r>0&&(this.actionButtonText="Stop",this.intervalId=setInterval(()=>this.exeTargetCallbacks(zw),r*1e3),this.running=!0)}transform=r=>{if(!wi(r))return this.running&&(this.stop(),this.state[Wr]&&this.start(),this.running||this.forceRender()),null;this.running?this.stop():this.start()}});var Vb;const OM={p1:{dataType:Pt.Number},p2:{dataType:Pt.Number},[Ne]:{dataType:Pt.Boolean}};kn(Vb=class extends Hn{static defNodeName="Comparison";static tags=[va.Operation];handleDefs=OM;setDefaults(){this.state={p1:0,p2:1,[Ne]:!1},this.saveableState={operator:Vn.Equal}}transform(){const r=this.state.p1,i=this.state.p2;if(!(r===void 0||i===void 0))return!!Go[this.saveableState.operator].operation(r,i)}renderExtra(){return U.jsx(dd,{operators:[Vn.Equal,Vn.NotEqual,Vn.Greater,Vn.Less,Vn.GreaterEqual,Vn.LessEqual],selected:this.saveableState.operator,onChange:r=>this.saveableState.operator=r})}});var Yb;const MM={step:{dataType:Pt.Number,label:"Step"},[Ne]:{dataType:Pt.Number}};kn(Yb=class extends Hn{static defNodeName="Counter";static isBangable=!0;static tags=[va.Operation];handleDefs=MM;setDefaults(){this.state={step:1,[Ne]:0},this.saveableState={operator:Vn.Increment}}transform(r){if(wi(r)){const i=this.state.step,o=this.state[Ne];return i===void 0||o===void 0?void 0:Go[this.saveableState.operator].operation(o,i)}return null}renderExtra(){return U.jsx(dd,{operators:[Vn.Increment,Vn.Decrement],selected:this.saveableState.operator,onChange:r=>this.saveableState.operator=r})}});var $b;const RM={p1:{dataType:Pt.Boolean},p2:{dataType:Pt.Boolean},[Ne]:{dataType:Pt.Boolean}};kn($b=class extends Hn{static defNodeName="Last Changed Boolean";handleDefs=RM;prevVals={p1:0,p2:0};setDefaults(){this.state={p1:!1,p2:!1}}transform(r){return this.state[r]}});var Xb;const zM={p1:{dataType:Pt.Number},p2:{dataType:Pt.Number},[Ne]:{dataType:Pt.Number}};kn(Xb=class extends Hn{static defNodeName="Last Changed Number";handleDefs=zM;prevVals={p1:0,p2:0};setDefaults(){this.state={p1:0,p2:0}}transform(r){return this.state[r]}});var Kb;const BM={p1:{dataType:Pt.Number},p2:{dataType:Pt.Number},[Ne]:{dataType:Pt.Number}};kn(Kb=class extends Hn{static defNodeName="Math";static tags=[va.Operation];handleDefs=BM;setDefaults(){this.state={p1:0,p2:0,[Ne]:0},this.saveableState={operator:Vn.Add}}transform(){if(!(this.state.p1===void 0||this.state.p2===void 0))return Go[this.saveableState.operator].operation(this.state.p1,this.state.p2)}renderExtra(){return U.jsx(dd,{operators:[Vn.Add,Vn.Subtract,Vn.Multiply,Vn.Divide],selected:this.saveableState.operator,onChange:r=>this.saveableState.operator=r})}});var Gb;const jM={p1:{dataType:Pt.Number},p2:{dataType:Pt.Number},offset:{dataType:Pt.Number,label:"Offset"},[Ne]:{dataType:Pt.Number}};kn(Gb=class extends Hn{static defNodeName="Modulus";static tags=[va.Operation];handleDefs=jM;setDefaults(){this.state={p1:1,p2:1,offset:0,[Ne]:0}}transform(){if(this.state.p1===void 0||this.state.p2===void 0)return;const r=Go["%"].operation(this.state.p1,this.state.p2);return isNaN(r)?void 0:r+(this.state.offset??0)}});var Ib;const HM={in:{dataType:Pt.Number},[Ne]:{dataType:Pt.Number},[`${ea}a`]:{dataType:Pt.Number},[`${ea}sdfsd`]:{dataType:Pt.Boolean},[`${ea}b`]:{dataType:Pt.Bang},[`${ea}c`]:{dataType:Pt.Boolean}};kn(Ib=class extends Hn{static defNodeName="Atets";handleDefs=HM;transform(){return this.state.in}});var Zb;const kM={in:{dataType:Pt.Number},[Ne]:{dataType:Pt.Number}};kn(Zb=class extends Hn{static defNodeName="Number";handleDefs=kM;transform(){return this.state.in}});var Qb;const LM={max:{dataType:Pt.Number,label:"Max"},min:{dataType:Pt.Number,label:"Min"},[Ne]:{dataType:Pt.Number}};kn(Qb=class extends Hn{static defNodeName="RNG";static isBangable=!0;handleDefs=LM;actionButtonText="Generate";setDefaults(){this.state={min:1,max:10}}transform(r){if(wi(r)){const i=this.state.max,o=this.state.min;return o===void 0||i===void 0?void 0:Math.floor(Math.random()*(i-o+1))+o}return null}});var Pb;const UM={in:{dataType:Pt.Boolean},[Ne]:{dataType:Pt.Boolean}};kn(Pb=class extends Hn{static defNodeName="Set Boolean";static isBangable=!0;handleDefs=UM;actionButtonText="Set";setDefaults(){this.state={in:!1,[Ne]:!1}}transform(r){return wi(r)?this.state.in:null}});var Fb;const qM={in:{dataType:Pt.Number},[Ne]:{dataType:Pt.Number}};kn(Fb=class extends Hn{static defNodeName="Set Number";static isBangable=!0;handleDefs=qM;actionButtonText="Set";setDefaults(){this.state={in:0,[Ne]:0}}transform(r){return wi(r)?this.state.in:null}});var Jb;const Bw=`${ea}delay`,VM={delaySec:{dataType:Pt.Number,label:"Delay Sec"},[Bw]:{dataType:Pt.Bang,label:"Delayed Signal"}};kn(Jb=class extends Hn{static defNodeName="Signal";static isBangable=!0;handleDefs=VM;actionButtonText="Send";timeoutId=0;transform=r=>{if(!wi(r))return null;const i=this.state.delaySec??0;i>=0&&(this.timeoutId=setTimeout(()=>this.exeTargetCallbacks(Bw),i*1e3))}});var Wb;const YM={input:{dataType:Pt.Number},[Ne]:{dataType:Pt.Boolean}};kn(Wb=class extends Hn{static defNodeName="To Boolean";handleDefs=YM;setDefaults(){this.state={input:0}}transform(){return!!this.state.input}});var t1;const $M={input:{dataType:Pt.Boolean},[Ne]:{dataType:Pt.Number}};kn(t1=class extends Hn{static defNodeName="To Number";handleDefs=$M;setDefaults(){this.state={input:!1}}transform(){return Number(this.state.input)}});var e1;const XM={[Ne]:{dataType:Pt.Boolean}};kn(e1=class extends Hn{static defNodeName="Toggle";static isBangable=!0;handleDefs=XM;actionButtonText="Toggle";transform(r){if(wi(r))return!this.state[Ne]}});var Rp={exports:{}},iu={},zp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function KM(){return n1||(n1=1,(function(e){function r(M,q){var Q=M.length;M.push(q);t:for(;0<Q;){var tt=Q-1>>>1,ht=M[tt];if(0<l(ht,q))M[tt]=q,M[Q]=ht,Q=tt;else break t}}function i(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var q=M[0],Q=M.pop();if(Q!==q){M[0]=Q;t:for(var tt=0,ht=M.length,k=ht>>>1;tt<k;){var Z=2*(tt+1)-1,st=M[Z],gt=Z+1,Tt=M[gt];if(0>l(st,Q))gt<ht&&0>l(Tt,st)?(M[tt]=Tt,M[gt]=Q,tt=gt):(M[tt]=st,M[Z]=Q,tt=Z);else if(gt<ht&&0>l(Tt,Q))M[tt]=Tt,M[gt]=Q,tt=gt;else break t}}return q}function l(M,q){var Q=M.sortIndex-q.sortIndex;return Q!==0?Q:M.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var m=[],y=[],x=1,v=null,w=3,T=!1,O=!1,N=!1,B=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _(M){for(var q=i(y);q!==null;){if(q.callback===null)o(y);else if(q.startTime<=M)o(y),q.sortIndex=q.expirationTime,r(m,q);else break;q=i(y)}}function $(M){if(N=!1,_(M),!O)if(i(m)!==null)O=!0,L||(L=!0,et());else{var q=i(y);q!==null&&I($,q.startTime-M)}}var L=!1,j=-1,G=5,J=-1;function vt(){return B?!0:!(e.unstable_now()-J<G)}function pt(){if(B=!1,L){var M=e.unstable_now();J=M;var q=!0;try{t:{O=!1,N&&(N=!1,K(j),j=-1),T=!0;var Q=w;try{e:{for(_(M),v=i(m);v!==null&&!(v.expirationTime>M&&vt());){var tt=v.callback;if(typeof tt=="function"){v.callback=null,w=v.priorityLevel;var ht=tt(v.expirationTime<=M);if(M=e.unstable_now(),typeof ht=="function"){v.callback=ht,_(M),q=!0;break e}v===i(m)&&o(m),_(M)}else o(m);v=i(m)}if(v!==null)q=!0;else{var k=i(y);k!==null&&I($,k.startTime-M),q=!1}}break t}finally{v=null,w=Q,T=!1}q=void 0}}finally{q?et():L=!1}}}var et;if(typeof A=="function")et=function(){A(pt)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Y=lt.port2;lt.port1.onmessage=pt,et=function(){Y.postMessage(null)}}else et=function(){z(pt,0)};function I(M,q){j=z(function(){M(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(M){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var Q=w;w=q;try{return M()}finally{w=Q}},e.unstable_requestPaint=function(){B=!0},e.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=w;w=M;try{return q()}finally{w=Q}},e.unstable_scheduleCallback=function(M,q,Q){var tt=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?tt+Q:tt):Q=tt,M){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=Q+ht,M={id:x++,callback:q,priorityLevel:M,startTime:Q,expirationTime:ht,sortIndex:-1},Q>tt?(M.sortIndex=Q,r(y,M),i(m)===null&&M===i(y)&&(N?(K(j),j=-1):N=!0,I($,Q-tt))):(M.sortIndex=ht,r(m,M),O||T||(O=!0,L||(L=!0,et()))),M},e.unstable_shouldYield=vt,e.unstable_wrapCallback=function(M){var q=w;return function(){var Q=w;w=q;try{return M.apply(this,arguments)}finally{w=Q}}}})(Bp)),Bp}var r1;function GM(){return r1||(r1=1,zp.exports=KM()),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function IM(){if(a1)return iu;a1=1;var e=GM(),r=Ru(),i=_x();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(o(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(o(188));return n!==t?null:t}for(var a=t,s=n;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(s=f.return,s!==null){a=s;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),t;if(p===s)return m(f),n;p=p.sibling}throw Error(o(188))}if(a.return!==s.return)a=f,s=p;else{for(var E=!1,R=f.child;R;){if(R===a){E=!0,a=f,s=p;break}if(R===s){E=!0,s=f,a=p;break}R=R.sibling}if(!E){for(R=p.child;R;){if(R===a){E=!0,a=p,s=f;break}if(R===s){E=!0,s=p,a=f;break}R=R.sibling}if(!E)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),vt=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function et(t){return t===null||typeof t!="object"?null:(t=pt&&t[pt]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Symbol.for("react.client.reference");function Y(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===lt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case z:return"Profiler";case B:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case A:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case _:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return n=t.displayName||null,n!==null?n:Y(t.type)||"Memo";case G:n=t._payload,t=t._init;try{return Y(t(n))}catch{}}return null}var I=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},tt=[],ht=-1;function k(t){return{current:t}}function Z(t){0>ht||(t.current=tt[ht],tt[ht]=null,ht--)}function st(t,n){ht++,tt[ht]=t.current,t.current=n}var gt=k(null),Tt=k(null),Ot=k(null),jt=k(null);function Ct(t,n){switch(st(Ot,n),st(Tt,t),st(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=vv(n),t=bv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(gt),st(gt,t)}function St(){Z(gt),Z(Tt),Z(Ot)}function It(t){t.memoizedState!==null&&st(jt,t);var n=gt.current,a=bv(n,t.type);n!==a&&(st(Tt,t),st(gt,a))}function te(t){Tt.current===t&&(Z(gt),Z(Tt)),jt.current===t&&(Z(jt),Fl._currentValue=Q)}var Ht,Ft;function Zt(t){if(Ht===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ht=n&&n[1]||"",Ft=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ht+t+Ft}var oe=!1;function be(t,n){if(!t||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var zt=function(){throw Error()};if(Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(_t){var wt=_t}Reflect.construct(t,[],zt)}else{try{zt.call()}catch(_t){wt=_t}t.call(zt.prototype)}}else{try{throw Error()}catch(_t){wt=_t}(zt=t())&&typeof zt.catch=="function"&&zt.catch(function(){})}}catch(_t){if(_t&&wt&&typeof _t.stack=="string")return[_t.stack,wt.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),E=p[0],R=p[1];if(E&&R){var P=E.split(`
`),bt=R.split(`
`);for(f=s=0;s<P.length&&!P[s].includes("DetermineComponentFrameRoot");)s++;for(;f<bt.length&&!bt[f].includes("DetermineComponentFrameRoot");)f++;if(s===P.length||f===bt.length)for(s=P.length-1,f=bt.length-1;1<=s&&0<=f&&P[s]!==bt[f];)f--;for(;1<=s&&0<=f;s--,f--)if(P[s]!==bt[f]){if(s!==1||f!==1)do if(s--,f--,0>f||P[s]!==bt[f]){var At=`
`+P[s].replace(" at new "," at ");return t.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",t.displayName)),At}while(1<=s&&0<=f);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zt(a):""}function De(t,n){switch(t.tag){case 26:case 27:case 5:return Zt(t.type);case 16:return Zt("Lazy");case 13:return t.child!==n&&n!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return be(t.type,!1);case 11:return be(t.type.render,!1);case 1:return be(t.type,!0);case 31:return Zt("Activity");default:return""}}function yn(t){try{var n="",a=null;do n+=De(t,a),a=t,t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ge=Object.prototype.hasOwnProperty,je=e.unstable_scheduleCallback,Ae=e.unstable_cancelCallback,Oe=e.unstable_shouldYield,Ve=e.unstable_requestPaint,Ye=e.unstable_now,En=e.unstable_getCurrentPriorityLevel,Ie=e.unstable_ImmediatePriority,Xe=e.unstable_UserBlockingPriority,nn=e.unstable_NormalPriority,_n=e.unstable_LowPriority,vn=e.unstable_IdlePriority,bn=e.log,hn=e.unstable_setDisableYieldValue,$n=null,Et=null;function Vt(t){if(typeof bn=="function"&&hn(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode($n,t)}catch{}}var Dt=Math.clz32?Math.clz32:Me,he=Math.log,re=Math.LN2;function Me(t){return t>>>=0,t===0?32:31-(he(t)/re|0)|0}var kt=256,Tn=262144,ke=4194304;function xe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gt(t,n,a){var s=t.pendingLanes;if(s===0)return 0;var f=0,p=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var R=s&134217727;return R!==0?(s=R&~p,s!==0?f=xe(s):(E&=R,E!==0?f=xe(E):a||(a=R&~t,a!==0&&(f=xe(a))))):(R=s&~p,R!==0?f=xe(R):E!==0?f=xe(E):a||(a=s&~t,a!==0&&(f=xe(a)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:f}function ue(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function pe(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _e(){var t=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),t}function Le(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function fe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function we(t,n,a,s,f,p){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var R=t.entanglements,P=t.expirationTimes,bt=t.hiddenUpdates;for(a=E&~a;0<a;){var At=31-Dt(a),zt=1<<At;R[At]=0,P[At]=-1;var wt=bt[At];if(wt!==null)for(bt[At]=null,At=0;At<wt.length;At++){var _t=wt[At];_t!==null&&(_t.lane&=-536870913)}a&=~zt}s!==0&&pn(t,s,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(E&~n))}function pn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var s=31-Dt(n);t.entangledLanes|=n,t.entanglements[s]=t.entanglements[s]|1073741824|a&261930}function ae(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var s=31-Dt(a),f=1<<s;f&n|t[s]&n&&(t[s]|=n),a&=~f}}function ce(t,n){var a=n&-n;return a=(a&42)!==0?1:nr(a),(a&(t.suspendedLanes|n))!==0?0:a}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function un(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ln(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Yv(t.type))}function lr(t,n){var a=q.p;try{return q.p=t,n()}finally{q.p=a}}var rr=Math.random().toString(36).slice(2),Pe="__reactFiber$"+rr,gn="__reactProps$"+rr,Xn="__reactContainer$"+rr,ia="__reactEvents$"+rr,Zo="__reactListeners$"+rr,Ur="__reactHandles$"+rr,co="__reactResources$"+rr,ur="__reactMarker$"+rr;function Si(t){delete t[Pe],delete t[gn],delete t[ia],delete t[Zo],delete t[Ur]}function qr(t){var n=t[Pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Xn]||a[Pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Cv(t);t!==null;){if(a=t[Pe])return a;t=Cv(t)}return n}t=a,a=t.parentNode}return null}function Ke(t){if(t=t[Pe]||t[Xn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ar(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function Kn(t){var n=t[co];return n||(n=t[co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mn(t){t[ur]=!0}var oa=new Set,Ua={};function Nr(t,n){Vr(t,n),Vr(t+"Capture",n)}function Vr(t,n){for(Ua[t]=n,t=0;t<n.length;t++)oa.add(n[t])}var sa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ei={},qa={};function Qo(t){return Ge.call(qa,t)?!0:Ge.call(Ei,t)?!1:sa.test(t)?qa[t]=!0:(Ei[t]=!0,!1)}function ge(t,n,a){if(Qo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Va(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function pr(t,n,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+s)}}function Un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(t,n,a){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,p.call(this,E)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ya(t){if(!t._valueTracker){var n=wa(t)?"checked":"value";t._valueTracker=Po(t,n,""+t[n])}}function fo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return t&&(s=wa(t)?t.checked?"true":"false":t.value),t=s,t!==a?(n.setValue(t),!0):!1}function He(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $a=/[\n"\\]/g;function xn(t){return t.replace($a,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yr(t,n,a,s,f,p,E,R){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Un(n)):t.value!==""+Un(n)&&(t.value=""+Un(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,E,Un(n)):a!=null?Sa(t,E,Un(a)):s!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+Un(R):t.removeAttribute("name")}function _i(t,n,a,s,f,p,E,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Ya(t);return}a=a!=null?""+Un(a):"",n=n!=null?""+Un(n):a,R||n===t.value||(t.value=n),t.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=R?t.checked:!!s,t.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Ya(t)}function Sa(t,n,a){n==="number"&&He(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function la(t,n,a,s){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&s&&(t[a].defaultSelected=!0)}else{for(a=""+Un(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,s&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function il(t,n,a){if(n!=null&&(n=""+Un(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Un(a):""}function ho(t,n,a,s){if(n==null){if(s!=null){if(a!=null)throw Error(o(92));if(I(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),n=a}a=Un(n),t.defaultValue=a,s=t.textContent,s===a&&s!==""&&s!==null&&(t.value=s),Ya(t)}function Xa(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Re(t,n,a){var s=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":s?t.setProperty(n,a):typeof a!="number"||a===0||vd.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ol(t,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&a[f]!==s&&Re(t,f,s)}else for(var p in n)n.hasOwnProperty(p)&&Re(t,p,n[p])}function sl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gr(){}var $r=null;function Fo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ka=null,rn=null;function Dr(t){var n=Ke(t);if(n&&(t=n.stateNode)){var a=t[gn]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==t&&s.form===t.form){var f=s[gn]||null;if(!f)throw Error(o(90));Yr(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)s=a[n],s.form===t.form&&fo(s)}break t;case"textarea":il(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&la(t,!!a.multiple,n,!1)}}}var Ga=!1;function Ti(t,n,a){if(Ga)return t(n,a);Ga=!0;try{var s=t(n);return s}finally{if(Ga=!1,(Ka!==null||rn!==null)&&(Hc(),Ka&&(n=Ka,t=rn,rn=Ka=null,Dr(n),t)))for(n=0;n<t.length;n++)Dr(t[n])}}function Ia(t,n){var a=t.stateNode;if(a===null)return null;var s=a[gn]||null;if(s===null)return null;a=s[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=!1;if(Gn)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ll=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ll=!1}var Xr=null,Jo=null,Ci=null;function Ni(){if(Ci)return Ci;var t,n=Jo,a=n.length,s,f="value"in Xr?Xr.value:Xr.textContent,p=f.length;for(t=0;t<a&&n[t]===f[t];t++);var E=a-t;for(s=1;s<=E&&n[a-s]===f[p-s];s++);return Ci=f.slice(t,1<s?1-s:void 0)}function Di(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function po(){return!0}function Zu(){return!1}function Dn(t){function n(a,s,f,p,E){this._reactName=a,this._targetInst=f,this.type=s,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(a=t[R],this[R]=a?a(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?po:Zu,this.isPropagationStopped=Zu,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),n}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=Dn(Za),Ea=v({},Za,{view:0,detail:0}),ts=Dn(Ea),go,ul,mo,es=v({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mo&&(mo&&t.type==="mousemove"?(go=t.screenX-mo.screenX,ul=t.screenY-mo.screenY):ul=go=0,mo=t),go)},movementY:function(t){return"movementY"in t?t.movementY:ul}}),ns=Dn(es),cl=v({},es,{dataTransfer:0}),Qu=Dn(cl),rs=v({},Ea,{relatedTarget:0}),Ai=Dn(rs),as=v({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Dn(as),xd=v({},Za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oi=Dn(xd),fl=v({},Za,{data:0}),is=Dn(fl),dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=In[t])?!!n[t]:!1}function Qa(){return yo}var Fu=v({},Ea,{key:function(t){if(t.key){var n=dl[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?Di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),os=Dn(Fu),Ju=v({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Dn(Ju),ss=v({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),gl=Dn(ss),Pa=v({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),ml=Dn(Pa),yl=v({},es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ls=Dn(yl),vl=v({},Za,{newState:0,oldState:0}),Wu=Dn(vl),wd=[9,13,27,32],vo=Gn&&"CompositionEvent"in window,_a=null;Gn&&"documentMode"in document&&(_a=document.documentMode);var Sd=Gn&&"TextEvent"in window&&!_a,us=Gn&&(!vo||_a&&8<_a&&11>=_a),cs=" ",tc=!1;function bl(t,n){switch(t){case"keyup":return wd.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ec(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function nc(t,n){switch(t){case"compositionend":return ec(n);case"keypress":return n.which!==32?null:(tc=!0,cs);case"textInput":return t=n.data,t===cs&&tc?null:t;default:return null}}function Ed(t,n){if(Fa)return t==="compositionend"||!vo&&bl(t,n)?(t=Ni(),Ci=Jo=Xr=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return us&&n.locale!=="ko"?null:n.data;default:return null}}var rc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fs(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!rc[t.type]:n==="textarea"}function xl(t,n,a,s){Ka?rn?rn.push(s):rn=[s]:Ka=s,n=$c(n,"onChange"),0<n.length&&(a=new Wo("onChange","change",null,a,s),t.push({event:a,listeners:n}))}var Mi=null,bo=null;function _d(t){dv(t,0)}function ds(t){var n=ar(t);if(fo(n))return t}function xo(t,n){if(t==="change")return n}var Kr=!1;if(Gn){var an;if(Gn){var Ri="oninput"in document;if(!Ri){var fr=document.createElement("div");fr.setAttribute("oninput","return;"),Ri=typeof fr.oninput=="function"}an=Ri}else an=!1;Kr=an&&(!document.documentMode||9<document.documentMode)}function ac(){Mi&&(Mi.detachEvent("onpropertychange",hs),bo=Mi=null)}function hs(t){if(t.propertyName==="value"&&ds(bo)){var n=[];xl(n,bo,t,Fo(t)),Ti(_d,n)}}function ic(t,n,a){t==="focusin"?(ac(),Mi=n,bo=a,Mi.attachEvent("onpropertychange",hs)):t==="focusout"&&ac()}function Ja(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ds(bo)}function wl(t,n){if(t==="click")return ds(n)}function zi(t,n){if(t==="input"||t==="change")return ds(n)}function Ta(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var or=typeof Object.is=="function"?Object.is:Ta;function u(t,n){if(or(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var f=a[s];if(!Ge.call(n,f)||!or(t[f],n[f]))return!1}return!0}function h(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b(t,n){var a=h(t);t=0;for(var s;a;){if(a.nodeType===3){if(s=t+a.textContent.length,t<=n&&s>=n)return{node:a,offset:n-t};t=s}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=h(a)}}function S(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?S(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function C(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=He(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=He(t.document)}return n}function D(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var V=Gn&&"documentMode"in document&&11>=document.documentMode,X=null,W=null,nt=null,ut=!1;function F(t,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ut||X==null||X!==He(s)||(s=X,"selectionStart"in s&&D(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),nt&&u(nt,s)||(nt=s,s=$c(W,"onSelect"),0<s.length&&(n=new Wo("onSelect","select",null,n,a),t.push({event:n,listeners:s}),n.target=X)))}function ft(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var rt={animationend:ft("Animation","AnimationEnd"),animationiteration:ft("Animation","AnimationIteration"),animationstart:ft("Animation","AnimationStart"),transitionrun:ft("Transition","TransitionRun"),transitionstart:ft("Transition","TransitionStart"),transitioncancel:ft("Transition","TransitionCancel"),transitionend:ft("Transition","TransitionEnd")},it={},ot={};Gn&&(ot=document.createElement("div").style,"AnimationEvent"in window||(delete rt.animationend.animation,delete rt.animationiteration.animation,delete rt.animationstart.animation),"TransitionEvent"in window||delete rt.transitionend.transition);function ct(t){if(it[t])return it[t];if(!rt[t])return t;var n=rt[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ot)return it[t]=n[a];return t}var mt=ct("animationend"),xt=ct("animationiteration"),Nt=ct("animationstart"),Rt=ct("transitionrun"),qt=ct("transitionstart"),Xt=ct("transitioncancel"),Lt=ct("transitionend"),Yt=new Map,$t="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$t.push("scrollEnd");function Ut(t,n){Yt.set(t,n),Nr(n,[t])}var Kt=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ee=[],le=0,me=0;function Zn(){for(var t=le,n=me=le=0;n<t;){var a=ee[n];ee[n++]=null;var s=ee[n];ee[n++]=null;var f=ee[n];ee[n++]=null;var p=ee[n];if(ee[n++]=null,s!==null&&f!==null){var E=s.pending;E===null?f.next=f:(f.next=E.next,E.next=f),s.pending=f}p!==0&&wo(a,f,p)}}function se(t,n,a,s){ee[le++]=t,ee[le++]=n,ee[le++]=a,ee[le++]=s,me|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function An(t,n,a,s){return se(t,n,a,s),On(t)}function cn(t,n){return se(t,null,null,n),On(t)}function wo(t,n,a){t.lanes|=a;var s=t.alternate;s!==null&&(s.lanes|=a);for(var f=!1,p=t.return;p!==null;)p.childLanes|=a,s=p.alternate,s!==null&&(s.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&n!==null&&(f=31-Dt(a),t=p.hiddenUpdates,s=t[f],s===null?t[f]=[n]:s.push(n),n.lane=a|536870912),p):null}function On(t){if(50<Xl)throw Xl=0,zh=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var mr={};function Sl(t,n,a,s){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,n,a,s){return new Sl(t,n,a,s)}function Td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wa(t,n){var a=t.alternate;return a===null?(a=Ar(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function oc(t,n,a,s,f,p){var E=0;if(s=t,typeof t=="function")Td(t)&&(E=1);else if(typeof t=="string")E=lE(t,a,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case J:return t=Ar(31,a,n,f),t.elementType=J,t.lanes=p,t;case N:return So(a.children,f,p,n);case B:E=8,f|=24;break;case z:return t=Ar(12,a,n,f|2),t.elementType=z,t.lanes=p,t;case $:return t=Ar(13,a,n,f),t.elementType=$,t.lanes=p,t;case L:return t=Ar(19,a,n,f),t.elementType=L,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:E=10;break t;case K:E=9;break t;case _:E=11;break t;case j:E=14;break t;case G:E=16,s=null;break t}E=29,a=Error(o(130,t===null?"null":typeof t,"")),s=null}return n=Ar(E,a,n,f),n.elementType=t,n.type=s,n.lanes=p,n}function So(t,n,a,s){return t=Ar(7,t,s,n),t.lanes=a,t}function Cd(t,n,a){return t=Ar(6,t,null,n),t.lanes=a,t}function Qg(t){var n=Ar(18,null,null,0);return n.stateNode=t,n}function Nd(t,n,a){return n=Ar(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pg=new WeakMap;function Gr(t,n){if(typeof t=="object"&&t!==null){var a=Pg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yn(n)},Pg.set(t,n),n)}return{value:t,source:n,stack:yn(n)}}var ps=[],gs=0,sc=null,El=0,Ir=[],Zr=0,Bi=null,Ca=1,Na="";function ti(t,n){ps[gs++]=El,ps[gs++]=sc,sc=t,El=n}function Fg(t,n,a){Ir[Zr++]=Ca,Ir[Zr++]=Na,Ir[Zr++]=Bi,Bi=t;var s=Ca;t=Na;var f=32-Dt(s)-1;s&=~(1<<f),a+=1;var p=32-Dt(n)+f;if(30<p){var E=f-f%5;p=(s&(1<<E)-1).toString(32),s>>=E,f-=E,Ca=1<<32-Dt(n)+f|a<<f|s,Na=p+t}else Ca=1<<p|a<<f|s,Na=t}function Dd(t){t.return!==null&&(ti(t,1),Fg(t,1,0))}function Ad(t){for(;t===sc;)sc=ps[--gs],ps[gs]=null,El=ps[--gs],ps[gs]=null;for(;t===Bi;)Bi=Ir[--Zr],Ir[Zr]=null,Na=Ir[--Zr],Ir[Zr]=null,Ca=Ir[--Zr],Ir[Zr]=null}function Jg(t,n){Ir[Zr++]=Ca,Ir[Zr++]=Na,Ir[Zr++]=Bi,Ca=n.id,Na=n.overflow,Bi=t}var Fn=null,on=null,ze=!1,ji=null,Qr=!1,Od=Error(o(519));function Hi(t){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(Gr(n,t)),Od}function Wg(t){var n=t.stateNode,a=t.type,s=t.memoizedProps;switch(n[Pe]=t,n[gn]=s,a){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Ee(Gl[a],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),_i(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),ho(n,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||s.suppressHydrationWarning===!0||mv(n.textContent,a)?(s.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),s.onScroll!=null&&Ee("scroll",n),s.onScrollEnd!=null&&Ee("scrollend",n),s.onClick!=null&&(n.onclick=gr),n=!0):n=!1,n||Hi(t,!0)}function tm(t){for(Fn=t.return;Fn;)switch(Fn.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Fn=Fn.return}}function ms(t){if(t!==Fn)return!1;if(!ze)return tm(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zh(t.type,t.memoizedProps)),a=!a),a&&on&&Hi(t),tm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));on=Tv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));on=Tv(t)}else n===27?(n=on,Pi(t.type)?(t=Wh,Wh=null,on=t):on=n):on=Fn?Fr(t.stateNode.nextSibling):null;return!0}function Eo(){on=Fn=null,ze=!1}function Md(){var t=ji;return t!==null&&(xr===null?xr=t:xr.push.apply(xr,t),ji=null),t}function _l(t){ji===null?ji=[t]:ji.push(t)}var Rd=k(null),_o=null,ei=null;function ki(t,n,a){st(Rd,n._currentValue),n._currentValue=a}function ni(t){t._currentValue=Rd.current,Z(Rd)}function zd(t,n,a){for(;t!==null;){var s=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),t===a)break;t=t.return}}function Bd(t,n,a,s){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var R=p;p=f;for(var P=0;P<n.length;P++)if(R.context===n[P]){p.lanes|=a,R=p.alternate,R!==null&&(R.lanes|=a),zd(p.return,a,t),s||(E=null);break t}p=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(o(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),zd(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ys(t,n,a,s){t=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var R=f.type;or(f.pendingProps.value,E.value)||(t!==null?t.push(R):t=[R])}}else if(f===jt.current){if(E=f.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}f=f.return}t!==null&&Bd(n,t,a,s),n.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!or(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function To(t){_o=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jn(t){return em(_o,t)}function uc(t,n){return _o===null&&To(t),em(t,n)}function em(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ei===null){if(t===null)throw Error(o(308));ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ei=ei.next=n;return a}var aS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,s){t.push(s)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},iS=e.unstable_scheduleCallback,oS=e.unstable_NormalPriority,Mn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new aS,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&iS(oS,function(){t.controller.abort()})}var Cl=null,Hd=0,vs=0,bs=null;function sS(t,n){if(Cl===null){var a=Cl=[];Hd=0,vs=Uh(),bs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Hd++,n.then(nm,nm),n}function nm(){if(--Hd===0&&Cl!==null){bs!==null&&(bs.status="fulfilled");var t=Cl;Cl=null,vs=0,bs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function lS(t,n){var a=[],s={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),s}var rm=M.S;M.S=function(t,n){qy=Ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&sS(t,n),rm!==null&&rm(t,n)};var Co=k(null);function kd(){var t=Co.current;return t!==null?t:tn.pooledCache}function cc(t,n){n===null?st(Co,Co.current):st(Co,n.pool)}function am(){var t=kd();return t===null?null:{parent:Mn._currentValue,pool:t}}var xs=Error(o(460)),Ld=Error(o(474)),fc=Error(o(542)),dc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function om(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(gr,gr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lm(t),t;default:if(typeof n.status=="string")n.then(gr,gr);else{if(t=tn,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lm(t),t}throw Do=n,xs}}function No(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Do=a,xs):a}}var Do=null;function sm(){if(Do===null)throw Error(o(459));var t=Do;return Do=null,t}function lm(t){if(t===xs||t===fc)throw Error(o(483))}var ws=null,Nl=0;function hc(t){var n=Nl;return Nl+=1,ws===null&&(ws=[]),om(ws,t,n)}function Dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function pc(t,n){throw n.$$typeof===w?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function um(t){function n(dt,at){if(t){var yt=dt.deletions;yt===null?(dt.deletions=[at],dt.flags|=16):yt.push(at)}}function a(dt,at){if(!t)return null;for(;at!==null;)n(dt,at),at=at.sibling;return null}function s(dt){for(var at=new Map;dt!==null;)dt.key!==null?at.set(dt.key,dt):at.set(dt.index,dt),dt=dt.sibling;return at}function f(dt,at){return dt=Wa(dt,at),dt.index=0,dt.sibling=null,dt}function p(dt,at,yt){return dt.index=yt,t?(yt=dt.alternate,yt!==null?(yt=yt.index,yt<at?(dt.flags|=67108866,at):yt):(dt.flags|=67108866,at)):(dt.flags|=1048576,at)}function E(dt){return t&&dt.alternate===null&&(dt.flags|=67108866),dt}function R(dt,at,yt,Mt){return at===null||at.tag!==6?(at=Cd(yt,dt.mode,Mt),at.return=dt,at):(at=f(at,yt),at.return=dt,at)}function P(dt,at,yt,Mt){var ne=yt.type;return ne===N?At(dt,at,yt.props.children,Mt,yt.key):at!==null&&(at.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===G&&No(ne)===at.type)?(at=f(at,yt.props),Dl(at,yt),at.return=dt,at):(at=oc(yt.type,yt.key,yt.props,null,dt.mode,Mt),Dl(at,yt),at.return=dt,at)}function bt(dt,at,yt,Mt){return at===null||at.tag!==4||at.stateNode.containerInfo!==yt.containerInfo||at.stateNode.implementation!==yt.implementation?(at=Nd(yt,dt.mode,Mt),at.return=dt,at):(at=f(at,yt.children||[]),at.return=dt,at)}function At(dt,at,yt,Mt,ne){return at===null||at.tag!==7?(at=So(yt,dt.mode,Mt,ne),at.return=dt,at):(at=f(at,yt),at.return=dt,at)}function zt(dt,at,yt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=Cd(""+at,dt.mode,yt),at.return=dt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case T:return yt=oc(at.type,at.key,at.props,null,dt.mode,yt),Dl(yt,at),yt.return=dt,yt;case O:return at=Nd(at,dt.mode,yt),at.return=dt,at;case G:return at=No(at),zt(dt,at,yt)}if(I(at)||et(at))return at=So(at,dt.mode,yt,null),at.return=dt,at;if(typeof at.then=="function")return zt(dt,hc(at),yt);if(at.$$typeof===A)return zt(dt,uc(dt,at),yt);pc(dt,at)}return null}function wt(dt,at,yt,Mt){var ne=at!==null?at.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return ne!==null?null:R(dt,at,""+yt,Mt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case T:return yt.key===ne?P(dt,at,yt,Mt):null;case O:return yt.key===ne?bt(dt,at,yt,Mt):null;case G:return yt=No(yt),wt(dt,at,yt,Mt)}if(I(yt)||et(yt))return ne!==null?null:At(dt,at,yt,Mt,null);if(typeof yt.then=="function")return wt(dt,at,hc(yt),Mt);if(yt.$$typeof===A)return wt(dt,at,uc(dt,yt),Mt);pc(dt,yt)}return null}function _t(dt,at,yt,Mt,ne){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return dt=dt.get(yt)||null,R(at,dt,""+Mt,ne);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case T:return dt=dt.get(Mt.key===null?yt:Mt.key)||null,P(at,dt,Mt,ne);case O:return dt=dt.get(Mt.key===null?yt:Mt.key)||null,bt(at,dt,Mt,ne);case G:return Mt=No(Mt),_t(dt,at,yt,Mt,ne)}if(I(Mt)||et(Mt))return dt=dt.get(yt)||null,At(at,dt,Mt,ne,null);if(typeof Mt.then=="function")return _t(dt,at,yt,hc(Mt),ne);if(Mt.$$typeof===A)return _t(dt,at,yt,uc(at,Mt),ne);pc(at,Mt)}return null}function Qt(dt,at,yt,Mt){for(var ne=null,Ue=null,Wt=at,ve=at=0,Ce=null;Wt!==null&&ve<yt.length;ve++){Wt.index>ve?(Ce=Wt,Wt=null):Ce=Wt.sibling;var qe=wt(dt,Wt,yt[ve],Mt);if(qe===null){Wt===null&&(Wt=Ce);break}t&&Wt&&qe.alternate===null&&n(dt,Wt),at=p(qe,at,ve),Ue===null?ne=qe:Ue.sibling=qe,Ue=qe,Wt=Ce}if(ve===yt.length)return a(dt,Wt),ze&&ti(dt,ve),ne;if(Wt===null){for(;ve<yt.length;ve++)Wt=zt(dt,yt[ve],Mt),Wt!==null&&(at=p(Wt,at,ve),Ue===null?ne=Wt:Ue.sibling=Wt,Ue=Wt);return ze&&ti(dt,ve),ne}for(Wt=s(Wt);ve<yt.length;ve++)Ce=_t(Wt,dt,ve,yt[ve],Mt),Ce!==null&&(t&&Ce.alternate!==null&&Wt.delete(Ce.key===null?ve:Ce.key),at=p(Ce,at,ve),Ue===null?ne=Ce:Ue.sibling=Ce,Ue=Ce);return t&&Wt.forEach(function(eo){return n(dt,eo)}),ze&&ti(dt,ve),ne}function ie(dt,at,yt,Mt){if(yt==null)throw Error(o(151));for(var ne=null,Ue=null,Wt=at,ve=at=0,Ce=null,qe=yt.next();Wt!==null&&!qe.done;ve++,qe=yt.next()){Wt.index>ve?(Ce=Wt,Wt=null):Ce=Wt.sibling;var eo=wt(dt,Wt,qe.value,Mt);if(eo===null){Wt===null&&(Wt=Ce);break}t&&Wt&&eo.alternate===null&&n(dt,Wt),at=p(eo,at,ve),Ue===null?ne=eo:Ue.sibling=eo,Ue=eo,Wt=Ce}if(qe.done)return a(dt,Wt),ze&&ti(dt,ve),ne;if(Wt===null){for(;!qe.done;ve++,qe=yt.next())qe=zt(dt,qe.value,Mt),qe!==null&&(at=p(qe,at,ve),Ue===null?ne=qe:Ue.sibling=qe,Ue=qe);return ze&&ti(dt,ve),ne}for(Wt=s(Wt);!qe.done;ve++,qe=yt.next())qe=_t(Wt,dt,ve,qe.value,Mt),qe!==null&&(t&&qe.alternate!==null&&Wt.delete(qe.key===null?ve:qe.key),at=p(qe,at,ve),Ue===null?ne=qe:Ue.sibling=qe,Ue=qe);return t&&Wt.forEach(function(bE){return n(dt,bE)}),ze&&ti(dt,ve),ne}function We(dt,at,yt,Mt){if(typeof yt=="object"&&yt!==null&&yt.type===N&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case T:t:{for(var ne=yt.key;at!==null;){if(at.key===ne){if(ne=yt.type,ne===N){if(at.tag===7){a(dt,at.sibling),Mt=f(at,yt.props.children),Mt.return=dt,dt=Mt;break t}}else if(at.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===G&&No(ne)===at.type){a(dt,at.sibling),Mt=f(at,yt.props),Dl(Mt,yt),Mt.return=dt,dt=Mt;break t}a(dt,at);break}else n(dt,at);at=at.sibling}yt.type===N?(Mt=So(yt.props.children,dt.mode,Mt,yt.key),Mt.return=dt,dt=Mt):(Mt=oc(yt.type,yt.key,yt.props,null,dt.mode,Mt),Dl(Mt,yt),Mt.return=dt,dt=Mt)}return E(dt);case O:t:{for(ne=yt.key;at!==null;){if(at.key===ne)if(at.tag===4&&at.stateNode.containerInfo===yt.containerInfo&&at.stateNode.implementation===yt.implementation){a(dt,at.sibling),Mt=f(at,yt.children||[]),Mt.return=dt,dt=Mt;break t}else{a(dt,at);break}else n(dt,at);at=at.sibling}Mt=Nd(yt,dt.mode,Mt),Mt.return=dt,dt=Mt}return E(dt);case G:return yt=No(yt),We(dt,at,yt,Mt)}if(I(yt))return Qt(dt,at,yt,Mt);if(et(yt)){if(ne=et(yt),typeof ne!="function")throw Error(o(150));return yt=ne.call(yt),ie(dt,at,yt,Mt)}if(typeof yt.then=="function")return We(dt,at,hc(yt),Mt);if(yt.$$typeof===A)return We(dt,at,uc(dt,yt),Mt);pc(dt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint"?(yt=""+yt,at!==null&&at.tag===6?(a(dt,at.sibling),Mt=f(at,yt),Mt.return=dt,dt=Mt):(a(dt,at),Mt=Cd(yt,dt.mode,Mt),Mt.return=dt,dt=Mt),E(dt)):a(dt,at)}return function(dt,at,yt,Mt){try{Nl=0;var ne=We(dt,at,yt,Mt);return ws=null,ne}catch(Wt){if(Wt===xs||Wt===fc)throw Wt;var Ue=Ar(29,Wt,null,dt.mode);return Ue.lanes=Mt,Ue.return=dt,Ue}finally{}}}var Ao=um(!0),cm=um(!1),Li=!1;function Ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qi(t,n,a){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,($e&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=On(t),wo(t,null,a),n}return se(t,s,n,a),On(t)}function Al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var s=n.lanes;s&=t.pendingLanes,a|=s,n.lanes=a,ae(t,a)}}function Vd(t,n){var a=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=n:p=p.next=n}else f=p=n;a={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Yd=!1;function Ol(){if(Yd){var t=bs;if(t!==null)throw t}}function Ml(t,n,a,s){Yd=!1;var f=t.updateQueue;Li=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var P=R,bt=P.next;P.next=null,E===null?p=bt:E.next=bt,E=P;var At=t.alternate;At!==null&&(At=At.updateQueue,R=At.lastBaseUpdate,R!==E&&(R===null?At.firstBaseUpdate=bt:R.next=bt,At.lastBaseUpdate=P))}if(p!==null){var zt=f.baseState;E=0,At=bt=P=null,R=p;do{var wt=R.lane&-536870913,_t=wt!==R.lane;if(_t?(Te&wt)===wt:(s&wt)===wt){wt!==0&&wt===vs&&(Yd=!0),At!==null&&(At=At.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Qt=t,ie=R;wt=n;var We=a;switch(ie.tag){case 1:if(Qt=ie.payload,typeof Qt=="function"){zt=Qt.call(We,zt,wt);break t}zt=Qt;break t;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=ie.payload,wt=typeof Qt=="function"?Qt.call(We,zt,wt):Qt,wt==null)break t;zt=v({},zt,wt);break t;case 2:Li=!0}}wt=R.callback,wt!==null&&(t.flags|=64,_t&&(t.flags|=8192),_t=f.callbacks,_t===null?f.callbacks=[wt]:_t.push(wt))}else _t={lane:wt,tag:R.tag,payload:R.payload,callback:R.callback,next:null},At===null?(bt=At=_t,P=zt):At=At.next=_t,E|=wt;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;_t=R,R=_t.next,_t.next=null,f.lastBaseUpdate=_t,f.shared.pending=null}}while(!0);At===null&&(P=zt),f.baseState=P,f.firstBaseUpdate=bt,f.lastBaseUpdate=At,p===null&&(f.shared.lanes=0),Ki|=E,t.lanes=E,t.memoizedState=zt}}function fm(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function dm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fm(a[t],n)}var Ss=k(null),gc=k(0);function hm(t,n){t=fi,st(gc,t),st(Ss,n),fi=t|n.baseLanes}function $d(){st(gc,fi),st(Ss,Ss.current)}function Xd(){fi=gc.current,Z(Ss),Z(gc)}var Or=k(null),Pr=null;function Vi(t){var n=t.alternate;st(Cn,Cn.current&1),st(Or,t),Pr===null&&(n===null||Ss.current!==null||n.memoizedState!==null)&&(Pr=t)}function Kd(t){st(Cn,Cn.current),st(Or,t),Pr===null&&(Pr=t)}function pm(t){t.tag===22?(st(Cn,Cn.current),st(Or,t),Pr===null&&(Pr=t)):Yi()}function Yi(){st(Cn,Cn.current),st(Or,Or.current)}function Mr(t){Z(Or),Pr===t&&(Pr=null),Z(Cn)}var Cn=k(0);function mc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fh(a)||Jh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ri=0,ye=null,Fe=null,Rn=null,yc=!1,Es=!1,Oo=!1,vc=0,Rl=0,_s=null,uS=0;function wn(){throw Error(o(321))}function Gd(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!or(t[a],n[a]))return!1;return!0}function Id(t,n,a,s,f,p){return ri=p,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Fm:lh,Oo=!1,p=a(s,f),Oo=!1,Es&&(p=mm(n,a,s,f)),gm(t),p}function gm(t){M.H=jl;var n=Fe!==null&&Fe.next!==null;if(ri=0,Rn=Fe=ye=null,yc=!1,Rl=0,_s=null,n)throw Error(o(300));t===null||zn||(t=t.dependencies,t!==null&&lc(t)&&(zn=!0))}function mm(t,n,a,s){ye=t;var f=0;do{if(Es&&(_s=null),Rl=0,Es=!1,25<=f)throw Error(o(301));if(f+=1,Rn=Fe=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}M.H=Jm,p=n(a,s)}while(Es);return p}function cS(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?zl(n):n,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(ye.flags|=1024),n}function Zd(){var t=vc!==0;return vc=0,t}function Qd(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Pd(t){if(yc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}yc=!1}ri=0,Rn=Fe=ye=null,Es=!1,Rl=vc=0,_s=null}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?ye.memoizedState=Rn=t:Rn=Rn.next=t,Rn}function Nn(){if(Fe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var n=Rn===null?ye.memoizedState:Rn.next;if(n!==null)Rn=n,Fe=t;else{if(t===null)throw ye.alternate===null?Error(o(467)):Error(o(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Rn===null?ye.memoizedState=Rn=t:Rn=Rn.next=t}return Rn}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(t){var n=Rl;return Rl+=1,_s===null&&(_s=[]),t=om(_s,t,n),n=ye,(Rn===null?n.memoizedState:Rn.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Fm:lh),t}function xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zl(t);if(t.$$typeof===A)return Jn(t)}throw Error(o(438,String(t)))}function Fd(t){var n=null,a=ye.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=bc(),ye.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),s=0;s<t;s++)a[s]=vt;return n.index++,a}function ai(t,n){return typeof n=="function"?n(t):n}function wc(t){var n=Nn();return Jd(n,Fe,t)}function Jd(t,n,a){var s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var f=t.baseQueue,p=s.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}n.baseQueue=f=p,s.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{n=f.next;var R=E=null,P=null,bt=n,At=!1;do{var zt=bt.lane&-536870913;if(zt!==bt.lane?(Te&zt)===zt:(ri&zt)===zt){var wt=bt.revertLane;if(wt===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),zt===vs&&(At=!0);else if((ri&wt)===wt){bt=bt.next,wt===vs&&(At=!0);continue}else zt={lane:0,revertLane:bt.revertLane,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},P===null?(R=P=zt,E=p):P=P.next=zt,ye.lanes|=wt,Ki|=wt;zt=bt.action,Oo&&a(p,zt),p=bt.hasEagerState?bt.eagerState:a(p,zt)}else wt={lane:zt,revertLane:bt.revertLane,gesture:bt.gesture,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},P===null?(R=P=wt,E=p):P=P.next=wt,ye.lanes|=zt,Ki|=zt;bt=bt.next}while(bt!==null&&bt!==n);if(P===null?E=p:P.next=R,!or(p,t.memoizedState)&&(zn=!0,At&&(a=bs,a!==null)))throw a;t.memoizedState=p,t.baseState=E,t.baseQueue=P,s.lastRenderedState=p}return f===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Wd(t){var n=Nn(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var s=a.dispatch,f=a.pending,p=n.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=t(p,E.action),E=E.next;while(E!==f);or(p,n.memoizedState)||(zn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,s]}function ym(t,n,a){var s=ye,f=Nn(),p=ze;if(p){if(a===void 0)throw Error(o(407));a=a()}else a=n();var E=!or((Fe||f).memoizedState,a);if(E&&(f.memoizedState=a,zn=!0),f=f.queue,nh(xm.bind(null,s,f,t),[t]),f.getSnapshot!==n||E||Rn!==null&&Rn.memoizedState.tag&1){if(s.flags|=2048,Ts(9,{destroy:void 0},bm.bind(null,s,f,a,n),null),tn===null)throw Error(o(349));p||(ri&127)!==0||vm(s,n,a)}return a}function vm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ye.updateQueue,n===null?(n=bc(),ye.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function bm(t,n,a,s){n.value=a,n.getSnapshot=s,wm(n)&&Sm(t)}function xm(t,n,a){return a(function(){wm(n)&&Sm(t)})}function wm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!or(t,a)}catch{return!0}}function Sm(t){var n=cn(t,2);n!==null&&wr(n,t,2)}function th(t){var n=dr();if(typeof t=="function"){var a=t;if(t=a(),Oo){Vt(!0);try{a()}finally{Vt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:t},n}function Em(t,n,a,s){return t.baseState=a,Jd(t,Fe,typeof s=="function"?s:ai)}function fS(t,n,a,s,f){if(_c(t))throw Error(o(485));if(t=n.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};M.T!==null?a(!0):p.isTransition=!1,s(p),a=n.pending,a===null?(p.next=n.pending=p,_m(n,p)):(p.next=a.next,n.pending=a.next=p)}}function _m(t,n){var a=n.action,s=n.payload,f=t.state;if(n.isTransition){var p=M.T,E={};M.T=E;try{var R=a(f,s),P=M.S;P!==null&&P(E,R),Tm(t,n,R)}catch(bt){eh(t,n,bt)}finally{p!==null&&E.types!==null&&(p.types=E.types),M.T=p}}else try{p=a(f,s),Tm(t,n,p)}catch(bt){eh(t,n,bt)}}function Tm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Cm(t,n,s)},function(s){return eh(t,n,s)}):Cm(t,n,a)}function Cm(t,n,a){n.status="fulfilled",n.value=a,Nm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,_m(t,a)))}function eh(t,n,a){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=a,Nm(n),n=n.next;while(n!==s)}t.action=null}function Nm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Am(t,n){if(ze){var a=tn.formState;if(a!==null){t:{var s=ye;if(ze){if(on){e:{for(var f=on,p=Qr;f.nodeType!==8;){if(!p){f=null;break e}if(f=Fr(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){on=Fr(f.nextSibling),s=f.data==="F!";break t}}Hi(s)}s=!1}s&&(n=a[0])}}return a=dr(),a.memoizedState=a.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},a.queue=s,a=Zm.bind(null,ye,s),s.dispatch=a,s=th(!1),p=sh.bind(null,ye,!1,s.queue),s=dr(),f={state:n,dispatch:null,action:t,pending:null},s.queue=f,a=fS.bind(null,ye,f,p,a),f.dispatch=a,s.memoizedState=t,[n,a,!1]}function Om(t){var n=Nn();return Mm(n,Fe,t)}function Mm(t,n,a){if(n=Jd(t,n,Dm)[0],t=wc(ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=zl(n)}catch(E){throw E===xs?fc:E}else s=n;n=Nn();var f=n.queue,p=f.dispatch;return a!==n.memoizedState&&(ye.flags|=2048,Ts(9,{destroy:void 0},dS.bind(null,f,a),null)),[s,p,t]}function dS(t,n){t.action=n}function Rm(t){var n=Nn(),a=Fe;if(a!==null)return Mm(n,a,t);Nn(),n=n.memoizedState,a=Nn();var s=a.queue.dispatch;return a.memoizedState=t,[n,s,!1]}function Ts(t,n,a,s){return t={tag:t,create:a,deps:s,inst:n,next:null},n=ye.updateQueue,n===null&&(n=bc(),ye.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(s=a.next,a.next=t,t.next=s,n.lastEffect=t),t}function zm(){return Nn().memoizedState}function Sc(t,n,a,s){var f=dr();ye.flags|=t,f.memoizedState=Ts(1|n,{destroy:void 0},a,s===void 0?null:s)}function Ec(t,n,a,s){var f=Nn();s=s===void 0?null:s;var p=f.memoizedState.inst;Fe!==null&&s!==null&&Gd(s,Fe.memoizedState.deps)?f.memoizedState=Ts(n,p,a,s):(ye.flags|=t,f.memoizedState=Ts(1|n,p,a,s))}function Bm(t,n){Sc(8390656,8,t,n)}function nh(t,n){Ec(2048,8,t,n)}function hS(t){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=bc(),ye.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function jm(t){var n=Nn().memoizedState;return hS({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Hm(t,n){return Ec(4,2,t,n)}function km(t,n){return Ec(4,4,t,n)}function Lm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Um(t,n,a){a=a!=null?a.concat([t]):null,Ec(4,4,Lm.bind(null,n,t),a)}function rh(){}function qm(t,n){var a=Nn();n=n===void 0?null:n;var s=a.memoizedState;return n!==null&&Gd(n,s[1])?s[0]:(a.memoizedState=[t,n],t)}function Vm(t,n){var a=Nn();n=n===void 0?null:n;var s=a.memoizedState;if(n!==null&&Gd(n,s[1]))return s[0];if(s=t(),Oo){Vt(!0);try{t()}finally{Vt(!1)}}return a.memoizedState=[s,n],s}function ah(t,n,a){return a===void 0||(ri&1073741824)!==0&&(Te&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Yy(),ye.lanes|=t,Ki|=t,a)}function Ym(t,n,a,s){return or(a,n)?a:Ss.current!==null?(t=ah(t,a,s),or(t,n)||(zn=!0),t):(ri&42)===0||(ri&1073741824)!==0&&(Te&261930)===0?(zn=!0,t.memoizedState=a):(t=Yy(),ye.lanes|=t,Ki|=t,n)}function $m(t,n,a,s,f){var p=q.p;q.p=p!==0&&8>p?p:8;var E=M.T,R={};M.T=R,sh(t,!1,n,a);try{var P=f(),bt=M.S;if(bt!==null&&bt(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var At=lS(P,s);Bl(t,n,At,Br(t))}else Bl(t,n,s,Br(t))}catch(zt){Bl(t,n,{then:function(){},status:"rejected",reason:zt},Br())}finally{q.p=p,E!==null&&R.types!==null&&(E.types=R.types),M.T=E}}function pS(){}function ih(t,n,a,s){if(t.tag!==5)throw Error(o(476));var f=Xm(t).queue;$m(t,f,n,Q,a===null?pS:function(){return Km(t),a(s)})}function Xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:Q},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Km(t){var n=Xm(t);n.next===null&&(n=t.alternate.memoizedState),Bl(t,n.next.queue,{},Br())}function oh(){return Jn(Fl)}function Gm(){return Nn().memoizedState}function Im(){return Nn().memoizedState}function gS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Br();t=Ui(a);var s=qi(n,t,a);s!==null&&(wr(s,n,a),Al(s,n,a)),n={cache:jd()},t.payload=n;return}n=n.return}}function mS(t,n,a){var s=Br();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Qm(n,a):(a=An(t,n,a,s),a!==null&&(wr(a,t,s),Pm(a,n,s)))}function Zm(t,n,a){var s=Br();Bl(t,n,a,s)}function Bl(t,n,a,s){var f={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Qm(n,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var E=n.lastRenderedState,R=p(E,a);if(f.hasEagerState=!0,f.eagerState=R,or(R,E))return se(t,n,f,0),tn===null&&Zn(),!1}catch{}finally{}if(a=An(t,n,f,s),a!==null)return wr(a,t,s),Pm(a,n,s),!0}return!1}function sh(t,n,a,s){if(s={lane:2,revertLane:Uh(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(n)throw Error(o(479))}else n=An(t,a,s,2),n!==null&&wr(n,t,2)}function _c(t){var n=t.alternate;return t===ye||n!==null&&n===ye}function Qm(t,n){Es=yc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pm(t,n,a){if((a&4194048)!==0){var s=n.lanes;s&=t.pendingLanes,a|=s,n.lanes=a,ae(t,a)}}var jl={readContext:Jn,use:xc,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};jl.useEffectEvent=wn;var Fm={readContext:Jn,use:xc,useCallback:function(t,n){return dr().memoizedState=[t,n===void 0?null:n],t},useContext:Jn,useEffect:Bm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Lm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Sc(4194308,4,t,n)},useInsertionEffect:function(t,n){Sc(4,2,t,n)},useMemo:function(t,n){var a=dr();n=n===void 0?null:n;var s=t();if(Oo){Vt(!0);try{t()}finally{Vt(!1)}}return a.memoizedState=[s,n],s},useReducer:function(t,n,a){var s=dr();if(a!==void 0){var f=a(n);if(Oo){Vt(!0);try{a(n)}finally{Vt(!1)}}}else f=n;return s.memoizedState=s.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},s.queue=t,t=t.dispatch=mS.bind(null,ye,t),[s.memoizedState,t]},useRef:function(t){var n=dr();return t={current:t},n.memoizedState=t},useState:function(t){t=th(t);var n=t.queue,a=Zm.bind(null,ye,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:rh,useDeferredValue:function(t,n){var a=dr();return ah(a,t,n)},useTransition:function(){var t=th(!1);return t=$m.bind(null,ye,t.queue,!0,!1),dr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var s=ye,f=dr();if(ze){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),tn===null)throw Error(o(349));(Te&127)!==0||vm(s,n,a)}f.memoizedState=a;var p={value:a,getSnapshot:n};return f.queue=p,Bm(xm.bind(null,s,p,t),[t]),s.flags|=2048,Ts(9,{destroy:void 0},bm.bind(null,s,p,a,n),null),a},useId:function(){var t=dr(),n=tn.identifierPrefix;if(ze){var a=Na,s=Ca;a=(s&~(1<<32-Dt(s)-1)).toString(32)+a,n="_"+n+"R_"+a,a=vc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=uS++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:oh,useFormState:Am,useActionState:Am,useOptimistic:function(t){var n=dr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=sh.bind(null,ye,!0,a),a.dispatch=n,[t,n]},useMemoCache:Fd,useCacheRefresh:function(){return dr().memoizedState=gS.bind(null,ye)},useEffectEvent:function(t){var n=dr(),a={impl:t};return n.memoizedState=a,function(){if(($e&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},lh={readContext:Jn,use:xc,useCallback:qm,useContext:Jn,useEffect:nh,useImperativeHandle:Um,useInsertionEffect:Hm,useLayoutEffect:km,useMemo:Vm,useReducer:wc,useRef:zm,useState:function(){return wc(ai)},useDebugValue:rh,useDeferredValue:function(t,n){var a=Nn();return Ym(a,Fe.memoizedState,t,n)},useTransition:function(){var t=wc(ai)[0],n=Nn().memoizedState;return[typeof t=="boolean"?t:zl(t),n]},useSyncExternalStore:ym,useId:Gm,useHostTransitionStatus:oh,useFormState:Om,useActionState:Om,useOptimistic:function(t,n){var a=Nn();return Em(a,Fe,t,n)},useMemoCache:Fd,useCacheRefresh:Im};lh.useEffectEvent=jm;var Jm={readContext:Jn,use:xc,useCallback:qm,useContext:Jn,useEffect:nh,useImperativeHandle:Um,useInsertionEffect:Hm,useLayoutEffect:km,useMemo:Vm,useReducer:Wd,useRef:zm,useState:function(){return Wd(ai)},useDebugValue:rh,useDeferredValue:function(t,n){var a=Nn();return Fe===null?ah(a,t,n):Ym(a,Fe.memoizedState,t,n)},useTransition:function(){var t=Wd(ai)[0],n=Nn().memoizedState;return[typeof t=="boolean"?t:zl(t),n]},useSyncExternalStore:ym,useId:Gm,useHostTransitionStatus:oh,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,n){var a=Nn();return Fe!==null?Em(a,Fe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:Im};Jm.useEffectEvent=jm;function uh(t,n,a,s){n=t.memoizedState,a=a(s,n),a=a==null?n:v({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ch={enqueueSetState:function(t,n,a){t=t._reactInternals;var s=Br(),f=Ui(s);f.payload=n,a!=null&&(f.callback=a),n=qi(t,f,s),n!==null&&(wr(n,t,s),Al(n,t,s))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var s=Br(),f=Ui(s);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=qi(t,f,s),n!==null&&(wr(n,t,s),Al(n,t,s))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Br(),s=Ui(a);s.tag=2,n!=null&&(s.callback=n),n=qi(t,s,a),n!==null&&(wr(n,t,a),Al(n,t,a))}};function Wm(t,n,a,s,f,p,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,p,E):n.prototype&&n.prototype.isPureReactComponent?!u(a,s)||!u(f,p):!0}function ty(t,n,a,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==t&&ch.enqueueReplaceState(n,n.state,null)}function Mo(t,n){var a=n;if("ref"in n){a={};for(var s in n)s!=="ref"&&(a[s]=n[s])}if(t=t.defaultProps){a===n&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function ey(t){Kt(t)}function ny(t){console.error(t)}function ry(t){Kt(t)}function Tc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ay(t,n,a){try{var s=t.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fh(t,n,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,n)},a}function iy(t){return t=Ui(t),t.tag=3,t}function oy(t,n,a,s){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;t.payload=function(){return f(p)},t.callback=function(){ay(n,a,s)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){ay(n,a,s),typeof f!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})})}function yS(t,n,a,s,f){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=a.alternate,n!==null&&ys(n,a,f,!0),a=Or.current,a!==null){switch(a.tag){case 31:case 13:return Pr===null?kc():a.alternate===null&&Sn===0&&(Sn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,s===dc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([s]):n.add(s),Hh(t,s,f)),!1;case 22:return a.flags|=65536,s===dc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([s]):a.add(s)),Hh(t,s,f)),!1}throw Error(o(435,a.tag))}return Hh(t,s,f),kc(),!1}if(ze)return n=Or.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Od&&(t=Error(o(422),{cause:s}),_l(Gr(t,a)))):(s!==Od&&(n=Error(o(423),{cause:s}),_l(Gr(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,s=Gr(s,a),f=fh(t.stateNode,s,f),Vd(t,f),Sn!==4&&(Sn=2)),!1;var p=Error(o(520),{cause:s});if(p=Gr(p,a),$l===null?$l=[p]:$l.push(p),Sn!==4&&(Sn=2),n===null)return!0;s=Gr(s,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=fh(a.stateNode,s,t),Vd(a,t),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Gi===null||!Gi.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=iy(f),oy(f,t,a,s),Vd(a,f),!1}a=a.return}while(a!==null);return!1}var dh=Error(o(461)),zn=!1;function Wn(t,n,a,s){n.child=t===null?cm(n,null,a,s):Ao(n,t.child,a,s)}function sy(t,n,a,s,f){a=a.render;var p=n.ref;if("ref"in s){var E={};for(var R in s)R!=="ref"&&(E[R]=s[R])}else E=s;return To(n),s=Id(t,n,a,E,p,f),R=Zd(),t!==null&&!zn?(Qd(t,n,f),ii(t,n,f)):(ze&&R&&Dd(n),n.flags|=1,Wn(t,n,s,f),n.child)}function ly(t,n,a,s,f){if(t===null){var p=a.type;return typeof p=="function"&&!Td(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,uy(t,n,p,s,f)):(t=oc(a.type,null,s,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!xh(t,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:u,a(E,s)&&t.ref===n.ref)return ii(t,n,f)}return n.flags|=1,t=Wa(p,s),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,s,f){if(t!==null){var p=t.memoizedProps;if(u(p,s)&&t.ref===n.ref)if(zn=!1,n.pendingProps=s=p,xh(t,f))(t.flags&131072)!==0&&(zn=!0);else return n.lanes=t.lanes,ii(t,n,f)}return hh(t,n,a,s,f)}function cy(t,n,a,s){var f=s.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(s=n.child=t.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~p}else s=0,n.child=null;return fy(t,n,p,a,s)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(n,p!==null?p.cachePool:null),p!==null?hm(n,p):$d(),pm(n);else return s=n.lanes=536870912,fy(t,n,p!==null?p.baseLanes|a:a,a,s)}else p!==null?(cc(n,p.cachePool),hm(n,p),Yi(),n.memoizedState=null):(t!==null&&cc(n,null),$d(),Yi());return Wn(t,n,f,a),n.child}function Hl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(t,n,a,s,f){var p=kd();return p=p===null?null:{parent:Mn._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},t!==null&&cc(n,null),$d(),pm(n),t!==null&&ys(t,n,s,!0),n.childLanes=f,null}function Cc(t,n){return n=Dc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,a){return Ao(n,t.child,null,a),t=Cc(n,n.pendingProps),t.flags|=2,Mr(n),n.memoizedState=null,t}function vS(t,n,a){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(s.mode==="hidden")return t=Cc(n,s),n.lanes=536870912,Hl(null,t);if(Kd(n),(t=on)?(t=_v(t,Qr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Bi!==null?{id:Ca,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},a=Qg(t),a.return=n,n.child=a,Fn=n,on=null)):t=null,t===null)throw Hi(n);return n.lanes=536870912,null}return Cc(n,s)}var p=t.memoizedState;if(p!==null){var E=p.dehydrated;if(Kd(n),f)if(n.flags&256)n.flags&=-257,n=dy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(o(558));else if(zn||ys(t,n,a,!1),f=(a&t.childLanes)!==0,zn||f){if(s=tn,s!==null&&(E=ce(s,a),E!==0&&E!==p.retryLane))throw p.retryLane=E,cn(t,E),wr(s,t,E),dh;kc(),n=dy(t,n,a)}else t=p.treeContext,on=Fr(E.nextSibling),Fn=n,ze=!0,ji=null,Qr=!1,t!==null&&Jg(n,t),n=Cc(n,s),n.flags|=4096;return n}return t=Wa(t.child,{mode:s.mode,children:s.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Nc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function hh(t,n,a,s,f){return To(n),a=Id(t,n,a,s,void 0,f),s=Zd(),t!==null&&!zn?(Qd(t,n,f),ii(t,n,f)):(ze&&s&&Dd(n),n.flags|=1,Wn(t,n,a,f),n.child)}function hy(t,n,a,s,f,p){return To(n),n.updateQueue=null,a=mm(n,s,a,f),gm(t),s=Zd(),t!==null&&!zn?(Qd(t,n,p),ii(t,n,p)):(ze&&s&&Dd(n),n.flags|=1,Wn(t,n,a,p),n.child)}function py(t,n,a,s,f){if(To(n),n.stateNode===null){var p=mr,E=a.contextType;typeof E=="object"&&E!==null&&(p=Jn(E)),p=new a(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ch,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},Ud(n),E=a.contextType,p.context=typeof E=="object"&&E!==null?Jn(E):mr,p.state=n.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(uh(n,a,E,s),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&ch.enqueueReplaceState(p,p.state,null),Ml(n,s,p,f),Ol(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(t===null){p=n.stateNode;var R=n.memoizedProps,P=Mo(a,R);p.props=P;var bt=p.context,At=a.contextType;E=mr,typeof At=="object"&&At!==null&&(E=Jn(At));var zt=a.getDerivedStateFromProps;At=typeof zt=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,At||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||bt!==E)&&ty(n,p,s,E),Li=!1;var wt=n.memoizedState;p.state=wt,Ml(n,s,p,f),Ol(),bt=n.memoizedState,R||wt!==bt||Li?(typeof zt=="function"&&(uh(n,a,zt,s),bt=n.memoizedState),(P=Li||Wm(n,a,P,s,wt,bt,E))?(At||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=bt),p.props=s,p.state=bt,p.context=E,s=P):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,qd(t,n),E=n.memoizedProps,At=Mo(a,E),p.props=At,zt=n.pendingProps,wt=p.context,bt=a.contextType,P=mr,typeof bt=="object"&&bt!==null&&(P=Jn(bt)),R=a.getDerivedStateFromProps,(bt=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==zt||wt!==P)&&ty(n,p,s,P),Li=!1,wt=n.memoizedState,p.state=wt,Ml(n,s,p,f),Ol();var _t=n.memoizedState;E!==zt||wt!==_t||Li||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof R=="function"&&(uh(n,a,R,s),_t=n.memoizedState),(At=Li||Wm(n,a,At,s,wt,_t,P)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(bt||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,_t,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,_t,P)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&wt===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&wt===t.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=_t),p.props=s,p.state=_t,p.context=P,s=At):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&wt===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&wt===t.memoizedState||(n.flags|=1024),s=!1)}return p=s,Nc(t,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&s?(n.child=Ao(n,t.child,null,f),n.child=Ao(n,null,a,f)):Wn(t,n,a,f),n.memoizedState=p.state,t=n.child):t=ii(t,n,f),t}function gy(t,n,a,s){return Eo(),n.flags|=256,Wn(t,n,a,s),n.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gh(t){return{baseLanes:t,cachePool:am()}}function mh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=zr),t}function my(t,n,a){var s=n.pendingProps,f=!1,p=(n.flags&128)!==0,E;if((E=p)||(E=t!==null&&t.memoizedState===null?!1:(Cn.current&2)!==0),E&&(f=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(f?Vi(n):Yi(),(t=on)?(t=_v(t,Qr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Bi!==null?{id:Ca,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},a=Qg(t),a.return=n,n.child=a,Fn=n,on=null)):t=null,t===null)throw Hi(n);return Jh(t)?n.lanes=32:n.lanes=536870912,null}var R=s.children;return s=s.fallback,f?(Yi(),f=n.mode,R=Dc({mode:"hidden",children:R},f),s=So(s,f,a,null),R.return=n,s.return=n,R.sibling=s,n.child=R,s=n.child,s.memoizedState=gh(a),s.childLanes=mh(t,E,a),n.memoizedState=ph,Hl(null,s)):(Vi(n),yh(n,R))}var P=t.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(p)n.flags&256?(Vi(n),n.flags&=-257,n=vh(t,n,a)):n.memoizedState!==null?(Yi(),n.child=t.child,n.flags|=128,n=null):(Yi(),R=s.fallback,f=n.mode,s=Dc({mode:"visible",children:s.children},f),R=So(R,f,a,null),R.flags|=2,s.return=n,R.return=n,s.sibling=R,n.child=s,Ao(n,t.child,null,a),s=n.child,s.memoizedState=gh(a),s.childLanes=mh(t,E,a),n.memoizedState=ph,n=Hl(null,s));else if(Vi(n),Jh(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var bt=E.dgst;E=bt,s=Error(o(419)),s.stack="",s.digest=E,_l({value:s,source:null,stack:null}),n=vh(t,n,a)}else if(zn||ys(t,n,a,!1),E=(a&t.childLanes)!==0,zn||E){if(E=tn,E!==null&&(s=ce(E,a),s!==0&&s!==P.retryLane))throw P.retryLane=s,cn(t,s),wr(E,t,s),dh;Fh(R)||kc(),n=vh(t,n,a)}else Fh(R)?(n.flags|=192,n.child=t.child,n=null):(t=P.treeContext,on=Fr(R.nextSibling),Fn=n,ze=!0,ji=null,Qr=!1,t!==null&&Jg(n,t),n=yh(n,s.children),n.flags|=4096);return n}return f?(Yi(),R=s.fallback,f=n.mode,P=t.child,bt=P.sibling,s=Wa(P,{mode:"hidden",children:s.children}),s.subtreeFlags=P.subtreeFlags&65011712,bt!==null?R=Wa(bt,R):(R=So(R,f,a,null),R.flags|=2),R.return=n,s.return=n,s.sibling=R,n.child=s,Hl(null,s),s=n.child,R=t.child.memoizedState,R===null?R=gh(a):(f=R.cachePool,f!==null?(P=Mn._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=am(),R={baseLanes:R.baseLanes|a,cachePool:f}),s.memoizedState=R,s.childLanes=mh(t,E,a),n.memoizedState=ph,Hl(t.child,s)):(Vi(n),a=t.child,t=a.sibling,a=Wa(a,{mode:"visible",children:s.children}),a.return=n,a.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=a,n.memoizedState=null,a)}function yh(t,n){return n=Dc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Dc(t,n){return t=Ar(22,t,null,n),t.lanes=0,t}function vh(t,n,a){return Ao(n,t.child,null,a),t=yh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,a){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n),zd(t.return,n,a)}function bh(t,n,a,s,f,p){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:f,treeForkCount:p}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=s,E.tail=a,E.tailMode=f,E.treeForkCount=p)}function vy(t,n,a){var s=n.pendingProps,f=s.revealOrder,p=s.tail;s=s.children;var E=Cn.current,R=(E&2)!==0;if(R?(E=E&1|2,n.flags|=128):E&=1,st(Cn,E),Wn(t,n,s,a),s=ze?El:0,!R&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,n);else if(t.tag===19)yy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),bh(n,!1,f,a,p,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&mc(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}bh(n,!0,a,null,p,s);break;case"together":bh(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ki|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ys(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,a=Wa(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wa(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function xh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function bS(t,n,a){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),ki(n,Mn,t.memoizedState.cache),Eo();break;case 27:case 5:It(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Kd(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Vi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?my(t,n,a):(Vi(n),t=ii(t,n,a),t!==null?t.sibling:null);Vi(n);break;case 19:var f=(t.flags&128)!==0;if(s=(a&n.childLanes)!==0,s||(ys(t,n,a,!1),s=(a&n.childLanes)!==0),f){if(s)return vy(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Cn,Cn.current),s)break;return null;case 22:return n.lanes=0,cy(t,n,a,n.pendingProps);case 24:ki(n,Mn,t.memoizedState.cache)}return ii(t,n,a)}function by(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)zn=!0;else{if(!xh(t,a)&&(n.flags&128)===0)return zn=!1,bS(t,n,a);zn=(t.flags&131072)!==0}else zn=!1,ze&&(n.flags&1048576)!==0&&Fg(n,El,n.index);switch(n.lanes=0,n.tag){case 16:t:{var s=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")Td(t)?(s=Mo(t,s),n.tag=1,n=py(null,n,t,s,a)):(n.tag=0,n=hh(null,n,t,s,a));else{if(t!=null){var f=t.$$typeof;if(f===_){n.tag=11,n=sy(null,n,t,s,a);break t}else if(f===j){n.tag=14,n=ly(null,n,t,s,a);break t}}throw n=Y(t)||t,Error(o(306,n,""))}}return n;case 0:return hh(t,n,n.type,n.pendingProps,a);case 1:return s=n.type,f=Mo(s,n.pendingProps),py(t,n,s,f,a);case 3:t:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(o(387));s=n.pendingProps;var p=n.memoizedState;f=p.element,qd(t,n),Ml(n,s,null,a);var E=n.memoizedState;if(s=E.cache,ki(n,Mn,s),s!==p.cache&&Bd(n,[Mn],a,!0),Ol(),s=E.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=gy(t,n,s,a);break t}else if(s!==f){f=Gr(Error(o(424)),n),_l(f),n=gy(t,n,s,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(on=Fr(t.firstChild),Fn=n,ze=!0,ji=null,Qr=!0,a=cm(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Eo(),s===f){n=ii(t,n,a);break t}Wn(t,n,s,a)}n=n.child}return n;case 26:return Nc(t,n),t===null?(a=Ov(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,s=Xc(Ot.current).createElement(a),s[Pe]=n,s[gn]=t,tr(s,a,t),mn(s),n.stateNode=s):n.memoizedState=Ov(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return It(n),t===null&&ze&&(s=n.stateNode=Nv(n.type,n.pendingProps,Ot.current),Fn=n,Qr=!0,f=on,Pi(n.type)?(Wh=f,on=Fr(s.firstChild)):on=f),Wn(t,n,n.pendingProps.children,a),Nc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((f=s=on)&&(s=QS(s,n.type,n.pendingProps,Qr),s!==null?(n.stateNode=s,Fn=n,on=Fr(s.firstChild),Qr=!1,f=!0):f=!1),f||Hi(n)),It(n),f=n.type,p=n.pendingProps,E=t!==null?t.memoizedProps:null,s=p.children,Zh(f,p)?s=null:E!==null&&Zh(f,E)&&(n.flags|=32),n.memoizedState!==null&&(f=Id(t,n,cS,null,null,a),Fl._currentValue=f),Nc(t,n),Wn(t,n,s,a),n.child;case 6:return t===null&&ze&&((t=a=on)&&(a=PS(a,n.pendingProps,Qr),a!==null?(n.stateNode=a,Fn=n,on=null,t=!0):t=!1),t||Hi(n)),null;case 13:return my(t,n,a);case 4:return Ct(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=Ao(n,null,s,a):Wn(t,n,s,a),n.child;case 11:return sy(t,n,n.type,n.pendingProps,a);case 7:return Wn(t,n,n.pendingProps,a),n.child;case 8:return Wn(t,n,n.pendingProps.children,a),n.child;case 12:return Wn(t,n,n.pendingProps.children,a),n.child;case 10:return s=n.pendingProps,ki(n,n.type,s.value),Wn(t,n,s.children,a),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,To(n),f=Jn(f),s=s(f),n.flags|=1,Wn(t,n,s,a),n.child;case 14:return ly(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return vS(t,n,a);case 22:return cy(t,n,a,n.pendingProps);case 24:return To(n),s=Jn(Mn),t===null?(f=kd(),f===null&&(f=tn,p=jd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),n.memoizedState={parent:s,cache:f},Ud(n),ki(n,Mn,f)):((t.lanes&a)!==0&&(qd(t,n),Ml(n,null,null,a),Ol()),f=t.memoizedState,p=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ki(n,Mn,s)):(s=p.cache,ki(n,Mn,s),s!==f.cache&&Bd(n,[Mn],a,!0))),Wn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function oi(t){t.flags|=4}function wh(t,n,a,s,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw Do=dc,Ld}else t.flags&=-16777217}function xy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jv(n))if(Gy())t.flags|=8192;else throw Do=dc,Ld}function Ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_e():536870912,t.lanes|=n,As|=n)}function kl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function sn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,s=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=s,t.childLanes=a,n}function xS(t,n,a){var s=n.pendingProps;switch(Ad(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(n),null;case 1:return sn(n),null;case 3:return a=n.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ni(Mn),St(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ms(n)?oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Md())),sn(n),null;case 26:var f=n.type,p=n.memoizedState;return t===null?(oi(n),p!==null?(sn(n),xy(n,p)):(sn(n),wh(n,f,null,s,a))):p?p!==t.memoizedState?(oi(n),sn(n),xy(n,p)):(sn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==s&&oi(n),sn(n),wh(n,f,t,s,a)),null;case 27:if(te(n),a=Ot.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&oi(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return sn(n),null}t=gt.current,ms(n)?Wg(n):(t=Nv(f,s,a),n.stateNode=t,oi(n))}return sn(n),null;case 5:if(te(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&oi(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return sn(n),null}if(p=gt.current,ms(n))Wg(n);else{var E=Xc(Ot.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?E.createElement("select",{is:s.is}):E.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?E.createElement(f,{is:s.is}):E.createElement(f)}}p[Pe]=n,p[gn]=s;t:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break t;for(;E.sibling===null;){if(E.return===null||E.return===n)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=p;t:switch(tr(p,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&oi(n)}}return sn(n),wh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==s&&oi(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(t=Ot.current,ms(n)){if(t=n.stateNode,a=n.memoizedProps,s=null,f=Fn,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}t[Pe]=n,t=!!(t.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||mv(t.nodeValue,a)),t||Hi(n,!0)}else t=Xc(t).createTextNode(s),t[Pe]=n,n.stateNode=t}return sn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(s=ms(n),a!==null){if(t===null){if(!s)throw Error(o(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[Pe]=n}else Eo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;sn(n),t=!1}else a=Md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Mr(n),n):(Mr(n),null);if((n.flags&128)!==0)throw Error(o(558))}return sn(n),null;case 13:if(s=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ms(n),s!==null&&s.dehydrated!==null){if(t===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[Pe]=n}else Eo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;sn(n),f=!1}else f=Md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Mr(n),n):(Mr(n),null)}return Mr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=s!==null,t=t!==null&&t.memoizedState!==null,a&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Ac(n,n.updateQueue),sn(n),null);case 4:return St(),t===null&&$h(n.stateNode.containerInfo),sn(n),null;case 10:return ni(n.type),sn(n),null;case 19:if(Z(Cn),s=n.memoizedState,s===null)return sn(n),null;if(f=(n.flags&128)!==0,p=s.rendering,p===null)if(f)kl(s,!1);else{if(Sn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=mc(t),p!==null){for(n.flags|=128,kl(s,!1),t=p.updateQueue,n.updateQueue=t,Ac(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zg(a,t),a=a.sibling;return st(Cn,Cn.current&1|2),ze&&ti(n,s.treeForkCount),n.child}t=t.sibling}s.tail!==null&&Ye()>Bc&&(n.flags|=128,f=!0,kl(s,!1),n.lanes=4194304)}else{if(!f)if(t=mc(p),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Ac(n,t),kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!ze)return sn(n),null}else 2*Ye()-s.renderingStartTime>Bc&&a!==536870912&&(n.flags|=128,f=!0,kl(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(t=s.last,t!==null?t.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,a=Cn.current,st(Cn,f?a&1|2:a&1),ze&&ti(n,s.treeForkCount),t):(sn(n),null);case 22:case 23:return Mr(n),Xd(),s=n.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(a&536870912)!==0&&(n.flags&128)===0&&(sn(n),n.subtreeFlags&6&&(n.flags|=8192)):sn(n),a=n.updateQueue,a!==null&&Ac(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048),t!==null&&Z(Co),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ni(Mn),sn(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function wS(t,n){switch(Ad(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ni(Mn),St(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return te(n),null;case 31:if(n.memoizedState!==null){if(Mr(n),n.alternate===null)throw Error(o(340));Eo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Eo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(Cn),null;case 4:return St(),null;case 10:return ni(n.type),null;case 22:case 23:return Mr(n),Xd(),t!==null&&Z(Co),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ni(Mn),null;case 25:return null;default:return null}}function wy(t,n){switch(Ad(n),n.tag){case 3:ni(Mn),St();break;case 26:case 27:case 5:te(n);break;case 4:St();break;case 31:n.memoizedState!==null&&Mr(n);break;case 13:Mr(n);break;case 19:Z(Cn);break;case 10:ni(n.type);break;case 22:case 23:Mr(n),Xd(),t!==null&&Z(Co);break;case 24:ni(Mn)}}function Ll(t,n){try{var a=n.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var f=s.next;a=f;do{if((a.tag&t)===t){s=void 0;var p=a.create,E=a.inst;s=p(),E.destroy=s}a=a.next}while(a!==f)}}catch(R){Qe(n,n.return,R)}}function $i(t,n,a){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var p=f.next;s=p;do{if((s.tag&t)===t){var E=s.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=n;var P=a,bt=R;try{bt()}catch(At){Qe(f,P,At)}}}s=s.next}while(s!==p)}}catch(At){Qe(n,n.return,At)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dm(n,a)}catch(s){Qe(t,t.return,s)}}}function Ey(t,n,a){a.props=Mo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(s){Qe(t,n,s)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof a=="function"?t.refCleanup=a(s):a.current=s}}catch(f){Qe(t,n,f)}}function Da(t,n){var a=t.ref,s=t.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(f){Qe(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qe(t,n,f)}else a.current=null}function _y(t){var n=t.type,a=t.memoizedProps,s=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break t;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(f){Qe(t,t.return,f)}}function Sh(t,n,a){try{var s=t.stateNode;$S(s,t.type,a,n),s[gn]=n}catch(f){Qe(t,t.return,f)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function Eh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,n,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=gr));else if(s!==4&&(s===27&&Pi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(_h(t,n,a),t=t.sibling;t!==null;)_h(t,n,a),t=t.sibling}function Oc(t,n,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(s!==4&&(s===27&&Pi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,n,a),t=t.sibling;t!==null;)Oc(t,n,a),t=t.sibling}function Cy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var s=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);tr(n,s,a),n[Pe]=t,n[gn]=a}catch(p){Qe(t,t.return,p)}}var si=!1,Bn=!1,Th=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function SS(t,n){if(t=t.containerInfo,Gh=Fc,t=C(t),D(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var f=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var E=0,R=-1,P=-1,bt=0,At=0,zt=t,wt=null;e:for(;;){for(var _t;zt!==a||f!==0&&zt.nodeType!==3||(R=E+f),zt!==p||s!==0&&zt.nodeType!==3||(P=E+s),zt.nodeType===3&&(E+=zt.nodeValue.length),(_t=zt.firstChild)!==null;)wt=zt,zt=_t;for(;;){if(zt===t)break e;if(wt===a&&++bt===f&&(R=E),wt===p&&++At===s&&(P=E),(_t=zt.nextSibling)!==null)break;zt=wt,wt=zt.parentNode}zt=_t}a=R===-1||P===-1?null:{start:R,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ih={focusedElem:t,selectionRange:a},Fc=!1,Qn=n;Qn!==null;)if(n=Qn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qn=t;else for(;Qn!==null;){switch(n=Qn,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=n,f=p.memoizedProps,p=p.memoizedState,s=a.stateNode;try{var Qt=Mo(a.type,f);t=s.getSnapshotBeforeUpdate(Qt,p),s.__reactInternalSnapshotBeforeUpdate=t}catch(ie){Qe(a,a.return,ie)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ph(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ph(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,Qn=t;break}Qn=n.return}}function Dy(t,n,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ui(t,a),s&4&&Ll(5,a);break;case 1:if(ui(t,a),s&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Qe(a,a.return,E)}else{var f=Mo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Qe(a,a.return,E)}}s&64&&Sy(a),s&512&&Ul(a,a.return);break;case 3:if(ui(t,a),s&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dm(t,n)}catch(E){Qe(a,a.return,E)}}break;case 27:n===null&&s&4&&Cy(a);case 26:case 5:ui(t,a),n===null&&s&4&&_y(a),s&512&&Ul(a,a.return);break;case 12:ui(t,a);break;case 31:ui(t,a),s&4&&My(t,a);break;case 13:ui(t,a),s&4&&Ry(t,a),s&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=MS.bind(null,a),FS(t,a))));break;case 22:if(s=a.memoizedState!==null||si,!s){n=n!==null&&n.memoizedState!==null||Bn,f=si;var p=Bn;si=s,(Bn=n)&&!p?ci(t,a,(a.subtreeFlags&8772)!==0):ui(t,a),si=f,Bn=p}break;case 30:break;default:ui(t,a)}}function Ay(t){var n=t.alternate;n!==null&&(t.alternate=null,Ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Si(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fn=null,yr=!1;function li(t,n,a){for(a=a.child;a!==null;)Oy(t,n,a),a=a.sibling}function Oy(t,n,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Bn||Da(a,n),li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bn||Da(a,n);var s=fn,f=yr;Pi(a.type)&&(fn=a.stateNode,yr=!1),li(t,n,a),Zl(a.stateNode),fn=s,yr=f;break;case 5:Bn||Da(a,n);case 6:if(s=fn,f=yr,fn=null,li(t,n,a),fn=s,yr=f,fn!==null)if(yr)try{(fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn).removeChild(a.stateNode)}catch(p){Qe(a,n,p)}else try{fn.removeChild(a.stateNode)}catch(p){Qe(a,n,p)}break;case 18:fn!==null&&(yr?(t=fn,Sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ks(t)):Sv(fn,a.stateNode));break;case 4:s=fn,f=yr,fn=a.stateNode.containerInfo,yr=!0,li(t,n,a),fn=s,yr=f;break;case 0:case 11:case 14:case 15:$i(2,a,n),Bn||$i(4,a,n),li(t,n,a);break;case 1:Bn||(Da(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Ey(a,n,s)),li(t,n,a);break;case 21:li(t,n,a);break;case 22:Bn=(s=Bn)||a.memoizedState!==null,li(t,n,a),Bn=s;break;default:li(t,n,a)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ks(t)}catch(a){Qe(n,n.return,a)}}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ks(t)}catch(a){Qe(n,n.return,a)}}function ES(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ny),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ny),n;default:throw Error(o(435,t.tag))}}function Mc(t,n){var a=ES(t);n.forEach(function(s){if(!a.has(s)){a.add(s);var f=RS.bind(null,t,s);s.then(f,f)}})}function vr(t,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var f=a[s],p=t,E=n,R=E;t:for(;R!==null;){switch(R.tag){case 27:if(Pi(R.type)){fn=R.stateNode,yr=!1;break t}break;case 5:fn=R.stateNode,yr=!1;break t;case 3:case 4:fn=R.stateNode.containerInfo,yr=!0;break t}R=R.return}if(fn===null)throw Error(o(160));Oy(p,E,f),fn=null,yr=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zy(n,t),n=n.sibling}var ca=null;function zy(t,n){var a=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vr(n,t),br(t),s&4&&($i(3,t,t.return),Ll(3,t),$i(5,t,t.return));break;case 1:vr(n,t),br(t),s&512&&(Bn||a===null||Da(a,a.return)),s&64&&si&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var f=ca;if(vr(n,t),br(t),s&512&&(Bn||a===null||Da(a,a.return)),s&4){var p=a!==null?a.memoizedState:null;if(s=t.memoizedState,a===null)if(s===null)if(t.stateNode===null){t:{s=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(s){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ur]||p[Pe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(s),f.head.insertBefore(p,f.querySelector("head > title"))),tr(p,s,a),p[Pe]=t,mn(p),s=p;break t;case"link":var E=zv("link","href",f).get(s+(a.href||""));if(E){for(var R=0;R<E.length;R++)if(p=E[R],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(R,1);break e}}p=f.createElement(s),tr(p,s,a),f.head.appendChild(p);break;case"meta":if(E=zv("meta","content",f).get(s+(a.content||""))){for(R=0;R<E.length;R++)if(p=E[R],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(R,1);break e}}p=f.createElement(s),tr(p,s,a),f.head.appendChild(p);break;default:throw Error(o(468,s))}p[Pe]=t,mn(p),s=p}t.stateNode=s}else Bv(f,t.type,t.stateNode);else t.stateNode=Rv(f,s,t.memoizedProps);else p!==s?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,s===null?Bv(f,t.type,t.stateNode):Rv(f,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Sh(t,t.memoizedProps,a.memoizedProps)}break;case 27:vr(n,t),br(t),s&512&&(Bn||a===null||Da(a,a.return)),a!==null&&s&4&&Sh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vr(n,t),br(t),s&512&&(Bn||a===null||Da(a,a.return)),t.flags&32){f=t.stateNode;try{Xa(f,"")}catch(Qt){Qe(t,t.return,Qt)}}s&4&&t.stateNode!=null&&(f=t.memoizedProps,Sh(t,f,a!==null?a.memoizedProps:f)),s&1024&&(Th=!0);break;case 6:if(vr(n,t),br(t),s&4){if(t.stateNode===null)throw Error(o(162));s=t.memoizedProps,a=t.stateNode;try{a.nodeValue=s}catch(Qt){Qe(t,t.return,Qt)}}break;case 3:if(Ic=null,f=ca,ca=Kc(n.containerInfo),vr(n,t),ca=f,br(t),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ks(n.containerInfo)}catch(Qt){Qe(t,t.return,Qt)}Th&&(Th=!1,By(t));break;case 4:s=ca,ca=Kc(t.stateNode.containerInfo),vr(n,t),br(t),ca=s;break;case 12:vr(n,t),br(t);break;case 31:vr(n,t),br(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Mc(t,s)));break;case 13:vr(n,t),br(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=Ye()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Mc(t,s)));break;case 22:f=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,bt=si,At=Bn;if(si=bt||f,Bn=At||P,vr(n,t),Bn=At,si=bt,br(t),s&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||P||si||Bn||Ro(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){P=a=n;try{if(p=P.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=P.stateNode;var zt=P.memoizedProps.style,wt=zt!=null&&zt.hasOwnProperty("display")?zt.display:null;R.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(Qt){Qe(P,P.return,Qt)}}}else if(n.tag===6){if(a===null){P=n;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(Qt){Qe(P,P.return,Qt)}}}else if(n.tag===18){if(a===null){P=n;try{var _t=P.stateNode;f?Ev(_t,!0):Ev(P.stateNode,!1)}catch(Qt){Qe(P,P.return,Qt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=t.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Mc(t,a))));break;case 19:vr(n,t),br(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Mc(t,s)));break;case 30:break;case 21:break;default:vr(n,t),br(t)}}function br(t){var n=t.flags;if(n&2){try{for(var a,s=t.return;s!==null;){if(Ty(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var f=a.stateNode,p=Eh(t);Oc(t,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(Xa(E,""),a.flags&=-33);var R=Eh(t);Oc(t,R,E);break;case 3:case 4:var P=a.stateNode.containerInfo,bt=Eh(t);_h(t,bt,P);break;default:throw Error(o(161))}}catch(At){Qe(t,t.return,At)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;By(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ui(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(t,n.alternate,n),n=n.sibling}function Ro(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),Ro(n);break;case 1:Da(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ey(n,n.return,a),Ro(n);break;case 27:Zl(n.stateNode);case 26:case 5:Da(n,n.return),Ro(n);break;case 22:n.memoizedState===null&&Ro(n);break;case 30:Ro(n);break;default:Ro(n)}t=t.sibling}}function ci(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=t,p=n,E=p.flags;switch(p.tag){case 0:case 11:case 15:ci(f,p,a),Ll(4,p);break;case 1:if(ci(f,p,a),s=p,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(bt){Qe(s,s.return,bt)}if(s=p,f=s.updateQueue,f!==null){var R=s.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)fm(P[f],R)}catch(bt){Qe(s,s.return,bt)}}a&&E&64&&Sy(p),Ul(p,p.return);break;case 27:Cy(p);case 26:case 5:ci(f,p,a),a&&s===null&&E&4&&_y(p),Ul(p,p.return);break;case 12:ci(f,p,a);break;case 31:ci(f,p,a),a&&E&4&&My(f,p);break;case 13:ci(f,p,a),a&&E&4&&Ry(f,p);break;case 22:p.memoizedState===null&&ci(f,p,a),Ul(p,p.return);break;case 30:break;default:ci(f,p,a)}n=n.sibling}}function Ch(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function Nh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function fa(t,n,a,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(t,n,a,s),n=n.sibling}function jy(t,n,a,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:fa(t,n,a,s),f&2048&&Ll(9,n);break;case 1:fa(t,n,a,s);break;case 3:fa(t,n,a,s),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(f&2048){fa(t,n,a,s),t=n.stateNode;try{var p=n.memoizedProps,E=p.id,R=p.onPostCommit;typeof R=="function"&&R(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){Qe(n,n.return,P)}}else fa(t,n,a,s);break;case 31:fa(t,n,a,s);break;case 13:fa(t,n,a,s);break;case 23:break;case 22:p=n.stateNode,E=n.alternate,n.memoizedState!==null?p._visibility&2?fa(t,n,a,s):ql(t,n):p._visibility&2?fa(t,n,a,s):(p._visibility|=2,Cs(t,n,a,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Ch(E,n);break;case 24:fa(t,n,a,s),f&2048&&Nh(n.alternate,n);break;default:fa(t,n,a,s)}}function Cs(t,n,a,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,E=n,R=a,P=s,bt=E.flags;switch(E.tag){case 0:case 11:case 15:Cs(p,E,R,P,f),Ll(8,E);break;case 23:break;case 22:var At=E.stateNode;E.memoizedState!==null?At._visibility&2?Cs(p,E,R,P,f):ql(p,E):(At._visibility|=2,Cs(p,E,R,P,f)),f&&bt&2048&&Ch(E.alternate,E);break;case 24:Cs(p,E,R,P,f),f&&bt&2048&&Nh(E.alternate,E);break;default:Cs(p,E,R,P,f)}n=n.sibling}}function ql(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,s=n,f=s.flags;switch(s.tag){case 22:ql(a,s),f&2048&&Ch(s.alternate,s);break;case 24:ql(a,s),f&2048&&Nh(s.alternate,s);break;default:ql(a,s)}n=n.sibling}}var Vl=8192;function Ns(t,n,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Hy(t,n,a),t=t.sibling}function Hy(t,n,a){switch(t.tag){case 26:Ns(t,n,a),t.flags&Vl&&t.memoizedState!==null&&uE(a,ca,t.memoizedState,t.memoizedProps);break;case 5:Ns(t,n,a);break;case 3:case 4:var s=ca;ca=Kc(t.stateNode.containerInfo),Ns(t,n,a),ca=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Vl,Vl=16777216,Ns(t,n,a),Vl=s):Ns(t,n,a));break;default:Ns(t,n,a)}}function ky(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];Qn=s,Uy(s,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Rc(t)):Yl(t);break;default:Yl(t)}}function Rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];Qn=s,Uy(s,t)}ky(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),Rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(n));break;default:Rc(n)}t=t.sibling}}function Uy(t,n){for(;Qn!==null;){var a=Qn;switch(a.tag){case 0:case 11:case 15:$i(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Qn=s;else t:for(a=t;Qn!==null;){s=Qn;var f=s.sibling,p=s.return;if(Ay(s),s===a){Qn=null;break t}if(f!==null){f.return=p,Qn=f;break t}Qn=p}}}var _S={getCacheForType:function(t){var n=Jn(Mn),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Jn(Mn).controller.signal}},TS=typeof WeakMap=="function"?WeakMap:Map,$e=0,tn=null,Se=null,Te=0,Ze=0,Rr=null,Xi=!1,Ds=!1,Dh=!1,fi=0,Sn=0,Ki=0,zo=0,Ah=0,zr=0,As=0,$l=null,xr=null,Oh=!1,zc=0,qy=0,Bc=1/0,jc=null,Gi=null,qn=0,Ii=null,Os=null,di=0,Mh=0,Rh=null,Vy=null,Xl=0,zh=null;function Br(){return($e&2)!==0&&Te!==0?Te&-Te:M.T!==null?Uh():Ln()}function Yy(){if(zr===0)if((Te&536870912)===0||ze){var t=Tn;Tn<<=1,(Tn&3932160)===0&&(Tn=262144),zr=t}else zr=536870912;return t=Or.current,t!==null&&(t.flags|=32),zr}function wr(t,n,a){(t===tn&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ms(t,0),Zi(t,Te,zr,!1)),fe(t,a),(($e&2)===0||t!==tn)&&(t===tn&&(($e&2)===0&&(zo|=a),Sn===4&&Zi(t,Te,zr,!1)),Aa(t))}function $y(t,n,a){if(($e&6)!==0)throw Error(o(327));var s=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ue(t,n),f=s?DS(t,n):jh(t,n,!0),p=s;do{if(f===0){Ds&&!s&&Zi(t,n,0,!1);break}else{if(a=t.current.alternate,p&&!CS(a)){f=jh(t,n,!1),p=!1;continue}if(f===2){if(p=n,t.errorRecoveryDisabledLanes&p)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var R=t;f=$l;var P=R.current.memoizedState.isDehydrated;if(P&&(Ms(R,E).flags|=256),E=jh(R,E,!1),E!==2){if(Dh&&!P){R.errorRecoveryDisabledLanes|=p,zo|=p,f=4;break t}p=xr,xr=f,p!==null&&(xr===null?xr=p:xr.push.apply(xr,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ms(t,0),Zi(t,n,0,!0);break}t:{switch(s=t,p=f,p){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Zi(s,n,zr,!Xi);break t;case 2:xr=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=zc+300-Ye(),10<f)){if(Zi(s,n,zr,!Xi),Gt(s,0,!0)!==0)break t;di=n,s.timeoutHandle=xv(Xy.bind(null,s,a,xr,jc,Oh,n,zr,zo,As,Xi,p,"Throttled",-0,0),f);break t}Xy(s,a,xr,jc,Oh,n,zr,zo,As,Xi,p,null,-0,0)}}break}while(!0);Aa(t)}function Xy(t,n,a,s,f,p,E,R,P,bt,At,zt,wt,_t){if(t.timeoutHandle=-1,zt=n.subtreeFlags,zt&8192||(zt&16785408)===16785408){zt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},Hy(n,p,zt);var Qt=(p&62914560)===p?zc-Ye():(p&4194048)===p?qy-Ye():0;if(Qt=cE(zt,Qt),Qt!==null){di=p,t.cancelPendingCommit=Qt(Jy.bind(null,t,n,p,a,s,f,E,R,P,At,zt,null,wt,_t)),Zi(t,p,E,!bt);return}}Jy(t,n,p,a,s,f,E,R,P)}function CS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var f=a[s],p=f.getSnapshot;f=f.value;try{if(!or(p(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zi(t,n,a,s){n&=~Ah,n&=~zo,t.suspendedLanes|=n,t.pingedLanes&=~n,s&&(t.warmLanes|=n),s=t.expirationTimes;for(var f=n;0<f;){var p=31-Dt(f),E=1<<p;s[p]=-1,f&=~E}a!==0&&pn(t,a,n)}function Hc(){return($e&6)===0?(Kl(0),!1):!0}function Bh(){if(Se!==null){if(Ze===0)var t=Se.return;else t=Se,ei=_o=null,Pd(t),ws=null,Nl=0,t=Se;for(;t!==null;)wy(t.alternate,t),t=t.return;Se=null}}function Ms(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,GS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),di=0,Bh(),tn=t,Se=a=Wa(t.current,null),Te=n,Ze=0,Rr=null,Xi=!1,Ds=ue(t,n),Dh=!1,As=zr=Ah=zo=Ki=Sn=0,xr=$l=null,Oh=!1,(n&8)!==0&&(n|=n&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=n;0<s;){var f=31-Dt(s),p=1<<f;n|=t[f],s&=~p}return fi=n,Zn(),a}function Ky(t,n){ye=null,M.H=jl,n===xs||n===fc?(n=sm(),Ze=3):n===Ld?(n=sm(),Ze=4):Ze=n===dh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rr=n,Se===null&&(Sn=1,Tc(t,Gr(n,t.current)))}function Gy(){var t=Or.current;return t===null?!0:(Te&4194048)===Te?Pr===null:(Te&62914560)===Te||(Te&536870912)!==0?t===Pr:!1}function Iy(){var t=M.H;return M.H=jl,t===null?jl:t}function Zy(){var t=M.A;return M.A=_S,t}function kc(){Sn=4,Xi||(Te&4194048)!==Te&&Or.current!==null||(Ds=!0),(Ki&134217727)===0&&(zo&134217727)===0||tn===null||Zi(tn,Te,zr,!1)}function jh(t,n,a){var s=$e;$e|=2;var f=Iy(),p=Zy();(tn!==t||Te!==n)&&(jc=null,Ms(t,n)),n=!1;var E=Sn;t:do try{if(Ze!==0&&Se!==null){var R=Se,P=Rr;switch(Ze){case 8:Bh(),E=6;break t;case 3:case 2:case 9:case 6:Or.current===null&&(n=!0);var bt=Ze;if(Ze=0,Rr=null,Rs(t,R,P,bt),a&&Ds){E=0;break t}break;default:bt=Ze,Ze=0,Rr=null,Rs(t,R,P,bt)}}NS(),E=Sn;break}catch(At){Ky(t,At)}while(!0);return n&&t.shellSuspendCounter++,ei=_o=null,$e=s,M.H=f,M.A=p,Se===null&&(tn=null,Te=0,Zn()),E}function NS(){for(;Se!==null;)Qy(Se)}function DS(t,n){var a=$e;$e|=2;var s=Iy(),f=Zy();tn!==t||Te!==n?(jc=null,Bc=Ye()+500,Ms(t,n)):Ds=ue(t,n);t:do try{if(Ze!==0&&Se!==null){n=Se;var p=Rr;e:switch(Ze){case 1:Ze=0,Rr=null,Rs(t,n,p,1);break;case 2:case 9:if(im(p)){Ze=0,Rr=null,Py(n);break}n=function(){Ze!==2&&Ze!==9||tn!==t||(Ze=7),Aa(t)},p.then(n,n);break t;case 3:Ze=7;break t;case 4:Ze=5;break t;case 7:im(p)?(Ze=0,Rr=null,Py(n)):(Ze=0,Rr=null,Rs(t,n,p,7));break;case 5:var E=null;switch(Se.tag){case 26:E=Se.memoizedState;case 5:case 27:var R=Se;if(E?jv(E):R.stateNode.complete){Ze=0,Rr=null;var P=R.sibling;if(P!==null)Se=P;else{var bt=R.return;bt!==null?(Se=bt,Lc(bt)):Se=null}break e}}Ze=0,Rr=null,Rs(t,n,p,5);break;case 6:Ze=0,Rr=null,Rs(t,n,p,6);break;case 8:Bh(),Sn=6;break t;default:throw Error(o(462))}}AS();break}catch(At){Ky(t,At)}while(!0);return ei=_o=null,M.H=s,M.A=f,$e=a,Se!==null?0:(tn=null,Te=0,Zn(),Sn)}function AS(){for(;Se!==null&&!Oe();)Qy(Se)}function Qy(t){var n=by(t.alternate,t,fi);t.memoizedProps=t.pendingProps,n===null?Lc(t):Se=n}function Py(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=hy(a,n,n.pendingProps,n.type,void 0,Te);break;case 11:n=hy(a,n,n.pendingProps,n.type.render,n.ref,Te);break;case 5:Pd(n);default:wy(a,n),n=Se=Zg(n,fi),n=by(a,n,fi)}t.memoizedProps=t.pendingProps,n===null?Lc(t):Se=n}function Rs(t,n,a,s){ei=_o=null,Pd(n),ws=null,Nl=0;var f=n.return;try{if(yS(t,f,n,a,Te)){Sn=1,Tc(t,Gr(a,t.current)),Se=null;return}}catch(p){if(f!==null)throw Se=f,p;Sn=1,Tc(t,Gr(a,t.current)),Se=null;return}n.flags&32768?(ze||s===1?t=!0:Ds||(Te&536870912)!==0?t=!1:(Xi=t=!0,(s===2||s===9||s===3||s===6)&&(s=Or.current,s!==null&&s.tag===13&&(s.flags|=16384))),Fy(n,t)):Lc(n)}function Lc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,Xi);return}t=n.return;var a=xS(n.alternate,n,fi);if(a!==null){Se=a;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=t}while(n!==null);Sn===0&&(Sn=5)}function Fy(t,n){do{var a=wS(t.alternate,t);if(a!==null){a.flags&=32767,Se=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Se=t;return}Se=t=a}while(t!==null);Sn=6,Se=null}function Jy(t,n,a,s,f,p,E,R,P){t.cancelPendingCommit=null;do Uc();while(qn!==0);if(($e&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(p=n.lanes|n.childLanes,p|=me,we(t,a,p,E,R,P),t===tn&&(Se=tn=null,Te=0),Os=n,Ii=t,di=a,Mh=p,Rh=f,Vy=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zS(nn,function(){return rv(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,f=q.p,q.p=2,E=$e,$e|=4;try{SS(t,n,a)}finally{$e=E,q.p=f,M.T=s}}qn=1,Wy(),tv(),ev()}}function Wy(){if(qn===1){qn=0;var t=Ii,n=Os,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var s=q.p;q.p=2;var f=$e;$e|=4;try{zy(n,t);var p=Ih,E=C(t.containerInfo),R=p.focusedElem,P=p.selectionRange;if(E!==R&&R&&R.ownerDocument&&S(R.ownerDocument.documentElement,R)){if(P!==null&&D(R)){var bt=P.start,At=P.end;if(At===void 0&&(At=bt),"selectionStart"in R)R.selectionStart=bt,R.selectionEnd=Math.min(At,R.value.length);else{var zt=R.ownerDocument||document,wt=zt&&zt.defaultView||window;if(wt.getSelection){var _t=wt.getSelection(),Qt=R.textContent.length,ie=Math.min(P.start,Qt),We=P.end===void 0?ie:Math.min(P.end,Qt);!_t.extend&&ie>We&&(E=We,We=ie,ie=E);var dt=b(R,ie),at=b(R,We);if(dt&&at&&(_t.rangeCount!==1||_t.anchorNode!==dt.node||_t.anchorOffset!==dt.offset||_t.focusNode!==at.node||_t.focusOffset!==at.offset)){var yt=zt.createRange();yt.setStart(dt.node,dt.offset),_t.removeAllRanges(),ie>We?(_t.addRange(yt),_t.extend(at.node,at.offset)):(yt.setEnd(at.node,at.offset),_t.addRange(yt))}}}}for(zt=[],_t=R;_t=_t.parentNode;)_t.nodeType===1&&zt.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<zt.length;R++){var Mt=zt[R];Mt.element.scrollLeft=Mt.left,Mt.element.scrollTop=Mt.top}}Fc=!!Gh,Ih=Gh=null}finally{$e=f,q.p=s,M.T=a}}t.current=n,qn=2}}function tv(){if(qn===2){qn=0;var t=Ii,n=Os,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var s=q.p;q.p=2;var f=$e;$e|=4;try{Dy(t,n.alternate,n)}finally{$e=f,q.p=s,M.T=a}}qn=3}}function ev(){if(qn===4||qn===3){qn=0,Ve();var t=Ii,n=Os,a=di,s=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qn=5:(qn=0,Os=Ii=null,nv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gi=null),un(a),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=M.T,f=q.p,q.p=2,M.T=null;try{for(var p=t.onRecoverableError,E=0;E<s.length;E++){var R=s[E];p(R.value,{componentStack:R.stack})}}finally{M.T=n,q.p=f}}(di&3)!==0&&Uc(),Aa(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===zh?Xl++:(Xl=0,zh=t):Xl=0,Kl(0)}}function nv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function Uc(){return Wy(),tv(),ev(),rv()}function rv(){if(qn!==5)return!1;var t=Ii,n=Mh;Mh=0;var a=un(di),s=M.T,f=q.p;try{q.p=32>a?32:a,M.T=null,a=Rh,Rh=null;var p=Ii,E=di;if(qn=0,Os=Ii=null,di=0,($e&6)!==0)throw Error(o(331));var R=$e;if($e|=4,Ly(p.current),jy(p,p.current,E,a),$e=R,Kl(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot($n,p)}catch{}return!0}finally{q.p=f,M.T=s,nv(t,n)}}function av(t,n,a){n=Gr(a,n),n=fh(t.stateNode,n,2),t=qi(t,n,2),t!==null&&(fe(t,2),Aa(t))}function Qe(t,n,a){if(t.tag===3)av(t,t,a);else for(;n!==null;){if(n.tag===3){av(n,t,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Gi===null||!Gi.has(s))){t=Gr(a,t),a=iy(2),s=qi(n,a,2),s!==null&&(oy(a,s,n,t),fe(s,2),Aa(s));break}}n=n.return}}function Hh(t,n,a){var s=t.pingCache;if(s===null){s=t.pingCache=new TS;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(a)||(Dh=!0,f.add(a),t=OS.bind(null,t,n,a),n.then(t,t))}function OS(t,n,a){var s=t.pingCache;s!==null&&s.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tn===t&&(Te&a)===a&&(Sn===4||Sn===3&&(Te&62914560)===Te&&300>Ye()-zc?($e&2)===0&&Ms(t,0):Ah|=a,As===Te&&(As=0)),Aa(t)}function iv(t,n){n===0&&(n=_e()),t=cn(t,n),t!==null&&(fe(t,n),Aa(t))}function MS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),iv(t,a)}function RS(t,n){var a=0;switch(t.tag){case 31:case 13:var s=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(n),iv(t,a)}function zS(t,n){return je(t,n)}var qc=null,zs=null,kh=!1,Vc=!1,Lh=!1,Qi=0;function Aa(t){t!==zs&&t.next===null&&(zs===null?qc=zs=t:zs=zs.next=t),Vc=!0,kh||(kh=!0,jS())}function Kl(t,n){if(!Lh&&Vc){Lh=!0;do for(var a=!1,s=qc;s!==null;){if(t!==0){var f=s.pendingLanes;if(f===0)var p=0;else{var E=s.suspendedLanes,R=s.pingedLanes;p=(1<<31-Dt(42|t)+1)-1,p&=f&~(E&~R),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,uv(s,p))}else p=Te,p=Gt(s,s===tn?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||ue(s,p)||(a=!0,uv(s,p));s=s.next}while(a);Lh=!1}}function BS(){ov()}function ov(){Vc=kh=!1;var t=0;Qi!==0&&KS()&&(t=Qi);for(var n=Ye(),a=null,s=qc;s!==null;){var f=s.next,p=sv(s,n);p===0?(s.next=null,a===null?qc=f:a.next=f,f===null&&(zs=a)):(a=s,(t!==0||(p&3)!==0)&&(Vc=!0)),s=f}qn!==0&&qn!==5||Kl(t),Qi!==0&&(Qi=0)}function sv(t,n){for(var a=t.suspendedLanes,s=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var E=31-Dt(p),R=1<<E,P=f[E];P===-1?((R&a)===0||(R&s)!==0)&&(f[E]=pe(R,n)):P<=n&&(t.expiredLanes|=R),p&=~R}if(n=tn,a=Te,a=Gt(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,a===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Ae(s),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ue(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(s!==null&&Ae(s),un(a)){case 2:case 8:a=Xe;break;case 32:a=nn;break;case 268435456:a=vn;break;default:a=nn}return s=lv.bind(null,t),a=je(a,s),t.callbackPriority=n,t.callbackNode=a,n}return s!==null&&s!==null&&Ae(s),t.callbackPriority=2,t.callbackNode=null,2}function lv(t,n){if(qn!==0&&qn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var s=Te;return s=Gt(t,t===tn?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:($y(t,s,n),sv(t,Ye()),t.callbackNode!=null&&t.callbackNode===a?lv.bind(null,t):null)}function uv(t,n){if(Uc())return null;$y(t,n,!0)}function jS(){IS(function(){($e&6)!==0?je(Ie,BS):ov()})}function Uh(){if(Qi===0){var t=vs;t===0&&(t=kt,kt<<=1,(kt&261888)===0&&(kt=256)),Qi=t}return Qi}function cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function fv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function HS(t,n,a,s,f){if(n==="submit"&&a&&a.stateNode===f){var p=cv((f[gn]||null).action),E=s.submitter;E&&(n=(n=E[gn]||null)?cv(n.formAction):E.getAttribute("formAction"),n!==null&&(p=n,E=null));var R=new Wo("action","action",null,s,f);t.push({event:R,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Qi!==0){var P=E?fv(f,E):new FormData(f);ih(a,{pending:!0,data:P,method:f.method,action:p},null,P)}}else typeof p=="function"&&(R.preventDefault(),P=E?fv(f,E):new FormData(f),ih(a,{pending:!0,data:P,method:f.method,action:p},p,P))},currentTarget:f}]})}}for(var qh=0;qh<$t.length;qh++){var Vh=$t[qh],kS=Vh.toLowerCase(),LS=Vh[0].toUpperCase()+Vh.slice(1);Ut(kS,"on"+LS)}Ut(mt,"onAnimationEnd"),Ut(xt,"onAnimationIteration"),Ut(Nt,"onAnimationStart"),Ut("dblclick","onDoubleClick"),Ut("focusin","onFocus"),Ut("focusout","onBlur"),Ut(Rt,"onTransitionRun"),Ut(qt,"onTransitionStart"),Ut(Xt,"onTransitionCancel"),Ut(Lt,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),US=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function dv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var s=t[a],f=s.event;s=s.listeners;t:{var p=void 0;if(n)for(var E=s.length-1;0<=E;E--){var R=s[E],P=R.instance,bt=R.currentTarget;if(R=R.listener,P!==p&&f.isPropagationStopped())break t;p=R,f.currentTarget=bt;try{p(f)}catch(At){Kt(At)}f.currentTarget=null,p=P}else for(E=0;E<s.length;E++){if(R=s[E],P=R.instance,bt=R.currentTarget,R=R.listener,P!==p&&f.isPropagationStopped())break t;p=R,f.currentTarget=bt;try{p(f)}catch(At){Kt(At)}f.currentTarget=null,p=P}}}}function Ee(t,n){var a=n[ia];a===void 0&&(a=n[ia]=new Set);var s=t+"__bubble";a.has(s)||(hv(n,t,2,!1),a.add(s))}function Yh(t,n,a){var s=0;n&&(s|=4),hv(a,t,s,n)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[Yc]){t[Yc]=!0,oa.forEach(function(a){a!=="selectionchange"&&(US.has(a)||Yh(a,!1,t),Yh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Yc]||(n[Yc]=!0,Yh("selectionchange",!1,n))}}function hv(t,n,a,s){switch(Yv(n)){case 2:var f=hE;break;case 8:f=pE;break;default:f=ap}a=f.bind(null,n,a,t),f=void 0,!ll||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function Xh(t,n,a,s,f){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)t:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var R=s.stateNode.containerInfo;if(R===f)break;if(E===4)for(E=s.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;R!==null;){if(E=qr(R),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){s=p=E;continue t}R=R.parentNode}}s=s.return}Ti(function(){var bt=p,At=Fo(a),zt=[];t:{var wt=Yt.get(t);if(wt!==void 0){var _t=Wo,Qt=t;switch(t){case"keypress":if(Di(a)===0)break t;case"keydown":case"keyup":_t=os;break;case"focusin":Qt="focus",_t=Ai;break;case"focusout":Qt="blur",_t=Ai;break;case"beforeblur":case"afterblur":_t=Ai;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=gl;break;case mt:case xt:case Nt:_t=Pu;break;case Lt:_t=ml;break;case"scroll":case"scrollend":_t=ts;break;case"wheel":_t=ls;break;case"copy":case"cut":case"paste":_t=Oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=pl;break;case"toggle":case"beforetoggle":_t=Wu}var ie=(n&4)!==0,We=!ie&&(t==="scroll"||t==="scrollend"),dt=ie?wt!==null?wt+"Capture":null:wt;ie=[];for(var at=bt,yt;at!==null;){var Mt=at;if(yt=Mt.stateNode,Mt=Mt.tag,Mt!==5&&Mt!==26&&Mt!==27||yt===null||dt===null||(Mt=Ia(at,dt),Mt!=null&&ie.push(Il(at,Mt,yt))),We)break;at=at.return}0<ie.length&&(wt=new _t(wt,Qt,null,a,At),zt.push({event:wt,listeners:ie}))}}if((n&7)===0){t:{if(wt=t==="mouseover"||t==="pointerover",_t=t==="mouseout"||t==="pointerout",wt&&a!==$r&&(Qt=a.relatedTarget||a.fromElement)&&(qr(Qt)||Qt[Xn]))break t;if((_t||wt)&&(wt=At.window===At?At:(wt=At.ownerDocument)?wt.defaultView||wt.parentWindow:window,_t?(Qt=a.relatedTarget||a.toElement,_t=bt,Qt=Qt?qr(Qt):null,Qt!==null&&(We=c(Qt),ie=Qt.tag,Qt!==We||ie!==5&&ie!==27&&ie!==6)&&(Qt=null)):(_t=null,Qt=bt),_t!==Qt)){if(ie=ns,Mt="onMouseLeave",dt="onMouseEnter",at="mouse",(t==="pointerout"||t==="pointerover")&&(ie=pl,Mt="onPointerLeave",dt="onPointerEnter",at="pointer"),We=_t==null?wt:ar(_t),yt=Qt==null?wt:ar(Qt),wt=new ie(Mt,at+"leave",_t,a,At),wt.target=We,wt.relatedTarget=yt,Mt=null,qr(At)===bt&&(ie=new ie(dt,at+"enter",Qt,a,At),ie.target=yt,ie.relatedTarget=We,Mt=ie),We=Mt,_t&&Qt)e:{for(ie=qS,dt=_t,at=Qt,yt=0,Mt=dt;Mt;Mt=ie(Mt))yt++;Mt=0;for(var ne=at;ne;ne=ie(ne))Mt++;for(;0<yt-Mt;)dt=ie(dt),yt--;for(;0<Mt-yt;)at=ie(at),Mt--;for(;yt--;){if(dt===at||at!==null&&dt===at.alternate){ie=dt;break e}dt=ie(dt),at=ie(at)}ie=null}else ie=null;_t!==null&&pv(zt,wt,_t,ie,!1),Qt!==null&&We!==null&&pv(zt,We,Qt,ie,!0)}}t:{if(wt=bt?ar(bt):window,_t=wt.nodeName&&wt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&wt.type==="file")var Ue=xo;else if(fs(wt))if(Kr)Ue=zi;else{Ue=Ja;var Wt=ic}else _t=wt.nodeName,!_t||_t.toLowerCase()!=="input"||wt.type!=="checkbox"&&wt.type!=="radio"?bt&&sl(bt.elementType)&&(Ue=xo):Ue=wl;if(Ue&&(Ue=Ue(t,bt))){xl(zt,Ue,a,At);break t}Wt&&Wt(t,wt,bt),t==="focusout"&&bt&&wt.type==="number"&&bt.memoizedProps.value!=null&&Sa(wt,"number",wt.value)}switch(Wt=bt?ar(bt):window,t){case"focusin":(fs(Wt)||Wt.contentEditable==="true")&&(X=Wt,W=bt,nt=null);break;case"focusout":nt=W=X=null;break;case"mousedown":ut=!0;break;case"contextmenu":case"mouseup":case"dragend":ut=!1,F(zt,a,At);break;case"selectionchange":if(V)break;case"keydown":case"keyup":F(zt,a,At)}var ve;if(vo)t:{switch(t){case"compositionstart":var Ce="onCompositionStart";break t;case"compositionend":Ce="onCompositionEnd";break t;case"compositionupdate":Ce="onCompositionUpdate";break t}Ce=void 0}else Fa?bl(t,a)&&(Ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(us&&a.locale!=="ko"&&(Fa||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Fa&&(ve=Ni()):(Xr=At,Jo="value"in Xr?Xr.value:Xr.textContent,Fa=!0)),Wt=$c(bt,Ce),0<Wt.length&&(Ce=new is(Ce,t,null,a,At),zt.push({event:Ce,listeners:Wt}),ve?Ce.data=ve:(ve=ec(a),ve!==null&&(Ce.data=ve)))),(ve=Sd?nc(t,a):Ed(t,a))&&(Ce=$c(bt,"onBeforeInput"),0<Ce.length&&(Wt=new is("onBeforeInput","beforeinput",null,a,At),zt.push({event:Wt,listeners:Ce}),Wt.data=ve)),HS(zt,t,bt,a,At)}dv(zt,n)})}function Il(t,n,a){return{instance:t,listener:n,currentTarget:a}}function $c(t,n){for(var a=n+"Capture",s=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ia(t,a),f!=null&&s.unshift(Il(t,f,p)),f=Ia(t,n),f!=null&&s.push(Il(t,f,p))),t.tag===3)return s;t=t.return}return[]}function qS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,n,a,s,f){for(var p=n._reactName,E=[];a!==null&&a!==s;){var R=a,P=R.alternate,bt=R.stateNode;if(R=R.tag,P!==null&&P===s)break;R!==5&&R!==26&&R!==27||bt===null||(P=bt,f?(bt=Ia(a,p),bt!=null&&E.unshift(Il(a,bt,P))):f||(bt=Ia(a,p),bt!=null&&E.push(Il(a,bt,P)))),a=a.return}E.length!==0&&t.push({event:n,listeners:E})}var VS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(VS,`
`).replace(YS,"")}function mv(t,n){return n=gv(n),gv(t)===n}function Je(t,n,a,s,f,p){switch(a){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Xa(t,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Xa(t,""+s);break;case"className":Va(t,"class",s);break;case"tabIndex":Va(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Va(t,a,s);break;case"style":ol(t,s,p);break;case"data":if(n!=="object"){Va(t,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=ua(""+s),t.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Je(t,n,"name",f.name,f,null),Je(t,n,"formEncType",f.formEncType,f,null),Je(t,n,"formMethod",f.formMethod,f,null),Je(t,n,"formTarget",f.formTarget,f,null)):(Je(t,n,"encType",f.encType,f,null),Je(t,n,"method",f.method,f,null),Je(t,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=ua(""+s),t.setAttribute(a,s);break;case"onClick":s!=null&&(t.onclick=gr);break;case"onScroll":s!=null&&Ee("scroll",t);break;case"onScrollEnd":s!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}a=ua(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""+s):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":s===!0?t.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,s):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(a,s):t.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(a):t.setAttribute(a,s);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),ge(t,"popover",s);break;case"xlinkActuate":pr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ge(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bd.get(a)||a,ge(t,a,s))}}function Kh(t,n,a,s,f,p){switch(a){case"style":ol(t,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof s=="string"?Xa(t,s):(typeof s=="number"||typeof s=="bigint")&&Xa(t,""+s);break;case"onScroll":s!=null&&Ee("scroll",t);break;case"onScrollEnd":s!=null&&Ee("scrollend",t);break;case"onClick":s!=null&&(t.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),p=t[gn]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(n,p,f),typeof s=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,s,f);break t}a in t?t[a]=s:s===!0?t.setAttribute(a,""):ge(t,a,s)}}}function tr(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var s=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Je(t,n,p,E,a,null)}}f&&Je(t,n,"srcSet",a.srcSet,a,null),s&&Je(t,n,"src",a.src,a,null);return;case"input":Ee("invalid",t);var R=p=E=f=null,P=null,bt=null;for(s in a)if(a.hasOwnProperty(s)){var At=a[s];if(At!=null)switch(s){case"name":f=At;break;case"type":E=At;break;case"checked":P=At;break;case"defaultChecked":bt=At;break;case"value":p=At;break;case"defaultValue":R=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(o(137,n));break;default:Je(t,n,s,At,a,null)}}_i(t,p,R,P,bt,E,f,!1);return;case"select":Ee("invalid",t),s=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":p=R;break;case"defaultValue":E=R;break;case"multiple":s=R;default:Je(t,n,f,R,a,null)}n=p,a=E,t.multiple=!!s,n!=null?la(t,!!s,n,!1):a!=null&&la(t,!!s,a,!0);return;case"textarea":Ee("invalid",t),p=f=s=null;for(E in a)if(a.hasOwnProperty(E)&&(R=a[E],R!=null))switch(E){case"value":s=R;break;case"defaultValue":f=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:Je(t,n,E,R,a,null)}ho(t,s,f,p);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(s=a[P],s!=null))switch(P){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Je(t,n,P,s,a,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(s=0;s<Gl.length;s++)Ee(Gl[s],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(bt in a)if(a.hasOwnProperty(bt)&&(s=a[bt],s!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Je(t,n,bt,s,a,null)}return;default:if(sl(n)){for(At in a)a.hasOwnProperty(At)&&(s=a[At],s!==void 0&&Kh(t,n,At,s,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(s=a[R],s!=null&&Je(t,n,R,s,a,null))}function $S(t,n,a,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,R=null,P=null,bt=null,At=null;for(_t in a){var zt=a[_t];if(a.hasOwnProperty(_t)&&zt!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":P=zt;default:s.hasOwnProperty(_t)||Je(t,n,_t,null,s,zt)}}for(var wt in s){var _t=s[wt];if(zt=a[wt],s.hasOwnProperty(wt)&&(_t!=null||zt!=null))switch(wt){case"type":p=_t;break;case"name":f=_t;break;case"checked":bt=_t;break;case"defaultChecked":At=_t;break;case"value":E=_t;break;case"defaultValue":R=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(o(137,n));break;default:_t!==zt&&Je(t,n,wt,_t,s,zt)}}Yr(t,E,R,P,bt,At,p,f);return;case"select":_t=E=R=wt=null;for(p in a)if(P=a[p],a.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":_t=P;default:s.hasOwnProperty(p)||Je(t,n,p,null,s,P)}for(f in s)if(p=s[f],P=a[f],s.hasOwnProperty(f)&&(p!=null||P!=null))switch(f){case"value":wt=p;break;case"defaultValue":R=p;break;case"multiple":E=p;default:p!==P&&Je(t,n,f,p,s,P)}n=R,a=E,s=_t,wt!=null?la(t,!!a,wt,!1):!!s!=!!a&&(n!=null?la(t,!!a,n,!0):la(t,!!a,a?[]:"",!1));return;case"textarea":_t=wt=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!s.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Je(t,n,R,null,s,f)}for(E in s)if(f=s[E],p=a[E],s.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":wt=f;break;case"defaultValue":_t=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==p&&Je(t,n,E,f,s,p)}il(t,wt,_t);return;case"option":for(var Qt in a)if(wt=a[Qt],a.hasOwnProperty(Qt)&&wt!=null&&!s.hasOwnProperty(Qt))switch(Qt){case"selected":t.selected=!1;break;default:Je(t,n,Qt,null,s,wt)}for(P in s)if(wt=s[P],_t=a[P],s.hasOwnProperty(P)&&wt!==_t&&(wt!=null||_t!=null))switch(P){case"selected":t.selected=wt&&typeof wt!="function"&&typeof wt!="symbol";break;default:Je(t,n,P,wt,s,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)wt=a[ie],a.hasOwnProperty(ie)&&wt!=null&&!s.hasOwnProperty(ie)&&Je(t,n,ie,null,s,wt);for(bt in s)if(wt=s[bt],_t=a[bt],s.hasOwnProperty(bt)&&wt!==_t&&(wt!=null||_t!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(o(137,n));break;default:Je(t,n,bt,wt,s,_t)}return;default:if(sl(n)){for(var We in a)wt=a[We],a.hasOwnProperty(We)&&wt!==void 0&&!s.hasOwnProperty(We)&&Kh(t,n,We,void 0,s,wt);for(At in s)wt=s[At],_t=a[At],!s.hasOwnProperty(At)||wt===_t||wt===void 0&&_t===void 0||Kh(t,n,At,wt,s,_t);return}}for(var dt in a)wt=a[dt],a.hasOwnProperty(dt)&&wt!=null&&!s.hasOwnProperty(dt)&&Je(t,n,dt,null,s,wt);for(zt in s)wt=s[zt],_t=a[zt],!s.hasOwnProperty(zt)||wt===_t||wt==null&&_t==null||Je(t,n,zt,wt,s,_t)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var f=a[s],p=f.transferSize,E=f.initiatorType,R=f.duration;if(p&&R&&yv(E)){for(E=0,R=f.responseEnd,s+=1;s<a.length;s++){var P=a[s],bt=P.startTime;if(bt>R)break;var At=P.transferSize,zt=P.initiatorType;At&&yv(zt)&&(P=P.responseEnd,E+=At*(P<R?1:(R-bt)/(P-bt)))}if(--s,n+=8*(p+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gh=null,Ih=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Zh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qh=null;function KS(){var t=window.event;return t&&t.type==="popstate"?t===Qh?!1:(Qh=t,!0):(Qh=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,GS=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(ZS)}:xv;function ZS(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function Sv(t,n){var a=n,s=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(s===0){t.removeChild(f),ks(n);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zl(a);for(var p=a.firstChild;p;){var E=p.nextSibling,R=p.nodeName;p[ur]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}else a==="body"&&Zl(t.ownerDocument.body);a=f}while(a);ks(n)}function Ev(t,n){var a=t;t=0;do{var s=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=s}while(a)}function Ph(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ph(a),Si(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function QS(t,n,a,s){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Fr(t.nextSibling),t===null)break}return null}function PS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fr(t.nextSibling),t===null))return null;return t}function _v(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fr(t.nextSibling),t===null))return null;return t}function Fh(t){return t.data==="$?"||t.data==="$~"}function Jh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function FS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var s=function(){n(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Fr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Wh=null;function Tv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Fr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Cv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Nv(t,n,a){switch(n=Xc(a),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Si(t)}var Jr=new Map,Dv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=q.d;q.d={f:JS,r:WS,D:tE,C:eE,L:nE,m:rE,X:iE,S:aE,M:oE};function JS(){var t=hi.f(),n=Hc();return t||n}function WS(t){var n=Ke(t);n!==null&&n.tag===5&&n.type==="form"?Km(n):hi.r(t)}var Bs=typeof document>"u"?null:document;function Av(t,n,a){var s=Bs;if(s&&typeof n=="string"&&n){var f=xn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Dv.has(f)||(Dv.add(f),t={rel:t,crossOrigin:a,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),tr(n,"link",t),mn(n),s.head.appendChild(n)))}}function tE(t){hi.D(t),Av("dns-prefetch",t,null)}function eE(t,n){hi.C(t,n),Av("preconnect",t,n)}function nE(t,n,a){hi.L(t,n,a);var s=Bs;if(s&&t&&n){var f='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xn(a.imageSizes)+'"]')):f+='[href="'+xn(t)+'"]';var p=f;switch(n){case"style":p=js(t);break;case"script":p=Hs(t)}Jr.has(p)||(t=v({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Jr.set(p,t),s.querySelector(f)!==null||n==="style"&&s.querySelector(Ql(p))||n==="script"&&s.querySelector(Pl(p))||(n=s.createElement("link"),tr(n,"link",t),mn(n),s.head.appendChild(n)))}}function rE(t,n){hi.m(t,n);var a=Bs;if(a&&t){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+xn(s)+'"][href="'+xn(t)+'"]',p=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Hs(t)}if(!Jr.has(p)&&(t=v({rel:"modulepreload",href:t},n),Jr.set(p,t),a.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(p)))return}s=a.createElement("link"),tr(s,"link",t),mn(s),a.head.appendChild(s)}}}function aE(t,n,a){hi.S(t,n,a);var s=Bs;if(s&&t){var f=Kn(s).hoistableStyles,p=js(t);n=n||"default";var E=f.get(p);if(!E){var R={loading:0,preload:null};if(E=s.querySelector(Ql(p)))R.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Jr.get(p))&&tp(t,a);var P=E=s.createElement("link");mn(P),tr(P,"link",t),P._p=new Promise(function(bt,At){P.onload=bt,P.onerror=At}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Gc(E,n,s)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(p,E)}}}function iE(t,n){hi.X(t,n);var a=Bs;if(a&&t){var s=Kn(a).hoistableScripts,f=Hs(t),p=s.get(f);p||(p=a.querySelector(Pl(f)),p||(t=v({src:t,async:!0},n),(n=Jr.get(f))&&ep(t,n),p=a.createElement("script"),mn(p),tr(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function oE(t,n){hi.M(t,n);var a=Bs;if(a&&t){var s=Kn(a).hoistableScripts,f=Hs(t),p=s.get(f);p||(p=a.querySelector(Pl(f)),p||(t=v({src:t,async:!0,type:"module"},n),(n=Jr.get(f))&&ep(t,n),p=a.createElement("script"),mn(p),tr(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function Ov(t,n,a,s){var f=(f=Ot.current)?Kc(f):null;if(!f)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=js(a.href),a=Kn(f).hoistableStyles,s=a.get(n),s||(s={type:"style",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=js(a.href);var p=Kn(f).hoistableStyles,E=p.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,E),(p=f.querySelector(Ql(t)))&&!p._p&&(E.instance=p,E.state.loading=5),Jr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jr.set(t,a),p||sE(f,t,a,E.state))),n&&s===null)throw Error(o(528,""));return E}if(n&&s!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hs(a),a=Kn(f).hoistableScripts,s=a.get(n),s||(s={type:"script",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function js(t){return'href="'+xn(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function Mv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function sE(t,n,a,s){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=t.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),tr(n,"link",a),mn(n),t.head.appendChild(n))}function Hs(t){return'[src="'+xn(t)+'"]'}function Pl(t){return"script[async]"+t}function Rv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var s=t.querySelector('style[data-href~="'+xn(a.href)+'"]');if(s)return n.instance=s,mn(s),s;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),mn(s),tr(s,"style",f),Gc(s,a.precedence,t),n.instance=s;case"stylesheet":f=js(a.href);var p=t.querySelector(Ql(f));if(p)return n.state.loading|=4,n.instance=p,mn(p),p;s=Mv(a),(f=Jr.get(f))&&tp(s,f),p=(t.ownerDocument||t).createElement("link"),mn(p);var E=p;return E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),tr(p,"link",s),n.state.loading|=4,Gc(p,a.precedence,t),n.instance=p;case"script":return p=Hs(a.src),(f=t.querySelector(Pl(p)))?(n.instance=f,mn(f),f):(s=a,(f=Jr.get(p))&&(s=v({},a),ep(s,f)),t=t.ownerDocument||t,f=t.createElement("script"),mn(f),tr(f,"link",s),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Gc(s,a.precedence,t));return n.instance}function Gc(t,n,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,p=f,E=0;E<s.length;E++){var R=s[E];if(R.dataset.precedence===n)p=R;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function tp(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ep(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ic=null;function zv(t,n,a){if(Ic===null){var s=new Map,f=Ic=new Map;f.set(a,s)}else f=Ic,s=f.get(a),s||(s=new Map,f.set(a,s));if(s.has(t))return s;for(s.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var p=a[f];if(!(p[ur]||p[Pe]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(n)||"";E=t+E;var R=s.get(E);R?R.push(p):s.set(E,[p])}}return s}function Bv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function lE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function uE(t,n,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=js(s.href),p=n.querySelector(Ql(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Zc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=p,mn(p);return}p=n.ownerDocument||n,s=Mv(s),(f=Jr.get(f))&&tp(s,f),p=p.createElement("link"),mn(p);var E=p;E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),tr(p,"link",s),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var np=0;function cE(t,n){return t.stylesheets&&t.count===0&&Pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var s=setTimeout(function(){if(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&np===0&&(np=62500*XS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>np?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Pc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,n.forEach(fE,t),Qc=null,Zc.call(t))}function fE(t,n){if(!(n.state.loading&4)){var a=Qc.get(t);if(a)var s=a.get(null);else{a=new Map,Qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),s=E)}s&&a.set(null,s)}f=n.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||s,p===s&&a.set(null,f),a.set(E,f),this.count++,s=Zc.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function dE(t,n,a,s,f,p,E,R,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Hv(t,n,a,s,f,p,E,R,P,bt,At,zt){return t=new dE(t,n,a,E,P,bt,At,zt,R),n=1,p===!0&&(n|=24),p=Ar(3,null,null,n),t.current=p,p.stateNode=t,n=jd(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:a,cache:n},Ud(p),t}function kv(t){return t?(t=mr,t):mr}function Lv(t,n,a,s,f,p){f=kv(f),s.context===null?s.context=f:s.pendingContext=f,s=Ui(n),s.payload={element:a},p=p===void 0?null:p,p!==null&&(s.callback=p),a=qi(t,s,n),a!==null&&(wr(a,t,n),Al(a,t,n))}function Uv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function rp(t,n){Uv(t,n),(t=t.alternate)&&Uv(t,n)}function qv(t){if(t.tag===13||t.tag===31){var n=cn(t,67108864);n!==null&&wr(n,t,67108864),rp(t,67108864)}}function Vv(t){if(t.tag===13||t.tag===31){var n=Br();n=nr(n);var a=cn(t,n);a!==null&&wr(a,t,n),rp(t,n)}}var Fc=!0;function hE(t,n,a,s){var f=M.T;M.T=null;var p=q.p;try{q.p=2,ap(t,n,a,s)}finally{q.p=p,M.T=f}}function pE(t,n,a,s){var f=M.T;M.T=null;var p=q.p;try{q.p=8,ap(t,n,a,s)}finally{q.p=p,M.T=f}}function ap(t,n,a,s){if(Fc){var f=ip(s);if(f===null)Xh(t,n,s,Jc,a),$v(t,s);else if(mE(f,t,n,a,s))s.stopPropagation();else if($v(t,s),n&4&&-1<gE.indexOf(t)){for(;f!==null;){var p=Ke(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=xe(p.pendingLanes);if(E!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var P=1<<31-Dt(E);R.entanglements[1]|=P,E&=~P}Aa(p),($e&6)===0&&(Bc=Ye()+500,Kl(0))}}break;case 31:case 13:R=cn(p,2),R!==null&&wr(R,p,2),Hc(),rp(p,2)}if(p=ip(s),p===null&&Xh(t,n,s,Jc,a),p===f)break;f=p}f!==null&&s.stopPropagation()}else Xh(t,n,s,null,a)}}function ip(t){return t=Fo(t),op(t)}var Jc=null;function op(t){if(Jc=null,t=qr(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Jc=t,null}function Yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case Ie:return 2;case Xe:return 8;case nn:case _n:return 32;case vn:return 268435456;default:return 32}default:return 32}}var sp=!1,Fi=null,Ji=null,Wi=null,Jl=new Map,Wl=new Map,to=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(t,n){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function tu(t,n,a,s,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Ke(n),n!==null&&qv(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function mE(t,n,a,s,f){switch(n){case"focusin":return Fi=tu(Fi,t,n,a,s,f),!0;case"dragenter":return Ji=tu(Ji,t,n,a,s,f),!0;case"mouseover":return Wi=tu(Wi,t,n,a,s,f),!0;case"pointerover":var p=f.pointerId;return Jl.set(p,tu(Jl.get(p)||null,t,n,a,s,f)),!0;case"gotpointercapture":return p=f.pointerId,Wl.set(p,tu(Wl.get(p)||null,t,n,a,s,f)),!0}return!1}function Xv(t){var n=qr(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,lr(t.priority,function(){Vv(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,lr(t.priority,function(){Vv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ip(t.nativeEvent);if(a===null){a=t.nativeEvent;var s=new a.constructor(a.type,a);$r=s,a.target.dispatchEvent(s),$r=null}else return n=Ke(a),n!==null&&qv(n),t.blockedOn=a,!1;n.shift()}return!0}function Kv(t,n,a){Wc(t)&&a.delete(n)}function yE(){sp=!1,Fi!==null&&Wc(Fi)&&(Fi=null),Ji!==null&&Wc(Ji)&&(Ji=null),Wi!==null&&Wc(Wi)&&(Wi=null),Jl.forEach(Kv),Wl.forEach(Kv)}function tf(t,n){t.blockedOn===n&&(t.blockedOn=null,sp||(sp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yE)))}var ef=null;function Gv(t){ef!==t&&(ef=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ef===t&&(ef=null);for(var n=0;n<t.length;n+=3){var a=t[n],s=t[n+1],f=t[n+2];if(typeof s!="function"){if(op(s||a)===null)continue;break}var p=Ke(a);p!==null&&(t.splice(n,3),n-=3,ih(p,{pending:!0,data:f,method:a.method,action:s},s,f))}}))}function ks(t){function n(P){return tf(P,t)}Fi!==null&&tf(Fi,t),Ji!==null&&tf(Ji,t),Wi!==null&&tf(Wi,t),Jl.forEach(n),Wl.forEach(n);for(var a=0;a<to.length;a++){var s=to[a];s.blockedOn===t&&(s.blockedOn=null)}for(;0<to.length&&(a=to[0],a.blockedOn===null);)Xv(a),a.blockedOn===null&&to.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var f=a[s],p=a[s+1],E=f[gn]||null;if(typeof p=="function")E||Gv(a);else if(E){var R=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[gn]||null)R=E.formAction;else if(op(f)!==null)continue}else R=E.action;typeof R=="function"?a[s+1]=R:(a.splice(s,3),s-=3),Gv(a)}}}function Iv(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function lp(t){this._internalRoot=t}nf.prototype.render=lp.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,s=Br();Lv(a,s,t,n,null,null)},nf.prototype.unmount=lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Lv(t.current,2,null,t,null,null),Hc(),n[Xn]=null}};function nf(t){this._internalRoot=t}nf.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ln();t={blockedOn:null,target:t,priority:n};for(var a=0;a<to.length&&n!==0&&n<to[a].priority;a++);to.splice(a,0,t),a===0&&Xv(t)}};var Zv=r.version;if(Zv!=="19.2.0")throw Error(o(527,Zv,"19.2.0"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var vE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{$n=rf.inject(vE),Et=rf}catch{}}return iu.createRoot=function(t,n){if(!l(t))throw Error(o(299));var a=!1,s="",f=ey,p=ny,E=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=Hv(t,1,!1,null,null,a,s,null,f,p,E,Iv),t[Xn]=n.current,$h(t),new lp(n)},iu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(o(299));var s=!1,f="",p=ey,E=ny,R=ry,P=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),n=Hv(t,1,!0,n,a??null,s,f,P,p,E,R,Iv),n.context=kv(null),a=n.current,s=Br(),s=nr(s),f=Ui(s),f.callback=null,qi(a,f,s),a=s,n.current.lanes=a,fe(n,a),Aa(n),t[Xn]=n.current,$h(t),new nf(n)},iu.version="19.2.0",iu}var i1;function ZM(){if(i1)return Rp.exports;i1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Rp.exports=IM(),Rp.exports}var QM=ZM();const PM=({children:e})=>{const[r,i]=H.useState([]),[o,l]=H.useState([]);return U.jsx(ud.Provider,{value:{masterNodes:r,masterEdges:o,setMasterNodes:i,setMasterEdges:l},children:U.jsx(Ng,{children:e})})},jw=H.createContext({watched:[],setWatched:()=>{}}),FM=({id:e,top:r,left:i,right:o,bottom:l,...c})=>{const{getNode:d,setNodes:g,addNodes:m,setEdges:y}=Io(),{watched:x,setWatched:v}=H.useContext(jw),w=H.useCallback(()=>v(N=>[...N,e]),[e,v]),T=H.useCallback(()=>{const N=d(e);if(!N)throw new Error("Could not find node by id to duplicate");const B={x:N.position.x+50,y:N.position.y+50};m({...N,selected:!1,dragging:!1,id:Dg(),position:B})},[e,d,m]),O=H.useCallback(()=>{g(N=>N.filter(B=>B.id!==e))},[e,g,y]);return U.jsxs("div",{style:{top:r,left:i,right:o,bottom:l},className:"context-menu",...c,children:[U.jsx("p",{style:{margin:"0.5em"},children:U.jsxs("small",{children:["node: ",e]})}),!x.includes(e)&&U.jsx("button",{onClick:w,children:"Watch Output"}),U.jsx("button",{onClick:T,children:"Duplicate"}),U.jsx("button",{onClick:O,children:"Delete"})]})},JM=({id:e,sourceX:r,sourceY:i,targetX:o,targetY:l,data:c})=>{const[d]=ad({sourceX:r,sourceY:i,sourcePosition:Jt.Right,targetX:o,targetY:l,targetPosition:Jt.Left});return U.jsx(U.Fragment,{children:U.jsx(Uu,{className:c?.dataType??"",id:e,path:d})})},WM={[Up]:JM};function t5(e){return Lr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H8c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM8 16V4h12l.002 12H8z"},child:[]},{tag:"path",attr:{d:"M4 8H2v12c0 1.103.897 2 2 2h12v-2H4V8zm11-2h-2v3h-3v2h3v3h2v-3h3V9h-3z"},child:[]}]})(e)}const qg=H.createContext({nodeList:[],setNodeList:()=>{}});function e5(e){return Lr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}const hd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rl(e){const r=Object.prototype.toString.call(e);return r==="[object Window]"||r==="[object global]"}function Vg(e){return"nodeType"in e}function hr(e){var r,i;return e?rl(e)?e:Vg(e)&&(r=(i=e.ownerDocument)==null?void 0:i.defaultView)!=null?r:window:window}function Yg(e){const{Document:r}=hr(e);return e instanceof r}function Xu(e){return rl(e)?!1:e instanceof hr(e).HTMLElement}function Hw(e){return e instanceof hr(e).SVGElement}function al(e){return e?rl(e)?e.document:Vg(e)?Yg(e)?e:Xu(e)||Hw(e)?e.ownerDocument:document:document:document}const bi=hd?H.useLayoutEffect:H.useEffect;function pd(e){const r=H.useRef(e);return bi(()=>{r.current=e}),H.useCallback(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r.current==null?void 0:r.current(...o)},[])}function n5(){const e=H.useRef(null),r=H.useCallback((o,l)=>{e.current=setInterval(o,l)},[]),i=H.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[r,i]}function Au(e,r){r===void 0&&(r=[e]);const i=H.useRef(e);return bi(()=>{i.current!==e&&(i.current=e)},r),i}function Ku(e,r){const i=H.useRef();return H.useMemo(()=>{const o=e(i.current);return i.current=o,o},[...r])}function Xf(e){const r=pd(e),i=H.useRef(null),o=H.useCallback(l=>{l!==i.current&&r?.(l,i.current),i.current=l},[]);return[i,o]}function Kf(e){const r=H.useRef();return H.useEffect(()=>{r.current=e},[e]),r.current}let jp={};function gd(e,r){return H.useMemo(()=>{if(r)return r;const i=jp[e]==null?0:jp[e]+1;return jp[e]=i,e+"-"+i},[e,r])}function kw(e){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return o.reduce((c,d)=>{const g=Object.entries(d);for(const[m,y]of g){const x=c[m];x!=null&&(c[m]=x+e*y)}return c},{...r})}}const Xs=kw(1),Gf=kw(-1);function r5(e){return"clientX"in e&&"clientY"in e}function $g(e){if(!e)return!1;const{KeyboardEvent:r}=hr(e.target);return r&&e instanceof r}function a5(e){if(!e)return!1;const{TouchEvent:r}=hr(e.target);return r&&e instanceof r}function If(e){if(a5(e)){if(e.touches&&e.touches.length){const{clientX:r,clientY:i}=e.touches[0];return{x:r,y:i}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:r,clientY:i}=e.changedTouches[0];return{x:r,y:i}}}return r5(e)?{x:e.clientX,y:e.clientY}:null}const Ou=Object.freeze({Translate:{toString(e){if(!e)return;const{x:r,y:i}=e;return"translate3d("+(r?Math.round(r):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:r,scaleY:i}=e;return"scaleX("+r+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[Ou.Translate.toString(e),Ou.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:r,duration:i,easing:o}=e;return r+" "+i+"ms "+o}}}),o1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function i5(e){return e.matches(o1)?e:e.querySelector(o1)}const o5={display:"none"};function s5(e){let{id:r,value:i}=e;return Bt.createElement("div",{id:r,style:o5},i)}function l5(e){let{id:r,announcement:i,ariaLiveType:o="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Bt.createElement("div",{id:r,style:l,role:"status","aria-live":o,"aria-atomic":!0},i)}function u5(){const[e,r]=H.useState("");return{announce:H.useCallback(o=>{o!=null&&r(o)},[]),announcement:e}}const Lw=H.createContext(null);function Uw(e){const r=H.useContext(Lw);H.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(e)},[e,r])}function c5(){const[e]=H.useState(()=>new Set),r=H.useCallback(o=>(e.add(o),()=>e.delete(o)),[e]);return[H.useCallback(o=>{let{type:l,event:c}=o;e.forEach(d=>{var g;return(g=d[l])==null?void 0:g.call(d,c)})},[e]),r]}const f5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},d5={onDragStart(e){let{active:r}=e;return"Picked up draggable item "+r.id+"."},onDragOver(e){let{active:r,over:i}=e;return i?"Draggable item "+r.id+" was moved over droppable area "+i.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(e){let{active:r,over:i}=e;return i?"Draggable item "+r.id+" was dropped over droppable area "+i.id:"Draggable item "+r.id+" was dropped."},onDragCancel(e){let{active:r}=e;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function h5(e){let{announcements:r=d5,container:i,hiddenTextDescribedById:o,screenReaderInstructions:l=f5}=e;const{announce:c,announcement:d}=u5(),g=gd("DndLiveRegion"),[m,y]=H.useState(!1);if(H.useEffect(()=>{y(!0)},[]),Uw(H.useMemo(()=>({onDragStart(v){let{active:w}=v;c(r.onDragStart({active:w}))},onDragMove(v){let{active:w,over:T}=v;r.onDragMove&&c(r.onDragMove({active:w,over:T}))},onDragOver(v){let{active:w,over:T}=v;c(r.onDragOver({active:w,over:T}))},onDragEnd(v){let{active:w,over:T}=v;c(r.onDragEnd({active:w,over:T}))},onDragCancel(v){let{active:w,over:T}=v;c(r.onDragCancel({active:w,over:T}))}}),[c,r])),!m)return null;const x=Bt.createElement(Bt.Fragment,null,Bt.createElement(s5,{id:o,value:l.draggable}),Bt.createElement(l5,{id:g,announcement:d}));return i?ko.createPortal(x,i):x}var Yn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Yn||(Yn={}));function Zf(){}const ba=Object.freeze({x:0,y:0});function p5(e,r){const i=If(e);if(!i)return"0 0";const o={x:(i.x-r.left)/r.width*100,y:(i.y-r.top)/r.height*100};return o.x+"% "+o.y+"%"}function g5(e,r){let{data:{value:i}}=e,{data:{value:o}}=r;return o-i}function m5(e,r){if(!e||e.length===0)return null;const[i]=e;return i[r]}function y5(e,r){const i=Math.max(r.top,e.top),o=Math.max(r.left,e.left),l=Math.min(r.left+r.width,e.left+e.width),c=Math.min(r.top+r.height,e.top+e.height),d=l-o,g=c-i;if(o<l&&i<c){const m=r.width*r.height,y=e.width*e.height,x=d*g,v=x/(m+y-x);return Number(v.toFixed(4))}return 0}const v5=e=>{let{collisionRect:r,droppableRects:i,droppableContainers:o}=e;const l=[];for(const c of o){const{id:d}=c,g=i.get(d);if(g){const m=y5(g,r);m>0&&l.push({id:d,data:{droppableContainer:c,value:m}})}}return l.sort(g5)};function b5(e,r,i){return{...e,scaleX:r&&i?r.width/i.width:1,scaleY:r&&i?r.height/i.height:1}}function qw(e,r){return e&&r?{x:e.left-r.left,y:e.top-r.top}:ba}function x5(e){return function(i){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];return l.reduce((d,g)=>({...d,top:d.top+e*g.y,bottom:d.bottom+e*g.y,left:d.left+e*g.x,right:d.right+e*g.x}),{...i})}}const w5=x5(1);function Vw(e){if(e.startsWith("matrix3d(")){const r=e.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(e.startsWith("matrix(")){const r=e.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function S5(e,r,i){const o=Vw(r);if(!o)return e;const{scaleX:l,scaleY:c,x:d,y:g}=o,m=e.left-d-(1-l)*parseFloat(i),y=e.top-g-(1-c)*parseFloat(i.slice(i.indexOf(" ")+1)),x=l?e.width/l:e.width,v=c?e.height/c:e.height;return{width:x,height:v,top:y,right:m+x,bottom:y+v,left:m}}const E5={ignoreTransform:!1};function Gu(e,r){r===void 0&&(r=E5);let i=e.getBoundingClientRect();if(r.ignoreTransform){const{transform:y,transformOrigin:x}=hr(e).getComputedStyle(e);y&&(i=S5(i,y,x))}const{top:o,left:l,width:c,height:d,bottom:g,right:m}=i;return{top:o,left:l,width:c,height:d,bottom:g,right:m}}function s1(e){return Gu(e,{ignoreTransform:!0})}function _5(e){const r=e.innerWidth,i=e.innerHeight;return{top:0,left:0,right:r,bottom:i,width:r,height:i}}function T5(e,r){return r===void 0&&(r=hr(e).getComputedStyle(e)),r.position==="fixed"}function C5(e,r){r===void 0&&(r=hr(e).getComputedStyle(e));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const c=r[l];return typeof c=="string"?i.test(c):!1})}function Xg(e,r){const i=[];function o(l){if(r!=null&&i.length>=r||!l)return i;if(Yg(l)&&l.scrollingElement!=null&&!i.includes(l.scrollingElement))return i.push(l.scrollingElement),i;if(!Xu(l)||Hw(l)||i.includes(l))return i;const c=hr(e).getComputedStyle(l);return l!==e&&C5(l,c)&&i.push(l),T5(l,c)?i:o(l.parentNode)}return e?o(e):i}function Yw(e){const[r]=Xg(e,1);return r??null}function Hp(e){return!hd||!e?null:rl(e)?e:Vg(e)?Yg(e)||e===al(e).scrollingElement?window:Xu(e)?e:null:null}function $w(e){return rl(e)?e.scrollX:e.scrollLeft}function Xw(e){return rl(e)?e.scrollY:e.scrollTop}function lg(e){return{x:$w(e),y:Xw(e)}}var Pn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Pn||(Pn={}));function Kw(e){return!hd||!e?!1:e===document.scrollingElement}function Gw(e){const r={x:0,y:0},i=Kw(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},l=e.scrollTop<=r.y,c=e.scrollLeft<=r.x,d=e.scrollTop>=o.y,g=e.scrollLeft>=o.x;return{isTop:l,isLeft:c,isBottom:d,isRight:g,maxScroll:o,minScroll:r}}const N5={x:.2,y:.2};function D5(e,r,i,o,l){let{top:c,left:d,right:g,bottom:m}=i;o===void 0&&(o=10),l===void 0&&(l=N5);const{isTop:y,isBottom:x,isLeft:v,isRight:w}=Gw(e),T={x:0,y:0},O={x:0,y:0},N={height:r.height*l.y,width:r.width*l.x};return!y&&c<=r.top+N.height?(T.y=Pn.Backward,O.y=o*Math.abs((r.top+N.height-c)/N.height)):!x&&m>=r.bottom-N.height&&(T.y=Pn.Forward,O.y=o*Math.abs((r.bottom-N.height-m)/N.height)),!w&&g>=r.right-N.width?(T.x=Pn.Forward,O.x=o*Math.abs((r.right-N.width-g)/N.width)):!v&&d<=r.left+N.width&&(T.x=Pn.Backward,O.x=o*Math.abs((r.left+N.width-d)/N.width)),{direction:T,speed:O}}function A5(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:r,left:i,right:o,bottom:l}=e.getBoundingClientRect();return{top:r,left:i,right:o,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Iw(e){return e.reduce((r,i)=>Xs(r,lg(i)),ba)}function O5(e){return e.reduce((r,i)=>r+$w(i),0)}function M5(e){return e.reduce((r,i)=>r+Xw(i),0)}function Zw(e,r){if(r===void 0&&(r=Gu),!e)return;const{top:i,left:o,bottom:l,right:c}=r(e);Yw(e)&&(l<=0||c<=0||i>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const R5=[["x",["left","right"],O5],["y",["top","bottom"],M5]];class Kg{constructor(r,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=Xg(i),l=Iw(o);this.rect={...r},this.width=r.width,this.height=r.height;for(const[c,d,g]of R5)for(const m of d)Object.defineProperty(this,m,{get:()=>{const y=g(o),x=l[c]-y;return this.rect[m]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pu{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...i)})},this.target=r}add(r,i,o){var l;(l=this.target)==null||l.addEventListener(r,i,o),this.listeners.push([r,i,o])}}function z5(e){const{EventTarget:r}=hr(e);return e instanceof r?e:al(e)}function kp(e,r){const i=Math.abs(e.x),o=Math.abs(e.y);return typeof r=="number"?Math.sqrt(i**2+o**2)>r:"x"in r&&"y"in r?i>r.x&&o>r.y:"x"in r?i>r.x:"y"in r?o>r.y:!1}var ta;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ta||(ta={}));function l1(e){e.preventDefault()}function B5(e){e.stopPropagation()}var en;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(en||(en={}));const Qw={start:[en.Space,en.Enter],cancel:[en.Esc],end:[en.Space,en.Enter,en.Tab]},j5=(e,r)=>{let{currentCoordinates:i}=r;switch(e.code){case en.Right:return{...i,x:i.x+25};case en.Left:return{...i,x:i.x-25};case en.Down:return{...i,y:i.y+25};case en.Up:return{...i,y:i.y-25}}};class Pw{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:i}}=r;this.props=r,this.listeners=new pu(al(i)),this.windowListeners=new pu(hr(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ta.Resize,this.handleCancel),this.windowListeners.add(ta.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ta.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:i}=this.props,o=r.node.current;o&&Zw(o),i(ba)}handleKeyDown(r){if($g(r)){const{active:i,context:o,options:l}=this.props,{keyboardCodes:c=Qw,coordinateGetter:d=j5,scrollBehavior:g="smooth"}=l,{code:m}=r;if(c.end.includes(m)){this.handleEnd(r);return}if(c.cancel.includes(m)){this.handleCancel(r);return}const{collisionRect:y}=o.current,x=y?{x:y.left,y:y.top}:ba;this.referenceCoordinates||(this.referenceCoordinates=x);const v=d(r,{active:i,context:o.current,currentCoordinates:x});if(v){const w=Gf(v,x),T={x:0,y:0},{scrollableAncestors:O}=o.current;for(const N of O){const B=r.code,{isTop:z,isRight:K,isLeft:A,isBottom:_,maxScroll:$,minScroll:L}=Gw(N),j=A5(N),G={x:Math.min(B===en.Right?j.right-j.width/2:j.right,Math.max(B===en.Right?j.left:j.left+j.width/2,v.x)),y:Math.min(B===en.Down?j.bottom-j.height/2:j.bottom,Math.max(B===en.Down?j.top:j.top+j.height/2,v.y))},J=B===en.Right&&!K||B===en.Left&&!A,vt=B===en.Down&&!_||B===en.Up&&!z;if(J&&G.x!==v.x){const pt=N.scrollLeft+w.x,et=B===en.Right&&pt<=$.x||B===en.Left&&pt>=L.x;if(et&&!w.y){N.scrollTo({left:pt,behavior:g});return}et?T.x=N.scrollLeft-pt:T.x=B===en.Right?N.scrollLeft-$.x:N.scrollLeft-L.x,T.x&&N.scrollBy({left:-T.x,behavior:g});break}else if(vt&&G.y!==v.y){const pt=N.scrollTop+w.y,et=B===en.Down&&pt<=$.y||B===en.Up&&pt>=L.y;if(et&&!w.x){N.scrollTo({top:pt,behavior:g});return}et?T.y=N.scrollTop-pt:T.y=B===en.Down?N.scrollTop-$.y:N.scrollTop-L.y,T.y&&N.scrollBy({top:-T.y,behavior:g});break}}this.handleMove(r,Xs(Gf(v,this.referenceCoordinates),T))}}}handleMove(r,i){const{onMove:o}=this.props;r.preventDefault(),o(i)}handleEnd(r){const{onEnd:i}=this.props;r.preventDefault(),this.detach(),i()}handleCancel(r){const{onCancel:i}=this.props;r.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Pw.activators=[{eventName:"onKeyDown",handler:(e,r,i)=>{let{keyboardCodes:o=Qw,onActivation:l}=r,{active:c}=i;const{code:d}=e.nativeEvent;if(o.start.includes(d)){const g=c.activatorNode.current;return g&&e.target!==g?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function u1(e){return!!(e&&"distance"in e)}function c1(e){return!!(e&&"delay"in e)}class Gg{constructor(r,i,o){var l;o===void 0&&(o=z5(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=i;const{event:c}=r,{target:d}=c;this.props=r,this.events=i,this.document=al(d),this.documentListeners=new pu(this.document),this.listeners=new pu(o),this.windowListeners=new pu(hr(d)),this.initialCoordinates=(l=If(c))!=null?l:ba,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:i,bypassActivationConstraint:o}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(ta.Resize,this.handleCancel),this.windowListeners.add(ta.DragStart,l1),this.windowListeners.add(ta.VisibilityChange,this.handleCancel),this.windowListeners.add(ta.ContextMenu,l1),this.documentListeners.add(ta.Keydown,this.handleKeydown),i){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(c1(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(u1(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,i){const{active:o,onPending:l}=this.props;l(o,r,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:r}=this,{onStart:i}=this.props;r&&(this.activated=!0,this.documentListeners.add(ta.Click,B5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ta.SelectionChange,this.removeTextSelection),i(r))}handleMove(r){var i;const{activated:o,initialCoordinates:l,props:c}=this,{onMove:d,options:{activationConstraint:g}}=c;if(!l)return;const m=(i=If(r))!=null?i:ba,y=Gf(l,m);if(!o&&g){if(u1(g)){if(g.tolerance!=null&&kp(y,g.tolerance))return this.handleCancel();if(kp(y,g.distance))return this.handleStart()}if(c1(g)&&kp(y,g.tolerance))return this.handleCancel();this.handlePending(g,y);return}r.cancelable&&r.preventDefault(),d(m)}handleEnd(){const{onAbort:r,onEnd:i}=this.props;this.detach(),this.activated||r(this.props.active),i()}handleCancel(){const{onAbort:r,onCancel:i}=this.props;this.detach(),this.activated||r(this.props.active),i()}handleKeydown(r){r.code===en.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const H5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Fw extends Gg{constructor(r){const{event:i}=r,o=al(i.target);super(r,H5,o)}}Fw.activators=[{eventName:"onPointerDown",handler:(e,r)=>{let{nativeEvent:i}=e,{onActivation:o}=r;return!i.isPrimary||i.button!==0?!1:(o?.({event:i}),!0)}}];const k5={move:{name:"mousemove"},end:{name:"mouseup"}};var ug;(function(e){e[e.RightClick=2]="RightClick"})(ug||(ug={}));class L5 extends Gg{constructor(r){super(r,k5,al(r.event.target))}}L5.activators=[{eventName:"onMouseDown",handler:(e,r)=>{let{nativeEvent:i}=e,{onActivation:o}=r;return i.button===ug.RightClick?!1:(o?.({event:i}),!0)}}];const Lp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class U5 extends Gg{constructor(r){super(r,Lp)}static setup(){return window.addEventListener(Lp.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(Lp.move.name,r)};function r(){}}}U5.activators=[{eventName:"onTouchStart",handler:(e,r)=>{let{nativeEvent:i}=e,{onActivation:o}=r;const{touches:l}=i;return l.length>1?!1:(o?.({event:i}),!0)}}];var gu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(gu||(gu={}));var Qf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qf||(Qf={}));function q5(e){let{acceleration:r,activator:i=gu.Pointer,canScroll:o,draggingRect:l,enabled:c,interval:d=5,order:g=Qf.TreeOrder,pointerCoordinates:m,scrollableAncestors:y,scrollableAncestorRects:x,delta:v,threshold:w}=e;const T=Y5({delta:v,disabled:!c}),[O,N]=n5(),B=H.useRef({x:0,y:0}),z=H.useRef({x:0,y:0}),K=H.useMemo(()=>{switch(i){case gu.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case gu.DraggableRect:return l}},[i,l,m]),A=H.useRef(null),_=H.useCallback(()=>{const L=A.current;if(!L)return;const j=B.current.x*z.current.x,G=B.current.y*z.current.y;L.scrollBy(j,G)},[]),$=H.useMemo(()=>g===Qf.TreeOrder?[...y].reverse():y,[g,y]);H.useEffect(()=>{if(!c||!y.length||!K){N();return}for(const L of $){if(o?.(L)===!1)continue;const j=y.indexOf(L),G=x[j];if(!G)continue;const{direction:J,speed:vt}=D5(L,G,K,r,w);for(const pt of["x","y"])T[pt][J[pt]]||(vt[pt]=0,J[pt]=0);if(vt.x>0||vt.y>0){N(),A.current=L,O(_,d),B.current=vt,z.current=J;return}}B.current={x:0,y:0},z.current={x:0,y:0},N()},[r,_,o,N,c,d,JSON.stringify(K),JSON.stringify(T),O,y,$,x,JSON.stringify(w)])}const V5={x:{[Pn.Backward]:!1,[Pn.Forward]:!1},y:{[Pn.Backward]:!1,[Pn.Forward]:!1}};function Y5(e){let{delta:r,disabled:i}=e;const o=Kf(r);return Ku(l=>{if(i||!o||!l)return V5;const c={x:Math.sign(r.x-o.x),y:Math.sign(r.y-o.y)};return{x:{[Pn.Backward]:l.x[Pn.Backward]||c.x===-1,[Pn.Forward]:l.x[Pn.Forward]||c.x===1},y:{[Pn.Backward]:l.y[Pn.Backward]||c.y===-1,[Pn.Forward]:l.y[Pn.Forward]||c.y===1}}},[i,r,o])}function $5(e,r){const i=r!=null?e.get(r):void 0,o=i?i.node.current:null;return Ku(l=>{var c;return r==null?null:(c=o??l)!=null?c:null},[o,r])}function X5(e,r){return H.useMemo(()=>e.reduce((i,o)=>{const{sensor:l}=o,c=l.activators.map(d=>({eventName:d.eventName,handler:r(d.handler,o)}));return[...i,...c]},[]),[e,r])}var Mu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Mu||(Mu={}));var cg;(function(e){e.Optimized="optimized"})(cg||(cg={}));const f1=new Map;function K5(e,r){let{dragging:i,dependencies:o,config:l}=r;const[c,d]=H.useState(null),{frequency:g,measure:m,strategy:y}=l,x=H.useRef(e),v=B(),w=Au(v),T=H.useCallback(function(z){z===void 0&&(z=[]),!w.current&&d(K=>K===null?z:K.concat(z.filter(A=>!K.includes(A))))},[w]),O=H.useRef(null),N=Ku(z=>{if(v&&!i)return f1;if(!z||z===f1||x.current!==e||c!=null){const K=new Map;for(let A of e){if(!A)continue;if(c&&c.length>0&&!c.includes(A.id)&&A.rect.current){K.set(A.id,A.rect.current);continue}const _=A.node.current,$=_?new Kg(m(_),_):null;A.rect.current=$,$&&K.set(A.id,$)}return K}return z},[e,c,i,v,m]);return H.useEffect(()=>{x.current=e},[e]),H.useEffect(()=>{v||T()},[i,v]),H.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),H.useEffect(()=>{v||typeof g!="number"||O.current!==null||(O.current=setTimeout(()=>{T(),O.current=null},g))},[g,v,T,...o]),{droppableRects:N,measureDroppableContainers:T,measuringScheduled:c!=null};function B(){switch(y){case Mu.Always:return!1;case Mu.BeforeDragging:return i;default:return!i}}}function Ig(e,r){return Ku(i=>e?i||(typeof r=="function"?r(e):e):null,[r,e])}function G5(e,r){return Ig(e,r)}function I5(e){let{callback:r,disabled:i}=e;const o=pd(r),l=H.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(o)},[o,i]);return H.useEffect(()=>()=>l?.disconnect(),[l]),l}function md(e){let{callback:r,disabled:i}=e;const o=pd(r),l=H.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(o)},[i]);return H.useEffect(()=>()=>l?.disconnect(),[l]),l}function Z5(e){return new Kg(Gu(e),e)}function d1(e,r,i){r===void 0&&(r=Z5);const[o,l]=H.useState(null);function c(){l(m=>{if(!e)return null;if(e.isConnected===!1){var y;return(y=m??i)!=null?y:null}const x=r(e);return JSON.stringify(m)===JSON.stringify(x)?m:x})}const d=I5({callback(m){if(e)for(const y of m){const{type:x,target:v}=y;if(x==="childList"&&v instanceof HTMLElement&&v.contains(e)){c();break}}}}),g=md({callback:c});return bi(()=>{c(),e?(g?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(g?.disconnect(),d?.disconnect())},[e]),o}function Q5(e){const r=Ig(e);return qw(e,r)}const h1=[];function P5(e){const r=H.useRef(e),i=Ku(o=>e?o&&o!==h1&&e&&r.current&&e.parentNode===r.current.parentNode?o:Xg(e):h1,[e]);return H.useEffect(()=>{r.current=e},[e]),i}function F5(e){const[r,i]=H.useState(null),o=H.useRef(e),l=H.useCallback(c=>{const d=Hp(c.target);d&&i(g=>g?(g.set(d,lg(d)),new Map(g)):null)},[]);return H.useEffect(()=>{const c=o.current;if(e!==c){d(c);const g=e.map(m=>{const y=Hp(m);return y?(y.addEventListener("scroll",l,{passive:!0}),[y,lg(y)]):null}).filter(m=>m!=null);i(g.length?new Map(g):null),o.current=e}return()=>{d(e),d(c)};function d(g){g.forEach(m=>{const y=Hp(m);y?.removeEventListener("scroll",l)})}},[l,e]),H.useMemo(()=>e.length?r?Array.from(r.values()).reduce((c,d)=>Xs(c,d),ba):Iw(e):ba,[e,r])}function p1(e,r){r===void 0&&(r=[]);const i=H.useRef(null);return H.useEffect(()=>{i.current=null},r),H.useEffect(()=>{const o=e!==ba;o&&!i.current&&(i.current=e),!o&&i.current&&(i.current=null)},[e]),i.current?Gf(e,i.current):ba}function J5(e){H.useEffect(()=>{if(!hd)return;const r=e.map(i=>{let{sensor:o}=i;return o.setup==null?void 0:o.setup()});return()=>{for(const i of r)i?.()}},e.map(r=>{let{sensor:i}=r;return i}))}function W5(e,r){return H.useMemo(()=>e.reduce((i,o)=>{let{eventName:l,handler:c}=o;return i[l]=d=>{c(d,r)},i},{}),[e,r])}function Jw(e){return H.useMemo(()=>e?_5(e):null,[e])}const g1=[];function tR(e,r){r===void 0&&(r=Gu);const[i]=e,o=Jw(i?hr(i):null),[l,c]=H.useState(g1);function d(){c(()=>e.length?e.map(m=>Kw(m)?o:new Kg(r(m),m)):g1)}const g=md({callback:d});return bi(()=>{g?.disconnect(),d(),e.forEach(m=>g?.observe(m))},[e]),l}function Ww(e){if(!e)return null;if(e.children.length>1)return e;const r=e.children[0];return Xu(r)?r:e}function eR(e){let{measure:r}=e;const[i,o]=H.useState(null),l=H.useCallback(y=>{for(const{target:x}of y)if(Xu(x)){o(v=>{const w=r(x);return v?{...v,width:w.width,height:w.height}:w});break}},[r]),c=md({callback:l}),d=H.useCallback(y=>{const x=Ww(y);c?.disconnect(),x&&c?.observe(x),o(x?r(x):null)},[r,c]),[g,m]=Xf(d);return H.useMemo(()=>({nodeRef:g,rect:i,setRef:m}),[i,g,m])}const nR=[{sensor:Fw,options:{}},{sensor:Pw,options:{}}],rR={current:{}},Cf={draggable:{measure:s1},droppable:{measure:s1,strategy:Mu.WhileDragging,frequency:cg.Optimized},dragOverlay:{measure:Gu}};class mu extends Map{get(r){var i;return r!=null&&(i=super.get(r))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:i}=r;return!i})}getNodeFor(r){var i,o;return(i=(o=this.get(r))==null?void 0:o.node.current)!=null?i:void 0}}const aR={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Cf,measureDroppableContainers:Zf,windowRect:null,measuringScheduled:!1},tS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zf,draggableNodes:new Map,over:null,measureDroppableContainers:Zf},Iu=H.createContext(tS),eS=H.createContext(aR);function iR(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mu}}}function oR(e,r){switch(r.type){case Yn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case Yn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:r.coordinates.x-e.draggable.initialCoordinates.x,y:r.coordinates.y-e.draggable.initialCoordinates.y}}};case Yn.DragEnd:case Yn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Yn.RegisterDroppable:{const{element:i}=r,{id:o}=i,l=new mu(e.droppable.containers);return l.set(o,i),{...e,droppable:{...e.droppable,containers:l}}}case Yn.SetDroppableDisabled:{const{id:i,key:o,disabled:l}=r,c=e.droppable.containers.get(i);if(!c||o!==c.key)return e;const d=new mu(e.droppable.containers);return d.set(i,{...c,disabled:l}),{...e,droppable:{...e.droppable,containers:d}}}case Yn.UnregisterDroppable:{const{id:i,key:o}=r,l=e.droppable.containers.get(i);if(!l||o!==l.key)return e;const c=new mu(e.droppable.containers);return c.delete(i),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function sR(e){let{disabled:r}=e;const{active:i,activatorEvent:o,draggableNodes:l}=H.useContext(Iu),c=Kf(o),d=Kf(i?.id);return H.useEffect(()=>{if(!r&&!o&&c&&d!=null){if(!$g(c)||document.activeElement===c.target)return;const g=l.get(d);if(!g)return;const{activatorNode:m,node:y}=g;if(!m.current&&!y.current)return;requestAnimationFrame(()=>{for(const x of[m.current,y.current]){if(!x)continue;const v=i5(x);if(v){v.focus();break}}})}},[o,r,l,d,c]),null}function nS(e,r){let{transform:i,...o}=r;return e!=null&&e.length?e.reduce((l,c)=>c({transform:l,...o}),i):i}function lR(e){return H.useMemo(()=>({draggable:{...Cf.draggable,...e?.draggable},droppable:{...Cf.droppable,...e?.droppable},dragOverlay:{...Cf.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function uR(e){let{activeNode:r,measure:i,initialRect:o,config:l=!0}=e;const c=H.useRef(!1),{x:d,y:g}=typeof l=="boolean"?{x:l,y:l}:l;bi(()=>{if(!d&&!g||!r){c.current=!1;return}if(c.current||!o)return;const y=r?.node.current;if(!y||y.isConnected===!1)return;const x=i(y),v=qw(x,o);if(d||(v.x=0),g||(v.y=0),c.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=Yw(y);w&&w.scrollBy({top:v.y,left:v.x})}},[r,d,g,o,i])}const yd=H.createContext({...ba,scaleX:1,scaleY:1});var ao;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ao||(ao={}));const cR=H.memo(function(r){var i,o,l,c;let{id:d,accessibility:g,autoScroll:m=!0,children:y,sensors:x=nR,collisionDetection:v=v5,measuring:w,modifiers:T,...O}=r;const N=H.useReducer(oR,void 0,iR),[B,z]=N,[K,A]=c5(),[_,$]=H.useState(ao.Uninitialized),L=_===ao.Initialized,{draggable:{active:j,nodes:G,translate:J},droppable:{containers:vt}}=B,pt=j!=null?G.get(j):null,et=H.useRef({initial:null,translated:null}),lt=H.useMemo(()=>{var ke;return j!=null?{id:j,data:(ke=pt?.data)!=null?ke:rR,rect:et}:null},[j,pt]),Y=H.useRef(null),[I,M]=H.useState(null),[q,Q]=H.useState(null),tt=Au(O,Object.values(O)),ht=gd("DndDescribedBy",d),k=H.useMemo(()=>vt.getEnabled(),[vt]),Z=lR(w),{droppableRects:st,measureDroppableContainers:gt,measuringScheduled:Tt}=K5(k,{dragging:L,dependencies:[J.x,J.y],config:Z.droppable}),Ot=$5(G,j),jt=H.useMemo(()=>q?If(q):null,[q]),Ct=Tn(),St=G5(Ot,Z.draggable.measure);uR({activeNode:j!=null?G.get(j):null,config:Ct.layoutShiftCompensation,initialRect:St,measure:Z.draggable.measure});const It=d1(Ot,Z.draggable.measure,St),te=d1(Ot?Ot.parentElement:null),Ht=H.useRef({activatorEvent:null,active:null,activeNode:Ot,collisionRect:null,collisions:null,droppableRects:st,draggableNodes:G,draggingNode:null,draggingNodeRect:null,droppableContainers:vt,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ft=vt.getNodeFor((i=Ht.current.over)==null?void 0:i.id),Zt=eR({measure:Z.dragOverlay.measure}),oe=(o=Zt.nodeRef.current)!=null?o:Ot,be=L?(l=Zt.rect)!=null?l:It:null,De=!!(Zt.nodeRef.current&&Zt.rect),yn=Q5(De?null:It),Ge=Jw(oe?hr(oe):null),je=P5(L?Ft??Ot:null),Ae=tR(je),Oe=nS(T,{transform:{x:J.x-yn.x,y:J.y-yn.y,scaleX:1,scaleY:1},activatorEvent:q,active:lt,activeNodeRect:It,containerNodeRect:te,draggingNodeRect:be,over:Ht.current.over,overlayNodeRect:Zt.rect,scrollableAncestors:je,scrollableAncestorRects:Ae,windowRect:Ge}),Ve=jt?Xs(jt,J):null,Ye=F5(je),En=p1(Ye),Ie=p1(Ye,[It]),Xe=Xs(Oe,En),nn=be?w5(be,Oe):null,_n=lt&&nn?v({active:lt,collisionRect:nn,droppableRects:st,droppableContainers:k,pointerCoordinates:Ve}):null,vn=m5(_n,"id"),[bn,hn]=H.useState(null),$n=De?Oe:Xs(Oe,Ie),Et=b5($n,(c=bn?.rect)!=null?c:null,It),Vt=H.useRef(null),Dt=H.useCallback((ke,xe)=>{let{sensor:Gt,options:ue}=xe;if(Y.current==null)return;const pe=G.get(Y.current);if(!pe)return;const _e=ke.nativeEvent,Le=new Gt({active:Y.current,activeNode:pe,event:_e,options:ue,context:Ht,onAbort(we){if(!G.get(we))return;const{onDragAbort:ae}=tt.current,ce={id:we};ae?.(ce),K({type:"onDragAbort",event:ce})},onPending(we,pn,ae,ce){if(!G.get(we))return;const{onDragPending:un}=tt.current,Ln={id:we,constraint:pn,initialCoordinates:ae,offset:ce};un?.(Ln),K({type:"onDragPending",event:Ln})},onStart(we){const pn=Y.current;if(pn==null)return;const ae=G.get(pn);if(!ae)return;const{onDragStart:ce}=tt.current,nr={activatorEvent:_e,active:{id:pn,data:ae.data,rect:et}};ko.unstable_batchedUpdates(()=>{ce?.(nr),$(ao.Initializing),z({type:Yn.DragStart,initialCoordinates:we,active:pn}),K({type:"onDragStart",event:nr}),M(Vt.current),Q(_e)})},onMove(we){z({type:Yn.DragMove,coordinates:we})},onEnd:fe(Yn.DragEnd),onCancel:fe(Yn.DragCancel)});Vt.current=Le;function fe(we){return async function(){const{active:ae,collisions:ce,over:nr,scrollAdjustedTranslate:un}=Ht.current;let Ln=null;if(ae&&un){const{cancelDrop:lr}=tt.current;Ln={activatorEvent:_e,active:ae,collisions:ce,delta:un,over:nr},we===Yn.DragEnd&&typeof lr=="function"&&await Promise.resolve(lr(Ln))&&(we=Yn.DragCancel)}Y.current=null,ko.unstable_batchedUpdates(()=>{z({type:we}),$(ao.Uninitialized),hn(null),M(null),Q(null),Vt.current=null;const lr=we===Yn.DragEnd?"onDragEnd":"onDragCancel";if(Ln){const rr=tt.current[lr];rr?.(Ln),K({type:lr,event:Ln})}})}}},[G]),he=H.useCallback((ke,xe)=>(Gt,ue)=>{const pe=Gt.nativeEvent,_e=G.get(ue);if(Y.current!==null||!_e||pe.dndKit||pe.defaultPrevented)return;const Le={active:_e};ke(Gt,xe.options,Le)===!0&&(pe.dndKit={capturedBy:xe.sensor},Y.current=ue,Dt(Gt,xe))},[G,Dt]),re=X5(x,he);J5(x),bi(()=>{It&&_===ao.Initializing&&$(ao.Initialized)},[It,_]),H.useEffect(()=>{const{onDragMove:ke}=tt.current,{active:xe,activatorEvent:Gt,collisions:ue,over:pe}=Ht.current;if(!xe||!Gt)return;const _e={active:xe,activatorEvent:Gt,collisions:ue,delta:{x:Xe.x,y:Xe.y},over:pe};ko.unstable_batchedUpdates(()=>{ke?.(_e),K({type:"onDragMove",event:_e})})},[Xe.x,Xe.y]),H.useEffect(()=>{const{active:ke,activatorEvent:xe,collisions:Gt,droppableContainers:ue,scrollAdjustedTranslate:pe}=Ht.current;if(!ke||Y.current==null||!xe||!pe)return;const{onDragOver:_e}=tt.current,Le=ue.get(vn),fe=Le&&Le.rect.current?{id:Le.id,rect:Le.rect.current,data:Le.data,disabled:Le.disabled}:null,we={active:ke,activatorEvent:xe,collisions:Gt,delta:{x:pe.x,y:pe.y},over:fe};ko.unstable_batchedUpdates(()=>{hn(fe),_e?.(we),K({type:"onDragOver",event:we})})},[vn]),bi(()=>{Ht.current={activatorEvent:q,active:lt,activeNode:Ot,collisionRect:nn,collisions:_n,droppableRects:st,draggableNodes:G,draggingNode:oe,draggingNodeRect:be,droppableContainers:vt,over:bn,scrollableAncestors:je,scrollAdjustedTranslate:Xe},et.current={initial:be,translated:nn}},[lt,Ot,_n,nn,G,oe,be,st,vt,bn,je,Xe]),q5({...Ct,delta:J,draggingRect:nn,pointerCoordinates:Ve,scrollableAncestors:je,scrollableAncestorRects:Ae});const Me=H.useMemo(()=>({active:lt,activeNode:Ot,activeNodeRect:It,activatorEvent:q,collisions:_n,containerNodeRect:te,dragOverlay:Zt,draggableNodes:G,droppableContainers:vt,droppableRects:st,over:bn,measureDroppableContainers:gt,scrollableAncestors:je,scrollableAncestorRects:Ae,measuringConfiguration:Z,measuringScheduled:Tt,windowRect:Ge}),[lt,Ot,It,q,_n,te,Zt,G,vt,st,bn,gt,je,Ae,Z,Tt,Ge]),kt=H.useMemo(()=>({activatorEvent:q,activators:re,active:lt,activeNodeRect:It,ariaDescribedById:{draggable:ht},dispatch:z,draggableNodes:G,over:bn,measureDroppableContainers:gt}),[q,re,lt,It,z,ht,G,bn,gt]);return Bt.createElement(Lw.Provider,{value:A},Bt.createElement(Iu.Provider,{value:kt},Bt.createElement(eS.Provider,{value:Me},Bt.createElement(yd.Provider,{value:Et},y)),Bt.createElement(sR,{disabled:g?.restoreFocus===!1})),Bt.createElement(h5,{...g,hiddenTextDescribedById:ht}));function Tn(){const ke=I?.autoScrollEnabled===!1,xe=typeof m=="object"?m.enabled===!1:m===!1,Gt=L&&!ke&&!xe;return typeof m=="object"?{...m,enabled:Gt}:{enabled:Gt}}}),fR=H.createContext(null),m1="button",dR="Draggable";function hR(e){let{id:r,data:i,disabled:o=!1,attributes:l}=e;const c=gd(dR),{activators:d,activatorEvent:g,active:m,activeNodeRect:y,ariaDescribedById:x,draggableNodes:v,over:w}=H.useContext(Iu),{role:T=m1,roleDescription:O="draggable",tabIndex:N=0}=l??{},B=m?.id===r,z=H.useContext(B?yd:fR),[K,A]=Xf(),[_,$]=Xf(),L=W5(d,r),j=Au(i);bi(()=>(v.set(r,{id:r,key:c,node:K,activatorNode:_,data:j}),()=>{const J=v.get(r);J&&J.key===c&&v.delete(r)}),[v,r]);const G=H.useMemo(()=>({role:T,tabIndex:N,"aria-disabled":o,"aria-pressed":B&&T===m1?!0:void 0,"aria-roledescription":O,"aria-describedby":x.draggable}),[o,T,N,B,O,x.draggable]);return{active:m,activatorEvent:g,activeNodeRect:y,attributes:G,isDragging:B,listeners:o?void 0:L,node:K,over:w,setNodeRef:A,setActivatorNodeRef:$,transform:z}}function pR(){return H.useContext(eS)}const gR="Droppable",mR={timeout:25};function yR(e){let{data:r,disabled:i=!1,id:o,resizeObserverConfig:l}=e;const c=gd(gR),{active:d,dispatch:g,over:m,measureDroppableContainers:y}=H.useContext(Iu),x=H.useRef({disabled:i}),v=H.useRef(!1),w=H.useRef(null),T=H.useRef(null),{disabled:O,updateMeasurementsFor:N,timeout:B}={...mR,...l},z=Au(N??o),K=H.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{y(Array.isArray(z.current)?z.current:[z.current]),T.current=null},B)},[B]),A=md({callback:K,disabled:O||!d}),_=H.useCallback((G,J)=>{A&&(J&&(A.unobserve(J),v.current=!1),G&&A.observe(G))},[A]),[$,L]=Xf(_),j=Au(r);return H.useEffect(()=>{!A||!$.current||(A.disconnect(),v.current=!1,A.observe($.current))},[$,A]),H.useEffect(()=>(g({type:Yn.RegisterDroppable,element:{id:o,key:c,disabled:i,node:$,rect:w,data:j}}),()=>g({type:Yn.UnregisterDroppable,key:c,id:o})),[o]),H.useEffect(()=>{i!==x.current.disabled&&(g({type:Yn.SetDroppableDisabled,id:o,key:c,disabled:i}),x.current.disabled=i)},[o,c,i,g]),{active:d,rect:w,isOver:m?.id===o,node:$,over:m,setNodeRef:L}}function vR(e){let{animation:r,children:i}=e;const[o,l]=H.useState(null),[c,d]=H.useState(null),g=Kf(i);return!i&&!o&&g&&l(g),bi(()=>{if(!c)return;const m=o?.key,y=o?.props.id;if(m==null||y==null){l(null);return}Promise.resolve(r(y,c)).then(()=>{l(null)})},[r,o,c]),Bt.createElement(Bt.Fragment,null,i,o?H.cloneElement(o,{ref:d}):null)}const bR={x:0,y:0,scaleX:1,scaleY:1};function xR(e){let{children:r}=e;return Bt.createElement(Iu.Provider,{value:tS},Bt.createElement(yd.Provider,{value:bR},r))}const wR={position:"fixed",touchAction:"none"},SR=e=>$g(e)?"transform 250ms ease":void 0,ER=H.forwardRef((e,r)=>{let{as:i,activatorEvent:o,adjustScale:l,children:c,className:d,rect:g,style:m,transform:y,transition:x=SR}=e;if(!g)return null;const v=l?y:{...y,scaleX:1,scaleY:1},w={...wR,width:g.width,height:g.height,top:g.top,left:g.left,transform:Ou.Transform.toString(v),transformOrigin:l&&o?p5(o,g):void 0,transition:typeof x=="function"?x(o):x,...m};return Bt.createElement(i,{className:d,style:w,ref:r},c)}),_R=e=>r=>{let{active:i,dragOverlay:o}=r;const l={},{styles:c,className:d}=e;if(c!=null&&c.active)for(const[g,m]of Object.entries(c.active))m!==void 0&&(l[g]=i.node.style.getPropertyValue(g),i.node.style.setProperty(g,m));if(c!=null&&c.dragOverlay)for(const[g,m]of Object.entries(c.dragOverlay))m!==void 0&&o.node.style.setProperty(g,m);return d!=null&&d.active&&i.node.classList.add(d.active),d!=null&&d.dragOverlay&&o.node.classList.add(d.dragOverlay),function(){for(const[m,y]of Object.entries(l))i.node.style.setProperty(m,y);d!=null&&d.active&&i.node.classList.remove(d.active)}},TR=e=>{let{transform:{initial:r,final:i}}=e;return[{transform:Ou.Transform.toString(r)},{transform:Ou.Transform.toString(i)}]},CR={duration:250,easing:"ease",keyframes:TR,sideEffects:_R({styles:{active:{opacity:"0"}}})};function NR(e){let{config:r,draggableNodes:i,droppableContainers:o,measuringConfiguration:l}=e;return pd((c,d)=>{if(r===null)return;const g=i.get(c);if(!g)return;const m=g.node.current;if(!m)return;const y=Ww(d);if(!y)return;const{transform:x}=hr(d).getComputedStyle(d),v=Vw(x);if(!v)return;const w=typeof r=="function"?r:DR(r);return Zw(m,l.draggable.measure),w({active:{id:c,data:g.data,node:m,rect:l.draggable.measure(m)},draggableNodes:i,dragOverlay:{node:d,rect:l.dragOverlay.measure(y)},droppableContainers:o,measuringConfiguration:l,transform:v})})}function DR(e){const{duration:r,easing:i,sideEffects:o,keyframes:l}={...CR,...e};return c=>{let{active:d,dragOverlay:g,transform:m,...y}=c;if(!r)return;const x={x:g.rect.left-d.rect.left,y:g.rect.top-d.rect.top},v={scaleX:m.scaleX!==1?d.rect.width*m.scaleX/g.rect.width:1,scaleY:m.scaleY!==1?d.rect.height*m.scaleY/g.rect.height:1},w={x:m.x-x.x,y:m.y-x.y,...v},T=l({...y,active:d,dragOverlay:g,transform:{initial:m,final:w}}),[O]=T,N=T[T.length-1];if(JSON.stringify(O)===JSON.stringify(N))return;const B=o?.({active:d,dragOverlay:g,...y}),z=g.node.animate(T,{duration:r,easing:i,fill:"forwards"});return new Promise(K=>{z.onfinish=()=>{B?.(),K()}})}}let y1=0;function AR(e){return H.useMemo(()=>{if(e!=null)return y1++,y1},[e])}const OR=Bt.memo(e=>{let{adjustScale:r=!1,children:i,dropAnimation:o,style:l,transition:c,modifiers:d,wrapperElement:g="div",className:m,zIndex:y=999}=e;const{activatorEvent:x,active:v,activeNodeRect:w,containerNodeRect:T,draggableNodes:O,droppableContainers:N,dragOverlay:B,over:z,measuringConfiguration:K,scrollableAncestors:A,scrollableAncestorRects:_,windowRect:$}=pR(),L=H.useContext(yd),j=AR(v?.id),G=nS(d,{activatorEvent:x,active:v,activeNodeRect:w,containerNodeRect:T,draggingNodeRect:B.rect,over:z,overlayNodeRect:B.rect,scrollableAncestors:A,scrollableAncestorRects:_,transform:L,windowRect:$}),J=Ig(w),vt=NR({config:o,draggableNodes:O,droppableContainers:N,measuringConfiguration:K}),pt=J?B.setRef:void 0;return Bt.createElement(xR,null,Bt.createElement(vR,{animation:vt},v&&j?Bt.createElement(ER,{key:j,id:v.id,ref:pt,as:g,activatorEvent:x,adjustScale:r,className:m,transition:c,rect:J,style:{zIndex:y,...l},transform:G},i):null))}),rS=H.forwardRef(({nodeClass:e,className:r,...i},o)=>U.jsxs("div",{ref:o,className:`node-list-node-preview ${r??""}`,...i,children:[e.defNodeName,U.jsx(e5,{})]},e.defNodeName)),MR=({nodeClass:e,...r})=>{const{attributes:i,listeners:o,setNodeRef:l}=hR({id:e.defNodeName,data:{nodeClass:e}});return U.jsx(rS,{ref:l,nodeClass:e,...i,...o,...r})},RR=()=>{const{nodeList:e}=H.useContext(qg);return U.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(r=>U.jsx(MR,{nodeClass:r},r.defNodeName))})},zR=()=>{const{createNode:e}=H.useContext(Aw);return U.jsxs("div",{style:{display:"flex",gap:"10px"},children:[U.jsx("div",{style:{flex:"1"},children:U.jsx(BR,{})}),U.jsx(kg,{content:"Create Node",placement:"top",arrow:!1,animation:"fade",duration:[400,250],children:U.jsx("button",{className:"main",onClick:e,children:U.jsx(t5,{})})})]})},BR=()=>{const e=gM,{setNodeList:r}=H.useContext(qg),[i,o]=H.useState(!1),[l,c]=H.useState(e[0]),d=H.useRef(null),g=m=>{const y=m.relatedTarget;(!y||!d.current?.contains(y))&&o(!1)};return U.jsxs("div",{className:"dropdown",ref:d,style:{position:"relative"},children:[U.jsx("div",{style:{display:"flex"},children:U.jsxs("button",{className:"trigger",style:{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1",padding:"0 10px",height:"30px",background:"#1d1d20",zIndex:"1001"},onClick:()=>o(m=>!m),onBlurCapture:g,children:[l,U.jsx(bM,{})]})}),i&&U.jsx("div",{style:{position:"absolute",top:"calc(100% + 5px)",display:"flex",flexDirection:"column",padding:0,margin:0,zIndex:1e3,boxShadow:"#02021d 2px 2px 15px 0px",width:"100%",background:"#1b191c",overflow:"hidden",borderRadius:"8px"},children:e.map(m=>U.jsx("div",{className:`option ${l===m?"selected":""}`,style:{padding:"3px 10px"},onMouseDown:()=>{c(m),o(!1),r(()=>Object.values(lo).filter(y=>y.tags.includes(m)))},children:m},m))})]})};function jR(e){return Lr({attr:{t:"1569683635191",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"path",attr:{d:"M843.5 737.4c-12.4-75.2-79.2-129.1-155.3-125.4S550.9 676 546 752c-153.5-4.8-208-40.7-199.1-113.7 3.3-27.3 19.8-41.9 50.1-49 18.4-4.3 38.8-4.9 57.3-3.2 1.7 0.2 3.5 0.3 5.2 0.5 11.3 2.7 22.8 5 34.3 6.8 34.1 5.6 68.8 8.4 101.8 6.6 92.8-5 156-45.9 159.2-132.7 3.1-84.1-54.7-143.7-147.9-183.6-29.9-12.8-61.6-22.7-93.3-30.2-14.3-3.4-26.3-5.7-35.2-7.2-7.9-75.9-71.5-133.8-147.8-134.4-76.3-0.6-140.9 56.1-150.1 131.9s40 146.3 114.2 163.9c74.2 17.6 149.9-23.3 175.7-95.1 9.4 1.7 18.7 3.6 28 5.8 28.2 6.6 56.4 15.4 82.4 26.6 70.7 30.2 109.3 70.1 107.5 119.9-1.6 44.6-33.6 65.2-96.2 68.6-27.5 1.5-57.6-0.9-87.3-5.8-8.3-1.4-15.9-2.8-22.6-4.3-3.9-0.8-6.6-1.5-7.8-1.8l-3.1-0.6c-2.2-0.3-5.9-0.8-10.7-1.3-25-2.3-52.1-1.5-78.5 4.6-55.2 12.9-93.9 47.2-101.1 105.8-15.7 126.2 78.6 184.7 276 188.9 29.1 70.4 106.4 107.9 179.6 87 73.3-20.9 119.3-93.4 106.9-168.6zM329.1 345.2c-46 0-83.3-37.3-83.3-83.3s37.3-83.3 83.3-83.3 83.3 37.3 83.3 83.3-37.3 83.3-83.3 83.3zM695.6 845c-46 0-83.3-37.3-83.3-83.3s37.3-83.3 83.3-83.3 83.3 37.3 83.3 83.3-37.3 83.3-83.3 83.3z"},child:[]}]})(e)}function HR(e){return Lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 105c-101.8 0-188.4 62.4-224 151 35.6 88.6 122.2 151 224 151s188.4-62.4 224-151c-35.6-88.6-122.2-151-224-151zm0 251.7c-56 0-101.8-45.3-101.8-100.7S200 155.3 256 155.3 357.8 200.6 357.8 256 312 356.7 256 356.7zm0-161.1c-33.6 0-61.1 27.2-61.1 60.4s27.5 60.4 61.1 60.4 61.1-27.2 61.1-60.4-27.5-60.4-61.1-60.4z"},child:[]}]})(e)}const kR=({tabs:e})=>{const[r,i]=H.useState(e[0].id),o=H.useRef(null),l=e.findIndex(c=>c.id===r);return U.jsxs("div",{className:"tabs",style:{display:"flex",flexDirection:"column",height:"100%"},children:[U.jsx("div",{style:{display:"flex",gap:"8px",padding:"0 4px",overflow:"clip",flex:"1"},children:e.map(c=>U.jsx("button",{className:`tab-button ${r===c.id?"active-tab":""}`,onClick:()=>i(c.id),style:{position:"relative",bottom:"-8px",background:"#211f28",padding:"5px 8px",flex:"1",display:"flex",justifyContent:"center"},children:c.icon},c.id))}),U.jsx("div",{ref:o,style:{height:"100%",width:"100%",overflow:"hidden"},children:U.jsx("div",{style:{display:"flex",transform:`translateX(-${l*100/e.length}%)`,transition:"transform 0.3s ease",width:`${e.length*100}%`,height:"100%"},children:e.map(c=>U.jsxs("div",{style:{width:`${100/e.length}%`,flexShrink:0,display:"flex",flexDirection:"column"},children:[U.jsxs("div",{style:{background:"linear-gradient(#211f28, #313050)",padding:"5px 10px 10px",borderBottom:"1.5px solid #858bff"},children:[U.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:c.label}),c.header]}),U.jsx("div",{style:{overflowY:"auto",flex:"1",padding:"10px"},children:c.content})]},c.id))})})]})},LR=()=>{const[e,r]=H.useState(240),[i,o]=H.useState(!1),[l,c]=H.useState(!1),d=H.useRef(e),g=H.useRef(null),m=H.useRef(null),y=200,x=600,v="ease-in-out",w=".5s",T=N=>{const B=N.clientX,z=d.current,K=_=>{c(!0);const $=B-_.clientX,L=Math.min(Math.max(y,z+$),x);d.current=L,g.current&&(g.current.style.width=`${L}px`),m.current&&(m.current.style.width=`${L}px`)},A=()=>{r(d.current),c(!1),document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",A)},O=[{id:"node-list",label:"Nodes",icon:U.jsx(jR,{}),content:U.jsx(RR,{}),header:U.jsx(zR,{})},{id:"node-list2",label:"Watchlist",icon:U.jsx(HR,{}),content:U.jsx("div",{}),header:U.jsx("div",{})}];return U.jsxs("div",{ref:g,style:{position:"relative",width:`${e}px`,minWidth:0,maxWidth:x,transitionProperty:l?"none":"width",transitionTimingFunction:v,transitionDuration:w},children:[U.jsx("button",{onClick:()=>o(N=>(g.current&&(g.current.style.width=`${N?e:0}px`),!N)),style:{position:"absolute",top:10,left:"-40px",width:"30px",height:"30px",background:"#27282d",border:"none",color:"#fff",cursor:"pointer",zIndex:10},children:i?"":""}),U.jsx("div",{onMouseDown:T,style:{position:"absolute",top:0,left:"-3px",width:"6px",height:"100%",cursor:"ew-resize",background:"transparent",zIndex:"1",pointerEvents:i?"none":"all"}}),U.jsx("aside",{ref:m,style:{position:"absolute",width:`${e}px`,minWidth:y,maxWidth:x,height:"100%",overflow:"hidden",right:i?-e:0,transitionProperty:"right",transitionTimingFunction:v,transitionDuration:w},children:U.jsx(kR,{tabs:O})})]})},UR=({fromNode:e,fromHandle:r,fromX:i,fromY:o,toX:l,toY:c})=>{const d=r.type==="source",[g]=ad(d?{sourceX:i,sourceY:o,sourcePosition:Jt.Right,targetX:l,targetY:c,targetPosition:Jt.Left}:{sourceX:l,sourceY:c,sourcePosition:Jt.Right,targetX:i,targetY:o,targetPosition:Jt.Left}),m=Ko.get(e.id)?.getHandleType(r.id);return U.jsx("g",{children:U.jsx("path",{fill:"none",stroke:"white",strokeWidth:2,className:`animated ${m??"no-color"}`,d:g})})},qR=()=>{const{addNodes:e,screenToFlowPosition:r}=Io(),[i,o]=H.useState(null),l=H.useRef({x:0,y:0}),c=H.useCallback(y=>{l.current={x:y.clientX,y:y.clientY}},[]),d=H.useCallback((y,x)=>{const w=document.querySelector(".react-flow")?.getBoundingClientRect(),T=w&&x.x>=w.left&&x.x<=w.right&&x.y>=w.top&&x.y<=w.bottom,O=r(x),N=Mw(y,O);T&&e(N)},[e,r]);return Uw({onDragStart:y=>{if(y.active.data?.current?.nodeClass){const x=y.active.data.current.nodeClass;o({nodeClass:x})}},onDragEnd:y=>{o(null),i&&y.over&&d(i.nodeClass,l.current)}}),U.jsx("div",{onMouseMove:c,children:U.jsx(OR,{dropAnimation:null,children:i?U.jsx(rS,{...i,className:"ghost"}):null})})},VR=()=>{const{masterNodes:e,masterEdges:r,setMasterNodes:i,setMasterEdges:o}=H.useContext(ud),{isCreatingNode:l}=H.useContext(Ug),{fitView:c}=Io(),d=eA(),[g,m]=H.useState(null),y=H.useRef(null),x=H.useRef(!0),{setNodeRef:v}=yR({id:"xyflow"}),w=H.useCallback(j=>{const G=j.filter(J=>J.type==="remove").map(J=>J.id);G.length>0&&o(J=>J.filter(vt=>!G.includes(vt.source)&&!G.includes(vt.target))),i(J=>Ox(j,J))},[o,i]),T=H.useCallback(j=>{console.log("edges changes",j),o(G=>Mx(j,G))},[o]),O=H.useCallback(j=>{console.log(j),o(G=>{const{source:J,sourceHandle:vt,target:pt,targetHandle:et}=j;if(G.some(Q=>Q.source===J&&Q.sourceHandle===vt&&Q.target===pt&&Q.targetHandle===et))return G;const I=Du(...J===ha?[pt,et]:[J,vt]),M={...j,type:Up,selectable:!1,data:{dataType:I}},q=G.filter(Q=>!(Q.source===ha&&Q.sourceHandle===vt)).filter(Q=>!(Q.target===pt&&Q.targetHandle===et&&et!==Er));return Qp(M,q)})},[o]),N=H.useCallback(()=>{x.current=!1},[]),B=H.useCallback((j,G)=>{x.current=!0,o(J=>{const{source:vt,sourceHandle:pt,target:et,targetHandle:lt}=G;if(J.some(tt=>tt.source===vt&&tt.sourceHandle===pt&&tt.target===et&&tt.targetHandle===lt))return J;const M=Du(...vt===ha?[et,lt]:[vt,pt]),q={...G,type:Up,selectable:!1,data:{dataType:M}},Q=J.filter(tt=>!(tt===j||tt.source===ha&&tt.sourceHandle===pt)).filter(tt=>!(tt.target===et&&tt.targetHandle===lt&&lt!==Er));return Qp(q,Q)})},[o]),z=H.useCallback((j,G)=>{x.current||o(J=>J.filter(vt=>vt.id!==G.id)),x.current=!0},[o]),K=H.useCallback((j,G)=>{j.preventDefault();const J=y.current.getBoundingClientRect();m({id:G.id,top:j.clientY<J.height-200&&j.clientY,left:j.clientX<J.width-200&&j.clientX,right:j.clientX>=J.width-200&&J.width-j.clientX,bottom:j.clientY>=J.height-200&&J.height-j.clientY})},[m]),A=H.useCallback(()=>m(null),[m]),_=H.useCallback((j,G)=>{const J=y.current.getBoundingClientRect(),vt=10,pt=J.width-vt*2,et=J.height-vt*2,lt=(vt-j.x)/j.zoom,Y=(vt-j.y)/j.zoom,I={id:ha,type:vf,position:{x:lt,y:Y},draggable:!1,focusable:!1,style:{zIndex:"-1000",transform:`scale(${1/j.zoom})`,left:lt,top:Y,height:`${et}px`,width:`${pt}px`,cursor:"grab"},data:{}};i(M=>G&&!l?[...M,I]:M.some(q=>q.type===vf)?[...M.filter(q=>q.type!==vf),I]:M)},[l,i]);H.useEffect(()=>{if(!y.current)return;const j=new ResizeObserver(()=>_(d));return j.observe(y.current),()=>j.disconnect()},[d,_]);const $=H.useCallback(j=>k3(j),[r]),L=H.useCallback(()=>{l||(c({maxZoom:1.1,minZoom:.5,padding:.3,duration:500,ease:j=>j*(2-j),interpolate:"smooth"}),setTimeout(()=>_(d,!0),100))},[c,l,_,d]);return U.jsxs("div",{className:"dndflow",children:[U.jsx("div",{ref:v,className:"reactflow-wrapper",children:U.jsxs(JD,{ref:y,nodeTypes:Ow,edgeTypes:WM,nodes:e,edges:r,connectionLineComponent:UR,onNodesChange:w,onEdgesChange:T,onConnect:O,onReconnectStart:N,onReconnect:B,onReconnectEnd:z,reconnectRadius:20,nodesFocusable:!1,edgesFocusable:!1,panOnDrag:[1],selectionMode:Zs.Partial,selectionOnDrag:!0,connectOnClick:!1,proOptions:{hideAttribution:!0},edgesReconnectable:!0,onNodeContextMenu:K,onPaneClick:A,onViewportChange:_,isValidConnection:$,minZoom:l?.5:.3,maxZoom:l?1.1:5,autoPanOnConnect:!l,autoPanOnNodeDrag:!0,children:[g&&U.jsx(FM,{onClick:A,...g}),U.jsx(oA,{})]})}),U.jsx(Aw.Provider,{value:{createNode:L},children:U.jsx(LR,{})}),U.jsx(qR,{})]})},YR=({children:e})=>{const[r,i]=H.useState([]);return console.log("wwatched",r),U.jsx(jw.Provider,{value:{watched:r,setWatched:i},children:e})},$R=({children:e})=>{const[r,i]=H.useState(!1);return U.jsx(Ug.Provider,{value:{isCreatingNode:r,setIsCreatingNode:i},children:e})},XR=({children:e})=>{const[r,i]=H.useState(Object.values(lo));return U.jsx(qg.Provider,{value:{nodeList:r,setNodeList:i},children:e})},KR=()=>U.jsx(PM,{children:U.jsx(YR,{children:U.jsx($R,{children:U.jsx(XR,{children:U.jsx(Ng,{children:U.jsxs(cR,{children:[U.jsx(hM,{richColors:!0,theme:"dark",position:"bottom-right"}),U.jsx(VR,{})]})})})})})});L3();QM.createRoot(document.getElementById("root")).render(U.jsx("div",{className:"app",style:{width:"100vw",height:"100vh"},children:U.jsx(KR,{})}));
